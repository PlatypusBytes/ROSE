(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(t,e,i){var n=i("b622"),r=n("toStringTag"),o={};o[r]="z",t.exports="[object z]"===String(o)},"0156":function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return a}));var n=i("6d8b"),r=i("e0d3");function o(t,e,i){i=i||{};var r=t.coordinateSystem,o=e.axis,s={},a=o.getAxesOnZeroOf()[0],l=o.position,c=a?"onZero":l,u=o.dim,h=r.getRect(),d=[h.x,h.x+h.width,h.y,h.y+h.height],p={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,m="x"===u?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));m[p.onZero]=Math.max(Math.min(g,m[1]),m[0])}s.position=["y"===u?m[p[c]]:d[0],"x"===u?m[p[c]]:d[3]],s.rotation=Math.PI/2*("x"===u?0:1);var y={top:-1,bottom:1,left:-1,right:1};s.labelDirection=s.tickDirection=s.nameDirection=y[l],s.labelOffset=a?m[p[l]]-m[p.onZero]:0,e.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),n["L"](i.labelInside,e.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection);var v=e.get(["axisLabel","rotate"]);return s.labelRotate="top"===c?-v:v,s.z2=1,s}function s(t){return"cartesian2d"===t.get("coordinateSystem")}function a(t){var e={xAxisModel:null,yAxisModel:null};return n["k"](e,(function(i,n){var o=n.replace(/Model$/,""),s=t.getReferringComponents(o,r["a"]).models[0];e[n]=s})),e}},"031b":function(t,e,i){"use strict";function n(t){var e=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return e?{key:e[1],value:e[2]}:null}function r(t){var e=t.match(/<?([^>]*)>(.*)/);if(!e)return null;var i=e[1],r=e[2].split(";"),o=null,s=r.reduce((function(t,e){var i=n(e);return i?"rel"===i.key?(o||(o=i.value),t):(t[i.key]=i.value,t):t}),{});return o?{url:i,rel:o,params:s}:null}function o(t){return t?t.split(/,\s*</).reduce((function(t,e){var i=r(e);if(!i)return t;var n=i.rel.split(/\s+/);return n.forEach((function(e){t[e]||(t[e]={url:i.url,params:i.params})})),t}),{}):{}}t.exports=o},"0366":function(t,e,i){var n=i("59ed");t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},"0393":function(t,e,i){"use strict";i("210b");var n=i("604c"),r=i("d9bd");e["a"]=n["a"].extend({name:"v-expansion-panels",provide(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile}}},created(){this.$attrs.hasOwnProperty("expand")&&Object(r["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(r["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem(t,e){const i=this.getValue(t,e),n=this.getValue(t,e+1);t.isActive=this.toggleMethod(i),t.nextIsActive=this.toggleMethod(n)}}})},"04d1":function(t,e,i){var n=i("342f"),r=n.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},"04f6":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=32,r=7;function o(t){var e=0;while(t>=n)e|=1&t,t>>=1;return t+e}function s(t,e,i,n){var r=e+1;if(r===i)return 1;if(n(t[r++],t[e])<0){while(r<i&&n(t[r],t[r-1])<0)r++;a(t,e,r)}else while(r<i&&n(t[r],t[r-1])>=0)r++;return r-e}function a(t,e,i){i--;while(e<i){var n=t[e];t[e++]=t[i],t[i--]=n}}function l(t,e,i,n,r){for(n===e&&n++;n<i;n++){var o,s=t[n],a=e,l=n;while(a<l)o=a+l>>>1,r(s,t[o])<0?l=o:a=o+1;var c=n-a;switch(c){case 3:t[a+3]=t[a+2];case 2:t[a+2]=t[a+1];case 1:t[a+1]=t[a];break;default:while(c>0)t[a+c]=t[a+c-1],c--}t[a]=s}}function c(t,e,i,n,r,o){var s=0,a=0,l=1;if(o(t,e[i+r])>0){a=n-r;while(l<a&&o(t,e[i+r+l])>0)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}else{a=r+1;while(l<a&&o(t,e[i+r-l])<=0)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a);var c=s;s=r-l,l=r-c}s++;while(s<l){var u=s+(l-s>>>1);o(t,e[i+u])>0?s=u+1:l=u}return l}function u(t,e,i,n,r,o){var s=0,a=0,l=1;if(o(t,e[i+r])<0){a=r+1;while(l<a&&o(t,e[i+r-l])<0)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a);var c=s;s=r-l,l=r-c}else{a=n-r;while(l<a&&o(t,e[i+r+l])>=0)s=l,l=1+(l<<1),l<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}s++;while(s<l){var u=s+(l-s>>>1);o(t,e[i+u])<0?l=u:s=u+1}return l}function h(t,e){var i,n,o=r,s=0,a=0;s=t.length;var l=[];function h(t,e){i[a]=t,n[a]=e,a+=1}function d(){while(a>1){var t=a-2;if(t>=1&&n[t-1]<=n[t]+n[t+1]||t>=2&&n[t-2]<=n[t]+n[t-1])n[t-1]<n[t+1]&&t--;else if(n[t]>n[t+1])break;f(t)}}function p(){while(a>1){var t=a-2;t>0&&n[t-1]<n[t+1]&&t--,f(t)}}function f(r){var o=i[r],s=n[r],l=i[r+1],h=n[r+1];n[r]=s+h,r===a-3&&(i[r+1]=i[r+2],n[r+1]=n[r+2]),a--;var d=u(t[l],t,o,s,0,e);o+=d,s-=d,0!==s&&(h=c(t[o+s-1],t,l,h,h-1,e),0!==h&&(s<=h?m(o,s,l,h):g(o,s,l,h)))}function m(i,n,s,a){var h=0;for(h=0;h<n;h++)l[h]=t[i+h];var d=0,p=s,f=i;if(t[f++]=t[p++],0!==--a)if(1!==n){var m,g,y,v=o;while(1){m=0,g=0,y=!1;do{if(e(t[p],l[d])<0){if(t[f++]=t[p++],g++,m=0,0===--a){y=!0;break}}else if(t[f++]=l[d++],m++,g=0,1===--n){y=!0;break}}while((m|g)<v);if(y)break;do{if(m=u(t[p],l,d,n,0,e),0!==m){for(h=0;h<m;h++)t[f+h]=l[d+h];if(f+=m,d+=m,n-=m,n<=1){y=!0;break}}if(t[f++]=t[p++],0===--a){y=!0;break}if(g=c(l[d],t,p,a,0,e),0!==g){for(h=0;h<g;h++)t[f+h]=t[p+h];if(f+=g,p+=g,a-=g,0===a){y=!0;break}}if(t[f++]=l[d++],1===--n){y=!0;break}v--}while(m>=r||g>=r);if(y)break;v<0&&(v=0),v+=2}if(o=v,o<1&&(o=1),1===n){for(h=0;h<a;h++)t[f+h]=t[p+h];t[f+a]=l[d]}else{if(0===n)throw new Error;for(h=0;h<n;h++)t[f+h]=l[d+h]}}else{for(h=0;h<a;h++)t[f+h]=t[p+h];t[f+a]=l[d]}else for(h=0;h<n;h++)t[f+h]=l[d+h]}function g(i,n,s,a){var h=0;for(h=0;h<a;h++)l[h]=t[s+h];var d=i+n-1,p=a-1,f=s+a-1,m=0,g=0;if(t[f--]=t[d--],0!==--n)if(1!==a){var y=o;while(1){var v=0,_=0,b=!1;do{if(e(l[p],t[d])<0){if(t[f--]=t[d--],v++,_=0,0===--n){b=!0;break}}else if(t[f--]=l[p--],_++,v=0,1===--a){b=!0;break}}while((v|_)<y);if(b)break;do{if(v=n-u(l[p],t,i,n,n-1,e),0!==v){for(f-=v,d-=v,n-=v,g=f+1,m=d+1,h=v-1;h>=0;h--)t[g+h]=t[m+h];if(0===n){b=!0;break}}if(t[f--]=l[p--],1===--a){b=!0;break}if(_=a-c(t[d],l,0,a,a-1,e),0!==_){for(f-=_,p-=_,a-=_,g=f+1,m=p+1,h=0;h<_;h++)t[g+h]=l[m+h];if(a<=1){b=!0;break}}if(t[f--]=t[d--],0===--n){b=!0;break}y--}while(v>=r||_>=r);if(b)break;y<0&&(y=0),y+=2}if(o=y,o<1&&(o=1),1===a){for(f-=n,d-=n,g=f+1,m=d+1,h=n-1;h>=0;h--)t[g+h]=t[m+h];t[f]=l[p]}else{if(0===a)throw new Error;for(m=f-(a-1),h=0;h<a;h++)t[m+h]=l[h]}}else{for(f-=n,d-=n,g=f+1,m=d+1,h=n-1;h>=0;h--)t[g+h]=t[m+h];t[f]=l[p]}else for(m=f-(a-1),h=0;h<a;h++)t[m+h]=l[h]}return s<120?5:s<1542?10:s<119151?19:40,i=[],n=[],{mergeRuns:d,forceMergeRuns:p,pushRun:h}}function d(t,e,i,r){i||(i=0),r||(r=t.length);var a=r-i;if(!(a<2)){var c=0;if(a<n)return c=s(t,i,r,e),void l(t,i,r,i+c,e);var u=h(t,e),d=o(a);do{if(c=s(t,i,r,e),c<d){var p=a;p>d&&(p=d),l(t,i,i+p,i+c,e),c=p}u.pushRun(i,c),u.mergeRuns(),a-=c,i+=c}while(0!==a);u.forceMergeRuns()}}},"04f7":function(t,e,i){"use strict";i.d(e,"b",(function(){return y})),i.d(e,"a",(function(){return v}));var n=i("07fd"),r=i("e0d3"),o=i("6d8b"),s=i("2b17"),a=i("b7d9"),l=i("edae"),c=i("ec6f"),u=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return Object(a["b"])(t,e)},t}();function h(t,e){var i=new u,r=t.data,a=i.sourceFormat=t.sourceFormat,c=t.startIndex,h="";t.seriesLayoutBy!==n["a"]&&Object(l["c"])(h);var g=[],y={},v=t.dimensionsDefine;if(v)Object(o["k"])(v,(function(t,e){var i=t.name,n={index:e,name:i,displayName:t.displayName};if(g.push(n),null!=i){var r="";Object(o["p"])(y,i)&&Object(l["c"])(r),y[i]=n}}));else for(var _=0;_<t.dimensionsDetectedCount;_++)g.push({index:_});var b=Object(s["c"])(a,n["a"]);e.__isBuiltIn&&(i.getRawDataItem=function(t){return b(r,c,g,t)},i.getRawData=Object(o["c"])(d,null,t)),i.cloneRawData=Object(o["c"])(p,null,t);var x=Object(s["b"])(a,n["a"]);i.count=Object(o["c"])(x,null,r,c,g);var w=Object(s["d"])(a);i.retrieveValue=function(t,e){var i=b(r,c,g,t);return S(i,e)};var S=i.retrieveValueFromItem=function(t,e){if(null!=t){var i=g[e];return i?w(t,e,i.name):void 0}};return i.getDimensionInfo=Object(o["c"])(f,null,g,y),i.cloneAllDimensionInfo=Object(o["c"])(m,null,g),i}function d(t){var e=t.sourceFormat;if(!b(e)){var i="";0,Object(l["c"])(i)}return t.data}function p(t){var e=t.sourceFormat,i=t.data;if(!b(e)){var r="";0,Object(l["c"])(r)}if(e===n["c"]){for(var s=[],a=0,c=i.length;a<c;a++)s.push(i[a].slice());return s}if(e===n["e"]){for(s=[],a=0,c=i.length;a<c;a++)s.push(Object(o["m"])({},i[a]));return s}}function f(t,e,i){if(null!=i)return"number"===typeof i||!isNaN(i)&&!Object(o["p"])(e,i)?t[i]:Object(o["p"])(e,i)?e[i]:void 0}function m(t){return Object(o["d"])(t)}var g=Object(o["g"])();function y(t){t=Object(o["d"])(t);var e=t.type,i="";e||Object(l["c"])(i);var n=e.split(":");2!==n.length&&Object(l["c"])(i);var r=!1;"echarts"===n[0]&&(e=n[1],r=!0),t.__isBuiltIn=r,g.set(e,t)}function v(t,e,i){var n=Object(r["n"])(t),o=n.length,s="";o||Object(l["c"])(s);for(var a=0,c=o;a<c;a++){var u=n[a];e=_(u,e,i,1===o?null:a),a!==c-1&&(e.length=Math.max(e.length,1))}return e}function _(t,e,i,s){var a="";e.length||Object(l["c"])(a),Object(o["z"])(t)||Object(l["c"])(a);var u=t.type,d=g.get(u);d||Object(l["c"])(a);var p=Object(o["F"])(e,(function(t){return h(t,d)})),f=Object(r["n"])(d.transform({upstream:p[0],upstreamList:p,config:Object(o["d"])(t.config)}));return Object(o["F"])(f,(function(t,i){var r="";Object(o["z"])(t)||Object(l["c"])(r),t.data||Object(l["c"])(r);var s,a=Object(c["d"])(t.data);b(a)||Object(l["c"])(r);var u=e[0];if(u&&0===i&&!t.dimensions){var h=u.startIndex;h&&(t.data=u.data.slice(0,h).concat(t.data)),s={seriesLayoutBy:n["a"],sourceHeader:h,dimensions:u.metaRawOption.dimensions}}else s={seriesLayoutBy:n["a"],sourceHeader:0,dimensions:t.dimensions};return Object(c["b"])(t.data,s,null)}))}function b(t){return t===n["c"]||t===n["e"]}},"057f":function(t,e,i){var n=i("fc6a"),r=i("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):r(n(t))}},"062f":function(t,e,i){"use strict";var n=i("47f5");t.exports=n,"undefined"!==typeof window&&(window.Suggestions=n)},"06ad":function(t,e,i){"use strict";i.d(e,"c",(function(){return u})),i.d(e,"a",(function(){return x}));var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},elasticOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}},r=n,o=function(){function t(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return t.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var i=(t-this._startTime-this._pausedTime)/this._life;i<0&&(i=0),i=Math.min(i,1);var n=this.easing,o="string"===typeof n?r[n]:n,s="function"===typeof o?o(i):i;if(this.onframe&&this.onframe(s),1===i){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},t.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t}(),s=o,a=i("41ef"),l=i("6d8b"),c=Array.prototype.slice;function u(t,e,i){return(e-t)*i+t}function h(t,e,i){return i>.5?e:t}function d(t,e,i,n){for(var r=e.length,o=0;o<r;o++)t[o]=u(e[o],i[o],n)}function p(t,e,i,n){for(var r=e.length,o=r&&e[0].length,s=0;s<r;s++){t[s]||(t[s]=[]);for(var a=0;a<o;a++)t[s][a]=u(e[s][a],i[s][a],n)}}function f(t,e,i,n){for(var r=e.length,o=0;o<r;o++)t[o]=e[o]+i[o]*n;return t}function m(t,e,i,n){for(var r=e.length,o=r&&e[0].length,s=0;s<r;s++){t[s]||(t[s]=[]);for(var a=0;a<o;a++)t[s][a]=e[s][a]+i[s][a]*n}return t}function g(t,e,i){var n=t,r=e;if(n.push&&r.push){var o=n.length,s=r.length;if(o!==s){var a=o>s;if(a)n.length=s;else for(var l=o;l<s;l++)n.push(1===i?r[l]:c.call(r[l]))}var u=n[0]&&n[0].length;for(l=0;l<n.length;l++)if(1===i)isNaN(n[l])&&(n[l]=r[l]);else for(var h=0;h<u;h++)isNaN(n[l][h])&&(n[l][h]=r[l][h])}}function y(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function v(t,e,i,n,r,o,s){var a=.5*(i-t),l=.5*(n-e);return(2*(e-i)+a+l)*s+(-3*(e-i)-2*a-l)*o+a*r+e}function _(t,e,i,n,r,o,s,a){for(var l=e.length,c=0;c<l;c++)t[c]=v(e[c],i[c],n[c],r[c],o,s,a)}function b(t,e,i,n,r,o,s,a){for(var l=e.length,c=e[0].length,u=0;u<l;u++){t[u]||(t[1]=[]);for(var h=0;h<c;h++)t[u][h]=v(e[u][h],i[u][h],n[u][h],r[u][h],o,s,a)}}function x(t){if(Object(l["t"])(t)){var e=t.length;if(Object(l["t"])(t[0])){for(var i=[],n=0;n<e;n++)i.push(c.call(t[n]));return i}return c.call(t)}return t}function w(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function S(t){return Object(l["t"])(t&&t[0])?2:1}var T=[0,0,0,0],C=function(){function t(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var i=this.keyframes,n=i.length;if(this.interpolable)if(Object(l["t"])(e)){var r=S(e);if(n>0&&this.arrDim!==r)return void(this.interpolable=!1);if(1===r&&"number"!==typeof e[0]||2===r&&"number"!==typeof e[0][0])return void(this.interpolable=!1);if(n>0){var o=i[n-1];this._isAllValueEqual&&(1===r&&y(e,o.value)||(this._isAllValueEqual=!1))}this.arrDim=r}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"===typeof e){var s=a["d"](e);s?(e=s,this.isValueColor=!0):this.interpolable=!1}else if("number"!==typeof e||isNaN(e))return void(this.interpolable=!1);if(this._isAllValueEqual&&n>0){o=i[n-1];(this.isValueColor&&!y(o.value,e)||o.value!==e)&&(this._isAllValueEqual=!1)}}var c={time:t,value:e,percent:0};return this.keyframes.push(c),c},t.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort((function(t,e){return t.time-e.time}));for(var i=this.arrDim,n=e.length,r=e[n-1],o=0;o<n;o++)e[o].percent=e[o].time/this.maxTime,i>0&&o!==n-1&&g(e[o].value,r.value,i);if(t&&this.needsAnimate()&&t.needsAnimate()&&i===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var s=e[0].value;for(o=0;o<n;o++)0===i?this.isValueColor?e[o].additiveValue=f([],e[o].value,s,-1):e[o].additiveValue=e[o].value-s:1===i?e[o].additiveValue=f([],e[o].value,s,-1):2===i&&(e[o].additiveValue=m([],e[o].value,s,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,n=null!=this._additiveTrack,r=n?"additiveValue":"value",o=this.keyframes,s=this.keyframes.length,a=this.propName,l=this.arrDim,c=this.isValueColor;if(e<0)i=0;else if(e<this._lastFramePercent){var f=Math.min(this._lastFrame+1,s-1);for(i=f;i>=0;i--)if(o[i].percent<=e)break;i=Math.min(i,s-2)}else{for(i=this._lastFrame;i<s;i++)if(o[i].percent>e)break;i=Math.min(i-1,s-2)}var m=o[i+1],g=o[i];if(g&&m){this._lastFrame=i,this._lastFramePercent=e;var y=m.percent-g.percent;if(0!==y){var x=(e-g.percent)/y,S=n?this._additiveValue:c?T:t[a];if((l>0||c)&&!S&&(S=this._additiveValue=[]),this.useSpline){var C=o[i][r],O=o[0===i?i:i-1][r],k=o[i>s-2?s-1:i+1][r],A=o[i>s-3?s-1:i+2][r];if(l>0)1===l?_(S,O,C,k,A,x,x*x,x*x*x):b(S,O,C,k,A,x,x*x,x*x*x);else if(c)_(S,O,C,k,A,x,x*x,x*x*x),n||(t[a]=w(S));else{var I=void 0;I=this.interpolable?v(O,C,k,A,x,x*x,x*x*x):k,n?this._additiveValue=I:t[a]=I}}else if(l>0)1===l?d(S,g[r],m[r],x):p(S,g[r],m[r],x);else if(c)d(S,g[r],m[r],x),n||(t[a]=w(S));else{I=void 0;I=this.interpolable?u(g[r],m[r],x):h(g[r],m[r],x),n?this._additiveValue=I:t[a]=I}n&&this._addToTarget(t)}}}},t.prototype._addToTarget=function(t){var e=this.arrDim,i=this.propName,n=this._additiveValue;0===e?this.isValueColor?(a["d"](t[i],T),f(T,T,n,1),t[i]=w(T)):t[i]=t[i]+n:1===e?f(t[i],t[i],n,1):2===e&&m(t[i],t[i],n,1)},t}(),O=function(){function t(t,e,i){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?Object(l["E"])("Can' use additive animation on looped animation."):this._additiveAnimators=i}return t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e){return this.whenWithKeys(t,e,Object(l["D"])(e))},t.prototype.whenWithKeys=function(t,e,i){for(var n=this._tracks,r=0;r<i.length;r++){var o=i[r],s=n[o];if(!s){s=n[o]=new C(o);var a=void 0,l=this._getAdditiveTrack(o);if(l){var c=l.keyframes[l.keyframes.length-1];a=c&&c.value,l.isValueColor&&a&&(a=w(a))}else a=this._target[o];if(null==a)continue;0!==t&&s.addKeyframe(0,x(a)),this._trackKeys.push(o)}s.addKeyframe(t,x(e[o]))}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var n=0;n<i.length;n++){var r=i[n].getTrack(t);r&&(e=r)}return e},t.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var i=this,n=[],r=0;r<this._trackKeys.length;r++){var o=this._trackKeys[r],a=this._tracks[o],l=this._getAdditiveTrack(o),c=a.keyframes;if(a.prepare(l),a.needsAnimate())n.push(a);else if(!a.interpolable){var u=c[c.length-1];u&&(i._target[a.propName]=u.value)}}if(n.length||e){var h=new s({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){i._started=2;var e=i._additiveAnimators;if(e){for(var r=!1,o=0;o<e.length;o++)if(e[o]._clip){r=!0;break}r||(i._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(i._target,t);var s=i._onframeCbs;if(s)for(o=0;o<s.length;o++)s[o](i._target,t)},ondestroy:function(){i._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),t&&"spline"!==t&&(h.easing=t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,n=this._trackKeys,r=0;r<t.length;r++){var o=i[t[r]];o&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var s=!0;for(r=0;r<n.length;r++)if(!i[n[r]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var n=e[i],r=this._tracks[n];if(r&&!r.isFinished()){var o=r.keyframes,s=o[o.length-1];if(s){var a=x(s.value);r.isValueColor&&(a=w(a)),t[n]=a}}}}},t.prototype.__changeFinalValue=function(t,e){e=e||Object(l["D"])(t);for(var i=0;i<e.length;i++){var n=e[i],r=this._tracks[n];if(r){var o=r.keyframes;if(o.length>1){var s=o.pop();r.addKeyframe(s.time,t[n]),r.prepare(r.getAdditiveTrack())}}}},t}();e["b"]=O},"06cf":function(t,e,i){var n=i("83ab"),r=i("d1e7"),o=i("5c6c"),s=i("fc6a"),a=i("a04b"),l=i("5135"),c=i("0cfb"),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=s(t),e=a(e),c)try{return u(t,e)}catch(i){}if(l(t,e))return o(!r.f.call(t,e),t[e])}},"0789":function(t,e,i){"use strict";i.d(e,"g",(function(){return c})),i.d(e,"f",(function(){return u})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return d})),i.d(e,"e",(function(){return p})),i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return m}));var n=i("d9f7");function r(t=[],...e){return Array().concat(t,...e)}function o(t,e="top center 0",i){return{name:t,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:i},origin:{type:String,default:e}},render(e,i){const o="transition"+(i.props.group?"-group":""),s={props:{name:t,mode:i.props.mode},on:{beforeEnter(t){t.style.transformOrigin=i.props.origin,t.style.webkitTransformOrigin=i.props.origin}}};return i.props.leaveAbsolute&&(s.on.leave=r(s.on.leave,t=>{const{offsetTop:e,offsetLeft:i,offsetWidth:n,offsetHeight:r}=t;t._transitionInitialStyles={position:t.style.position,top:t.style.top,left:t.style.left,width:t.style.width,height:t.style.height},t.style.position="absolute",t.style.top=e+"px",t.style.left=i+"px",t.style.width=n+"px",t.style.height=r+"px"}),s.on.afterLeave=r(s.on.afterLeave,t=>{if(t&&t._transitionInitialStyles){const{position:e,top:i,left:n,width:r,height:o}=t._transitionInitialStyles;delete t._transitionInitialStyles,t.style.position=e||"",t.style.top=i||"",t.style.left=n||"",t.style.width=r||"",t.style.height=o||""}})),i.props.hideOnLeave&&(s.on.leave=r(s.on.leave,t=>{t._initialDisplay=t.style.display,t.style.display="none"}),s.on.afterLeave=r(s.on.afterLeave,t=>{t&&(t.style.display=t._initialDisplay||"")})),e(o,Object(n["a"])(i.data,s),i.children)}}}function s(t,e,i="in-out"){return{name:t,functional:!0,props:{mode:{type:String,default:i}},render(i,r){return i("transition",Object(n["a"])(r.data,{props:{name:t},on:e}),r.children)}}}var a=i("80d2"),l=function(t="",e=!1){const i=e?"width":"height",n="offset"+Object(a["A"])(i);return{beforeEnter(t){t._parent=t.parentNode,t._initialStyle={transition:t.style.transition,overflow:t.style.overflow,[i]:t.style[i]}},enter(e){const r=e._initialStyle;e.style.setProperty("transition","none","important"),e.style.overflow="hidden";const o=e[n]+"px";e.style[i]="0",e.offsetHeight,e.style.transition=r.transition,t&&e._parent&&e._parent.classList.add(t),requestAnimationFrame(()=>{e.style[i]=o})},afterEnter:o,enterCancelled:o,leave(t){t._initialStyle={transition:"",overflow:t.style.overflow,[i]:t.style[i]},t.style.overflow="hidden",t.style[i]=t[n]+"px",t.offsetHeight,requestAnimationFrame(()=>t.style[i]="0")},afterLeave:r,leaveCancelled:r};function r(e){t&&e._parent&&e._parent.classList.remove(t),o(e)}function o(t){const e=t._initialStyle[i];t.style.overflow=t._initialStyle.overflow,null!=e&&(t.style[i]=e),delete t._initialStyle}};o("carousel-transition"),o("carousel-reverse-transition");const c=o("tab-transition"),u=o("tab-reverse-transition"),h=(o("menu-transition"),o("fab-transition","center center","out-in"),o("dialog-transition"),o("dialog-bottom-transition"),o("dialog-top-transition"),o("fade-transition")),d=o("scale-transition"),p=(o("scroll-x-transition"),o("scroll-x-reverse-transition"),o("scroll-y-transition"),o("scroll-y-reverse-transition"),o("slide-x-transition")),f=(o("slide-x-reverse-transition"),o("slide-y-transition"),o("slide-y-reverse-transition"),s("expand-transition",l())),m=s("expand-x-transition",l("",!0))},"0798":function(t,e,i){"use strict";i("0c18");var n=i("10d2"),r=i("afdd"),o=i("9d26"),s=i("f2e7"),a=i("7560"),l=i("2b0e"),c=l["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),u=i("58df"),h=i("d9bd");e["a"]=Object(u["a"])(n["a"],s["a"],c).extend({name:"v-alert",props:{border:{type:String,validator(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let t={staticClass:"v-alert__border",class:{["v-alert__border--"+this.border]:!0}};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible(){if(!this.dismissible)return null;const t=this.iconColor;return this.$createElement(r["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(o["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const t={...n["a"].options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(t["v-alert--border-"+this.border]=!0),t},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$"+this.type)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||a["a"].options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&Object(h["a"])("outline","outlined",this)},methods:{genWrapper(){const t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(t){const e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"07ac":function(t,e,i){var n=i("23e7"),r=i("6f53").values;n({target:"Object",stat:!0},{values:function(t){return r(t)}})},"07fd":function(t,e,i){"use strict";i.d(e,"i",(function(){return r})),i.d(e,"f",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"e",(function(){return a})),i.d(e,"d",(function(){return l})),i.d(e,"g",(function(){return c})),i.d(e,"h",(function(){return u})),i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return d}));var n=i("6d8b"),r=Object(n["g"])(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),o="original",s="arrayRows",a="objectRows",l="keyedColumns",c="typedArray",u="unknown",h="column",d="row"},"0a06":function(t,e,i){"use strict";var n=i("c532"),r=i("30b5"),o=i("f6b4"),s=i("5270"),a=i("4a7b"),l=i("848b"),c=l.validators;function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=a(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&l.assertOptions(e,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var i=[],n=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var r,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!n){var u=[s,void 0];Array.prototype.unshift.apply(u,i),u=u.concat(o),r=Promise.resolve(t);while(u.length)r=r.then(u.shift(),u.shift());return r}var h=t;while(i.length){var d=i.shift(),p=i.shift();try{h=d(h)}catch(f){p(f);break}}try{r=s(h)}catch(f){return Promise.reject(f)}while(o.length)r=r.then(o.shift(),o.shift());return r},u.prototype.getUri=function(t){return t=a(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,i){return this.request(a(i||{},{method:t,url:e,data:(i||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,i,n){return this.request(a(n||{},{method:t,url:e,data:i}))}})),t.exports=u},"0aed":function(t,e,i){"use strict";var n=i("9dc5"),r=i("297cd");function o(t){return function(e){var i;i=n.prototype.isPrototypeOf(e)?e:r(e);var o=Object.create(t);return o.client=i,o}}t.exports=o},"0b42":function(t,e,i){var n=i("e8b5"),r=i("68ee"),o=i("861d"),s=i("b622"),a=s("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,r(e)&&(e===Array||n(e.prototype))?e=void 0:o(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},"0bc6":function(t,e,i){},"0c18":function(t,e,i){},"0cfb":function(t,e,i){var n=i("83ab"),r=i("d039"),o=i("cc12");t.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(t,e){t.exports=function(t){try{return String(t)}catch(e){return"Object"}}},"0da8":function(t,e,i){"use strict";var n=i("21a1"),r=i("19eb"),o=i("9850"),s=i("6d8b"),a=Object(s["j"])({x:0,y:0},r["b"]),l={style:Object(s["j"])({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},r["a"].style)};function c(t){return!!(t&&"string"!==typeof t&&t.width&&t.height)}var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["a"])(e,t),e.prototype.createStyle=function(t){return Object(s["h"])(a,t)},e.prototype._getSize=function(t){var e=this.style,i=e[t];if(null!=i)return i;var n=c(e.image)?e.image:this.__image;if(!n)return 0;var r="width"===t?"height":"width",o=e[r];return null==o?n[t]:n[t]/n[r]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return l},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new o["a"](t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(r["c"]);u.prototype.type="image",e["a"]=u},"0df6":function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"0f99":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"f",(function(){return l})),i.d(e,"c",(function(){return c})),i.d(e,"e",(function(){return u})),i.d(e,"d",(function(){return h})),i.d(e,"b",(function(){return d}));var n=i("e0d3"),r=i("6d8b"),o=i("07fd"),s={Must:1,Might:2,Not:3},a=Object(n["l"])();function l(t){a(t).datasetMap=Object(r["g"])()}function c(t,e,i){var n={},o=u(e);if(!o||!t)return n;var s,l,c=[],h=[],d=e.ecModel,p=a(d).datasetMap,f=o.uid+"_"+i.seriesLayoutBy;t=t.slice(),Object(r["k"])(t,(function(e,i){var o=Object(r["z"])(e)?e:t[i]={name:e};"ordinal"===o.type&&null==s&&(s=i,l=y(o)),n[o.name]=[]}));var m=p.get(f)||p.set(f,{categoryWayDim:l,valueWayDim:0});function g(t,e,i){for(var n=0;n<i;n++)t.push(e+n)}function y(t){var e=t.dimsDef;return e?e.length:1}return Object(r["k"])(t,(function(t,e){var i=t.name,r=y(t);if(null==s){var o=m.valueWayDim;g(n[i],o,r),g(h,o,r),m.valueWayDim+=r}else if(s===e)g(n[i],0,r),g(c,0,r);else{o=m.categoryWayDim;g(n[i],o,r),g(h,o,r),m.categoryWayDim+=r}})),c.length&&(n.itemName=c),h.length&&(n.seriesName=h),n}function u(t){var e=t.get("data",!0);if(!e)return Object(n["r"])(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},n["a"]).models[0]}function h(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?Object(n["r"])(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},n["a"]).models:[]}function d(t,e){return p(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function p(t,e,i,a,l,c){var u,h,d,p=5;if(Object(r["C"])(t))return s.Not;if(a){var f=a[c];Object(r["z"])(f)?(h=f.name,d=f.type):Object(r["A"])(f)&&(h=f)}if(null!=d)return"ordinal"===d?s.Must:s.Not;if(e===o["c"]){var m=t;if(i===o["b"]){for(var g=m[c],y=0;y<(g||[]).length&&y<p;y++)if(null!=(u=T(g[l+y])))return u}else for(y=0;y<m.length&&y<p;y++){var v=m[l+y];if(v&&null!=(u=T(v[c])))return u}}else if(e===o["e"]){var _=t;if(!h)return s.Not;for(y=0;y<_.length&&y<p;y++){var b=_[y];if(b&&null!=(u=T(b[h])))return u}}else if(e===o["d"]){var x=t;if(!h)return s.Not;g=x[h];if(!g||Object(r["C"])(g))return s.Not;for(y=0;y<g.length&&y<p;y++)if(null!=(u=T(g[y])))return u}else if(e===o["f"]){var w=t;for(y=0;y<w.length&&y<p;y++){b=w[y];var S=Object(n["f"])(b);if(!Object(r["s"])(S))return s.Not;if(null!=(u=T(S[c])))return u}}function T(t){var e=Object(r["A"])(t);return null!=t&&isFinite(t)&&""!==t?e?s.Might:s.Not:e&&"-"!==t?s.Must:void 0}return s.Not}},"0fd9":function(t,e,i){"use strict";i("4b85");var n=i("2b0e"),r=i("d9f7"),o=i("80d2");const s=["sm","md","lg","xl"],a=["start","end","center"];function l(t,e){return s.reduce((i,n)=>(i[t+Object(o["A"])(n)]=e(),i),{})}const c=t=>[...a,"baseline","stretch"].includes(t),u=l("align",()=>({type:String,default:null,validator:c})),h=t=>[...a,"space-between","space-around"].includes(t),d=l("justify",()=>({type:String,default:null,validator:h})),p=t=>[...a,"space-between","space-around","stretch"].includes(t),f=l("alignContent",()=>({type:String,default:null,validator:p})),m={align:Object.keys(u),justify:Object.keys(d),alignContent:Object.keys(f)},g={align:"align",justify:"justify",alignContent:"align-content"};function y(t,e,i){let n=g[t];if(null!=i){if(e){const i=e.replace(t,"");n+="-"+i}return n+="-"+i,n.toLowerCase()}}const v=new Map;e["a"]=n["a"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:h},...d,alignContent:{type:String,default:null,validator:p},...f},render(t,{props:e,data:i,children:n}){let o="";for(const r in e)o+=String(e[r]);let s=v.get(o);if(!s){let t;for(t in s=[],m)m[t].forEach(i=>{const n=e[i],r=y(t,i,n);r&&s.push(r)});s.push({"no-gutters":e.noGutters,"row--dense":e.dense,["align-"+e.align]:e.align,["justify-"+e.justify]:e.justify,["align-content-"+e.alignContent]:e.alignContent}),v.set(o,s)}return t(e.tag,Object(r["a"])(i,{staticClass:"row",class:s}),n)}})},"10d2":function(t,e,i){"use strict";var n=i("8dd9");e["a"]=n["a"]},"132d":function(t,e,i){"use strict";i("4804");var n,r=i("7e2b"),o=i("a9ad"),s=i("af2b"),a=i("7560"),l=i("80d2"),c=i("2b0e"),u=i("58df");function h(t){return["fas","far","fal","fab","fad","fak"].some(e=>t.includes(e))}function d(t){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4}(function(t){t["xSmall"]="12px",t["small"]="16px",t["default"]="24px",t["medium"]="28px",t["large"]="36px",t["xLarge"]="40px"})(n||(n={}));const p=Object(u["a"])(r["a"],o["a"],s["a"],a["a"]).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium(){return!1},hasClickListener(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon(){let t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),Object(l["z"])(this,t)},getSize(){const t={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=Object(l["v"])(t).find(e=>t[e]);return e&&n[e]||Object(l["g"])(this.size)},getDefaultData(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:{"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0,...this.attrs$},on:this.listeners$}},getSvgWrapperData(){const t=this.getSize(),e={...this.getDefaultData(),style:t?{fontSize:t,height:t,width:t}:void 0};return this.applyColors(e),e},applyColors(t){t.class={...t.class,...this.themeClasses},this.setTextColor(this.color,t)},renderFontIcon(t,e){const i=[],n=this.getDefaultData();let r="material-icons";const o=t.indexOf("-"),s=o<=-1;s?i.push(t):(r=t.slice(0,o),h(r)&&(r="")),n.class[r]=!0,n.class[t]=!s;const a=this.getSize();return a&&(n.style={fontSize:a}),this.applyColors(n),e(this.hasClickListener?"button":this.tag,n,i)},renderSvgIcon(t,e){const i={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},n=this.getSize();return n&&(i.style={fontSize:n,height:n,width:n}),e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e("svg",i,[e("path",{attrs:{d:t}})])])},renderSvgIconComponent(t,e){const i={class:{"v-icon__component":!0}},n=this.getSize();n&&(i.style={fontSize:n,height:n,width:n}),this.applyColors(i);const r=t.component;return i.props=t.props,i.nativeOn=i.on,e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e(r,i)])}},render(t){const e=this.getIcon();return"string"===typeof e?d(e)?this.renderSvgIcon(e,t):this.renderFontIcon(e,t):this.renderSvgIconComponent(e,t)}});e["a"]=c["a"].extend({name:"v-icon",$_wrapperFor:p,functional:!0,render(t,{data:e,children:i}){let n="";return e.domProps&&(n=e.domProps.textContent||e.domProps.innerHTML||n,delete e.domProps.textContent,delete e.domProps.innerHTML),t(p,e,n?[n]:i)}})},"133d":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("6d8b"),r=i("e0d3");function o(t,e){var i,o=[],s=t.seriesIndex;if(null==s||!(i=e.getSeriesByIndex(s)))return{point:[]};var a=i.getData(),l=r["q"](a,t);if(null==l||l<0||n["s"](l))return{point:[]};var c=a.getItemGraphicEl(l),u=i.coordinateSystem;if(i.getTooltipPosition)o=i.getTooltipPosition(l)||[];else if(u&&u.dataToPoint)if(t.isStacked){var h=u.getBaseAxis(),d=u.getOtherAxis(h),p=d.dim,f=h.dim,m="x"===p||"radius"===p?1:0,g=a.mapDimension(f),y=[];y[m]=a.get(g,l),y[1-m]=a.get(a.getCalculationInfo("stackResultDimension"),l),o=u.dataToPoint(y)||[]}else o=u.dataToPoint(a.getValues(n["F"](u.dimensions,(function(t){return a.mapDimension(t)})),l))||[];else if(c){var v=c.getBoundingRect().clone();v.applyTransform(c.transform),o=[v.x+v.width/2,v.y+v.height/2]}return{point:o,el:c}}},"159b":function(t,e,i){var n=i("da84"),r=i("fdbc"),o=i("785a"),s=i("17c2"),a=i("9112"),l=function(t){if(t&&t.forEach!==s)try{a(t,"forEach",s)}catch(e){t.forEach=s}};for(var c in r)r[c]&&l(n[c]&&n[c].prototype);l(o)},1626:function(t,e){t.exports=function(t){return"function"===typeof t}},"166a":function(t,e,i){},1687:function(t,e,i){"use strict";function n(){return[1,0,0,1,0,0]}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t,e,i){var n=e[0]*i[0]+e[2]*i[1],r=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],s=e[1]*i[2]+e[3]*i[3],a=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=r,t[2]=o,t[3]=s,t[4]=a,t[5]=l,t}function a(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function l(t,e,i){var n=e[0],r=e[2],o=e[4],s=e[1],a=e[3],l=e[5],c=Math.sin(i),u=Math.cos(i);return t[0]=n*u+s*c,t[1]=-n*c+s*u,t[2]=r*u+a*c,t[3]=-r*c+u*a,t[4]=u*o+c*l,t[5]=u*l-c*o,t}function c(t,e,i){var n=i[0],r=i[1];return t[0]=e[0]*n,t[1]=e[1]*r,t[2]=e[2]*n,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*r,t}function u(t,e){var i=e[0],n=e[2],r=e[4],o=e[1],s=e[3],a=e[5],l=i*s-o*n;return l?(l=1/l,t[0]=s*l,t[1]=-o*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*a-s*r)*l,t[5]=(o*r-i*a)*l,t):null}i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return o})),i.d(e,"e",(function(){return s})),i.d(e,"h",(function(){return a})),i.d(e,"f",(function(){return l})),i.d(e,"g",(function(){return c})),i.d(e,"d",(function(){return u}))},"169a":function(t,e,i){"use strict";i("368e");var n=i("480e"),r=i("4ad4"),o=i("b848"),s=i("75eb"),a=i("e707"),l=i("e4d3"),c=i("21be"),u=i("f2e7"),h=i("a293"),d=i("58df"),p=i("d9bd"),f=i("80d2");const m=Object(d["a"])(r["a"],o["a"],s["a"],a["a"],l["a"],c["a"],u["a"]);e["a"]=m.extend({name:"v-dialog",directives:{ClickOutside:h["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes(){return{[("v-dialog "+this.contentClass).trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&Object(p["e"])("full-width",this)},beforeMount(){this.$nextTick(()=>{this.isBooted=this.isActive,this.isActive&&this.show()})},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick(()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout(()=>this.animate=!1,150)})},closeConditional(t){const e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):a["a"].options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick(()=>{this.$nextTick(()=>{this.previousActiveElement=document.activeElement,this.$refs.content.focus(),this.bind()})})},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(t){if(t.keyCode===f["u"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick(()=>t&&t.focus())}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some(t=>t.contains(e))){const t=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),e=[...t].find(t=>!t.hasAttribute("disabled"));e&&e.focus()}},genContent(){return this.showLazyContent(()=>[this.$createElement(n["a"],{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"document",tabindex:this.isActive?0:void 0,...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])])},genTransition(){const t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent(){const t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style={...t.style,maxWidth:"none"===this.maxWidth?void 0:Object(f["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(f["g"])(this.width)}),this.$createElement("div",t,this.getContentSlot())}},render(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"16b7":function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:()=>({openTimeout:void 0,closeTimeout:void 0}),methods:{clearDelay(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay(t,e){this.clearDelay();const i=parseInt(this[t+"Delay"],10);this[t+"Timeout"]=setTimeout(e||(()=>{this.isActive={open:!0,close:!1}[t]}),i)}}})},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,r=i("a640"),o=r("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"17d6":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return f}));var n=i("6d8b"),r=i("22d1"),o=i("e0d3"),s=Object(o["l"])(),a=n["k"];function l(t,e,i){if(!r["a"].node){var n=e.getZr();s(n).records||(s(n).records={}),c(n,e);var o=s(n).records[t]||(s(n).records[t]={});o.handler=i}}function c(t,e){function i(i,n){t.on(i,(function(i){var r=p(e);a(s(t).records,(function(t){t&&n(t,i,r.dispatchAction)})),u(r.pendings,e)}))}s(t).initialized||(s(t).initialized=!0,i("click",n["i"](d,"click")),i("mousemove",n["i"](d,"mousemove")),i("globalout",h))}function u(t,e){var i,n=t.showTip.length,r=t.hideTip.length;n?i=t.showTip[n-1]:r&&(i=t.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function h(t,e,i){t.handler("leave",null,i)}function d(t,e,i,n){e.handler(t,i,n)}function p(t){var e={showTip:[],hideTip:[]},i=function(n){var r=e[n.type];r?r.push(n):(n.dispatchAction=i,t.dispatchAction(n))};return{dispatchAction:i,pendings:e}}function f(t,e){if(!r["a"].node){var i=e.getZr(),n=(s(i).records||{})[t];n&&(s(i).records[t]=null)}}},1800:function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend({name:"v-list-item-action",functional:!0,render(t,{data:e,children:i=[]}){e.staticClass=e.staticClass?"v-list-item__action "+e.staticClass:"v-list-item__action";const n=i.filter(t=>!1===t.isComment&&" "!==t.text);return n.length>1&&(e.staticClass+=" v-list-item__action--stack"),t("div",e,i)}})},"19aa":function(t,e){t.exports=function(t,e,i){if(t instanceof e)return t;throw TypeError("Incorrect "+(i?i+" ":"")+"invocation")}},"19eb":function(t,e,i){"use strict";i.d(e,"b",(function(){return c})),i.d(e,"a",(function(){return u}));var n=i("21a1"),r=i("d5b7"),o=i("9850"),s=i("6d8b"),a=i("4bc4"),l="__zr_style_"+Math.round(10*Math.random()),c={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},u={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};c[l]=!0;var h=["z","z2","invisible"],d=["invisible"],p=function(t){function e(e){return t.call(this,e)||this}return Object(n["a"])(e,t),e.prototype._init=function(e){for(var i=Object(s["D"])(e),n=0;n<i.length;n++){var r=i[n];"style"===r?this.useStyle(e[r]):t.prototype.attrKV.call(this,r,e[r])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,i,n){var r=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&g(this,t,e)||r&&!r[0]&&!r[3])return!1;if(i&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(n&&this.parent){var s=this.parent;while(s){if(s.ignore)return!1;s=s.parent}}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return n.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,i=this.getBoundingRect(),n=this.style,r=n.shadowBlur||0,s=n.shadowOffsetX||0,a=n.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new o["a"](0,0,0,0)),e?o["a"].applyTransform(t,i,e):t.copy(i),(r||s||a)&&(t.width+=2*r+Math.abs(s),t.height+=2*r+Math.abs(a),t.x=Math.min(t.x,t.x+s-r),t.y=Math.min(t.y,t.y+a-r));var l=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-l),t.y=Math.floor(t.y-l),t.width=Math.ceil(t.width+1+2*l),t.height=Math.ceil(t.height+1+2*l))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new o["a"](0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,i){"style"!==e?t.prototype.attrKV.call(this,e,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,e){return"string"===typeof t?this.style[t]=e:Object(s["m"])(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=a["c"],this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&a["c"])},e.prototype.styleUpdated=function(){this.__dirty&=~a["c"]},e.prototype.createStyle=function(t){return Object(s["h"])(c,t)},e.prototype.useStyle=function(t){t[l]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[l]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,i,h)},e.prototype._applyStateObj=function(e,i,n,r,o,a){t.prototype._applyStateObj.call(this,e,i,n,r,o,a);var l,c=!(i&&r);if(i&&i.style?o?r?l=i.style:(l=this._mergeStyle(this.createStyle(),n.style),this._mergeStyle(l,i.style)):(l=this._mergeStyle(this.createStyle(),r?this.style:n.style),this._mergeStyle(l,i.style)):c&&(l=n.style),l)if(o){var u=this.style;if(this.style=this.createStyle(c?{}:u),c)for(var p=Object(s["D"])(u),f=0;f<p.length;f++){var m=p[f];m in l&&(l[m]=l[m],this.style[m]=u[m])}var g=Object(s["D"])(l);for(f=0;f<g.length;f++){m=g[f];this.style[m]=this.style[m]}this._transitionState(e,{style:l},a,this.getAnimationStyleProps())}else this.useStyle(l);var y=this.__inHover?d:h;for(f=0;f<y.length;f++){m=y[f];i&&null!=i[m]?this[m]=i[m]:c&&null!=n[m]&&(this[m]=n[m])}},e.prototype._mergeStates=function(e){for(var i,n=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(t,e){return Object(s["m"])(t,e),t},e.prototype.getAnimationStyleProps=function(){return u},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=a["a"]|a["c"]}(),e}(r["a"]),f=new o["a"](0,0,0,0),m=new o["a"](0,0,0,0);function g(t,e,i){return f.copy(t.getBoundingRect()),t.transform&&f.applyTransform(t.transform),m.width=e,m.height=i,!f.intersect(m)}e["c"]=p},"1b2c":function(t,e,i){},"1baa":function(t,e,i){"use strict";i("899c");var n=i("604c"),r=i("a9ad"),o=i("58df");e["a"]=Object(o["a"])(n["a"],r["a"]).extend({name:"v-list-item-group",provide(){return{isInGroup:!0,listItemGroup:this}},computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-list-item-group":!0}}},methods:{genData(){return this.setTextColor(this.color,{...n["a"].options.methods.genData.call(this),attrs:{role:"listbox"}})}}})},"1be4":function(t,e,i){var n=i("d066");t.exports=n("document","documentElement")},"1be7":function(t,e,i){"use strict";i.d(e,"a",(function(){return In})),i.d(e,"b",(function(){return Sr})),i.d(e,"j",(function(){return Or})),i.d(e,"k",(function(){return kr})),i.d(e,"h",(function(){return Ar})),i.d(e,"i",(function(){return Ir})),i.d(e,"m",(function(){return Er})),i.d(e,"c",(function(){return Mr})),i.d(e,"d",(function(){return Dr})),i.d(e,"e",(function(){return Pr})),i.d(e,"n",(function(){return Lr})),i.d(e,"f",(function(){return Br})),i.d(e,"g",(function(){return Rr})),i.d(e,"l",(function(){return Fr}));var n=i("7fae"),r=i("697e7"),o=i("6d8b"),s=i("41ef"),a=i("22d1"),l=i("04f6"),c=i("6fd3"),u=i("e0d3"),h=i("4319"),d=i("6cb7"),p="";"undefined"!==typeof navigator&&(p=navigator.platform||"");var f="rgba(0, 0, 0, 0.2)",m={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:f,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:f,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:f,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:f,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:f,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:f,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:p.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},g=i("0f99"),y=Object(o["g"])();function v(t,e,i){var n=y.get(e);if(!n)return i;var r=n(t);return r?i.concat(r):i}var _,b,x,w=i("4041"),S=i("edae"),T="\0_ec_inner",C=1;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["a"])(e,t),e.prototype.init=function(t,e,i,n,r,o){n=n||{},this.option=null,this._theme=new h["a"](n),this._locale=new h["a"](r),this._optionManager=o},e.prototype.setOption=function(t,e,i){var n=M(e);this._optionManager.setOption(t,i,n),this._resetOption(null,n)},e.prototype.resetOption=function(t,e){return this._resetOption(t,M(e))},e.prototype._resetOption=function(t,e){var i=!1,n=this._optionManager;if(!t||"recreate"===t){var r=n.mountOption("recreate"===t);0,this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(r,e)):x(this,r),i=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var s=n.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,e))}if(!t||"recreate"===t||"media"===t){var a=n.getMediaOption(this);a.length&&Object(o["k"])(a,(function(t){i=!0,this._mergeOption(t,e)}),this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var i=this.option,n=this._componentsMap,r=this._componentsCount,s=[],a=Object(o["g"])(),l=e&&e.replaceMergeMainTypeMap;function c(e){var s=v(this,e,u["n"](t[e])),a=n.get(e),c=a?l&&l.get(e)?"replaceMerge":"normalMerge":"replaceAll",h=u["m"](a,s,c);u["t"](h,e,d["a"]),i[e]=null,n.set(e,null),r.set(e,0);var p=[],f=[],m=0;Object(o["k"])(h,(function(t,i){var n=t.existing,r=t.newOption;if(r){var s="series"===e,a=d["a"].getClass(e,t.keyInfo.subType,!s);if(!a)return;if(n&&n.constructor===a)n.name=t.keyInfo.name,n.mergeOption(r,this),n.optionUpdated(r,!1);else{var l=Object(o["m"])({componentIndex:i},t.keyInfo);n=new a(r,this,this,l),Object(o["m"])(n,l),t.brandNew&&(n.__requireNewView=!0),n.init(r,this,this),n.optionUpdated(null,!0)}}else n&&(n.mergeOption({},this),n.optionUpdated({},!1));n?(p.push(n.option),f.push(n),m++):(p.push(void 0),f.push(void 0))}),this),i[e]=p,n.set(e,f),r.set(e,m),"series"===e&&_(this)}Object(g["f"])(this),Object(o["k"])(t,(function(t,e){null!=t&&(d["a"].hasClass(e)?e&&(s.push(e),a.set(e,!0)):i[e]=null==i[e]?Object(o["d"])(t):Object(o["G"])(i[e],t,!0))})),l&&l.each((function(t,e){d["a"].hasClass(e)&&!a.get(e)&&(s.push(e),a.set(e,!0))})),d["a"].topologicalTravel(s,d["a"].getAllClassMainTypes(),c,this),this._seriesIndices||_(this)},e.prototype.getOption=function(){var t=Object(o["d"])(this.option);return Object(o["k"])(t,(function(e,i){if(d["a"].hasClass(i)){for(var n=u["n"](e),r=n.length,o=!1,s=r-1;s>=0;s--)n[s]&&!u["i"](n[s])?o=!0:(n[s]=null,!o&&r--);n.length=r,t[i]=n}})),delete t[T],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var i=this._componentsMap.get(t);if(i){var n=i[e||0];if(n)return n;if(null==e)for(var r=0;r<i.length;r++)if(i[r])return i[r]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var i,n=t.index,r=t.id,s=t.name,a=this._componentsMap.get(e);return a&&a.length?(null!=n?(i=[],Object(o["k"])(u["n"](n),(function(t){a[t]&&i.push(a[t])}))):i=null!=r?I("id",r,a):null!=s?I("name",s,a):Object(o["n"])(a,(function(t){return!!t})),E(i,t)):[]},e.prototype.findComponents=function(t){var e=t.query,i=t.mainType,n=s(e),r=n?this.queryComponents(n):Object(o["n"])(this._componentsMap.get(i),(function(t){return!!t}));return a(E(r,t));function s(t){var e=i+"Index",n=i+"Id",r=i+"Name";return!t||null==t[e]&&null==t[n]&&null==t[r]?null:{mainType:i,index:t[e],id:t[n],name:t[r]}}function a(e){return t.filter?Object(o["n"])(e,t.filter):e}},e.prototype.eachComponent=function(t,e,i){var n=this._componentsMap;if(Object(o["v"])(t)){var r=e,s=t;n.each((function(t,e){for(var i=0;t&&i<t.length;i++){var n=t[i];n&&s.call(r,e,n,n.componentIndex)}}))}else for(var a=Object(o["A"])(t)?n.get(t):Object(o["z"])(t)?this.findComponents(t):null,l=0;a&&l<a.length;l++){var c=a[l];c&&e.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=u["c"](t,null);return Object(o["n"])(this._componentsMap.get("series"),(function(t){return!!t&&null!=e&&t.name===e}))},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Object(o["n"])(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))},e.prototype.getSeries=function(){return Object(o["n"])(this._componentsMap.get("series"),(function(t){return!!t}))},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){b(this),Object(o["k"])(this._seriesIndices,(function(i){var n=this._componentsMap.get("series")[i];t.call(e,n,i)}),this)},e.prototype.eachRawSeries=function(t,e){Object(o["k"])(this._componentsMap.get("series"),(function(i){i&&t.call(e,i,i.componentIndex)}))},e.prototype.eachSeriesByType=function(t,e,i){b(this),Object(o["k"])(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];r.subType===t&&e.call(i,r,n)}),this)},e.prototype.eachRawSeriesByType=function(t,e,i){return Object(o["k"])(this.getSeriesByType(t),e,i)},e.prototype.isSeriesFiltered=function(t){return b(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){b(this);var i=[];Object(o["k"])(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)&&i.push(n)}),this),this._seriesIndices=i,this._seriesIndicesMap=Object(o["g"])(i)},e.prototype.restoreData=function(t){_(this);var e=this._componentsMap,i=[];e.each((function(t,e){d["a"].hasClass(e)&&i.push(e)})),d["a"].topologicalTravel(i,d["a"].getAllClassMainTypes(),(function(i){Object(o["k"])(e.get(i),(function(e){!e||"series"===i&&k(e,t)||e.restoreData()}))}))},e.internalField=function(){_=function(t){var e=t._seriesIndices=[];Object(o["k"])(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=Object(o["g"])(e)},b=function(t){0},x=function(t,e){t.option={},t.option[T]=C,t._componentsMap=Object(o["g"])({series:[]}),t._componentsCount=Object(o["g"])();var i=e.aria;Object(o["z"])(i)&&null==i.enabled&&(i.enabled=!0),A(e,t._theme.option),Object(o["G"])(e,m,!1),t._mergeOption(e,null)}}(),e}(h["a"]);function k(t,e){if(e){var i=e.seriesIndex,n=e.seriesId,r=e.seriesName;return null!=i&&t.componentIndex!==i||null!=n&&t.id!==n||null!=r&&t.name!==r}}function A(t,e){var i=t.color&&!t.colorLayer;Object(o["k"])(e,(function(e,n){"colorLayer"===n&&i||d["a"].hasClass(n)||("object"===typeof e?t[n]=t[n]?Object(o["G"])(t[n],e,!1):Object(o["d"])(e):null==t[n]&&(t[n]=e))}))}function I(t,e,i){if(Object(o["s"])(e)){var n=Object(o["g"])();return Object(o["k"])(e,(function(t){if(null!=t){var e=u["c"](t,null);null!=e&&n.set(t,!0)}})),Object(o["n"])(i,(function(e){return e&&n.get(e[t])}))}var r=u["c"](e,null);return Object(o["n"])(i,(function(e){return e&&null!=r&&e[t]===r}))}function E(t,e){return e.hasOwnProperty("subType")?Object(o["n"])(t,(function(t){return t&&t.subType===e.subType})):t}function M(t){var e=Object(o["g"])();return t&&Object(o["k"])(u["n"](t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}Object(o["H"])(O,w["a"]);var D=O,P=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],L=function(){function t(t){o["k"](P,(function(e){this[e]=o["c"](t[e],t)}),this)}return t}(),z=L,j=i("1f39"),B=/^(min|max)?(.+)$/,R=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,i){t&&(Object(o["k"])(Object(u["n"])(t.series),(function(t){t&&t.data&&Object(o["C"])(t.data)&&Object(o["O"])(t.data)})),Object(o["k"])(Object(u["n"])(t.dataset),(function(t){t&&t.source&&Object(o["C"])(t.source)&&Object(o["O"])(t.source)}))),t=Object(o["d"])(t);var n=this._optionBackup,r=F(t,e,!n);this._newBaseOption=r.baseOption,n?(r.timelineOptions.length&&(n.timelineOptions=r.timelineOptions),r.mediaList.length&&(n.mediaList=r.mediaList),r.mediaDefault&&(n.mediaDefault=r.mediaDefault)):this._optionBackup=r},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Object(o["d"])(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=Object(o["d"])(i[n.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,r=this._mediaDefault,s=[],a=[];if(!n.length&&!r)return a;for(var l=0,c=n.length;l<c;l++)N(n[l].query,e,i)&&s.push(l);return!s.length&&r&&(s=[-1]),s.length&&!$(s,this._currentMediaIndices)&&(a=Object(o["F"])(s,(function(t){return Object(o["d"])(-1===t?r.option:n[t].option)}))),this._currentMediaIndices=s,a},t}();function F(t,e,i){var n,r,s=[],a=t.baseOption,l=t.timeline,c=t.options,u=t.media,h=!!t.media,d=!!(c||l||a&&a.timeline);function p(t){Object(o["k"])(e,(function(e){e(t,i)}))}return a?(r=a,r.timeline||(r.timeline=l)):((d||h)&&(t.options=t.media=null),r=t),h&&Object(o["s"])(u)&&Object(o["k"])(u,(function(t){t&&t.option&&(t.query?s.push(t):n||(n=t))})),p(r),Object(o["k"])(c,(function(t){return p(t)})),Object(o["k"])(s,(function(t){return p(t.option)})),{baseOption:r,timelineOptions:c||[],mediaDefault:n,mediaList:s}}function N(t,e,i){var n={width:e,height:i,aspectratio:e/i},r=!0;return Object(o["k"])(t,(function(t,e){var i=e.match(B);if(i&&i[1]&&i[2]){var o=i[1],s=i[2].toLowerCase();V(n[s],t,o)||(r=!1)}})),r}function V(t,e,i){return"min"===i?t>=e:"max"===i?t<=e:t===e}function $(t,e){return t.join(",")===e.join(",")}var U=R,G=o["k"],q=o["z"],H=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function W(t){var e=t&&t.itemStyle;if(e)for(var i=0,n=H.length;i<n;i++){var r=H[i],s=e.normal,a=e.emphasis;s&&s[r]&&(t[r]=t[r]||{},t[r].normal?o["G"](t[r].normal,s[r]):t[r].normal=s[r],s[r]=null),a&&a[r]&&(t[r]=t[r]||{},t[r].emphasis?o["G"](t[r].emphasis,a[r]):t[r].emphasis=a[r],a[r]=null)}}function Z(t,e,i){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,r=t[e].emphasis;n&&(i?(t[e].normal=t[e].emphasis=null,o["j"](t[e],n)):t[e]=n),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r,r.focus&&(t.emphasis.focus=r.focus),r.blurScope&&(t.emphasis.blurScope=r.blurScope))}}function X(t){Z(t,"itemStyle"),Z(t,"lineStyle"),Z(t,"areaStyle"),Z(t,"label"),Z(t,"labelLine"),Z(t,"upperLabel"),Z(t,"edgeLabel")}function Y(t,e){var i=q(t)&&t[e],n=q(i)&&i.textStyle;if(n){0;for(var r=0,o=u["b"].length;r<o;r++){var s=u["b"][r];n.hasOwnProperty(s)&&(i[s]=n[s])}}}function K(t){t&&(X(t),Y(t,"label"),t.emphasis&&Y(t.emphasis,"label"))}function J(t){if(q(t)){W(t),X(t),Y(t,"label"),Y(t,"upperLabel"),Y(t,"edgeLabel"),t.emphasis&&(Y(t.emphasis,"label"),Y(t.emphasis,"upperLabel"),Y(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(W(e),K(e));var i=t.markLine;i&&(W(i),K(i));var n=t.markArea;n&&K(n);var r=t.data;if("graph"===t.type){r=r||t.nodes;var s=t.links||t.edges;if(s&&!o["C"](s))for(var a=0;a<s.length;a++)K(s[a]);o["k"](t.categories,(function(t){X(t)}))}if(r&&!o["C"](r))for(a=0;a<r.length;a++)K(r[a]);if(e=t.markPoint,e&&e.data){var l=e.data;for(a=0;a<l.length;a++)K(l[a])}if(i=t.markLine,i&&i.data){var c=i.data;for(a=0;a<c.length;a++)o["s"](c[a])?(K(c[a][0]),K(c[a][1])):K(c[a])}"gauge"===t.type?(Y(t,"axisLabel"),Y(t,"title"),Y(t,"detail")):"treemap"===t.type?(Z(t.breadcrumb,"itemStyle"),o["k"](t.levels,(function(t){X(t)}))):"tree"===t.type&&X(t.leaves)}}function Q(t){return o["s"](t)?t:t?[t]:[]}function tt(t){return(o["s"](t)?t[0]:t)||{}}function et(t,e){G(Q(t.series),(function(t){q(t)&&J(t)}));var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),G(i,(function(e){G(Q(t[e]),(function(t){t&&(Y(t,"axisLabel"),Y(t.axisPointer,"label"))}))})),G(Q(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;Y(e,"axisLabel"),Y(e&&e.axisPointer,"label")})),G(Q(t.calendar),(function(t){Z(t,"itemStyle"),Y(t,"dayLabel"),Y(t,"monthLabel"),Y(t,"yearLabel")})),G(Q(t.radar),(function(t){Y(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),G(Q(t.geo),(function(t){q(t)&&(K(t),G(Q(t.regions),(function(t){K(t)})))})),G(Q(t.timeline),(function(t){K(t),Z(t,"label"),Z(t,"itemStyle"),Z(t,"controlStyle",!0);var e=t.data;o["s"](e)&&o["k"](e,(function(t){o["z"](t)&&(Z(t,"label"),Z(t,"itemStyle"))}))})),G(Q(t.toolbox),(function(t){Z(t,"iconStyle"),G(t.feature,(function(t){Z(t,"iconStyle")}))})),Y(tt(t.axisPointer),"label"),Y(tt(t.tooltip).axisPointer,"label")}function it(t,e){for(var i=e.split(","),n=t,r=0;r<i.length;r++)if(n=n&&n[i[r]],null==n)break;return n}function nt(t,e,i,n){for(var r,o=e.split(","),s=t,a=0;a<o.length-1;a++)r=o[a],null==s[r]&&(s[r]={}),s=s[r];(n||null==s[o[a]])&&(s[o[a]]=i)}function rt(t){t&&Object(o["k"])(ot,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var ot=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],st=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],at=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function lt(t){var e=t&&t.itemStyle;if(e)for(var i=0;i<at.length;i++){var n=at[i][1],r=at[i][0];null!=e[n]&&(e[r]=e[n])}}function ct(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function ut(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function ht(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}function dt(t,e){if(t)for(var i=0;i<t.length;i++)e(t[i]),t[i]&&dt(t[i].children,e)}function pt(t,e){et(t,e),t.series=Object(u["n"])(t.series),Object(o["k"])(t.series,(function(t){if(Object(o["z"])(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e){null!=t.clockWise&&(t.clockwise=t.clockWise),ct(t.label);var i=t.data;if(i&&!Object(o["C"])(i))for(var n=0;n<i.length;n++)ct(i[n]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===e){var r=it(t,"pointer.color");null!=r&&nt(t,"itemStyle.color",r)}else if("bar"===e){lt(t),lt(t.backgroundStyle),lt(t.emphasis);i=t.data;if(i&&!Object(o["C"])(i))for(n=0;n<i.length;n++)"object"===typeof i[n]&&(lt(i[n]),lt(i[n]&&i[n].emphasis))}else if("sunburst"===e){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),ut(t),dt(t.data,ut)}else"graph"===e||"sankey"===e?ht(t):"map"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Object(o["j"])(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),rt(t)}})),t.dataRange&&(t.visualMap=t.dataRange),Object(o["k"])(st,(function(e){var i=t[e];i&&(Object(o["s"])(i)||(i=[i]),Object(o["k"])(i,(function(t){rt(t)})))}))}var ft=i("3842");function mt(t){var e=Object(o["g"])();t.eachSeries((function(t){var i=t.get("stack");if(i){var n=e.get(i)||e.set(i,[]),r=t.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;n.length&&r.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(o)}})),e.each(gt)}function gt(t){Object(o["k"])(t,(function(e,i){var n=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],s=e.data,a=e.isStackedByIndex;s.modify(o,(function(o,l,c){var u,h,d=s.get(e.stackedDimension,c);if(isNaN(d))return r;a?h=s.getRawIndex(c):u=s.get(e.stackedByDimension,c);for(var p=NaN,f=i-1;f>=0;f--){var m=t[f];if(a||(h=m.data.rawIndexOf(m.stackedByDimension,u)),h>=0){var g=m.data.getByRawIndex(m.stackResultDimension,h);if(d>=0&&g>0||d<=0&&g<0){d=Object(ft["a"])(d,g),p=g;break}}}return n[0]=d,n[1]=p,n}))}))}var yt=i("4f85"),vt=i("b12f"),_t=i("e887"),bt=i("c7a2"),xt=i("0da8"),wt=i("deab"),St=i("cbe5"),Tt=i("861c"),Ct=i("7d6c"),Ot=i("88b3"),kt=i("282b"),At=i("551f"),It=i("3901"),Et=Object(u["l"])(),Mt={itemStyle:Object(kt["a"])(At["a"],!0),lineStyle:Object(kt["a"])(It["a"],!0)},Dt={lineStyle:"stroke",itemStyle:"fill"};function Pt(t,e){var i=t.visualStyleMapper||Mt[e];return i||(console.warn("Unkown style type '"+e+"'."),Mt.itemStyle)}function Lt(t,e){var i=t.visualDrawType||Dt[e];return i||(console.warn("Unkown style type '"+e+"'."),"fill")}var zt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData(),n=t.visualStyleAccessPath||"itemStyle",r=t.getModel(n),s=Pt(t,n),a=s(r),l=r.getShallow("decal");l&&(i.setVisual("decal",l),l.dirty=!0);var c=Lt(t,n),u=a[c],h=Object(o["v"])(u)?u:null,d="auto"===a.fill||"auto"===a.stroke;if(!a[c]||h||d){var p=t.getColorFromPalette(t.name,null,e.getSeriesCount());a[c]||(a[c]=p,i.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||"function"===typeof a.fill?p:a.fill,a.stroke="auto"===a.stroke||"function"===typeof a.stroke?p:a.stroke}if(i.setVisual("style",a),i.setVisual("drawType",c),!e.isSeriesFiltered(t)&&h)return i.setVisual("colorFromPalette",!1),{dataEach:function(e,i){var n=t.getDataParams(i),r=Object(o["m"])({},a);r[c]=h(n),e.setItemVisual(i,"style",r)}}}},jt=new h["a"],Bt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var i=t.getData(),n=t.visualStyleAccessPath||"itemStyle",r=Pt(t,n),s=i.getVisual("drawType");return{dataEach:i.hasItemOption?function(t,e){var i=t.getRawDataItem(e);if(i&&i[n]){jt.option=i[n];var a=r(jt),l=t.ensureUniqueItemVisual(e,"style");Object(o["m"])(l,a),jt.option.decal&&(t.setItemVisual(e,"decal",jt.option.decal),jt.option.decal.dirty=!0),s in a&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},Rt={performRawSeries:!0,overallReset:function(t){var e=Object(o["g"])();t.eachSeries((function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var n=t.type+"-"+i,r=e.get(n);r||(r={},e.set(n,r)),Et(t).scope=r}})),t.eachSeries((function(e){if(!e.isColorBySeries()&&!t.isSeriesFiltered(e)){var i=e.getRawData(),n={},r=e.getData(),o=Et(e).scope,s=e.visualStyleAccessPath||"itemStyle",a=Lt(e,s);r.each((function(t){var e=r.getRawIndex(t);n[e]=t})),i.each((function(t){var s=n[t],l=r.getItemVisual(s,"colorFromPalette");if(l){var c=r.ensureUniqueItemVisual(s,"style"),u=i.getName(t)||t+"",h=i.count();c[a]=e.getColorFromPalette(u,o,h)}}))}}))}},Ft=i("2dc5"),Nt=i("76a5"),Vt=i("8d32"),$t=Math.PI;function Ut(t,e){e=e||{},o["j"](e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var i=new Ft["a"],n=new bt["a"]({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});i.add(n);var r,s=new Nt["a"]({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new bt["a"]({style:{fill:"none"},textContent:s,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return i.add(a),e.showSpinner&&(r=new Vt["a"]({shape:{startAngle:-$t/2,endAngle:-$t/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),r.animateShape(!0).when(1e3,{endAngle:3*$t/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*$t/2}).delay(300).start("circularInOut"),i.add(r)),i.resize=function(){var i=s.getBoundingRect().width,o=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*o-(e.showSpinner&&i?10:0)-i)/2-(e.showSpinner&&i?0:5+i/2)+(e.showSpinner?0:i/2)+(i?0:o),c=t.getHeight()/2;e.showSpinner&&r.setShape({cx:l,cy:c}),a.setShape({x:l-o,y:c-o,width:2*o,height:2*o}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},i.resize(),i}var Gt=i("9fbc"),qt=i("8918"),Ht=function(){function t(t,e,i,n){this._stageTaskMap=Object(o["g"])(),this.ecInstance=t,this.api=e,i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice(),this._allHandlers=i.concat(n)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context,r=!e&&i.progressiveEnabled&&(!n||n.progressiveRender)&&t.__idxInPipeline>i.blockIndex,o=r?i.step:null,s=n&&n.modDataCount,a=null!=s?Math.ceil(s/o):null;return{step:o,modBy:a,modDataCount:s}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData(),r=n.count(),o=i.progressiveEnabled&&e.incrementalPrepareRender&&r>=i.threshold,s=t.get("large")&&r>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=i.context={progressiveRender:o,modDataCount:a,large:s}},t.prototype.restorePipelines=function(t){var e=this,i=e._pipelineMap=Object(o["g"])();t.eachSeries((function(t){var n=t.getProgressive(),r=t.uid;i.set(r,{id:r,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:n&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(n||700),count:0}),e._pipe(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),i=this.api;Object(o["k"])(this._allHandlers,(function(n){var r=t.get(n.uid)||t.set(n.uid,{}),s="";Object(o["b"])(!(n.reset&&n.overallReset),s),n.reset&&this._createSeriesStageTask(n,r,e,i),n.overallReset&&this._createOverallStageTask(n,r,e,i)}),this)},t.prototype.prepareView=function(t,e,i,n){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=i,o.api=n,r.__block=!t.incrementalPrepareRender,this._pipe(e,r)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,i){this._performStageTasks(this._visualHandlers,t,e,i)},t.prototype._performStageTasks=function(t,e,i,n){n=n||{};var r=!1,s=this;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}Object(o["k"])(t,(function(t,o){if(!n.visualType||n.visualType===t.visualType){var l=s._stageTaskMap.get(t.uid),c=l.seriesTaskMap,u=l.overallTask;if(u){var h,d=u.agentStubMap;d.each((function(t){a(n,t)&&(t.dirty(),h=!0)})),h&&u.dirty(),s.updatePayload(u,i);var p=s.getPerformArgs(u,n.block);d.each((function(t){t.perform(p)})),u.perform(p)&&(r=!0)}else c&&c.each((function(o,l){a(n,o)&&o.dirty();var c=s.getPerformArgs(o,n.block);c.skip=!t.performRawSeries&&e.isSeriesFiltered(o.context.model),s.updatePayload(o,i),o.perform(c)&&(r=!0)}))}})),this.unfinished=r||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,i,n){var r=this,s=e.seriesTaskMap,a=e.seriesTaskMap=Object(o["g"])(),l=t.seriesType,c=t.getTargetSeries;function u(e){var o=e.uid,l=a.set(o,s&&s.get(o)||Object(Gt["a"])({plan:Kt,reset:Jt,count:ee}));l.context={model:e,ecModel:i,api:n,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:r},r._pipe(e,l)}t.createOnAllSeries?i.eachRawSeries(u):l?i.eachRawSeriesByType(l,u):c&&c(i,n).each(u)},t.prototype._createOverallStageTask=function(t,e,i,n){var r=this,s=e.overallTask=e.overallTask||Object(Gt["a"])({reset:Wt});s.context={ecModel:i,api:n,overallReset:t.overallReset,scheduler:r};var a=s.agentStubMap,l=s.agentStubMap=Object(o["g"])(),c=t.seriesType,u=t.getTargetSeries,h=!0,d=!1,p="";function f(t){var e=t.uid,i=l.set(e,a&&a.get(e)||(d=!0,Object(Gt["a"])({reset:Zt,onDirty:Yt})));i.context={model:t,overallProgress:h},i.agent=s,i.__block=h,r._pipe(t,i)}Object(o["b"])(!t.createOnAllSeries,p),c?i.eachRawSeriesByType(c,f):u?u(i,n).each(f):(h=!1,Object(o["k"])(i.getSeries(),f)),d&&s.dirty()},t.prototype._pipe=function(t,e){var i=t.uid,n=this._pipelineMap.get(i);!n.head&&(n.head=e),n.tail&&n.tail.pipe(e),n.tail=e,e.__idxInPipeline=n.count++,e.__pipeline=n},t.wrapStageHandler=function(t,e){return Object(o["v"])(t)&&(t={overallReset:t,seriesType:ie(t)}),t.uid=Object(qt["c"])("stageHandler"),e&&(t.visualType=e),t},t}();function Wt(t){t.overallReset(t.ecModel,t.api,t.payload)}function Zt(t){return t.overallProgress&&Xt}function Xt(){this.agent.dirty(),this.getDownstream().dirty()}function Yt(){this.agent&&this.agent.dirty()}function Kt(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Jt(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Object(u["n"])(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Object(o["F"])(e,(function(t,e){return te(e)})):Qt}var Qt=te(0);function te(t){return function(e,i){var n=i.data,r=i.resetDefines[t];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(n,o);else r&&r.progress&&r.progress(e,n)}}function ee(t){return t.data.count()}function ie(t){ne=null;try{t(re,oe)}catch(e){}return ne}var ne,re={},oe={};function se(t,e){for(var i in e.prototype)t[i]=o["I"]}se(re,D),se(oe,z),re.eachSeriesByType=re.eachRawSeriesByType=function(t){ne=t},re.eachComponent=function(t){"series"===t.mainType&&t.subType&&(ne=t.subType)};var ae=Ht,le=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],ce={color:le,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],le]},ue="#B9B8CE",he="#100C2A",de=function(){return{axisLine:{lineStyle:{color:ue}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},pe=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],fe={darkMode:!0,color:pe,backgroundColor:he,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ue}},textStyle:{color:ue},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ue}},dataZoom:{borderColor:"#71708A",textStyle:{color:ue},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ue}},timeline:{lineStyle:{color:ue},label:{color:ue},controlStyle:{color:ue,borderColor:ue}},calendar:{itemStyle:{color:he},dayLabel:{color:ue},monthLabel:{color:ue},yearLabel:{color:ue}},timeAxis:de(),logAxis:de(),valueAxis:de(),categoryAxis:de(),line:{symbol:"circle"},graph:{color:pe},gauge:{title:{color:ue},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ue},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};fe.categoryAxis.splitLine.show=!1;var me=fe,ge=i("625e"),ye=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},i={},n={};if(o["A"](t)){var r=Object(ge["f"])(t);e.mainType=r.main||null,e.subType=r.sub||null}else{var s=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};o["k"](t,(function(t,r){for(var o=!1,l=0;l<s.length;l++){var c=s[l],u=r.lastIndexOf(c);if(u>0&&u===r.length-c.length){var h=r.slice(0,u);"data"!==h&&(e.mainType=h,e[c.toLowerCase()]=t,o=!0)}}a.hasOwnProperty(r)&&(i[r]=t,o=!0),o||(n[r]=t)}))}return{cptQuery:e,dataQuery:i,otherQuery:n}},t.prototype.filter=function(t,e){var i=this.eventInfo;if(!i)return!0;var n=i.targetEl,r=i.packedEvent,o=i.model,s=i.view;if(!o||!s)return!0;var a=e.cptQuery,l=e.dataQuery;return c(a,o,"mainType")&&c(a,o,"subType")&&c(a,o,"index","componentIndex")&&c(a,o,"name")&&c(a,o,"id")&&c(l,r,"name")&&c(l,r,"dataIndex")&&c(l,r,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,n,r));function c(t,e,i,n){return null==t[i]||e[n||i]===t[i]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),ve={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData();if(t.legendIcon&&i.setVisual("legendIcon",t.legendIcon),t.hasSymbolVisual){var n=t.get("symbol"),r=t.get("symbolSize"),s=t.get("symbolKeepAspect"),a=t.get("symbolRotate"),l=t.get("symbolOffset"),c=Object(o["v"])(n),u=Object(o["v"])(r),h=Object(o["v"])(a),d=Object(o["v"])(l),p=c||u||h||d,f=!c&&n?n:t.defaultSymbol,m=u?null:r,g=h?null:a,y=d?null:l;if(i.setVisual({legendIcon:t.legendIcon||f,symbol:f,symbolSize:m,symbolKeepAspect:s,symbolRotate:g,symbolOffset:y}),!e.isSeriesFiltered(t))return{dataEach:p?v:null}}function v(e,i){var o=t.getRawValue(i),s=t.getDataParams(i);c&&e.setItemVisual(i,"symbol",n(o,s)),u&&e.setItemVisual(i,"symbolSize",r(o,s)),h&&e.setItemVisual(i,"symbolRotate",a(o,s)),d&&e.setItemVisual(i,"symbolOffset",l(o,s))}}},_e={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t)){var i=t.getData();return{dataEach:i.hasItemOption?n:null}}function n(t,e){var i=t.getItemModel(e),n=i.getShallow("symbol",!0),r=i.getShallow("symbolSize",!0),o=i.getShallow("symbolRotate",!0),s=i.getShallow("symbolOffset",!0),a=i.getShallow("symbolKeepAspect",!0);null!=n&&t.setItemVisual(e,"symbol",n),null!=r&&t.setItemVisual(e,"symbolSize",r),null!=o&&t.setItemVisual(e,"symbolRotate",o),null!=s&&t.setItemVisual(e,"symbolOffset",s),null!=a&&t.setItemVisual(e,"symbolKeepAspect",a)}}};function be(t,e,i){switch(i){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,i);default:0}}function xe(t,e){switch(e){case"color":var i=t.getVisual("style");return i[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:0}}function we(t,e,i,n,r){var s=t+e;i.isSilent(s)||n.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var e=t.seriesIndex,n=r.selected,a=0;a<n.length;a++)if(n[a].seriesIndex===e){var l=t.getData(),c=Object(u["q"])(l,r.fromActionPayload);i.trigger(s,{type:s,seriesId:t.id,name:Object(o["s"])(c)?l.getName(c[0]):l.getName(c),selected:Object(o["m"])({},t.option.selectedMap)})}}))}function Se(t,e,i){t.on("selectchanged",(function(t){var n=i.getModel();t.isFromClick?(we("map","selectchanged",e,n,t),we("pie","selectchanged",e,n,t)):"select"===t.fromAction?(we("map","selected",e,n,t),we("pie","selected",e,n,t)):"unselect"===t.fromAction&&(we("map","unselected",e,n,t),we("pie","unselected",e,n,t))}))}var Te=i("04f7"),Ce=i("ef59"),Oe=i("fadd"),ke=Math.round(9*Math.random()),Ae="function"===typeof Object.defineProperty,Ie=function(){function t(){this._id="__ec_inner_"+ke++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var i=this._guard(t);return Ae?Object.defineProperty(i,this._id,{value:e,enumerable:!1,configurable:!0}):i[this._id]=e,this},t.prototype["delete"]=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),Ee=Ie,Me=i("d51b"),De=i("a15a"),Pe=i("5210"),Le=new Ee,ze=new Me["a"](100),je=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Be(t,e){if("none"===t)return null;var i=e.getDevicePixelRatio(),n=e.getZr(),r="svg"===n.painter.type;t.dirty&&Le["delete"](t);var s=Le.get(t);if(s)return s;var a=Object(o["j"])(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var l={repeat:"repeat"};return c(l),l.rotation=a.rotation,l.scaleX=l.scaleY=r?1:1/i,Le.set(t,l),t.dirty=!1,l;function c(t){for(var e,s=[i],l=!0,c=0;c<je.length;++c){var u=a[je[c]],h=typeof u;if(null!=u&&!Object(o["s"])(u)&&"string"!==h&&"number"!==h&&"boolean"!==h){l=!1;break}s.push(u)}if(l){e=s.join(",")+(r?"-svg":"");var d=ze.get(e);d&&(r?t.svgElement=d:t.image=d)}var p,f=Fe(a.dashArrayX),m=Ne(a.dashArrayY),g=Re(a.symbol),y=Ve(f),v=$e(m),_=!r&&Object(o["f"])(),b=r&&n.painter.createSVGElement("g"),x=w();function w(){for(var t=1,e=0,i=y.length;e<i;++e)t=Object(ft["b"])(t,y[e]);var n=1;for(e=0,i=g.length;e<i;++e)n=Object(ft["b"])(n,g[e].length);t*=n;var r=v*y.length*g.length;return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(r,a.maxTileHeight))}}function S(){p&&(p.clearRect(0,0,_.width,_.height),a.backgroundColor&&(p.fillStyle=a.backgroundColor,p.fillRect(0,0,_.width,_.height)));for(var t=0,e=0;e<m.length;++e)t+=m[e];if(!(t<=0)){var o=-v,s=0,l=0,c=0;while(o<x.height){if(s%2===0){var u=l/2%g.length,h=0,d=0,y=0;while(h<2*x.width){var w=0;for(e=0;e<f[c].length;++e)w+=f[c][e];if(w<=0)break;if(d%2===0){var S=.5*(1-a.symbolSize),T=h+f[c][d]*S,C=o+m[s]*S,O=f[c][d]*a.symbolSize,k=m[s]*a.symbolSize,A=y/2%g[u].length;I(T,C,O,k,g[u][A])}h+=f[c][d],++y,++d,d===f[c].length&&(d=0)}++c,c===f.length&&(c=0)}o+=m[s],++l,++s,s===m.length&&(s=0)}}function I(t,e,o,s,l){var c=r?1:i,u=Object(De["a"])(l,t*c,e*c,o*c,s*c,a.color,a.symbolKeepAspect);r?b.appendChild(n.painter.paintOne(u)):Object(Pe["b"])(p,u)}}_&&(_.width=x.width*i,_.height=x.height*i,p=_.getContext("2d")),S(),l&&ze.put(e,_||b),t.image=_,t.svgElement=b,t.svgWidth=x.width,t.svgHeight=x.height}}function Re(t){if(!t||0===t.length)return[["rect"]];if("string"===typeof t)return[[t]];for(var e=!0,i=0;i<t.length;++i)if("string"!==typeof t[i]){e=!1;break}if(e)return Re([t]);var n=[];for(i=0;i<t.length;++i)"string"===typeof t[i]?n.push([t[i]]):n.push(t[i]);return n}function Fe(t){if(!t||0===t.length)return[[0,0]];if("number"===typeof t){var e=Math.ceil(t);return[[e,e]]}for(var i=!0,n=0;n<t.length;++n)if("number"!==typeof t[n]){i=!1;break}if(i)return Fe([t]);var r=[];for(n=0;n<t.length;++n)if("number"===typeof t[n]){e=Math.ceil(t[n]);r.push([e,e])}else{e=Object(o["F"])(t[n],(function(t){return Math.ceil(t)}));e.length%2===1?r.push(e.concat(e)):r.push(e)}return r}function Ne(t){if(!t||"object"===typeof t&&0===t.length)return[0,0];if("number"===typeof t){var e=Math.ceil(t);return[e,e]}var i=Object(o["F"])(t,(function(t){return Math.ceil(t)}));return t.length%2?i.concat(i):i}function Ve(t){return Object(o["F"])(t,(function(t){return $e(t)}))}function $e(t){for(var e=0,i=0;i<t.length;++i)e+=t[i];return t.length%2===1?2*e:e}function Ue(t,e){t.eachRawSeries((function(i){if(!t.isSeriesFiltered(i)){var n=i.getData();n.hasItemVisual()&&n.each((function(t){var i=n.getItemVisual(t,"decal");if(i){var r=n.ensureUniqueItemVisual(t,"style");r.decal=Be(i,e)}}));var r=n.getVisual("decal");if(r){var o=n.getVisual("style");o.decal=Be(r,e)}}}))}var Ge,qe=i("d9fc"),He=i("ae69"),We=i("cb11"),Ze=i("87b1"),Xe=i("d498"),Ye=i("1687"),Ke=i("342d"),Je=i("48a9"),Qe=i("dded"),ti=i("dd4f");function ei(t){if(Object(o["A"])(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var i=t;9===i.nodeType&&(i=i.firstChild);while("svg"!==i.nodeName.toLowerCase()||1!==i.nodeType)i=i.nextSibling;return i}var ii={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},ni=Object(o["D"])(ii),ri={"alignment-baseline":"textBaseline","stop-color":"stopColor"},oi=Object(o["D"])(ri),si=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var i=ei(t);if(!i)throw new Error("Illegal svg");this._defsUsePending=[];var n=new Ft["a"];this._root=n;var r=[],o=i.getAttribute("viewBox")||"",s=parseFloat(i.getAttribute("width")||e.width),a=parseFloat(i.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(a)&&(a=null),di(i,n,null,!0,!1);var l,c,u=i.firstChild;while(u)this._parseNode(u,n,r,null,!1,!1),u=u.nextSibling;if(gi(this._defs,this._defsUsePending),this._defsUsePending=[],o){var h=vi(o);h.length>=4&&(l={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(l&&null!=s&&null!=a&&(c=Ci(l,{x:0,y:0,width:s,height:a}),!e.ignoreViewBox)){var d=n;n=new Ft["a"],n.add(d),d.scaleX=d.scaleY=c.scale,d.x=c.x,d.y=c.y}return e.ignoreRootClip||null==s||null==a||n.setClipPath(new bt["a"]({shape:{x:0,y:0,width:s,height:a}})),{root:n,width:s,height:a,viewBoxRect:l,viewBoxTransform:c,named:r}},t.prototype._parseNode=function(t,e,i,n,r,s){var a,l=t.nodeName.toLowerCase(),c=n;if("defs"===l&&(r=!0),"text"===l&&(s=!0),"defs"===l||"switch"===l)a=e;else{if(!r){var u=Ge[l];if(u&&Object(o["p"])(Ge,l)){a=u.call(this,t,e);var h=t.getAttribute("name");if(h){var d={name:h,namedFrom:null,svgNodeTagLower:l,el:a};i.push(d),"g"===l&&(c=d)}else n&&i.push({name:n.name,namedFrom:n,svgNodeTagLower:l,el:a});e.add(a)}}var p=ai[l];if(p&&Object(o["p"])(ai,l)){var f=p.call(this,t),m=t.getAttribute("id");m&&(this._defs[m]=f)}}if(a&&a.isGroup){var g=t.firstChild;while(g)1===g.nodeType?this._parseNode(g,a,i,c,r,s):3===g.nodeType&&s&&this._parseText(g,a),g=g.nextSibling}},t.prototype._parseText=function(t,e){var i=new ti["a"]({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});ui(e,i),di(t,i,this._defsUsePending,!1,!1),pi(i,e);var n=i.style,r=n.fontSize;r&&r<9&&(n.fontSize=9,i.scaleX*=r/9,i.scaleY*=r/9);var o=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");n.font=o;var s=i.getBoundingRect();return this._textX+=s.width,e.add(i),i},t.internalField=function(){Ge={g:function(t,e){var i=new Ft["a"];return ui(e,i),di(t,i,this._defsUsePending,!1,!1),i},rect:function(t,e){var i=new bt["a"];return ui(e,i),di(t,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(t,e){var i=new qe["a"];return ui(e,i),di(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),i.silent=!0,i},line:function(t,e){var i=new We["a"];return ui(e,i),di(t,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(t,e){var i=new He["a"];return ui(e,i),di(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(t,e){var i,n=t.getAttribute("points");n&&(i=hi(n));var r=new Ze["a"]({shape:{points:i||[]},silent:!0});return ui(e,r),di(t,r,this._defsUsePending,!1,!1),r},polyline:function(t,e){var i,n=t.getAttribute("points");n&&(i=hi(n));var r=new Xe["a"]({shape:{points:i||[]},silent:!0});return ui(e,r),di(t,r,this._defsUsePending,!1,!1),r},image:function(t,e){var i=new xt["a"];return ui(e,i),di(t,i,this._defsUsePending,!1,!1),i.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),i.silent=!0,i},text:function(t,e){var i=t.getAttribute("x")||"0",n=t.getAttribute("y")||"0",r=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(r),this._textY=parseFloat(n)+parseFloat(o);var s=new Ft["a"];return ui(e,s),di(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var i=t.getAttribute("x"),n=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=n&&(this._textY=parseFloat(n));var r=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new Ft["a"];return ui(e,s),di(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(r),this._textY+=parseFloat(o),s},path:function(t,e){var i=t.getAttribute("d")||"",n=Object(Ke["a"])(i);return ui(e,n),di(t,n,this._defsUsePending,!1,!1),n.silent=!0,n}}}(),t}(),ai={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),i=parseInt(t.getAttribute("y1")||"0",10),n=parseInt(t.getAttribute("x2")||"10",10),r=parseInt(t.getAttribute("y2")||"0",10),o=new Je["a"](e,i,n,r);return li(t,o),ci(t,o),o},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),i=parseInt(t.getAttribute("cy")||"0",10),n=parseInt(t.getAttribute("r")||"0",10),r=new Qe["a"](e,i,n);return li(t,r),ci(t,r),r}};function li(t,e){var i=t.getAttribute("gradientUnits");"userSpaceOnUse"===i&&(e.global=!0)}function ci(t,e){var i=t.firstChild;while(i){if(1===i.nodeType&&"stop"===i.nodeName.toLocaleLowerCase()){var n=i.getAttribute("offset"),r=void 0;r=n&&n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var o={};Si(i,o,o);var s=o.stopColor||i.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:s})}i=i.nextSibling}}function ui(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Object(o["j"])(e.__inheritedStyle,t.__inheritedStyle))}function hi(t){for(var e=vi(t),i=[],n=0;n<e.length;n+=2){var r=parseFloat(e[n]),o=parseFloat(e[n+1]);i.push([r,o])}return i}function di(t,e,i,n,r){var s=e,a=s.__inheritedStyle=s.__inheritedStyle||{},l={};1===t.nodeType&&(xi(t,e),Si(t,a,l),n||Ti(t,a,l)),s.style=s.style||{},null!=a.fill&&(s.style.fill=mi(s,"fill",a.fill,i)),null!=a.stroke&&(s.style.stroke=mi(s,"stroke",a.stroke,i)),Object(o["k"])(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=a[t]&&(s.style[t]=parseFloat(a[t]))})),Object(o["k"])(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(t){null!=a[t]&&(s.style[t]=a[t])})),r&&(s.__selfStyle=l),a.lineDash&&(s.style.lineDash=Object(o["F"])(vi(a.lineDash),(function(t){return parseFloat(t)}))),"hidden"!==a.visibility&&"collapse"!==a.visibility||(s.invisible=!0),"none"===a.display&&(s.ignore=!0)}function pi(t,e){var i=e.__selfStyle;if(i){var n=i.textBaseline,r=n;n&&"auto"!==n?"baseline"===n?r="alphabetic":"before-edge"===n||"text-before-edge"===n?r="top":"after-edge"===n||"text-after-edge"===n?r="bottom":"central"!==n&&"mathematical"!==n||(r="middle"):r="alphabetic",t.style.textBaseline=r}var o=e.__inheritedStyle;if(o){var s=o.textAlign,a=s;s&&("middle"===s&&(a="center"),t.style.textAlign=a)}}var fi=/^url\(\s*#(.*?)\)/;function mi(t,e,i,n){var r=i&&i.match(fi);if(!r)return"none"===i&&(i=null),i;var s=Object(o["Q"])(r[1]);n.push([t,e,s])}function gi(t,e){for(var i=0;i<e.length;i++){var n=e[i];n[0].style[n[1]]=t[n[2]]}}var yi=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function vi(t){return t.match(yi)||[]}var _i=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,bi=Math.PI/180;function xi(t,e){var i=t.getAttribute("transform");if(i){i=i.replace(/,/g," ");var n=[],r=null;i.replace(_i,(function(t,e,i){return n.push(e,i),""}));for(var o=n.length-1;o>0;o-=2){var s=n[o],a=n[o-1],l=vi(s);switch(r=r||Ye["b"](),a){case"translate":Ye["h"](r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Ye["g"](r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ye["f"](r,r,-parseFloat(l[0])*bi);break;case"skewX":var c=Math.tan(parseFloat(l[0])*bi);Ye["e"](r,[1,0,c,1,0,0],r);break;case"skewY":var u=Math.tan(parseFloat(l[0])*bi);Ye["e"](r,[1,u,0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5]);break}}e.setLocalTransform(r)}}var wi=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Si(t,e,i){var n=t.getAttribute("style");if(n){var r;wi.lastIndex=0;while(null!=(r=wi.exec(n))){var s=r[1],a=Object(o["p"])(ii,s)?ii[s]:null;a&&(e[a]=r[2]);var l=Object(o["p"])(ri,s)?ri[s]:null;l&&(i[l]=r[2])}}}function Ti(t,e,i){for(var n=0;n<ni.length;n++){var r=ni[n],o=t.getAttribute(r);null!=o&&(e[ii[r]]=o)}for(n=0;n<oi.length;n++){r=oi[n],o=t.getAttribute(r);null!=o&&(i[ri[r]]=o)}}function Ci(t,e){var i=e.width/t.width,n=e.height/t.height,r=Math.min(i,n);return{scale:r,x:-(t.x+t.width/2)*r+(e.x+e.width/2),y:-(t.y+t.height/2)*r+(e.y+e.height/2)}}function Oi(t,e){var i=new si;return i.parse(t,e)}var ki=i("9850"),Ai=i("e263"),Ii=i("401b"),Ei=i("8728"),Mi=1e-8;function Di(t,e){return Math.abs(t-e)<Mi}function Pi(t,e,i){var n=0,r=t[0];if(!r)return!1;for(var o=1;o<t.length;o++){var s=t[o];n+=Object(Ei["a"])(r[0],r[1],s[0],s[1],e,i),r=s}var a=t[0];return Di(r[0],a[0])&&Di(r[1],a[1])||(n+=Object(Ei["a"])(r[0],r[1],a[0],a[1],e,i)),0!==n}var Li=[],zi=function(){function t(t){this.name=t}return t.prototype.getCenter=function(){},t}(),ji=function(t){function e(e,i,n){var r=t.call(this,e)||this;if(r.type="geoJSON",r.geometries=i,n)n=[n[0],n[1]];else{var o=r.getBoundingRect();n=[o.x+o.width/2,o.y+o.height/2]}return r._center=n,r}return Object(n["a"])(e,t),e.prototype.getBoundingRect=function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],r=[],o=[],s=this.geometries,a=0;a<s.length;a++)if("polygon"===s[a].type){var l=s[a].exterior;Ai["d"](l,r,o),Ii["i"](i,i,r),Ii["h"](n,n,o)}return 0===a&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new ki["a"](i[0],i[1],n[0]-i[0],n[1]-i[1])},e.prototype.contain=function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,r=i.length;n<r;n++)if("polygon"===i[n].type){var o=i[n].exterior,s=i[n].interiors;if(Pi(o,t[0],t[1])){for(var a=0;a<(s?s.length:0);a++)if(Pi(s[a],t[0],t[1]))continue t;return!0}}return!1},e.prototype.transformTo=function(t,e,i,n){var r=this.getBoundingRect(),o=r.width/r.height;i?n||(n=i/o):i=o*n;for(var s=new ki["a"](t,e,i,n),a=r.calculateTransform(s),l=this.geometries,c=0;c<l.length;c++)if("polygon"===l[c].type){for(var u=l[c].exterior,h=l[c].interiors,d=0;d<u.length;d++)Ii["b"](u[d],u[d],a);for(var p=0;p<(h?h.length:0);p++)for(d=0;d<h[p].length;d++)Ii["b"](h[p][d],h[p][d],a)}r=this._rect,r.copy(s),this._center=[r.x+r.width/2,r.y+r.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e.prototype.getCenter=function(){return this._center},e.prototype.setCenter=function(t){this._center=t},e}(zi),Bi=function(t){function e(e,i){var n=t.call(this,e)||this;return n.type="geoSVG",n._elOnlyForCalculate=i,n}return Object(n["a"])(e,t),e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this._calculateCenter()),t},e.prototype._calculateCenter=function(){var t=this._elOnlyForCalculate,e=t.getBoundingRect(),i=[e.x+e.width/2,e.y+e.height/2],n=Ye["c"](Li),r=t;while(r&&!r.isGeoSVGGraphicRoot)Ye["e"](n,r.getLocalTransform(),n),r=r.parent;return Ye["d"](n,n),Ii["b"](i,i,n),i},e}(zi),Ri=Object(o["g"])(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Fi=function(){function t(t,e){this.type="geoSVG",this._usedGraphicMap=Object(o["g"])(),this._freedGraphics=[],this._mapName=t,this._parsedXML=ei(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=Vi(t.named),i=e.regions,n=e.regionsMap;this._regions=i,this._regionsMap=n}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,i;try{e=t&&Oi(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},i=e.root,Object(o["b"])(null!=i)}catch(g){throw new Error("Invalid svg format\n"+g.message)}var n=new Ft["a"];n.add(i),n.isGeoSVGGraphicRoot=!0;var r=e.width,s=e.height,a=e.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,u=void 0,h=void 0,d=void 0;if(null!=r?(c=0,h=r):a&&(c=a.x,h=a.width),null!=s?(u=0,d=s):a&&(u=a.y,d=a.height),null==c||null==u){var p=i.getBoundingRect();null==c&&(c=p.x,h=p.width),null==u&&(u=p.y,d=p.height)}l=this._boundingRect=new ki["a"](c,u,h,d)}if(a){var f=Ci(a,l);i.scaleX=i.scaleY=f.scale,i.x=f.x,i.y=f.y}n.setClipPath(new bt["a"]({shape:l.plain()}));var m=[];return Object(o["k"])(e.named,(function(t){null!=Ri.get(t.svgNodeTagLower)&&(m.push(t),Ni(t.el))})),{root:n,boundingRect:l,named:m}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,i),i)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);i&&(e.removeKey(t),this._freedGraphics.push(i))},t}();function Ni(t){t.silent=!1,t.isGroup&&t.traverse((function(t){t.silent=!1}))}function Vi(t){var e=[],i=Object(o["g"])();return Object(o["k"])(t,(function(t){if(null==t.namedFrom){var n=new Bi(t.name,t.el);e.push(n),i.set(t.name,n)}})),{regions:e,regionsMap:i}}function $i(t){if(!t.UTF8Encoding)return t;var e=t,i=e.UTF8Scale;null==i&&(i=1024);for(var n=e.features,r=0;r<n.length;r++){var o=n[r],s=o.geometry;if("Polygon"===s.type)for(var a=s.coordinates,l=0;l<a.length;l++)a[l]=Ui(a[l],s.encodeOffsets[l],i);else if("MultiPolygon"===s.type)for(a=s.coordinates,l=0;l<a.length;l++)for(var c=a[l],u=0;u<c.length;u++)c[u]=Ui(c[u],s.encodeOffsets[l][u],i)}return e.UTF8Encoding=!1,e}function Ui(t,e,i){for(var n=[],r=e[0],o=e[1],s=0;s<t.length;s+=2){var a=t.charCodeAt(s)-64,l=t.charCodeAt(s+1)-64;a=a>>1^-(1&a),l=l>>1^-(1&l),a+=r,l+=o,r=a,o=l,n.push([a/i,l/i])}return n}function Gi(t,e){return t=$i(t),o["F"](o["n"](t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var i=t.properties,n=t.geometry,r=[];if("Polygon"===n.type){var s=n.coordinates;r.push({type:"polygon",exterior:s[0],interiors:s.slice(1)})}if("MultiPolygon"===n.type){s=n.coordinates;o["k"](s,(function(t){t[0]&&r.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}))}var a=new ji(i[e||"name"],r,i.cp);return a.properties=i,a}))}for(var qi=[126,25],Hi="南海诸岛",Wi=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Zi=0;Zi<Wi.length;Zi++)for(var Xi=0;Xi<Wi[Zi].length;Xi++)Wi[Zi][Xi][0]/=10.5,Wi[Zi][Xi][1]/=-14,Wi[Zi][Xi][0]+=qi[0],Wi[Zi][Xi][1]+=qi[1];function Yi(t,e){if("china"===t){for(var i=0;i<e.length;i++)if(e[i].name===Hi)return;e.push(new ji(Hi,o["F"](Wi,(function(t){return{type:"polygon",exterior:t}})),qi))}}var Ki={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function Ji(t,e){if("china"===t){var i=Ki[e.name];if(i){var n=e.getCenter();n[0]+=i[0]/10.5,n[1]+=-i[1]/14,e.setCenter(n)}}}var Qi={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function tn(t,e){if("world"===t){var i=Qi[e.name];if(i){var n=[i[0],i[1]];e.setCenter(n)}}}var en=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function nn(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:en[0]})}var rn="name",on=function(){function t(t,e,i){this.type="geoJSON",this._parsedMap=Object(o["g"])(),this._mapName=t,this._specialAreas=i,this._geoJSON=an(e)}return t.prototype.load=function(t,e){e=e||rn;var i=this._parsedMap.get(e);if(!i){var n=this._parseToRegions(e);i=this._parsedMap.set(e,{regions:n,boundingRect:sn(n)})}var r=Object(o["g"])(),s=[];return Object(o["k"])(i.regions,(function(e){var i=e.name;t&&t.hasOwnProperty(i)&&(e=e.cloneShallow(i=t[i])),s.push(e),r.set(i,e)})),{regions:s,boundingRect:i.boundingRect||new ki["a"](0,0,0,0),regionsMap:r}},t.prototype._parseToRegions=function(t){var e,i=this._mapName,n=this._geoJSON;try{e=n?Gi(n,t):[]}catch(r){throw new Error("Invalid geoJson format\n"+r.message)}return Yi(i,e),Object(o["k"])(e,(function(t){var e=t.name;Ji(i,t),tn(i,t),nn(i,t);var n=this._specialAreas&&this._specialAreas[e];n&&t.transformTo(n.left,n.top,n.width,n.height)}),this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function sn(t){for(var e,i=0;i<t.length;i++){var n=t[i].getBoundingRect();e=e||n.clone(),e.union(n)}return e}function an(t){return Object(o["A"])(t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var ln=Object(o["g"])(),cn={registerMap:function(t,e,i){if(e.svg){var n=new Fi(t,e.svg);ln.set(t,n)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?i=e.specialAreas:r=e;n=new on(t,r,i);ln.set(t,n)}},getGeoResource:function(t){return ln.get(t)},getMapForUser:function(t){var e=ln.get(t);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(t,e,i){var n=ln.get(t);if(n)return n.load(e,i)}},un=new c["a"],hn=un,dn="undefined"!==typeof window,pn=1,fn=800,mn=900,gn=1e3,yn=2e3,vn=5e3,_n=1e3,bn=1100,xn=2e3,wn=3e3,Sn=4e3,Tn=4500,Cn=4600,On=5e3,kn=6e3,An=7e3,In={PROCESSOR:{FILTER:gn,SERIES_FILTER:fn,STATISTIC:vn},VISUAL:{LAYOUT:_n,PROGRESSIVE_LAYOUT:bn,GLOBAL:xn,CHART:wn,POST_CHART_LAYOUT:Cn,COMPONENT:Sn,BRUSH:On,CHART_ITEM:Tn,ARIA:kn,DECAL:An}},En="__flagInMainProcess",Mn="__pendingUpdate",Dn="__needsUpdateStatus",Pn=/^[a-zA-Z0-9_]+$/,Ln="__connectUpdateStatus",zn=0,jn=1,Bn=2;function Rn(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(!this.isDisposed())return Nn(this,t,e);hr(this.id)}}function Fn(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Nn(this,t,e)}}function Nn(t,e,i){return i[0]=i[0]&&i[0].toLowerCase(),c["a"].prototype[e].apply(t,i)}var Vn,$n,Un,Gn,qn,Hn,Wn,Zn,Xn,Yn,Kn,Jn,Qn,tr,er,ir,nr,rr,or,sr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["a"])(e,t),e}(c["a"]),ar=sr.prototype;ar.on=Fn("on"),ar.off=Fn("off");var lr=function(t){function e(e,i,n){var s=t.call(this,new ye)||this;s._chartsViews=[],s._chartsMap={},s._componentsViews=[],s._componentsMap={},s._pendingActions=[],n=n||{},"string"===typeof i&&(i=yr[i]),s._dom=e;var a="canvas",c=!1,u=s._zr=r["a"](e,{renderer:n.renderer||a,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height,useDirtyRect:null==n.useDirtyRect?c:n.useDirtyRect});s._throttledZrFlush=Object(Ot["b"])(Object(o["c"])(u.flush,u),17),i=Object(o["d"])(i),i&&pt(i,!0),s._theme=i,s._locale=Object(Ce["b"])(n.locale||Ce["a"]),s._coordSysMgr=new j["a"];var h=s._api=ir(s);function d(t,e){return t.__prio-e.__prio}return Object(l["a"])(gr,d),Object(l["a"])(fr,d),s._scheduler=new ae(s,h,fr,gr),s._messageCenter=new sr,s._initEvents(),s.resize=Object(o["c"])(s.resize,s),u.animation.on("frame",s._onframe,s),Yn(u,s),Kn(u,s),Object(o["O"])(s),s}return Object(n["a"])(e,t),e.prototype._onframe=function(){if(!this._disposed){or(this);var t=this._scheduler;if(this[Mn]){var e=this[Mn].silent;this[En]=!0,Vn(this),Gn.update.call(this,null,this[Mn].updateParams),this._zr.flush(),this[En]=!1,this[Mn]=null,Zn.call(this,e),Xn.call(this,e)}else if(t.unfinished){var i=pn,n=this._model,r=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(n),t.performDataProcessorTasks(n),Hn(this,n),t.performVisualTasks(n),er(this,this._model,r,"remain",{}),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.setOption=function(t,e,i){if(this._disposed)hr(this.id);else{var n,r,s;if(Object(o["z"])(e)&&(i=e.lazyUpdate,n=e.silent,r=e.replaceMerge,s=e.transition,e=e.notMerge),this[En]=!0,!this._model||e){var a=new U(this._api),l=this._theme,c=this._model=new D;c.scheduler=this._scheduler,c.init(null,null,null,l,this._locale,a)}this._model.setOption(t,{replaceMerge:r},mr);var u={seriesTransition:s,optionChanged:!0};i?(this[Mn]={silent:n,updateParams:u},this[En]=!1,this.getZr().wakeUp()):(Vn(this),Gn.update.call(this,null,u),this._zr.flush(),this[Mn]=null,this[En]=!1,Zn.call(this,n),Xn.call(this,n))}},e.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||dn&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){if(a["a"].canvasSupported)return t=t||{},this._zr.painter.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.getSvgDataURL=function(){if(a["a"].svgSupported){var t=this._zr,e=t.storage.getDisplayList();return Object(o["k"])(e,(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){t=t||{};var e=t.excludeComponents,i=this._model,n=[],r=this;Object(o["k"])(e,(function(t){i.eachComponent({mainType:t},(function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)}))}));var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Object(o["k"])(n,(function(t){t.group.ignore=!1})),s}hr(this.id)},e.prototype.getConnectedDataURL=function(t){if(this._disposed)hr(this.id);else if(a["a"].canvasSupported){var e="svg"===t.type,i=this.group,n=Math.min,s=Math.max,l=1/0;if(br[i]){var c=l,u=l,h=-l,d=-l,p=[],f=t&&t.pixelRatio||this.getDevicePixelRatio();Object(o["k"])(_r,(function(r,a){if(r.group===i){var l=e?r.getZr().painter.getSvgDom().innerHTML:r.getRenderedCanvas(Object(o["d"])(t)),f=r.getDom().getBoundingClientRect();c=n(f.left,c),u=n(f.top,u),h=s(f.right,h),d=s(f.bottom,d),p.push({dom:l,left:f.left,top:f.top})}})),c*=f,u*=f,h*=f,d*=f;var m=h-c,g=d-u,y=Object(o["f"])(),v=r["a"](y,{renderer:e?"svg":"canvas"});if(v.resize({width:m,height:g}),e){var _="";return Object(o["k"])(p,(function(t){var e=t.left-c,i=t.top-u;_+='<g transform="translate('+e+","+i+')">'+t.dom+"</g>"})),v.painter.getSvgRoot().innerHTML=_,t.connectedBackgroundColor&&v.painter.setBackgroundColor(t.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}return t.connectedBackgroundColor&&v.add(new bt["a"]({shape:{x:0,y:0,width:m,height:g},style:{fill:t.connectedBackgroundColor}})),Object(o["k"])(p,(function(t){var e=new xt["a"]({style:{x:t.left*f-c,y:t.top*f-u,image:t.dom}});v.add(e)})),v.refreshImmediately(),y.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,e){return qn(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return qn(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){if(!this._disposed){var i,n=this._model,r=u["o"](n,t);return Object(o["k"])(r,(function(t,n){n.indexOf("Models")>=0&&Object(o["k"])(t,(function(t){var r=t.coordinateSystem;if(r&&r.containPoint)i=i||!!r.containPoint(e);else if("seriesModels"===n){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(i=i||o.containPoint(e,t))}else 0}),this)}),this),!!i}hr(this.id)},e.prototype.getVisual=function(t,e){var i=this._model,n=u["o"](i,t,{defaultMainType:"series"}),r=n.seriesModel;var o=r.getData(),s=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?o.indexOfRawIndex(n.dataIndex):null;return null!=s?be(o,s,e):xe(o,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;Object(o["k"])(ur,(function(e){var i=function(i){var n,r=t.getModel(),s=i.target,a="globalout"===e;if(a?n={}:s&&Object(Oe["a"])(s,(function(t){var e=Object(Tt["a"])(t);if(e&&null!=e.dataIndex){var i=e.dataModel||r.getSeriesByIndex(e.seriesIndex);return n=i&&i.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return n=Object(o["m"])({},e.eventData),!0}),!0),n){var l=n.componentType,c=n.componentIndex;"markLine"!==l&&"markPoint"!==l&&"markArea"!==l||(l="series",c=n.seriesIndex);var u=l&&null!=c&&r.getComponent(l,c),h=u&&t["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];0,n.event=i,n.type=e,t._$eventProcessor.eventInfo={targetEl:s,packedEvent:n,model:u,view:h},t.trigger(e,n)}};i.zrEventfulCallAtLast=!0,t._zr.on(e,i,t)})),Object(o["k"])(pr,(function(e,i){t._messageCenter.on(i,(function(t){this.trigger(i,t)}),t)})),Object(o["k"])(["selectchanged"],(function(e){t._messageCenter.on(e,(function(t){this.trigger(e,t)}),t)})),Se(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?hr(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)hr(this.id);else{this._disposed=!0,u["s"](this.getDom(),wr,"");var t=this,e=t._api,i=t._model;Object(o["k"])(t._componentsViews,(function(t){t.dispose(i,e)})),Object(o["k"])(t._chartsViews,(function(t){t.dispose(i,e)})),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete _r[t.id]}},e.prototype.resize=function(t){if(this._disposed)hr(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var i=e.resetOption("media"),n=t&&t.silent;this[Mn]&&(null==n&&(n=this[Mn].silent),i=!0,this[Mn]=null),this[En]=!0,i&&Vn(this),Gn.update.call(this,{type:"resize",animation:Object(o["m"])({duration:0},t&&t.animation)}),this[En]=!1,Zn.call(this,n),Xn.call(this,n)}}},e.prototype.showLoading=function(t,e){if(this._disposed)hr(this.id);else if(Object(o["z"])(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),vr[t]){var i=vr[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)}},e.prototype.hideLoading=function(){this._disposed?hr(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=Object(o["m"])({},t);return e.type=pr[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)hr(this.id);else if(Object(o["z"])(e)||(e={silent:!!e}),dr[t.type]&&this._model)if(this[En])this._pendingActions.push(t);else{var i=e.silent;Wn.call(this,t,i);var n=e.flush;n?this._zr.flush():!1!==n&&a["a"].browser.weChat&&this._throttledZrFlush(),Zn.call(this,i),Xn.call(this,i)}},e.prototype.updateLabelLayout=function(){hn.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)hr(this.id);else{var e=t.seriesIndex,i=this.getModel(),n=i.getSeriesByIndex(e);0,n.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){for(var e=[],i=t.currentStates,n=0;n<i.length;n++){var r=i[n];"emphasis"!==r&&"blur"!==r&&"select"!==r&&e.push(r)}t.selected&&t.states.select&&e.push("select"),t.hoverState===Ct["e"]&&t.states.emphasis?e.push("emphasis"):t.hoverState===Ct["d"]&&t.states.blur&&e.push("blur"),t.useStates(e)}function e(t,e){var i=t._zr,n=i.storage,r=0;n.traverse((function(t){t.isGroup||r++})),r>e.get("hoverLayerThreshold")&&!a["a"].node&&!a["a"].worker&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var i=t._chartsMap[e.__viewId];i.__alive&&i.group.traverse((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}function i(t,e){var i=t.get("blendMode")||null;e.group.traverse((function(t){t.isGroup||(t.style.blend=i),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.style.blend=i}))}))}function r(t,e){t.preventAutoZ||l(e.group,t.get("z")||0,t.get("zlevel")||0,-1/0)}function l(t,e,i,n){var r=t.getTextContent(),o=t.getTextGuideLine(),s=t.isGroup;if(s)for(var a=t.childrenRef(),c=0;c<a.length;c++)n=Math.max(l(a[c],e,i,n),n);else t.z=e,t.zlevel=i,n=Math.max(t.z2,n);if(r&&(r.z=e,r.zlevel=i,isFinite(n)&&(r.z2=n+2)),o){var u=t.textGuideLineConfig;o.z=e,o.zlevel=i,isFinite(n)&&(o.z2=n+(u&&u.showAbove?1:-1))}return n}function c(t,e){e.group.traverse((function(t){if(!wt["b"](t)){var e=t.getTextContent(),i=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),i&&i.stateTransition&&(i.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function h(e,i){var n=e.getModel("stateAnimation"),r=e.isAnimationEnabled(),o=n.get("duration"),s=o>0?{duration:o,delay:n.get("delay"),easing:n.get("easing")}:null;i.group.traverse((function(e){if(e.states&&e.states.emphasis){if(wt["b"](e))return;if(e instanceof St["b"]&&Object(Ct["B"])(e),e.__dirty){var i=e.prevStates;i&&e.useStates(i)}if(r){e.stateTransition=s;var n=e.getTextContent(),o=e.getTextGuideLine();n&&(n.stateTransition=s),o&&(o.stateTransition=s)}e.__dirty&&t(e)}}))}Vn=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),$n(t,!0),$n(t,!1),e.plan()},$n=function(t,e){for(var i=t._model,n=t._scheduler,r=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,s=t._zr,a=t._api,l=0;l<r.length;l++)r[l].__alive=!1;function c(t){var l=t.__requireNewView;t.__requireNewView=!1;var c="_ec_"+t.id+"_"+t.type,u=!l&&o[c];if(!u){var h=Object(ge["f"])(t.type),d=e?vt["a"].getClass(h.main,h.sub):_t["a"].getClass(h.sub);0,u=new d,u.init(i,a),o[c]=u,r.push(u),s.add(u.group)}t.__viewId=u.__id=c,u.__alive=!0,u.__model=t,u.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&n.prepareView(u,t,i,a)}e?i.eachComponent((function(t,e){"series"!==t&&c(e)})):i.eachSeries(c);for(l=0;l<r.length;){var u=r[l];u.__alive?l++:(!e&&u.renderTask.dispose(),s.remove(u.group),u.dispose(i,a),r.splice(l,1),o[u.__id]===u&&delete o[u.__id],u.__id=u.group.__ecComponentInfo=null)}},Un=function(t,e,i,n,r){var s=t._model;if(s.setUpdatePayload(i),n){var a={};a[n+"Id"]=i[n+"Id"],a[n+"Index"]=i[n+"Index"],a[n+"Name"]=i[n+"Name"];var l={mainType:n,query:a};r&&(l.subType=r);var c,h=i.excludeSeriesId;null!=h&&(c=Object(o["g"])(),Object(o["k"])(u["n"](h),(function(t){var e=u["c"](t,null);null!=e&&c.set(e,!0)}))),Object(Ct["w"])(i)&&Object(Ct["j"])(t._api),s&&s.eachComponent(l,(function(e){var n=c&&null!==c.get(e.id);if(!n)if(Object(Ct["w"])(i))if(e instanceof yt["a"])i.type!==Ct["c"]||i.notBlur||Object(Ct["l"])(e,i,t._api);else{var r=Object(Ct["q"])(e.mainType,e.componentIndex,i.name,t._api),s=r.focusSelf,a=r.dispatchers;i.type===Ct["c"]&&s&&!i.notBlur&&Object(Ct["k"])(e.mainType,e.componentIndex,t._api),a&&Object(o["k"])(a,(function(t){i.type===Ct["c"]?Object(Ct["o"])(t):Object(Ct["z"])(t)}))}else Object(Ct["x"])(i)&&e instanceof yt["a"]&&(Object(Ct["E"])(e,i,t._api),Object(Ct["F"])(e),rr(t))}),t),s&&s.eachComponent(l,(function(e){var i=c&&null!==c.get(e.id);i||d(t["series"===n?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else Object(o["k"])([].concat(t._componentsViews).concat(t._chartsViews),d);function d(n){n&&n.__alive&&n[e]&&n[e](n.__model,s,t._api,i)}},Gn={prepareAndUpdate:function(t){Vn(this),Gn.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(t,e){var i=this._model,n=this._api,r=this._zr,o=this._coordSysMgr,l=this._scheduler;if(i){i.setUpdatePayload(t),l.restoreData(i,t),l.performSeriesTasks(i),o.create(i,n),l.performDataProcessorTasks(i,t),Hn(this,i),o.update(i,n),Jn(i),l.performVisualTasks(i,t),Qn(this,i,n,t,e);var c=i.get("backgroundColor")||"transparent",u=i.get("darkMode");if(a["a"].canvasSupported)r.setBackgroundColor(c),null!=u&&"auto"!==u&&r.setDarkMode(u);else{var h=s["d"](c);c=s["e"](h,"rgb"),0===h[3]&&(c="transparent")}hn.trigger("afterupdate",i,n)}},updateTransform:function(t){var e=this,i=this._model,n=this._api;if(i){i.setUpdatePayload(t);var r=[];i.eachComponent((function(o,s){if("series"!==o){var a=e.getViewOfComponentModel(s);if(a&&a.__alive)if(a.updateTransform){var l=a.updateTransform(s,i,n,t);l&&l.update&&r.push(a)}else r.push(a)}}));var s=Object(o["g"])();i.eachSeries((function(r){var o=e._chartsMap[r.__viewId];if(o.updateTransform){var a=o.updateTransform(r,i,n,t);a&&a.update&&s.set(r.uid,1)}else s.set(r.uid,1)})),Jn(i),this._scheduler.performVisualTasks(i,t,{setDirty:!0,dirtyMap:s}),er(this,i,n,t,{},s),hn.trigger("afterupdate",i,n)}},updateView:function(t){var e=this._model;e&&(e.setUpdatePayload(t),_t["a"].markUpdateMethod(t,"updateView"),Jn(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),Qn(this,e,this._api,t,{}),hn.trigger("afterupdate",e,this._api))},updateVisual:function(t){var e=this,i=this._model;i&&(i.setUpdatePayload(t),i.eachSeries((function(t){t.getData().clearAllVisual()})),_t["a"].markUpdateMethod(t,"updateVisual"),Jn(i),this._scheduler.performVisualTasks(i,t,{visualType:"visual",setDirty:!0}),i.eachComponent((function(n,r){if("series"!==n){var o=e.getViewOfComponentModel(r);o&&o.__alive&&o.updateVisual(r,i,e._api,t)}})),i.eachSeries((function(n){var r=e._chartsMap[n.__viewId];r.updateVisual(n,i,e._api,t)})),hn.trigger("afterupdate",i,this._api))},updateLayout:function(t){Gn.update.call(this,t)}},qn=function(t,e,i,n){if(t._disposed)hr(t.id);else{for(var r,o=t._model,s=t._coordSysMgr.getCoordinateSystems(),a=u["o"](o,i),l=0;l<s.length;l++){var c=s[l];if(c[e]&&null!=(r=c[e](o,a,n)))return r}0}},Hn=function(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries((function(t){n.updateStreamModes(t,i[t.__viewId])}))},Wn=function(t,e){var i=this,n=this.getModel(),r=t.type,s=t.escapeConnect,a=dr[r],l=a.actionInfo,c=(l.update||"update").split(":"),h=c.pop(),d=null!=c[0]&&Object(ge["f"])(c[0]);this[En]=!0;var p=[t],f=!1;t.batch&&(f=!0,p=Object(o["F"])(t.batch,(function(e){return e=Object(o["j"])(Object(o["m"])({},e),t),e.batch=null,e})));var m,g=[],y=Object(Ct["x"])(t),v=Object(Ct["w"])(t);if(Object(o["k"])(p,(function(e){if(m=a.action(e,i._model,i._api),m=m||Object(o["m"])({},e),m.type=l.event||m.type,g.push(m),v){var n=u["p"](t),r=n.queryOptionMap,s=n.mainTypeSpecified,c=s?r.keys()[0]:"series";Un(i,h,e,c),rr(i)}else y?(Un(i,h,e,"series"),rr(i)):d&&Un(i,h,e,d.main,d.sub)})),"none"===h||v||y||d||(this[Mn]?(Vn(this),Gn.update.call(this,t),this[Mn]=null):Gn[h].call(this,t)),m=f?{type:l.event||r,escapeConnect:s,batch:g}:g[0],this[En]=!1,!e){var _=this._messageCenter;if(_.trigger(m.type,m),y){var b={type:"selectchanged",escapeConnect:s,selected:Object(Ct["r"])(n),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};_.trigger(b.type,b)}}},Zn=function(t){var e=this._pendingActions;while(e.length){var i=e.shift();Wn.call(this,i,t)}},Xn=function(t){!t&&this.trigger("updated")},Yn=function(t,e){t.on("rendered",(function(i){e.trigger("rendered",i),!t.animation.isFinished()||e[Mn]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))},Kn=function(t,e){t.on("mouseover",(function(t){var i=t.target,n=Object(Oe["a"])(i,Ct["v"]);n&&(Object(Ct["u"])(n,t,e._api),rr(e))})).on("mouseout",(function(t){var i=t.target,n=Object(Oe["a"])(i,Ct["v"]);n&&(Object(Ct["t"])(n,t,e._api),rr(e))})).on("click",(function(t){var i=t.target,n=Object(Oe["a"])(i,(function(t){return null!=Object(Tt["a"])(t).dataIndex}),!0);if(n){var r=n.selected?"unselect":"select",o=Object(Tt["a"])(n);e._api.dispatchAction({type:r,dataType:o.dataType,dataIndexInside:o.dataIndex,seriesIndex:o.seriesIndex,isFromClick:!0})}}))},Jn=function(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))},Qn=function(t,e,i,n,r){tr(t,e,i,n,r),Object(o["k"])(t._chartsViews,(function(t){t.__alive=!1})),er(t,e,i,n,r),Object(o["k"])(t._chartsViews,(function(t){t.__alive||t.remove(e,i)}))},tr=function(t,e,i,n,s,a){Object(o["k"])(a||t._componentsViews,(function(t){var o=t.__model;c(o,t),t.render(o,e,i,n),r(o,t),h(o,t)}))},er=function(t,n,s,a,l,u){var d=t._scheduler;l=Object(o["m"])(l||{},{updatedSeries:n.getSeries()}),hn.trigger("series:beforeupdate",n,s,l);var p=!1;n.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var r=n.renderTask;d.updatePayload(r,a),c(e,n),u&&u.get(e.uid)&&r.dirty(),r.perform(d.getPerformArgs(r))&&(p=!0),n.group.silent=!!e.get("silent"),i(e,n),Object(Ct["F"])(e)})),d.unfinished=p||d.unfinished,hn.trigger("series:layoutlabels",n,s,l),hn.trigger("series:transition",n,s,l),n.eachSeries((function(e){var i=t._chartsMap[e.__viewId];r(e,i),h(e,i)})),e(t,n),hn.trigger("series:afterupdate",n,s,l)},rr=function(t){t[Dn]=!0,t.getZr().wakeUp()},or=function(e){e[Dn]&&(e.getZr().storage.traverse((function(e){wt["b"](e)||t(e)})),e[Dn]=!1)},ir=function(t){return new(function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Object(n["a"])(i,e),i.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},i.prototype.getComponentByElement=function(e){while(e){var i=e.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);e=e.parent}},i.prototype.enterEmphasis=function(e,i){Object(Ct["o"])(e,i),rr(t)},i.prototype.leaveEmphasis=function(e,i){Object(Ct["z"])(e,i),rr(t)},i.prototype.enterBlur=function(e){Object(Ct["n"])(e),rr(t)},i.prototype.leaveBlur=function(e){Object(Ct["y"])(e),rr(t)},i.prototype.enterSelect=function(e){Object(Ct["p"])(e),rr(t)},i.prototype.leaveSelect=function(e){Object(Ct["A"])(e),rr(t)},i.prototype.getModel=function(){return t.getModel()},i.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},i.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},i}(z))(t)},nr=function(t){function e(t,e){for(var i=0;i<t.length;i++){var n=t[i];n[Ln]=e}}Object(o["k"])(pr,(function(i,n){t._messageCenter.on(n,(function(i){if(br[t.group]&&t[Ln]!==zn){if(i&&i.escapeConnect)return;var n=t.makeActionFromEvent(i),r=[];Object(o["k"])(_r,(function(e){e!==t&&e.group===t.group&&r.push(e)})),e(r,zn),Object(o["k"])(r,(function(t){t[Ln]!==jn&&t.dispatchAction(n)})),e(r,Bn)}}))}))}}(),e}(c["a"]),cr=lr.prototype;cr.on=Rn("on"),cr.off=Rn("off"),cr.one=function(t,e,i){var n=this;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e&&e.apply&&e.apply(this,i),n.off(t,r)}Object(S["a"])("ECharts#one is deprecated."),this.on.call(this,t,r,i)};var ur=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function hr(t){0}var dr={},pr={},fr=[],mr=[],gr=[],yr={},vr={},_r={},br={},xr=+new Date-0,wr=(new Date,"_echarts_instance_");function Sr(t,e,i){var n=Tr(t);if(n)return n;var r=new lr(t,e,i);return r.id="ec_"+xr++,_r[r.id]=r,u["s"](t,wr,r.id),nr(r),hn.trigger("afterinit",r),r}function Tr(t){return _r[u["e"](t,wr)]}function Cr(t,e){yr[t]=e}function Or(t){Object(o["q"])(mr,t)<0&&mr.push(t)}function kr(t,e){jr(fr,t,e,yn)}function Ar(t){Er("afterinit",t)}function Ir(t){Er("afterupdate",t)}function Er(t,e){hn.on(t,e)}function Mr(t,e,i){"function"===typeof e&&(i=e,e="");var n=Object(o["z"])(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,pr[e]||(Object(o["b"])(Pn.test(n)&&Pn.test(e)),dr[n]||(dr[n]={action:i,actionInfo:t}),pr[e]=n)}function Dr(t,e){j["a"].register(t,e)}function Pr(t,e){jr(gr,t,e,_n,"layout")}function Lr(t,e){jr(gr,t,e,wn,"visual")}var zr=[];function jr(t,e,i,n,r){if((Object(o["v"])(e)||Object(o["z"])(e))&&(i=e,e=n),!(Object(o["q"])(zr,i)>=0)){zr.push(i);var s=ae.wrapStageHandler(i,r);s.__prio=e,s.__raw=i,t.push(s)}}function Br(t,e){vr[t]=e}function Rr(t,e,i){cn.registerMap(t,e,i)}var Fr=Te["b"];Lr(xn,zt),Lr(Tn,Bt),Lr(Tn,Rt),Lr(xn,ve),Lr(Tn,_e),Lr(An,Ue),Or(pt),kr(mn,mt),Br("default",Ut),Mr({type:Ct["c"],event:Ct["c"],update:Ct["c"]},o["I"]),Mr({type:Ct["b"],event:Ct["b"],update:Ct["b"]},o["I"]),Mr({type:Ct["f"],event:Ct["f"],update:Ct["f"]},o["I"]),Mr({type:Ct["i"],event:Ct["i"],update:Ct["i"]},o["I"]),Mr({type:Ct["h"],event:Ct["h"],update:Ct["h"]},o["I"]),Cr("light",ce),Cr("dark",me)},"1c7e":function(t,e,i){var n=i("b622"),r=n("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var n={};n[r]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(l){}return i}},"1c87":function(t,e,i){"use strict";var n=i("2b0e"),r=i("5607"),o=i("80d2");e["a"]=n["a"].extend({name:"routable",directives:{Ripple:r["a"]},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactPath:Boolean,exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:()=>({isActive:!1,proxyClass:""}),computed:{classes(){const t={};return this.to||(this.activeClass&&(t[this.activeClass]=this.isActive),this.proxyClass&&(t[this.proxyClass]=this.isActive)),t},computedRipple(){var t;return null!=(t=this.ripple)?t:!this.disabled&&this.isClickable},isClickable(){return!this.disabled&&Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink(){return this.to||this.href||this.link},styles:()=>({})},watch:{$route:"onRouteChange"},methods:{click(t){this.$emit("click",t)},generateRouteLink(){let t,e=this.exact;const i={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}],[this.to?"nativeOn":"on"]:{...this.$listeners,click:this.click},ref:"link"};if("undefined"===typeof this.exact&&(e="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){let n=this.activeClass,r=this.exactActiveClass||n;this.proxyClass&&(n=`${n} ${this.proxyClass}`.trim(),r=`${r} ${this.proxyClass}`.trim()),t=this.nuxt?"nuxt-link":"router-link",Object.assign(i.props,{to:this.to,exact:e,exactPath:this.exactPath,activeClass:n,exactActiveClass:r,append:this.append,replace:this.replace})}else t=(this.href?"a":this.tag)||"div","a"===t&&this.href&&(i.attrs.href=this.href);return this.target&&(i.attrs.target=this.target),{tag:t,data:i}},onRouteChange(){if(!this.to||!this.$refs.link||!this.$route)return;const t=`${this.activeClass} ${this.proxyClass||""}`.trim(),e="_vnode.data.class."+t;this.$nextTick(()=>{Object(o["n"])(this.$refs.link,e)&&this.toggle()})},toggle:()=>{}}})},"1cdc":function(t,e,i){var n=i("342f");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},"1d2b":function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1da1":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("d3b7");function n(t,e,i,n,r,o,s){try{var a=t[o](s),l=a.value}catch(c){return void i(c)}a.done?e(l):Promise.resolve(l).then(n,r)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var s=t.apply(e,i);function a(t){n(s,r,o,a,l,"next",t)}function l(t){n(s,r,o,a,l,"throw",t)}a(void 0)}))}}},"1dde":function(t,e,i){var n=i("d039"),r=i("b622"),o=i("2d00"),s=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[],i=e.constructor={};return i[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1f39":function(t,e,i){"use strict";var n=i("6d8b"),r={},o=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var i=[];n["k"](r,(function(n,r){var o=n.create(t,e);i=i.concat(o||[])})),this._coordinateSystems=i},t.prototype.update=function(t,e){n["k"](this._coordinateSystems,(function(i){i.update&&i.update(t,e)}))},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){r[t]=e},t.get=function(t){return r[t]},t}();e["a"]=o},"20c8":function(t,e,i){"use strict";i.d(e,"b",(function(){return O}));var n=i("401b"),r=i("9850"),o=i("2cf4"),s=i("e263"),a=i("4a3f"),l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},c=[],u=[],h=[],d=[],p=[],f=[],m=Math.min,g=Math.max,y=Math.cos,v=Math.sin,_=Math.sqrt,b=Math.abs,x=Math.PI,w=2*x,S="undefined"!==typeof Float32Array,T=[];function C(t){var e=Math.round(t/x*1e8)/1e8;return e%2*x}function O(t,e){var i=C(t[0]);i<0&&(i+=w);var n=i-t[0],r=t[1];r+=n,!e&&r-i>=w?r=i+w:e&&i-r>=w?r=i-w:!e&&i>r?r=i+(w-C(i-r)):e&&i<r&&(r=i-(w-C(r-i))),t[0]=i,t[1]=r}var k=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,i){i=i||0,i>0&&(this._ux=b(i/o["e"]/t)||0,this._uy=b(i/o["e"]/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var i=b(t-this._xi),n=b(e-this._yi),r=i>this._ux||n>this._uy;if(this.addData(l.L,t,e),this._ctx&&r&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),r)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=i*i+n*n;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,i,n,r,o){return this._drawPendingPt(),this.addData(l.C,t,e,i,n,r,o),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,i,n,r,o):this._ctx.bezierCurveTo(t,e,i,n,r,o)),this._xi=r,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,i,n){return this._drawPendingPt(),this.addData(l.Q,t,e,i,n),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},t.prototype.arc=function(t,e,i,n,r,o){this._drawPendingPt(),T[0]=n,T[1]=r,O(T,o),n=T[0],r=T[1];var s=r-n;return this.addData(l.A,t,e,i,i,n,s,0,o?0:1),this._ctx&&this._ctx.arc(t,e,i,n,r,o),this._xi=y(r)*i+t,this._yi=v(r)*i+e,this},t.prototype.arcTo=function(t,e,i,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,i,n,r),this},t.prototype.rect=function(t,e,i,n){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,i,n),this.addData(l.R,t,e,i,n),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(l.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},t.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!S||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,r=0;r<e;r++)i+=t[r].len();S&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(r=0;r<e;r++)for(var o=t[r].data,s=0;s<o.length;s++)this.data[n++]=o[s];this._len=n},t.prototype.addData=function(t,e,i,n,r,o,s,a,l){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var u=0;u<arguments.length;u++)c[this._len++]=arguments[u]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype._dashedLineTo=function(t,e){var i,n,r=this._dashSum,o=this._lineDash,s=this._ctx,a=this._dashOffset,l=this._xi,c=this._yi,u=t-l,h=e-c,d=_(u*u+h*h),p=l,f=c,y=o.length;u/=d,h/=d,a<0&&(a=r+a),a%=r,p-=a*u,f-=a*h;while(u>0&&p<=t||u<0&&p>=t||0===u&&(h>0&&f<=e||h<0&&f>=e))n=this._dashIdx,i=o[n],p+=u*i,f+=h*i,this._dashIdx=(n+1)%y,u>0&&p<l||u<0&&p>l||h>0&&f<c||h<0&&f>c||s[n%2?"moveTo":"lineTo"](u>=0?m(p,t):g(p,t),h>=0?m(f,e):g(f,e));u=p-t,h=f-e,this._dashOffset=-_(u*u+h*h)},t.prototype._dashedBezierTo=function(t,e,i,n,r,o){var s,l,c,u,h,d=this._ctx,p=this._dashSum,f=this._dashOffset,m=this._lineDash,g=this._xi,y=this._yi,v=0,b=this._dashIdx,x=m.length,w=0;for(f<0&&(f=p+f),f%=p,s=0;s<1;s+=.1)l=Object(a["a"])(g,t,i,r,s+.1)-Object(a["a"])(g,t,i,r,s),c=Object(a["a"])(y,e,n,o,s+.1)-Object(a["a"])(y,e,n,o,s),v+=_(l*l+c*c);for(;b<x;b++)if(w+=m[b],w>f)break;s=(w-f)/v;while(s<=1)u=Object(a["a"])(g,t,i,r,s),h=Object(a["a"])(y,e,n,o,s),b%2?d.moveTo(u,h):d.lineTo(u,h),s+=m[b]/v,b=(b+1)%x;b%2!==0&&d.lineTo(r,o),l=r-u,c=o-h,this._dashOffset=-_(l*l+c*c)},t.prototype._dashedQuadraticTo=function(t,e,i,n){var r=i,o=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,r,o)},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,S&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){h[0]=h[1]=p[0]=p[1]=Number.MAX_VALUE,d[0]=d[1]=f[0]=f[1]=-Number.MAX_VALUE;var t,e=this.data,i=0,o=0,a=0,c=0;for(t=0;t<this._len;){var u=e[t++],m=1===t;switch(m&&(i=e[t],o=e[t+1],a=i,c=o),u){case l.M:i=a=e[t++],o=c=e[t++],p[0]=a,p[1]=c,f[0]=a,f[1]=c;break;case l.L:Object(s["c"])(i,o,e[t],e[t+1],p,f),i=e[t++],o=e[t++];break;case l.C:Object(s["b"])(i,o,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],p,f),i=e[t++],o=e[t++];break;case l.Q:Object(s["e"])(i,o,e[t++],e[t++],e[t],e[t+1],p,f),i=e[t++],o=e[t++];break;case l.A:var g=e[t++],_=e[t++],b=e[t++],x=e[t++],w=e[t++],S=e[t++]+w;t+=1;var T=!e[t++];m&&(a=y(w)*b+g,c=v(w)*x+_),Object(s["a"])(g,_,b,x,w,S,T,p,f),i=y(S)*b+g,o=v(S)*x+_;break;case l.R:a=i=e[t++],c=o=e[t++];var C=e[t++],O=e[t++];Object(s["c"])(a,c,a+C,c+O,p,f);break;case l.Z:i=a,o=c;break}n["i"](h,h,p),n["h"](d,d,f)}return 0===t&&(h[0]=h[1]=d[0]=d[1]=0),new r["a"](h[0],h[1],d[0]-h[0],d[1]-h[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,n=this._uy,r=0,o=0,s=0,c=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,h=0,d=0,p=0;p<e;){var f=t[p++],_=1===p;_&&(r=t[p],o=t[p+1],s=r,c=o);var x=-1;switch(f){case l.M:r=s=t[p++],o=c=t[p++];break;case l.L:var S=t[p++],T=t[p++],C=S-r,O=T-o;(b(C)>i||b(O)>n||p===e-1)&&(x=Math.sqrt(C*C+O*O),r=S,o=T);break;case l.C:var k=t[p++],A=t[p++],I=(S=t[p++],T=t[p++],t[p++]),E=t[p++];x=Object(a["d"])(r,o,k,A,S,T,I,E,10),r=I,o=E;break;case l.Q:k=t[p++],A=t[p++],S=t[p++],T=t[p++];x=Object(a["k"])(r,o,k,A,S,T,10),r=S,o=T;break;case l.A:var M=t[p++],D=t[p++],P=t[p++],L=t[p++],z=t[p++],j=t[p++],B=j+z;p+=1;t[p++];_&&(s=y(z)*P+M,c=v(z)*L+D),x=g(P,L)*m(w,Math.abs(j)),r=y(B)*P+M,o=v(B)*L+D;break;case l.R:s=r=t[p++],c=o=t[p++];var R=t[p++],F=t[p++];x=2*R+2*F;break;case l.Z:C=s-r,O=c-o;x=Math.sqrt(C*C+O*O),r=s,o=c;break}x>=0&&(u[d++]=x,h+=x)}return this._pathLen=h,h},t.prototype.rebuildPath=function(t,e){var i,n,r,o,s,h,d,p,f,_,x,w=this.data,S=this._ux,T=this._uy,C=this._len,O=e<1,k=0,A=0,I=0;if(!O||(this._pathSegLen||this._calculateLength(),d=this._pathSegLen,p=this._pathLen,f=e*p,f))t:for(var E=0;E<C;){var M=w[E++],D=1===E;switch(D&&(r=w[E],o=w[E+1],i=r,n=o),M!==l.L&&I>0&&(t.lineTo(_,x),I=0),M){case l.M:i=r=w[E++],n=o=w[E++],t.moveTo(r,o);break;case l.L:s=w[E++],h=w[E++];var P=b(s-r),L=b(h-o);if(P>S||L>T){if(O){var z=d[A++];if(k+z>f){var j=(f-k)/z;t.lineTo(r*(1-j)+s*j,o*(1-j)+h*j);break t}k+=z}t.lineTo(s,h),r=s,o=h,I=0}else{var B=P*P+L*L;B>I&&(_=s,x=h,I=B)}break;case l.C:var R=w[E++],F=w[E++],N=w[E++],V=w[E++],$=w[E++],U=w[E++];if(O){z=d[A++];if(k+z>f){j=(f-k)/z;Object(a["g"])(r,R,N,$,j,c),Object(a["g"])(o,F,V,U,j,u),t.bezierCurveTo(c[1],u[1],c[2],u[2],c[3],u[3]);break t}k+=z}t.bezierCurveTo(R,F,N,V,$,U),r=$,o=U;break;case l.Q:R=w[E++],F=w[E++],N=w[E++],V=w[E++];if(O){z=d[A++];if(k+z>f){j=(f-k)/z;Object(a["n"])(r,R,N,j,c),Object(a["n"])(o,F,V,j,u),t.quadraticCurveTo(c[1],u[1],c[2],u[2]);break t}k+=z}t.quadraticCurveTo(R,F,N,V),r=N,o=V;break;case l.A:var G=w[E++],q=w[E++],H=w[E++],W=w[E++],Z=w[E++],X=w[E++],Y=w[E++],K=!w[E++],J=H>W?H:W,Q=b(H-W)>.001,tt=Z+X,et=!1;if(O){z=d[A++];k+z>f&&(tt=Z+X*(f-k)/z,et=!0),k+=z}if(Q&&t.ellipse?t.ellipse(G,q,H,W,Y,Z,tt,K):t.arc(G,q,J,Z,tt,K),et)break t;D&&(i=y(Z)*H+G,n=v(Z)*W+q),r=y(tt)*H+G,o=v(tt)*W+q;break;case l.R:i=r=w[E],n=o=w[E+1],s=w[E++],h=w[E++];var it=w[E++],nt=w[E++];if(O){z=d[A++];if(k+z>f){var rt=f-k;t.moveTo(s,h),t.lineTo(s+m(rt,it),h),rt-=it,rt>0&&t.lineTo(s+it,h+m(rt,nt)),rt-=nt,rt>0&&t.lineTo(s+g(it-rt,0),h+nt),rt-=it,rt>0&&t.lineTo(s,h+g(nt-rt,0));break t}k+=z}t.rect(s,h,it,nt);break;case l.Z:if(O){z=d[A++];if(k+z>f){j=(f-k)/z;t.lineTo(r*(1-j)+i*j,o*(1-j)+n*j);break t}k+=z}t.closePath(),r=i,o=n}}},t.prototype.clone=function(){var e=new t,i=this.data;return e.data=i.slice?i.slice():Array.prototype.slice.call(i),e._len=this._len,e},t.CMD=l,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._needsDash=!1,e._dashOffset=0,e._dashIdx=0,e._dashSum=0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();e["a"]=k},"20f6":function(t,e,i){},"210b":function(t,e,i){},"217c":function(t,e,i){"use strict";i.d(e,"c",(function(){return h})),i.d(e,"b",(function(){return m})),i.d(e,"e",(function(){return w})),i.d(e,"d",(function(){return S})),i.d(e,"a",(function(){return T}));var n=i("eda2"),r=i("6d8b"),o=i("b7d9"),s=i("3842"),a="line-height:1";function l(t,e){var i=t.color||"#6e7079",r=t.fontSize||12,o=t.fontWeight||"400",s=t.color||"#464646",a=t.fontSize||14,l=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+Object(n["c"])(r+"")+"px;color:"+Object(n["c"])(i)+";font-weight:"+Object(n["c"])(o+""),valueStyle:"font-size:"+Object(n["c"])(a+"")+"px;color:"+Object(n["c"])(s)+";font-weight:"+Object(n["c"])(l+"")}:{nameStyle:{fontSize:r,fill:i,fontWeight:o},valueStyle:{fontSize:a,fill:s,fontWeight:l}}}var c=[0,10,20,30],u=["","\n","\n\n","\n\n\n"];function h(t,e){return e.type=t,e}function d(t){return Object(r["p"])(p,t.type)&&p[t.type]}var p={section:{planLayout:function(t){var e=t.blocks.length,i=e>1||e>0&&!t.noHeader,n=0;Object(r["k"])(t.blocks,(function(t){d(t).planLayout(t);var e=t.__gapLevelBetweenSubBlocks;e>=n&&(n=e+(!i||e&&("section"!==t.type||t.noHeader)?0:1))})),t.__gapLevelBetweenSubBlocks=n},build:function(t,e,i,r){var o=e.noHeader,s=g(e),c=f(t,e,o?i:s.html,r);if(o)return c;var u=Object(n["f"])(e.header,"ordinal",t.useUTC),h=l(r,t.renderMode).nameStyle;return"richText"===t.renderMode?b(t,u,h)+s.richText+c:y('<div style="'+h+";"+a+';">'+Object(n["c"])(u)+"</div>"+c,i)}},nameValue:{planLayout:function(t){t.__gapLevelBetweenSubBlocks=0},build:function(t,e,i,o){var s=t.renderMode,a=e.noName,c=e.noValue,u=!e.markerType,h=e.name,d=e.value,p=t.useUTC;if(!a||!c){var f=u?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",s),m=a?"":Object(n["f"])(h,"ordinal",p),g=e.valueType,w=c?[]:Object(r["s"])(d)?Object(r["F"])(d,(function(t,e){return Object(n["f"])(t,Object(r["s"])(g)?g[e]:g,p)})):[Object(n["f"])(d,Object(r["s"])(g)?g[0]:g,p)],S=!u||!a,T=!u&&a,C=l(o,s),O=C.nameStyle,k=C.valueStyle;return"richText"===s?(u?"":f)+(a?"":b(t,m,O))+(c?"":x(t,w,S,T,k)):y((u?"":f)+(a?"":v(m,!u,O))+(c?"":_(w,S,T,k)),i)}}}};function f(t,e,i,n){var s=[],a=e.blocks||[];Object(r["b"])(!a||Object(r["s"])(a)),a=a||[];var l=t.orderMode;if(e.sortBlocks&&l){a=a.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Object(r["p"])(c,l)){var u=new o["a"](c[l],null);a.sort((function(t,e){return u.evaluate(t.sortParam,e.sortParam)}))}else"seriesDesc"===l&&a.reverse()}var h=g(e);if(Object(r["k"])(a,(function(e,i){var r=d(e).build(t,e,i>0?h.html:0,n);null!=r&&s.push(r)})),s.length)return"richText"===t.renderMode?s.join(h.richText):y(s.join(""),i)}function m(t,e,i,n,r,o){if(t){var s=d(t);s.planLayout(t);var a={useUTC:r,renderMode:i,orderMode:n,markupStyleCreator:e};return s.build(a,t,0,o)}}function g(t){var e=t.__gapLevelBetweenSubBlocks;return{html:c[e],richText:u[e]}}function y(t,e){var i='<div style="clear:both"></div>',n="margin: "+e+"px 0 0";return'<div style="'+n+";"+a+';">'+t+i+"</div>"}function v(t,e,i){var r=e?"margin-left:2px":"";return'<span style="'+i+";"+r+'">'+Object(n["c"])(t)+"</span>"}function _(t,e,i,o){var s=i?"10px":"20px",a=e?"float:right;margin-left:"+s:"";return'<span style="'+a+";"+o+'">'+Object(r["F"])(t,(function(t){return Object(n["c"])(t)})).join("&nbsp;&nbsp;")+"</span>"}function b(t,e,i){return t.markupStyleCreator.wrapRichTextStyle(e,i)}function x(t,e,i,n,r){var o=[r],s=n?10:20;return i&&o.push({padding:[0,0,0,s],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(e.join("  "),o)}function w(t,e){var i=t.getData().getItemVisual(e,"style"),r=i[t.visualDrawType];return Object(n["b"])(r)}function S(t,e){var i=t.get("padding");return null!=i?i:"richText"===e?[8,10]:10}var T=function(){function t(){this.richTextStyles={},this._nextStyleNameId=Object(s["e"])()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,i){var o="richText"===i?this._generateStyleName():null,s=Object(n["e"])({color:e,type:t,renderMode:i,markerId:o});return Object(r["A"])(s)?s:(this.richTextStyles[o]=s.style,s.content)},t.prototype.wrapRichTextStyle=function(t,e){var i={};Object(r["s"])(e)?Object(r["k"])(e,(function(t){return Object(r["m"])(i,t)})):Object(r["m"])(i,e);var n=this._generateStyleName();return this.richTextStyles[n]=i,"{"+n+"|"+t+"}"},t}()},"21a1":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},n(t,e)};function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}Object.create;Object.create},"21be":function(t,e,i){"use strict";var n=i("2b0e"),r=i("80d2");e["a"]=n["a"].extend().extend({name:"stackable",data(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex(){if("undefined"===typeof window)return 0;const t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:Object(r["r"])(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex(t=[]){const e=this.$el,i=[this.stackMinZIndex,Object(r["r"])(e)],n=[...document.getElementsByClassName("v-menu__content--active"),...document.getElementsByClassName("v-dialog__content--active")];for(let o=0;o<n.length;o++)t.includes(n[o])||i.push(Object(r["r"])(n[o]));return Math.max(...i)}}})},2266:function(t,e,i){var n=i("825a"),r=i("e95a"),o=i("50c4"),s=i("0366"),a=i("9a1f"),l=i("35a1"),c=i("2a62"),u=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,i){var h,d,p,f,m,g,y,v=i&&i.that,_=!(!i||!i.AS_ENTRIES),b=!(!i||!i.IS_ITERATOR),x=!(!i||!i.INTERRUPTED),w=s(e,v,1+_+x),S=function(t){return h&&c(h,"normal",t),new u(!0,t)},T=function(t){return _?(n(t),x?w(t[0],t[1],S):w(t[0],t[1])):x?w(t,S):w(t)};if(b)h=t;else{if(d=l(t),!d)throw TypeError(String(t)+" is not iterable");if(r(d)){for(p=0,f=o(t.length);f>p;p++)if(m=T(t[p]),m&&m instanceof u)return m;return new u(!1)}h=a(t,d)}g=h.next;while(!(y=g.call(h)).done){try{m=T(y.value)}catch(C){c(h,"throw",C)}if("object"==typeof m&&m&&m instanceof u)return m}return new u(!1)}},"22b4":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("1be7"),r=i("b12f"),o=i("e887"),s=i("6cb7"),a=i("4f85"),l=i("6d8b"),c=i("697e7"),u=[],h={registerPreprocessor:n["j"],registerProcessor:n["k"],registerPostInit:n["h"],registerPostUpdate:n["i"],registerUpdateLifecycle:n["m"],registerAction:n["c"],registerCoordinateSystem:n["d"],registerLayout:n["e"],registerVisual:n["n"],registerTransform:n["l"],registerLoading:n["f"],registerMap:n["g"],PRIORITY:n["a"],ComponentModel:s["a"],ComponentView:r["a"],SeriesModel:a["a"],ChartView:o["a"],registerComponentModel:function(t){s["a"].registerClass(t)},registerComponentView:function(t){r["a"].registerClass(t)},registerSeriesModel:function(t){a["a"].registerClass(t)},registerChartView:function(t){o["a"].registerClass(t)},registerSubTypeDefaulter:function(t,e){s["a"].registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Object(c["b"])(t,e)}};function d(t){Object(l["s"])(t)?Object(l["k"])(t,(function(t){d(t)})):Object(l["q"])(u,t)>=0||(u.push(t),Object(l["v"])(t)&&(t={install:t}),t.install(h))}},"22d1":function(t,e,i){"use strict";var n=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),r=function(){function t(){this.browser=new n,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1}return t}(),o=new r;function s(t,e){var i=e.browser,n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(t);n&&(i.firefox=!0,i.version=n[1]),r&&(i.ie=!0,i.version=r[1]),o&&(i.edge=!0,i.version=o[1],i.newEdge=+o[1].split(".")[0]>18),s&&(i.weChat=!0),e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!==typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge,e.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&&+i.version>=11),e.domSupported="undefined"!==typeof document;var a=document.documentElement.style;e.transform3dSupported=(i.ie&&"transition"in a||i.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in a)&&!("OTransition"in a),e.transformSupported=e.transform3dSupported||i.ie&&+i.version>=9}"object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?(o.wxa=!0,o.canvasSupported=!0,o.touchEventsSupported=!0):"undefined"===typeof document&&"undefined"!==typeof self?(o.worker=!0,o.canvasSupported=!0):"undefined"===typeof navigator?(o.node=!0,o.canvasSupported=!0,o.svgSupported=!0):s(navigator.userAgent,o),e["a"]=o},2306:function(t,e,i){"use strict";i.r(e),i.d(e,"updateProps",(function(){return N["f"]})),i.d(e,"initProps",(function(){return N["a"]})),i.d(e,"removeElement",(function(){return N["c"]})),i.d(e,"removeElementWithFadeOut",(function(){return N["d"]})),i.d(e,"isElementRemoved",(function(){return N["b"]})),i.d(e,"extendShape",(function(){return G})),i.d(e,"extendPath",(function(){return H})),i.d(e,"registerShape",(function(){return W})),i.d(e,"getShapeClass",(function(){return Z})),i.d(e,"makePath",(function(){return X})),i.d(e,"makeImage",(function(){return Y})),i.d(e,"mergePath",(function(){return J})),i.d(e,"resizePath",(function(){return Q})),i.d(e,"subPixelOptimizeLine",(function(){return tt})),i.d(e,"subPixelOptimizeRect",(function(){return et})),i.d(e,"subPixelOptimize",(function(){return it})),i.d(e,"getTransform",(function(){return nt})),i.d(e,"applyTransform",(function(){return rt})),i.d(e,"transformDirection",(function(){return ot})),i.d(e,"groupTransition",(function(){return lt})),i.d(e,"clipPointsByRect",(function(){return ct})),i.d(e,"clipRectByRect",(function(){return ut})),i.d(e,"createIcon",(function(){return ht})),i.d(e,"linePolygonIntersect",(function(){return dt})),i.d(e,"lineLineIntersect",(function(){return pt})),i.d(e,"setTooltipConfig",(function(){return gt})),i.d(e,"Group",(function(){return c["a"]})),i.d(e,"Image",(function(){return l["a"]})),i.d(e,"Text",(function(){return u["a"]})),i.d(e,"Circle",(function(){return h["a"]})),i.d(e,"Ellipse",(function(){return d["a"]})),i.d(e,"Sector",(function(){return p["a"]})),i.d(e,"Ring",(function(){return y})),i.d(e,"Polygon",(function(){return v["a"]})),i.d(e,"Polyline",(function(){return _["a"]})),i.d(e,"Rect",(function(){return b["a"]})),i.d(e,"Line",(function(){return x["a"]})),i.d(e,"BezierCurve",(function(){return k})),i.d(e,"Arc",(function(){return A["a"]})),i.d(e,"IncrementalDisplayable",(function(){return j["a"]})),i.d(e,"CompoundPath",(function(){return E})),i.d(e,"LinearGradient",(function(){return M["a"]})),i.d(e,"RadialGradient",(function(){return D["a"]})),i.d(e,"BoundingRect",(function(){return P["a"]})),i.d(e,"OrientedBoundingRect",(function(){return L["a"]})),i.d(e,"Point",(function(){return z["a"]})),i.d(e,"Path",(function(){return s["b"]}));var n=i("342d"),r=i("1687"),o=i("401b"),s=i("cbe5"),a=i("8582"),l=i("0da8"),c=i("2dc5"),u=i("76a5"),h=i("d9fc"),d=i("ae69"),p=i("4aa2"),f=i("21a1"),m=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),g=function(t){function e(e){return t.call(this,e)||this}return Object(f["a"])(e,t),e.prototype.getDefaultShape=function(){return new m},e.prototype.buildPath=function(t,e){var i=e.cx,n=e.cy,r=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,r,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,r,!0)},e}(s["b"]);g.prototype.type="ring";var y=g,v=i("87b1"),_=i("d498"),b=i("c7a2"),x=i("cb11"),w=i("4a3f"),S=[],T=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function C(t,e,i){var n=t.cpx2,r=t.cpy2;return null===n||null===r?[(i?w["b"]:w["a"])(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?w["b"]:w["a"])(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?w["i"]:w["h"])(t.x1,t.cpx1,t.x2,e),(i?w["i"]:w["h"])(t.y1,t.cpy1,t.y2,e)]}var O=function(t){function e(e){return t.call(this,e)||this}return Object(f["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new T},e.prototype.buildPath=function(t,e){var i=e.x1,n=e.y1,r=e.x2,o=e.y2,s=e.cpx1,a=e.cpy1,l=e.cpx2,c=e.cpy2,u=e.percent;0!==u&&(t.moveTo(i,n),null==l||null==c?(u<1&&(Object(w["n"])(i,s,r,u,S),s=S[1],r=S[2],Object(w["n"])(n,a,o,u,S),a=S[1],o=S[2]),t.quadraticCurveTo(s,a,r,o)):(u<1&&(Object(w["g"])(i,s,l,r,u,S),s=S[1],l=S[2],r=S[3],Object(w["g"])(n,a,c,o,u,S),a=S[1],c=S[2],o=S[3]),t.bezierCurveTo(s,a,l,c,r,o)))},e.prototype.pointAt=function(t){return C(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=C(this.shape,t,!0);return o["j"](e,e)},e}(s["b"]);O.prototype.type="bezier-curve";var k=O,A=i("8d32"),I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return Object(f["a"])(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),i=0;i<t.length;i++)e=e||t[i].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),s["b"].prototype.getBoundingRect.call(this)},e}(s["b"]),E=I,M=i("48a9"),D=i("dded"),P=i("9850"),L=i("ca80"),z=i("dce8"),j=i("392f"),B=i("9cf9"),R=i("6d8b"),F=i("861c"),N=i("deab"),V=Math.max,$=Math.min,U={};function G(t){return s["b"].extend(t)}var q=n["b"];function H(t,e){return q(t,e)}function W(t,e){U[t]=e}function Z(t){if(U.hasOwnProperty(t))return U[t]}function X(t,e,i,r){var o=n["a"](t,e);return i&&("center"===r&&(i=K(i,o.getBoundingRect())),Q(o,i)),o}function Y(t,e,i){var n=new l["a"]({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===i){var r={width:t.width,height:t.height};n.setStyle(K(e,r))}}});return n}function K(t,e){var i,n=e.width/e.height,r=t.height*n;r<=t.width?i=t.height:(r=t.width,i=r/n);var o=t.x+t.width/2,s=t.y+t.height/2;return{x:o-r/2,y:s-i/2,width:r,height:i}}var J=n["c"];function Q(t,e){if(t.applyTransform){var i=t.getBoundingRect(),n=i.calculateTransform(e);t.applyTransform(n)}}function tt(t){return B["b"](t.shape,t.shape,t.style),t}function et(t){return B["c"](t.shape,t.shape,t.style),t}var it=B["a"];function nt(t,e){var i=r["c"]([]);while(t&&t!==e)r["e"](i,t.getLocalTransform(),i),t=t.parent;return i}function rt(t,e,i){return e&&!Object(R["t"])(e)&&(e=a["a"].getLocalTransform(e)),i&&(e=r["d"]([],e)),o["b"]([],t,e)}function ot(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-n:"right"===t?n:0,"top"===t?-r:"bottom"===t?r:0];return o=rt(o,e,i),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function st(t){return!t.isGroup}function at(t){return null!=t.shape}function lt(t,e,i){if(t&&e){var n=r(t);e.traverse((function(t){if(st(t)&&t.anid){var e=n[t.anid];if(e){var r=o(t);t.attr(o(e)),Object(N["f"])(t,r,i,Object(F["a"])(t).dataIndex)}}}))}function r(t){var e={};return t.traverse((function(t){st(t)&&t.anid&&(e[t.anid]=t)})),e}function o(t){var e={x:t.x,y:t.y,rotation:t.rotation};return at(t)&&(e.shape=Object(R["m"])({},t.shape)),e}}function ct(t,e){return Object(R["F"])(t,(function(t){var i=t[0];i=V(i,e.x),i=$(i,e.x+e.width);var n=t[1];return n=V(n,e.y),n=$(n,e.y+e.height),[i,n]}))}function ut(t,e){var i=V(t.x,e.x),n=$(t.x+t.width,e.x+e.width),r=V(t.y,e.y),o=$(t.y+t.height,e.y+e.height);if(n>=i&&o>=r)return{x:i,y:r,width:n-i,height:o-r}}function ht(t,e,i){var n=Object(R["m"])({rectHover:!0},e),r=n.style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),Object(R["j"])(r,i),new l["a"](n)):X(t.replace("path://",""),n,i,"center")}function dt(t,e,i,n,r){for(var o=0,s=r[r.length-1];o<r.length;o++){var a=r[o];if(pt(t,e,i,n,a[0],a[1],s[0],s[1]))return!0;s=a}}function pt(t,e,i,n,r,o,s,a){var l=i-t,c=n-e,u=s-r,h=a-o,d=ft(u,h,l,c);if(mt(d))return!1;var p=t-r,f=e-o,m=ft(p,f,l,c)/d;if(m<0||m>1)return!1;var g=ft(p,f,u,h)/d;return!(g<0||g>1)}function ft(t,e,i,n){return t*n-i*e}function mt(t){return t<=1e-6&&t>=-1e-6}function gt(t){var e=t.itemTooltipOption,i=t.componentModel,n=t.itemName,r=Object(R["A"])(e)?{formatter:e}:e,o=i.mainType,s=i.componentIndex,a={componentType:o,name:n,$vars:["name"]};a[o+"Index"]=s;var l=t.formatterParamsExtra;l&&Object(R["k"])(Object(R["D"])(l),(function(t){Object(R["p"])(a,t)||(a[t]=l[t],a.$vars.push(t))}));var c=Object(F["a"])(t.el);c.componentMainType=o,c.componentIndex=s,c.tooltipConfig={name:n,option:Object(R["j"])({content:n,formatterParams:a},r)}}W("circle",h["a"]),W("ellipse",d["a"]),W("sector",p["a"]),W("ring",y),W("polygon",v["a"]),W("polyline",_["a"]),W("rect",b["a"]),W("line",x["a"]),W("bezierCurve",k),W("arc",A["a"])},"23a7":function(t,e,i){"use strict";i("5803");var n=i("8654"),r=n["a"],o=i("cc20"),s=i("80d2"),a=i("d9bd"),l=i("d9f7");e["a"]=r.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:t=>"boolean"===typeof t||[1e3,1024].includes(t)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:t=>Object(s["B"])(t).every(t=>null!=t&&"object"===typeof t)}},computed:{classes(){return{...r.options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);const e=this.internalArrayValue.reduce((t,{size:e=0})=>t+e,0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(s["s"])(e,1024===this.base))},internalArrayValue(){return Object(s["B"])(this.internalValue)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map(t=>{const{name:e="",size:i=0}=t,n=this.truncateText(e);return this.showSize?`${n} (${Object(s["s"])(i,1024===this.base)})`:n}):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(t){!0===t&&Object(a["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value(t){const e=this.multiple?t:t?[t]:[];Object(s["j"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map((t,e)=>this.$createElement(o["a"],{props:{small:this.smallChips},on:{"click:close":()=>{const t=this.internalValue;t.splice(e,1),this.internalValue=t}}},[t])):[]},genControl(){const t=r.options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(l["c"])(t.data.style,{display:"none"})),t},genInput(){const t=r.options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot(){if(!this.prependIcon)return null;const t=this.genIcon("prepend",()=>{this.$refs.input.click()});return this.genSlot("prepend","outer",[t])},genSelectionText(){const t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections(){const t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((e,i)=>{this.$scopedSlots.selection&&t.push(this.$scopedSlots.selection({text:this.text[i],file:e,index:i}))}):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot(){const t=r.options.methods.genTextFieldSlot.call(this);return t.data.on={...t.data.on||{},click:()=>this.$refs.input.click()},t},onInput(t){const e=[...t.target.files||[]];this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown(t){this.$emit("keydown",t)},truncateText(t){if(t.length<Number(this.truncateLength))return t;const e=Math.floor((Number(this.truncateLength)-1)/2);return`${t.slice(0,e)}…${t.slice(t.length-e)}`}}})},"23cb":function(t,e,i){var n=i("a691"),r=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):o(i,e)}},"23e7":function(t,e,i){var n=i("da84"),r=i("06cf").f,o=i("9112"),s=i("6eeb"),a=i("ce4e"),l=i("e893"),c=i("94ca");t.exports=function(t,e){var i,u,h,d,p,f,m=t.target,g=t.global,y=t.stat;if(u=g?n:y?n[m]||a(m,{}):(n[m]||{}).prototype,u)for(h in e){if(p=e[h],t.noTargetGet?(f=r(u,h),d=f&&f.value):d=u[h],i=c(g?h:m+(y?".":"#")+h,t.forced),!i&&void 0!==d){if(typeof p===typeof d)continue;l(p,d)}(t.sham||d&&d.sham)&&o(p,"sham",!0),s(u,h,p,t)}}},"241c":function(t,e,i){var n=i("ca84"),r=i("7839"),o=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},2444:function(t,e,i){"use strict";(function(e){var n=i("c532"),r=i("c8af"),o=i("387f"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function l(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=i("b50d")),t}function c(t,e,i){if(n.isString(t))try{return(e||JSON.parse)(t),n.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(i||JSON.stringify)(t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:l(),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)||e&&"application/json"===e["Content-Type"]?(a(e,"application/json"),c(t)):t}],transformResponse:[function(t){var e=this.transitional,i=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,s=!i&&"json"===this.responseType;if(s||r&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(s){if("SyntaxError"===a.name)throw o(a,this,"E_JSON_PARSE");throw a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){u.headers[t]=n.merge(s)})),t.exports=u}).call(this,i("4362"))},"24b2":function(t,e,i){"use strict";var n=i("80d2"),r=i("2b0e");e["a"]=r["a"].extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles(){const t={},e=Object(n["g"])(this.height),i=Object(n["g"])(this.minHeight),r=Object(n["g"])(this.minWidth),o=Object(n["g"])(this.maxHeight),s=Object(n["g"])(this.maxWidth),a=Object(n["g"])(this.width);return e&&(t.height=e),i&&(t.minHeight=i),r&&(t.minWidth=r),o&&(t.maxHeight=o),s&&(t.maxWidth=s),a&&(t.width=a),t}}})},"25a8":function(t,e,i){},"25f0":function(t,e,i){"use strict";var n=i("5e77").PROPER,r=i("6eeb"),o=i("825a"),s=i("577e"),a=i("d039"),l=i("ad6d"),c="toString",u=RegExp.prototype,h=u[c],d=a((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),p=n&&h.name!=c;(d||p)&&r(RegExp.prototype,c,(function(){var t=o(this),e=s(t.source),i=t.flags,n=s(void 0===i&&t instanceof RegExp&&!("flags"in u)?l.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},2626:function(t,e,i){"use strict";var n=i("d066"),r=i("9bf2"),o=i("b622"),s=i("83ab"),a=o("species");t.exports=function(t){var e=n(t),i=r.f;s&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},"282b":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("6d8b");function r(t,e){for(var i=0;i<t.length;i++)t[i][1]||(t[i][1]=t[i][0]);return e=e||!1,function(i,r,o){for(var s={},a=0;a<t.length;a++){var l=t[a][1];if(!(r&&n["q"](r,l)>=0||o&&n["q"](o,l)<0)){var c=i.getShallow(l,e);null!=c&&(s[t[a][0]]=c)}}return s}}},2877:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}i.d(e,"a",(function(){return n}))},2909:function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function r(t){if(Array.isArray(t))return n(t)}i.d(e,"a",(function(){return l}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}i("fb6a"),i("b0c0");function s(t,e){if(t){if("string"===typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return r(t)||o(t)||s(t)||a()}},"297c":function(t,e,i){"use strict";var n=i("2b0e"),r=(i("6ece"),i("0789")),o=i("90a2"),s=i("a9ad"),a=i("fe6c"),l=i("a452"),c=i("7560"),u=i("80d2"),h=i("58df");const d=Object(h["a"])(s["a"],Object(a["b"])(["absolute","fixed","top","bottom"]),l["a"],c["a"]);var p=d.extend({name:"v-progress-linear",directives:{intersect:o["a"]},props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data(){return{internalLazyValue:this.value||0,isVisible:!0}},computed:{__cachedBackground(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(u["g"])(this.normalizedValue,"%")}}))},__cachedIndeterminate(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(u["g"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle(){const t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{opacity:t,[this.isReversed?"right":"left"]:Object(u["g"])(this.normalizedValue,"%"),width:Object(u["g"])(Math.max(0,this.normalizedBuffer-this.normalizedValue),"%")}},classes(){return{"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,"v-progress-linear--visible":this.isVisible,...this.themeClasses}},computedTransition(){return this.indeterminate?r["c"]:r["e"]},isReversed(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer(){return this.normalize(this.bufferValue)},normalizedValue(){return this.normalize(this.internalLazyValue)},reactive(){return Boolean(this.$listeners.change)},styles(){const t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(u["g"])(this.normalizedBuffer,"%")),t}},methods:{genContent(){const t=Object(u["p"])(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners(){const t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:{[t]:!0}}))},onClick(t){if(!this.reactive)return;const{width:e}=this.$el.getBoundingClientRect();this.internalValue=t.offsetX/e*100},onObserve(t,e,i){this.isVisible=i},normalize(t){return t<0?0:t>100?100:parseFloat(t)}},render(t){const e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:{bottom:this.bottom?0:void 0,height:this.active?Object(u["g"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),f=p;e["a"]=n["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(f,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"297cd":function(t,e,i){"use strict";var n=i("a066"),r=i("9dc5");function o(t){r.call(this,t)}function s(t){return new o(t)}o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.sendRequest=n.browserSend,o.prototype.abortRequest=n.browserAbort,t.exports=s},"2a62":function(t,e,i){var n=i("825a"),r=i("dc4a");t.exports=function(t,e,i){var o,s;n(t);try{if(o=r(t,"return"),!o){if("throw"===e)throw i;return i}o=o.call(t)}catch(a){s=!0,o=a}if("throw"===e)throw i;if(s)throw o;return n(o),i}},"2a7f":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("71d9"),r=i("80d2");const o=Object(r["i"])("v-toolbar__title"),s=Object(r["i"])("v-toolbar__items");n["a"]},"2ad4":function(t,e,i){"use strict";(function(e){var n=i("53a8"),r=i("a62b");function o(t){if("undefined"!==typeof window){if(t instanceof e.Blob||t instanceof e.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!==typeof t&&void 0===t.pipe)return"Filename or Readable stream"}function s(t,e){return r.assert(r.strictShape(t),e)}function a(t){var e="date";if("boolean"===typeof t)return e;try{var i=new Date(t);if(i.getTime&&isNaN(i.getTime()))return e}catch(n){return e}}function l(t){return r.tuple(r.number,r.number)(t)}t.exports=n(r,{file:o,date:a,coordinates:l,assertShape:s})}).call(this,i("c8ba"))},"2b0e":function(t,e,i){"use strict";(function(t){
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function n(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function o(t){return!0===t}function s(t){return!1===t}function a(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function l(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function u(t){return"[object Object]"===c.call(t)}function h(t){return"[object RegExp]"===c.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return r(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var i=Object.create(null),n=t.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}g("slot,component",!0);var y=g("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var _=Object.prototype.hasOwnProperty;function b(t,e){return _.call(t,e)}function x(t){var e=Object.create(null);return function(i){var n=e[i];return n||(e[i]=t(i))}}var w=/-(\w)/g,S=x((function(t){return t.replace(w,(function(t,e){return e?e.toUpperCase():""}))})),T=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),C=/\B([A-Z])/g,O=x((function(t){return t.replace(C,"-$1").toLowerCase()}));function k(t,e){function i(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i}function A(t,e){return t.bind(e)}var I=Function.prototype.bind?A:k;function E(t,e){e=e||0;var i=t.length-e,n=new Array(i);while(i--)n[i]=t[i+e];return n}function M(t,e){for(var i in e)t[i]=e[i];return t}function D(t){for(var e={},i=0;i<t.length;i++)t[i]&&M(e,t[i]);return e}function P(t,e,i){}var L=function(t,e,i){return!1},z=function(t){return t};function j(t,e){if(t===e)return!0;var i=l(t),n=l(e);if(!i||!n)return!i&&!n&&String(t)===String(e);try{var r=Array.isArray(t),o=Array.isArray(e);if(r&&o)return t.length===e.length&&t.every((function(t,i){return j(t,e[i])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(i){return j(t[i],e[i])}))}catch(c){return!1}}function B(t,e){for(var i=0;i<t.length;i++)if(j(t[i],e))return i;return-1}function R(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var F="data-server-rendered",N=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:P,parsePlatformTagName:z,mustUseProp:L,async:!0,_lifecycleHooks:V},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function q(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var H=new RegExp("[^"+U.source+".$_\\d]");function W(t){if(!H.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}var Z,X="__proto__"in{},Y="undefined"!==typeof window,K="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=K&&WXEnvironment.platform.toLowerCase(),Q=Y&&window.navigator.userAgent.toLowerCase(),tt=Q&&/msie|trident/.test(Q),et=Q&&Q.indexOf("msie 9.0")>0,it=Q&&Q.indexOf("edge/")>0,nt=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===J),rt=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),ot={}.watch,st=!1;if(Y)try{var at={};Object.defineProperty(at,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,at)}catch(Ts){}var lt=function(){return void 0===Z&&(Z=!Y&&!K&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),Z},ct=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,dt="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);ht="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=P,ft=0,mt=function(){this.id=ft++,this.subs=[]};mt.prototype.addSub=function(t){this.subs.push(t)},mt.prototype.removeSub=function(t){v(this.subs,t)},mt.prototype.depend=function(){mt.target&&mt.target.addDep(this)},mt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,i=t.length;e<i;e++)t[e].update()},mt.target=null;var gt=[];function yt(t){gt.push(t),mt.target=t}function vt(){gt.pop(),mt.target=gt[gt.length-1]}var _t=function(t,e,i,n,r,o,s,a){this.tag=t,this.data=e,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},bt={child:{configurable:!0}};bt.child.get=function(){return this.componentInstance},Object.defineProperties(_t.prototype,bt);var xt=function(t){void 0===t&&(t="");var e=new _t;return e.text=t,e.isComment=!0,e};function wt(t){return new _t(void 0,void 0,void 0,String(t))}function St(t){var e=new _t(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Tt=Array.prototype,Ct=Object.create(Tt),Ot=["push","pop","shift","unshift","splice","sort","reverse"];Ot.forEach((function(t){var e=Tt[t];q(Ct,t,(function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];var r,o=e.apply(this,i),s=this.__ob__;switch(t){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2);break}return r&&s.observeArray(r),s.dep.notify(),o}))}));var kt=Object.getOwnPropertyNames(Ct),At=!0;function It(t){At=t}var Et=function(t){this.value=t,this.dep=new mt,this.vmCount=0,q(t,"__ob__",this),Array.isArray(t)?(X?Mt(t,Ct):Dt(t,Ct,kt),this.observeArray(t)):this.walk(t)};function Mt(t,e){t.__proto__=e}function Dt(t,e,i){for(var n=0,r=i.length;n<r;n++){var o=i[n];q(t,o,e[o])}}function Pt(t,e){var i;if(l(t)&&!(t instanceof _t))return b(t,"__ob__")&&t.__ob__ instanceof Et?i=t.__ob__:At&&!lt()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new Et(t)),e&&i&&i.vmCount++,i}function Lt(t,e,i,n,r){var o=new mt,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,l=s&&s.set;a&&!l||2!==arguments.length||(i=t[e]);var c=!r&&Pt(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):i;return mt.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Bt(e))),e},set:function(e){var n=a?a.call(t):i;e===n||e!==e&&n!==n||a&&!l||(l?l.call(t,e):i=e,c=!r&&Pt(e),o.notify())}})}}function zt(t,e,i){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var n=t.__ob__;return t._isVue||n&&n.vmCount?i:n?(Lt(n.value,e,i),n.dep.notify(),i):(t[e]=i,i)}function jt(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var i=t.__ob__;t._isVue||i&&i.vmCount||b(t,e)&&(delete t[e],i&&i.dep.notify())}}function Bt(t){for(var e=void 0,i=0,n=t.length;i<n;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Bt(e)}Et.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)Lt(t,e[i])},Et.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)Pt(t[e])};var Rt=$.optionMergeStrategies;function Ft(t,e){if(!e)return t;for(var i,n,r,o=dt?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)i=o[s],"__ob__"!==i&&(n=t[i],r=e[i],b(t,i)?n!==r&&u(n)&&u(r)&&Ft(n,r):zt(t,i,r));return t}function Nt(t,e,i){return i?function(){var n="function"===typeof e?e.call(i,i):e,r="function"===typeof t?t.call(i,i):t;return n?Ft(n,r):r}:e?t?function(){return Ft("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Vt(t,e){var i=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return i?$t(i):i}function $t(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e}function Ut(t,e,i,n){var r=Object.create(t||null);return e?M(r,e):r}Rt.data=function(t,e,i){return i?Nt(t,e,i):e&&"function"!==typeof e?t:Nt(t,e)},V.forEach((function(t){Rt[t]=Vt})),N.forEach((function(t){Rt[t+"s"]=Ut})),Rt.watch=function(t,e,i,n){if(t===ot&&(t=void 0),e===ot&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var o in M(r,t),e){var s=r[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),r[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return r},Rt.props=Rt.methods=Rt.inject=Rt.computed=function(t,e,i,n){if(!t)return e;var r=Object.create(null);return M(r,t),e&&M(r,e),r},Rt.provide=Nt;var Gt=function(t,e){return void 0===e?t:e};function qt(t,e){var i=t.props;if(i){var n,r,o,s={};if(Array.isArray(i)){n=i.length;while(n--)r=i[n],"string"===typeof r&&(o=S(r),s[o]={type:null})}else if(u(i))for(var a in i)r=i[a],o=S(a),s[o]=u(r)?r:{type:r};else 0;t.props=s}}function Ht(t,e){var i=t.inject;if(i){var n=t.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(u(i))for(var o in i){var s=i[o];n[o]=u(s)?M({from:o},s):{from:s}}else 0}}function Wt(t){var e=t.directives;if(e)for(var i in e){var n=e[i];"function"===typeof n&&(e[i]={bind:n,update:n})}}function Zt(t,e,i){if("function"===typeof e&&(e=e.options),qt(e,i),Ht(e,i),Wt(e),!e._base&&(e.extends&&(t=Zt(t,e.extends,i)),e.mixins))for(var n=0,r=e.mixins.length;n<r;n++)t=Zt(t,e.mixins[n],i);var o,s={};for(o in t)a(o);for(o in e)b(t,o)||a(o);function a(n){var r=Rt[n]||Gt;s[n]=r(t[n],e[n],i,n)}return s}function Xt(t,e,i,n){if("string"===typeof i){var r=t[e];if(b(r,i))return r[i];var o=S(i);if(b(r,o))return r[o];var s=T(o);if(b(r,s))return r[s];var a=r[i]||r[o]||r[s];return a}}function Yt(t,e,i,n){var r=e[t],o=!b(i,t),s=i[t],a=ee(Boolean,r.type);if(a>-1)if(o&&!b(r,"default"))s=!1;else if(""===s||s===O(t)){var l=ee(String,r.type);(l<0||a<l)&&(s=!0)}if(void 0===s){s=Kt(n,r,t);var c=At;It(!0),Pt(s),It(c)}return s}function Kt(t,e,i){if(b(e,"default")){var n=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i]?t._props[i]:"function"===typeof n&&"Function"!==Qt(e.type)?n.call(t):n}}var Jt=/^\s*function (\w+)/;function Qt(t){var e=t&&t.toString().match(Jt);return e?e[1]:""}function te(t,e){return Qt(t)===Qt(e)}function ee(t,e){if(!Array.isArray(e))return te(e,t)?0:-1;for(var i=0,n=e.length;i<n;i++)if(te(e[i],t))return i;return-1}function ie(t,e,i){yt();try{if(e){var n=e;while(n=n.$parent){var r=n.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{var s=!1===r[o].call(n,t,e,i);if(s)return}catch(Ts){re(Ts,n,"errorCaptured hook")}}}re(t,e,i)}finally{vt()}}function ne(t,e,i,n,r){var o;try{o=i?t.apply(e,i):t.call(e),o&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(t){return ie(t,n,r+" (Promise/async)")})),o._handled=!0)}catch(Ts){ie(Ts,n,r)}return o}function re(t,e,i){if($.errorHandler)try{return $.errorHandler.call(null,t,e,i)}catch(Ts){Ts!==t&&oe(Ts,null,"config.errorHandler")}oe(t,e,i)}function oe(t,e,i){if(!Y&&!K||"undefined"===typeof console)throw t;console.error(t)}var se,ae=!1,le=[],ce=!1;function ue(){ce=!1;var t=le.slice(0);le.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var he=Promise.resolve();se=function(){he.then(ue),nt&&setTimeout(P)},ae=!0}else if(tt||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())se="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(ue)}:function(){setTimeout(ue,0)};else{var de=1,pe=new MutationObserver(ue),fe=document.createTextNode(String(de));pe.observe(fe,{characterData:!0}),se=function(){de=(de+1)%2,fe.data=String(de)},ae=!0}function me(t,e){var i;if(le.push((function(){if(t)try{t.call(e)}catch(Ts){ie(Ts,e,"nextTick")}else i&&i(e)})),ce||(ce=!0,se()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){i=t}))}var ge=new ht;function ye(t){ve(t,ge),ge.clear()}function ve(t,e){var i,n,r=Array.isArray(t);if(!(!r&&!l(t)||Object.isFrozen(t)||t instanceof _t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(r){i=t.length;while(i--)ve(t[i],e)}else{n=Object.keys(t),i=n.length;while(i--)ve(t[n[i]],e)}}}var _e=x((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var i="~"===t.charAt(0);t=i?t.slice(1):t;var n="!"===t.charAt(0);return t=n?t.slice(1):t,{name:t,once:i,capture:n,passive:e}}));function be(t,e){function i(){var t=arguments,n=i.fns;if(!Array.isArray(n))return ne(n,null,arguments,e,"v-on handler");for(var r=n.slice(),o=0;o<r.length;o++)ne(r[o],null,t,e,"v-on handler")}return i.fns=t,i}function xe(t,e,i,r,s,a){var l,c,u,h;for(l in t)c=t[l],u=e[l],h=_e(l),n(c)||(n(u)?(n(c.fns)&&(c=t[l]=be(c,a)),o(h.once)&&(c=t[l]=s(h.name,c,h.capture)),i(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,t[l]=u));for(l in e)n(t[l])&&(h=_e(l),r(h.name,e[l],h.capture))}function we(t,e,i){var s;t instanceof _t&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function l(){i.apply(this,arguments),v(s.fns,l)}n(a)?s=be([l]):r(a.fns)&&o(a.merged)?(s=a,s.fns.push(l)):s=be([a,l]),s.merged=!0,t[e]=s}function Se(t,e,i){var o=e.options.props;if(!n(o)){var s={},a=t.attrs,l=t.props;if(r(a)||r(l))for(var c in o){var u=O(c);Te(s,l,c,u,!0)||Te(s,a,c,u,!1)}return s}}function Te(t,e,i,n,o){if(r(e)){if(b(e,i))return t[i]=e[i],o||delete e[i],!0;if(b(e,n))return t[i]=e[n],o||delete e[n],!0}return!1}function Ce(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Oe(t){return a(t)?[wt(t)]:Array.isArray(t)?Ae(t):void 0}function ke(t){return r(t)&&r(t.text)&&s(t.isComment)}function Ae(t,e){var i,s,l,c,u=[];for(i=0;i<t.length;i++)s=t[i],n(s)||"boolean"===typeof s||(l=u.length-1,c=u[l],Array.isArray(s)?s.length>0&&(s=Ae(s,(e||"")+"_"+i),ke(s[0])&&ke(c)&&(u[l]=wt(c.text+s[0].text),s.shift()),u.push.apply(u,s)):a(s)?ke(c)?u[l]=wt(c.text+s):""!==s&&u.push(wt(s)):ke(s)&&ke(c)?u[l]=wt(c.text+s.text):(o(t._isVList)&&r(s.tag)&&n(s.key)&&r(e)&&(s.key="__vlist"+e+"_"+i+"__"),u.push(s)));return u}function Ie(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Ee(t){var e=Me(t.$options.inject,t);e&&(It(!1),Object.keys(e).forEach((function(i){Lt(t,i,e[i])})),It(!0))}function Me(t,e){if(t){for(var i=Object.create(null),n=dt?Reflect.ownKeys(t):Object.keys(t),r=0;r<n.length;r++){var o=n[r];if("__ob__"!==o){var s=t[o].from,a=e;while(a){if(a._provided&&b(a._provided,s)){i[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in t[o]){var l=t[o].default;i[o]="function"===typeof l?l.call(e):l}else 0}}return i}}function De(t,e){if(!t||!t.length)return{};for(var i={},n=0,r=t.length;n<r;n++){var o=t[n],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(i.default||(i.default=[])).push(o);else{var a=s.slot,l=i[a]||(i[a]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in i)i[c].every(Pe)&&delete i[c];return i}function Pe(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Le(t){return t.isComment&&t.asyncFactory}function ze(t,e,n){var r,o=Object.keys(e).length>0,s=t?!!t.$stable:!o,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&n&&n!==i&&a===n.$key&&!o&&!n.$hasNormal)return n;for(var l in r={},t)t[l]&&"$"!==l[0]&&(r[l]=je(e,l,t[l]))}else r={};for(var c in e)c in r||(r[c]=Be(e,c));return t&&Object.isExtensible(t)&&(t._normalized=r),q(r,"$stable",s),q(r,"$key",a),q(r,"$hasNormal",o),r}function je(t,e,i){var n=function(){var t=arguments.length?i.apply(null,arguments):i({});t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Oe(t);var e=t&&t[0];return t&&(!e||1===t.length&&e.isComment&&!Le(e))?void 0:t};return i.proxy&&Object.defineProperty(t,e,{get:n,enumerable:!0,configurable:!0}),n}function Be(t,e){return function(){return t[e]}}function Re(t,e){var i,n,o,s,a;if(Array.isArray(t)||"string"===typeof t)for(i=new Array(t.length),n=0,o=t.length;n<o;n++)i[n]=e(t[n],n);else if("number"===typeof t)for(i=new Array(t),n=0;n<t;n++)i[n]=e(n+1,n);else if(l(t))if(dt&&t[Symbol.iterator]){i=[];var c=t[Symbol.iterator](),u=c.next();while(!u.done)i.push(e(u.value,i.length)),u=c.next()}else for(s=Object.keys(t),i=new Array(s.length),n=0,o=s.length;n<o;n++)a=s[n],i[n]=e(t[a],a,n);return r(i)||(i=[]),i._isVList=!0,i}function Fe(t,e,i,n){var r,o=this.$scopedSlots[t];o?(i=i||{},n&&(i=M(M({},n),i)),r=o(i)||("function"===typeof e?e():e)):r=this.$slots[t]||("function"===typeof e?e():e);var s=i&&i.slot;return s?this.$createElement("template",{slot:s},r):r}function Ne(t){return Xt(this.$options,"filters",t,!0)||z}function Ve(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function $e(t,e,i,n,r){var o=$.keyCodes[e]||i;return r&&n&&!$.keyCodes[e]?Ve(r,n):o?Ve(o,t):n?O(n)!==e:void 0===t}function Ue(t,e,i,n,r){if(i)if(l(i)){var o;Array.isArray(i)&&(i=D(i));var s=function(s){if("class"===s||"style"===s||y(s))o=t;else{var a=t.attrs&&t.attrs.type;o=n||$.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=S(s),c=O(s);if(!(l in o)&&!(c in o)&&(o[s]=i[s],r)){var u=t.on||(t.on={});u["update:"+s]=function(t){i[s]=t}}};for(var a in i)s(a)}else;return t}function Ge(t,e){var i=this._staticTrees||(this._staticTrees=[]),n=i[t];return n&&!e||(n=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),He(n,"__static__"+t,!1)),n}function qe(t,e,i){return He(t,"__once__"+e+(i?"_"+i:""),!0),t}function He(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!==typeof t[n]&&We(t[n],e+"_"+n,i);else We(t,e,i)}function We(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function Ze(t,e){if(e)if(u(e)){var i=t.on=t.on?M({},t.on):{};for(var n in e){var r=i[n],o=e[n];i[n]=r?[].concat(r,o):o}}else;return t}function Xe(t,e,i,n){e=e||{$stable:!i};for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?Xe(o,e,i):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return n&&(e.$key=n),e}function Ye(t,e){for(var i=0;i<e.length;i+=2){var n=e[i];"string"===typeof n&&n&&(t[e[i]]=e[i+1])}return t}function Ke(t,e){return"string"===typeof t?e+t:t}function Je(t){t._o=qe,t._n=m,t._s=f,t._l=Re,t._t=Fe,t._q=j,t._i=B,t._m=Ge,t._f=Ne,t._k=$e,t._b=Ue,t._v=wt,t._e=xt,t._u=Xe,t._g=Ze,t._d=Ye,t._p=Ke}function Qe(t,e,n,r,s){var a,l=this,c=s.options;b(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var u=o(c._compiled),h=!u;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=Me(c.inject,r),this.slots=function(){return l.$slots||ze(t.scopedSlots,l.$slots=De(n,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ze(t.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=ze(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,i,n){var o=di(a,t,e,i,n,h);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=r),o}:this._c=function(t,e,i,n){return di(a,t,e,i,n,h)}}function ti(t,e,n,o,s){var a=t.options,l={},c=a.props;if(r(c))for(var u in c)l[u]=Yt(u,c,e||i);else r(n.attrs)&&ii(l,n.attrs),r(n.props)&&ii(l,n.props);var h=new Qe(n,l,s,o,t),d=a.render.call(null,h._c,h);if(d instanceof _t)return ei(d,n,h.parent,a,h);if(Array.isArray(d)){for(var p=Oe(d)||[],f=new Array(p.length),m=0;m<p.length;m++)f[m]=ei(p[m],n,h.parent,a,h);return f}}function ei(t,e,i,n,r){var o=St(t);return o.fnContext=i,o.fnOptions=n,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function ii(t,e){for(var i in e)t[S(i)]=e[i]}Je(Qe.prototype);var ni={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;ni.prepatch(i,i)}else{var n=t.componentInstance=si(t,Ei);n.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var i=e.componentOptions,n=e.componentInstance=t.componentInstance;zi(n,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Fi(i,"mounted")),t.data.keepAlive&&(e._isMounted?Ji(i):Bi(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Ri(e,!0):e.$destroy())}},ri=Object.keys(ni);function oi(t,e,i,s,a){if(!n(t)){var c=i.$options._base;if(l(t)&&(t=c.extend(t)),"function"===typeof t){var u;if(n(t.cid)&&(u=t,t=wi(u,c),void 0===t))return xi(u,e,i,s,a);e=e||{},wn(t),r(e.model)&&ci(t.options,e);var h=Se(e,t,a);if(o(t.options.functional))return ti(t,h,e,i,s);var d=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}ai(e);var f=t.options.name||a,m=new _t("vue-component-"+t.cid+(f?"-"+f:""),e,void 0,void 0,void 0,i,{Ctor:t,propsData:h,listeners:d,tag:a,children:s},u);return m}}}function si(t,e){var i={_isComponent:!0,_parentVnode:t,parent:e},n=t.data.inlineTemplate;return r(n)&&(i.render=n.render,i.staticRenderFns=n.staticRenderFns),new t.componentOptions.Ctor(i)}function ai(t){for(var e=t.hook||(t.hook={}),i=0;i<ri.length;i++){var n=ri[i],r=e[n],o=ni[n];r===o||r&&r._merged||(e[n]=r?li(o,r):o)}}function li(t,e){var i=function(i,n){t(i,n),e(i,n)};return i._merged=!0,i}function ci(t,e){var i=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[i]=e.model.value;var o=e.on||(e.on={}),s=o[n],a=e.model.callback;r(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[n]=[a].concat(s)):o[n]=a}var ui=1,hi=2;function di(t,e,i,n,r,s){return(Array.isArray(i)||a(i))&&(r=n,n=i,i=void 0),o(s)&&(r=hi),pi(t,e,i,n,r)}function pi(t,e,i,n,o){if(r(i)&&r(i.__ob__))return xt();if(r(i)&&r(i.is)&&(e=i.is),!e)return xt();var s,a,l;(Array.isArray(n)&&"function"===typeof n[0]&&(i=i||{},i.scopedSlots={default:n[0]},n.length=0),o===hi?n=Oe(n):o===ui&&(n=Ce(n)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||$.getTagNamespace(e),s=$.isReservedTag(e)?new _t($.parsePlatformTagName(e),i,n,void 0,void 0,t):i&&i.pre||!r(l=Xt(t.$options,"components",e))?new _t(e,i,n,void 0,void 0,t):oi(l,i,t,n,e)):s=oi(e,i,t,n);return Array.isArray(s)?s:r(s)?(r(a)&&fi(s,a),r(i)&&mi(i),s):xt()}function fi(t,e,i){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,i=!0),r(t.children))for(var s=0,a=t.children.length;s<a;s++){var l=t.children[s];r(l.tag)&&(n(l.ns)||o(i)&&"svg"!==l.tag)&&fi(l,e,i)}}function mi(t){l(t.style)&&ye(t.style),l(t.class)&&ye(t.class)}function gi(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=De(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,i,n,r){return di(t,e,i,n,r,!1)},t.$createElement=function(e,i,n,r){return di(t,e,i,n,r,!0)};var o=n&&n.data;Lt(t,"$attrs",o&&o.attrs||i,null,!0),Lt(t,"$listeners",e._parentListeners||i,null,!0)}var yi,vi=null;function _i(t){Je(t.prototype),t.prototype.$nextTick=function(t){return me(t,this)},t.prototype._render=function(){var t,e=this,i=e.$options,n=i.render,r=i._parentVnode;r&&(e.$scopedSlots=ze(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{vi=e,t=n.call(e._renderProxy,e.$createElement)}catch(Ts){ie(Ts,e,"render"),t=e._vnode}finally{vi=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof _t||(t=xt()),t.parent=r,t}}function bi(t,e){return(t.__esModule||dt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function xi(t,e,i,n,r){var o=xt();return o.asyncFactory=t,o.asyncMeta={data:e,context:i,children:n,tag:r},o}function wi(t,e){if(o(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var i=vi;if(i&&r(t.owners)&&-1===t.owners.indexOf(i)&&t.owners.push(i),o(t.loading)&&r(t.loadingComp))return t.loadingComp;if(i&&!r(t.owners)){var s=t.owners=[i],a=!0,c=null,u=null;i.$on("hook:destroyed",(function(){return v(s,i)}));var h=function(t){for(var e=0,i=s.length;e<i;e++)s[e].$forceUpdate();t&&(s.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},d=R((function(i){t.resolved=bi(i,e),a?s.length=0:h(!0)})),f=R((function(e){r(t.errorComp)&&(t.error=!0,h(!0))})),m=t(d,f);return l(m)&&(p(m)?n(t.resolved)&&m.then(d,f):p(m.component)&&(m.component.then(d,f),r(m.error)&&(t.errorComp=bi(m.error,e)),r(m.loading)&&(t.loadingComp=bi(m.loading,e),0===m.delay?t.loading=!0:c=setTimeout((function(){c=null,n(t.resolved)&&n(t.error)&&(t.loading=!0,h(!1))}),m.delay||200)),r(m.timeout)&&(u=setTimeout((function(){u=null,n(t.resolved)&&f(null)}),m.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function Si(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(r(i)&&(r(i.componentOptions)||Le(i)))return i}}function Ti(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ai(t,e)}function Ci(t,e){yi.$on(t,e)}function Oi(t,e){yi.$off(t,e)}function ki(t,e){var i=yi;return function n(){var r=e.apply(null,arguments);null!==r&&i.$off(t,n)}}function Ai(t,e,i){yi=t,xe(e,i||{},Ci,Oi,ki,t),yi=void 0}function Ii(t){var e=/^hook:/;t.prototype.$on=function(t,i){var n=this;if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)n.$on(t[r],i);else(n._events[t]||(n._events[t]=[])).push(i),e.test(t)&&(n._hasHookEvent=!0);return n},t.prototype.$once=function(t,e){var i=this;function n(){i.$off(t,n),e.apply(i,arguments)}return n.fn=e,i.$on(t,n),i},t.prototype.$off=function(t,e){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)i.$off(t[n],e);return i}var o,s=i._events[t];if(!s)return i;if(!e)return i._events[t]=null,i;var a=s.length;while(a--)if(o=s[a],o===e||o.fn===e){s.splice(a,1);break}return i},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?E(i):i;for(var n=E(arguments,1),r='event handler for "'+t+'"',o=0,s=i.length;o<s;o++)ne(i[o],e,n,e,r)}return e}}var Ei=null;function Mi(t){var e=Ei;return Ei=t,function(){Ei=e}}function Di(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Pi(t){t.prototype._update=function(t,e){var i=this,n=i.$el,r=i._vnode,o=Mi(i);i._vnode=t,i.$el=r?i.__patch__(r,t):i.__patch__(i.$el,t,e,!1),o(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Fi(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();var i=t._watchers.length;while(i--)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Fi(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Li(t,e,i){var n;return t.$el=e,t.$options.render||(t.$options.render=xt),Fi(t,"beforeMount"),n=function(){t._update(t._render(),i)},new nn(t,n,P,{before:function(){t._isMounted&&!t._isDestroyed&&Fi(t,"beforeUpdate")}},!0),i=!1,null==t.$vnode&&(t._isMounted=!0,Fi(t,"mounted")),t}function zi(t,e,n,r,o){var s=r.data.scopedSlots,a=t.$scopedSlots,l=!!(s&&!s.$stable||a!==i&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),c=!!(o||t.$options._renderChildren||l);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){It(!1);for(var u=t._props,h=t.$options._propKeys||[],d=0;d<h.length;d++){var p=h[d],f=t.$options.props;u[p]=Yt(p,f,e,t)}It(!0),t.$options.propsData=e}n=n||i;var m=t.$options._parentListeners;t.$options._parentListeners=n,Ai(t,n,m),c&&(t.$slots=De(o,r.context),t.$forceUpdate())}function ji(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Bi(t,e){if(e){if(t._directInactive=!1,ji(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)Bi(t.$children[i]);Fi(t,"activated")}}function Ri(t,e){if((!e||(t._directInactive=!0,!ji(t)))&&!t._inactive){t._inactive=!0;for(var i=0;i<t.$children.length;i++)Ri(t.$children[i]);Fi(t,"deactivated")}}function Fi(t,e){yt();var i=t.$options[e],n=e+" hook";if(i)for(var r=0,o=i.length;r<o;r++)ne(i[r],t,null,t,n);t._hasHookEvent&&t.$emit("hook:"+e),vt()}var Ni=[],Vi=[],$i={},Ui=!1,Gi=!1,qi=0;function Hi(){qi=Ni.length=Vi.length=0,$i={},Ui=Gi=!1}var Wi=0,Zi=Date.now;if(Y&&!tt){var Xi=window.performance;Xi&&"function"===typeof Xi.now&&Zi()>document.createEvent("Event").timeStamp&&(Zi=function(){return Xi.now()})}function Yi(){var t,e;for(Wi=Zi(),Gi=!0,Ni.sort((function(t,e){return t.id-e.id})),qi=0;qi<Ni.length;qi++)t=Ni[qi],t.before&&t.before(),e=t.id,$i[e]=null,t.run();var i=Vi.slice(),n=Ni.slice();Hi(),Qi(i),Ki(n),ct&&$.devtools&&ct.emit("flush")}function Ki(t){var e=t.length;while(e--){var i=t[e],n=i.vm;n._watcher===i&&n._isMounted&&!n._isDestroyed&&Fi(n,"updated")}}function Ji(t){t._inactive=!1,Vi.push(t)}function Qi(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Bi(t[e],!0)}function tn(t){var e=t.id;if(null==$i[e]){if($i[e]=!0,Gi){var i=Ni.length-1;while(i>qi&&Ni[i].id>t.id)i--;Ni.splice(i+1,0,t)}else Ni.push(t);Ui||(Ui=!0,me(Yi))}}var en=0,nn=function(t,e,i,n,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++en,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=W(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};nn.prototype.get=function(){var t;yt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Ts){if(!this.user)throw Ts;ie(Ts,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ye(t),vt(),this.cleanupDeps()}return t},nn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},nn.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},nn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():tn(this)},nn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user){var i='callback for watcher "'+this.expression+'"';ne(this.cb,this.vm,[t,e],this.vm,i)}else this.cb.call(this.vm,t,e)}}},nn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nn.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},nn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var rn={enumerable:!0,configurable:!0,get:P,set:P};function on(t,e,i){rn.get=function(){return this[e][i]},rn.set=function(t){this[e][i]=t},Object.defineProperty(t,i,rn)}function sn(t){t._watchers=[];var e=t.$options;e.props&&an(t,e.props),e.methods&&mn(t,e.methods),e.data?ln(t):Pt(t._data={},!0),e.computed&&hn(t,e.computed),e.watch&&e.watch!==ot&&gn(t,e.watch)}function an(t,e){var i=t.$options.propsData||{},n=t._props={},r=t.$options._propKeys=[],o=!t.$parent;o||It(!1);var s=function(o){r.push(o);var s=Yt(o,e,i,t);Lt(n,o,s),o in t||on(t,"_props",o)};for(var a in e)s(a);It(!0)}function ln(t){var e=t.$options.data;e=t._data="function"===typeof e?cn(e,t):e||{},u(e)||(e={});var i=Object.keys(e),n=t.$options.props,r=(t.$options.methods,i.length);while(r--){var o=i[r];0,n&&b(n,o)||G(o)||on(t,"_data",o)}Pt(e,!0)}function cn(t,e){yt();try{return t.call(e,e)}catch(Ts){return ie(Ts,e,"data()"),{}}finally{vt()}}var un={lazy:!0};function hn(t,e){var i=t._computedWatchers=Object.create(null),n=lt();for(var r in e){var o=e[r],s="function"===typeof o?o:o.get;0,n||(i[r]=new nn(t,s||P,P,un)),r in t||dn(t,r,o)}}function dn(t,e,i){var n=!lt();"function"===typeof i?(rn.get=n?pn(e):fn(i),rn.set=P):(rn.get=i.get?n&&!1!==i.cache?pn(e):fn(i.get):P,rn.set=i.set||P),Object.defineProperty(t,e,rn)}function pn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mt.target&&e.depend(),e.value}}function fn(t){return function(){return t.call(this,this)}}function mn(t,e){t.$options.props;for(var i in e)t[i]="function"!==typeof e[i]?P:I(e[i],t)}function gn(t,e){for(var i in e){var n=e[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)yn(t,i,n[r]);else yn(t,i,n)}}function yn(t,e,i,n){return u(i)&&(n=i,i=i.handler),"string"===typeof i&&(i=t[i]),t.$watch(e,i,n)}function vn(t){var e={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=zt,t.prototype.$delete=jt,t.prototype.$watch=function(t,e,i){var n=this;if(u(e))return yn(n,t,e,i);i=i||{},i.user=!0;var r=new nn(n,t,e,i);if(i.immediate){var o='callback for immediate watcher "'+r.expression+'"';yt(),ne(e,n,[r.value],n,o),vt()}return function(){r.teardown()}}}var _n=0;function bn(t){t.prototype._init=function(t){var e=this;e._uid=_n++,e._isVue=!0,t&&t._isComponent?xn(e,t):e.$options=Zt(wn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Di(e),Ti(e),gi(e),Fi(e,"beforeCreate"),Ee(e),sn(e),Ie(e),Fi(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function xn(t,e){var i=t.$options=Object.create(t.constructor.options),n=e._parentVnode;i.parent=e.parent,i._parentVnode=n;var r=n.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}function wn(t){var e=t.options;if(t.super){var i=wn(t.super),n=t.superOptions;if(i!==n){t.superOptions=i;var r=Sn(t);r&&M(t.extendOptions,r),e=t.options=Zt(i,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Sn(t){var e,i=t.options,n=t.sealedOptions;for(var r in i)i[r]!==n[r]&&(e||(e={}),e[r]=i[r]);return e}function Tn(t){this._init(t)}function Cn(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=E(arguments,1);return i.unshift(this),"function"===typeof t.install?t.install.apply(t,i):"function"===typeof t&&t.apply(null,i),e.push(t),this}}function On(t){t.mixin=function(t){return this.options=Zt(this.options,t),this}}function kn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,n=i.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];var o=t.name||i.options.name;var s=function(t){this._init(t)};return s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.cid=e++,s.options=Zt(i.options,t),s["super"]=i,s.options.props&&An(s),s.options.computed&&In(s),s.extend=i.extend,s.mixin=i.mixin,s.use=i.use,N.forEach((function(t){s[t]=i[t]})),o&&(s.options.components[o]=s),s.superOptions=i.options,s.extendOptions=t,s.sealedOptions=M({},s.options),r[n]=s,s}}function An(t){var e=t.options.props;for(var i in e)on(t.prototype,"_props",i)}function In(t){var e=t.options.computed;for(var i in e)dn(t.prototype,i,e[i])}function En(t){N.forEach((function(e){t[e]=function(t,i){return i?("component"===e&&u(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"===typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}}))}function Mn(t){return t&&(t.Ctor.options.name||t.tag)}function Dn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Pn(t,e){var i=t.cache,n=t.keys,r=t._vnode;for(var o in i){var s=i[o];if(s){var a=s.name;a&&!e(a)&&Ln(i,o,n,r)}}}function Ln(t,e,i,n){var r=t[e];!r||n&&r.tag===n.tag||r.componentInstance.$destroy(),t[e]=null,v(i,e)}bn(Tn),vn(Tn),Ii(Tn),Pi(Tn),_i(Tn);var zn=[String,RegExp,Array],jn={name:"keep-alive",abstract:!0,props:{include:zn,exclude:zn,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,i=t.keys,n=t.vnodeToCache,r=t.keyToCache;if(n){var o=n.tag,s=n.componentInstance,a=n.componentOptions;e[r]={name:Mn(a),tag:o,componentInstance:s},i.push(r),this.max&&i.length>parseInt(this.max)&&Ln(e,i[0],i,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ln(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Pn(t,(function(t){return Dn(e,t)}))})),this.$watch("exclude",(function(e){Pn(t,(function(t){return!Dn(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Si(t),i=e&&e.componentOptions;if(i){var n=Mn(i),r=this,o=r.include,s=r.exclude;if(o&&(!n||!Dn(o,n))||s&&n&&Dn(s,n))return e;var a=this,l=a.cache,c=a.keys,u=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,v(c,u),c.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},Bn={KeepAlive:jn};function Rn(t){var e={get:function(){return $}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:M,mergeOptions:Zt,defineReactive:Lt},t.set=zt,t.delete=jt,t.nextTick=me,t.observable=function(t){return Pt(t),t},t.options=Object.create(null),N.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,M(t.options.components,Bn),Cn(t),On(t),kn(t),En(t)}Rn(Tn),Object.defineProperty(Tn.prototype,"$isServer",{get:lt}),Object.defineProperty(Tn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Tn,"FunctionalRenderContext",{value:Qe}),Tn.version="2.6.14";var Fn=g("style,class"),Nn=g("input,textarea,option,select,progress"),Vn=function(t,e,i){return"value"===i&&Nn(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},$n=g("contenteditable,draggable,spellcheck"),Un=g("events,caret,typing,plaintext-only"),Gn=function(t,e){return Xn(e)||"false"===e?"false":"contenteditable"===t&&Un(e)?e:"true"},qn=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Hn="http://www.w3.org/1999/xlink",Wn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Zn=function(t){return Wn(t)?t.slice(6,t.length):""},Xn=function(t){return null==t||!1===t};function Yn(t){var e=t.data,i=t,n=t;while(r(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(e=Kn(n.data,e));while(r(i=i.parent))i&&i.data&&(e=Kn(e,i.data));return Jn(e.staticClass,e.class)}function Kn(t,e){return{staticClass:Qn(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Jn(t,e){return r(t)||r(e)?Qn(t,tr(e)):""}function Qn(t,e){return t?e?t+" "+e:t:e||""}function tr(t){return Array.isArray(t)?er(t):l(t)?ir(t):"string"===typeof t?t:""}function er(t){for(var e,i="",n=0,o=t.length;n<o;n++)r(e=tr(t[n]))&&""!==e&&(i&&(i+=" "),i+=e);return i}function ir(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}var nr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},rr=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),or=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),sr=function(t){return rr(t)||or(t)};function ar(t){return or(t)?"svg":"math"===t?"math":void 0}var lr=Object.create(null);function cr(t){if(!Y)return!0;if(sr(t))return!1;if(t=t.toLowerCase(),null!=lr[t])return lr[t];var e=document.createElement(t);return t.indexOf("-")>-1?lr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:lr[t]=/HTMLUnknownElement/.test(e.toString())}var ur=g("text,number,password,search,email,tel,url");function hr(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function dr(t,e){var i=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i}function pr(t,e){return document.createElementNS(nr[t],e)}function fr(t){return document.createTextNode(t)}function mr(t){return document.createComment(t)}function gr(t,e,i){t.insertBefore(e,i)}function yr(t,e){t.removeChild(e)}function vr(t,e){t.appendChild(e)}function _r(t){return t.parentNode}function br(t){return t.nextSibling}function xr(t){return t.tagName}function wr(t,e){t.textContent=e}function Sr(t,e){t.setAttribute(e,"")}var Tr=Object.freeze({createElement:dr,createElementNS:pr,createTextNode:fr,createComment:mr,insertBefore:gr,removeChild:yr,appendChild:vr,parentNode:_r,nextSibling:br,tagName:xr,setTextContent:wr,setStyleScope:Sr}),Cr={create:function(t,e){Or(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Or(t,!0),Or(e))},destroy:function(t){Or(t,!0)}};function Or(t,e){var i=t.data.ref;if(r(i)){var n=t.context,o=t.componentInstance||t.elm,s=n.$refs;e?Array.isArray(s[i])?v(s[i],o):s[i]===o&&(s[i]=void 0):t.data.refInFor?Array.isArray(s[i])?s[i].indexOf(o)<0&&s[i].push(o):s[i]=[o]:s[i]=o}}var kr=new _t("",{},[]),Ar=["create","activate","update","remove","destroy"];function Ir(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&Er(t,e)||o(t.isAsyncPlaceholder)&&n(e.asyncFactory.error))}function Er(t,e){if("input"!==t.tag)return!0;var i,n=r(i=t.data)&&r(i=i.attrs)&&i.type,o=r(i=e.data)&&r(i=i.attrs)&&i.type;return n===o||ur(n)&&ur(o)}function Mr(t,e,i){var n,o,s={};for(n=e;n<=i;++n)o=t[n].key,r(o)&&(s[o]=n);return s}function Dr(t){var e,i,s={},l=t.modules,c=t.nodeOps;for(e=0;e<Ar.length;++e)for(s[Ar[e]]=[],i=0;i<l.length;++i)r(l[i][Ar[e]])&&s[Ar[e]].push(l[i][Ar[e]]);function u(t){return new _t(c.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function i(){0===--i.listeners&&d(t)}return i.listeners=e,i}function d(t){var e=c.parentNode(t);r(e)&&c.removeChild(e,t)}function p(t,e,i,n,s,a,l){if(r(t.elm)&&r(a)&&(t=a[l]=St(t)),t.isRootInsert=!s,!f(t,e,i,n)){var u=t.data,h=t.children,d=t.tag;r(d)?(t.elm=t.ns?c.createElementNS(t.ns,d):c.createElement(d,t),w(t),_(t,h,e),r(u)&&x(t,e),v(i,t.elm,n)):o(t.isComment)?(t.elm=c.createComment(t.text),v(i,t.elm,n)):(t.elm=c.createTextNode(t.text),v(i,t.elm,n))}}function f(t,e,i,n){var s=t.data;if(r(s)){var a=r(t.componentInstance)&&s.keepAlive;if(r(s=s.hook)&&r(s=s.init)&&s(t,!1),r(t.componentInstance))return m(t,e),v(i,t.elm,n),o(a)&&y(t,e,i,n),!0}}function m(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(x(t,e),w(t)):(Or(t),e.push(t))}function y(t,e,i,n){var o,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](kr,a);e.push(a);break}v(i,t.elm,n)}function v(t,e,i){r(t)&&(r(i)?c.parentNode(i)===t&&c.insertBefore(t,e,i):c.appendChild(t,e))}function _(t,e,i){if(Array.isArray(e)){0;for(var n=0;n<e.length;++n)p(e[n],i,t.elm,null,!0,e,n)}else a(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function b(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function x(t,i){for(var n=0;n<s.create.length;++n)s.create[n](kr,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(kr,t),r(e.insert)&&i.push(t))}function w(t){var e;if(r(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var i=t;while(i)r(e=i.context)&&r(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),i=i.parent}r(e=Ei)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function S(t,e,i,n,r,o){for(;n<=r;++n)p(i[n],o,t,e,!1,i,n)}function T(t){var e,i,n=t.data;if(r(n))for(r(e=n.hook)&&r(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(r(e=t.children))for(i=0;i<t.children.length;++i)T(t.children[i])}function C(t,e,i){for(;e<=i;++e){var n=t[e];r(n)&&(r(n.tag)?(O(n),T(n)):d(n.elm))}}function O(t,e){if(r(e)||r(t.data)){var i,n=s.remove.length+1;for(r(e)?e.listeners+=n:e=h(t.elm,n),r(i=t.componentInstance)&&r(i=i._vnode)&&r(i.data)&&O(i,e),i=0;i<s.remove.length;++i)s.remove[i](t,e);r(i=t.data.hook)&&r(i=i.remove)?i(t,e):e()}else d(t.elm)}function k(t,e,i,o,s){var a,l,u,h,d=0,f=0,m=e.length-1,g=e[0],y=e[m],v=i.length-1,_=i[0],b=i[v],x=!s;while(d<=m&&f<=v)n(g)?g=e[++d]:n(y)?y=e[--m]:Ir(g,_)?(I(g,_,o,i,f),g=e[++d],_=i[++f]):Ir(y,b)?(I(y,b,o,i,v),y=e[--m],b=i[--v]):Ir(g,b)?(I(g,b,o,i,v),x&&c.insertBefore(t,g.elm,c.nextSibling(y.elm)),g=e[++d],b=i[--v]):Ir(y,_)?(I(y,_,o,i,f),x&&c.insertBefore(t,y.elm,g.elm),y=e[--m],_=i[++f]):(n(a)&&(a=Mr(e,d,m)),l=r(_.key)?a[_.key]:A(_,e,d,m),n(l)?p(_,o,t,g.elm,!1,i,f):(u=e[l],Ir(u,_)?(I(u,_,o,i,f),e[l]=void 0,x&&c.insertBefore(t,u.elm,g.elm)):p(_,o,t,g.elm,!1,i,f)),_=i[++f]);d>m?(h=n(i[v+1])?null:i[v+1].elm,S(t,h,i,f,v,o)):f>v&&C(e,d,m)}function A(t,e,i,n){for(var o=i;o<n;o++){var s=e[o];if(r(s)&&Ir(t,s))return o}}function I(t,e,i,a,l,u){if(t!==e){r(e.elm)&&r(a)&&(e=a[l]=St(e));var h=e.elm=t.elm;if(o(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?D(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,p=e.data;r(p)&&r(d=p.hook)&&r(d=d.prepatch)&&d(t,e);var f=t.children,m=e.children;if(r(p)&&b(e)){for(d=0;d<s.update.length;++d)s.update[d](t,e);r(d=p.hook)&&r(d=d.update)&&d(t,e)}n(e.text)?r(f)&&r(m)?f!==m&&k(h,f,m,i,u):r(m)?(r(t.text)&&c.setTextContent(h,""),S(h,null,m,0,m.length-1,i)):r(f)?C(f,0,f.length-1):r(t.text)&&c.setTextContent(h,""):t.text!==e.text&&c.setTextContent(h,e.text),r(p)&&r(d=p.hook)&&r(d=d.postpatch)&&d(t,e)}}}function E(t,e,i){if(o(i)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var M=g("attrs,class,staticClass,staticStyle,key");function D(t,e,i,n){var s,a=e.tag,l=e.data,c=e.children;if(n=n||l&&l.pre,e.elm=t,o(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(s=l.hook)&&r(s=s.init)&&s(e,!0),r(s=e.componentInstance)))return m(e,i),!0;if(r(a)){if(r(c))if(t.hasChildNodes())if(r(s=l)&&r(s=s.domProps)&&r(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,d=0;d<c.length;d++){if(!h||!D(h,c[d],i,n)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else _(e,c,i);if(r(l)){var p=!1;for(var f in l)if(!M(f)){p=!0,x(e,i);break}!p&&l["class"]&&ye(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,a){if(!n(e)){var l=!1,h=[];if(n(t))l=!0,p(e,h);else{var d=r(t.nodeType);if(!d&&Ir(t,e))I(t,e,h,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(F)&&(t.removeAttribute(F),i=!0),o(i)&&D(t,e,h))return E(e,h,!0),t;t=u(t)}var f=t.elm,m=c.parentNode(f);if(p(e,h,f._leaveCb?null:m,c.nextSibling(f)),r(e.parent)){var g=e.parent,y=b(e);while(g){for(var v=0;v<s.destroy.length;++v)s.destroy[v](g);if(g.elm=e.elm,y){for(var _=0;_<s.create.length;++_)s.create[_](kr,g);var x=g.data.hook.insert;if(x.merged)for(var w=1;w<x.fns.length;w++)x.fns[w]()}else Or(g);g=g.parent}}r(m)?C([t],0,0):r(t.tag)&&T(t)}}return E(e,h,l),e.elm}r(t)&&T(t)}}var Pr={create:Lr,update:Lr,destroy:function(t){Lr(t,kr)}};function Lr(t,e){(t.data.directives||e.data.directives)&&zr(t,e)}function zr(t,e){var i,n,r,o=t===kr,s=e===kr,a=Br(t.data.directives,t.context),l=Br(e.data.directives,e.context),c=[],u=[];for(i in l)n=a[i],r=l[i],n?(r.oldValue=n.value,r.oldArg=n.arg,Fr(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(Fr(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var i=0;i<c.length;i++)Fr(c[i],"inserted",e,t)};o?we(e,"insert",h):h()}if(u.length&&we(e,"postpatch",(function(){for(var i=0;i<u.length;i++)Fr(u[i],"componentUpdated",e,t)})),!o)for(i in a)l[i]||Fr(a[i],"unbind",t,t,s)}var jr=Object.create(null);function Br(t,e){var i,n,r=Object.create(null);if(!t)return r;for(i=0;i<t.length;i++)n=t[i],n.modifiers||(n.modifiers=jr),r[Rr(n)]=n,n.def=Xt(e.$options,"directives",n.name,!0);return r}function Rr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Fr(t,e,i,n,r){var o=t.def&&t.def[e];if(o)try{o(i.elm,t,i,n,r)}catch(Ts){ie(Ts,i.context,"directive "+t.name+" "+e+" hook")}}var Nr=[Cr,Pr];function Vr(t,e){var i=e.componentOptions;if((!r(i)||!1!==i.Ctor.options.inheritAttrs)&&(!n(t.data.attrs)||!n(e.data.attrs))){var o,s,a,l=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(o in r(u.__ob__)&&(u=e.data.attrs=M({},u)),u)s=u[o],a=c[o],a!==s&&$r(l,o,s,e.data.pre);for(o in(tt||it)&&u.value!==c.value&&$r(l,"value",u.value),c)n(u[o])&&(Wn(o)?l.removeAttributeNS(Hn,Zn(o)):$n(o)||l.removeAttribute(o))}}function $r(t,e,i,n){n||t.tagName.indexOf("-")>-1?Ur(t,e,i):qn(e)?Xn(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i)):$n(e)?t.setAttribute(e,Gn(e,i)):Wn(e)?Xn(i)?t.removeAttributeNS(Hn,Zn(e)):t.setAttributeNS(Hn,e,i):Ur(t,e,i)}function Ur(t,e,i){if(Xn(i))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==i&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,i)}}var Gr={create:Vr,update:Vr};function qr(t,e){var i=e.elm,o=e.data,s=t.data;if(!(n(o.staticClass)&&n(o.class)&&(n(s)||n(s.staticClass)&&n(s.class)))){var a=Yn(e),l=i._transitionClasses;r(l)&&(a=Qn(a,tr(l))),a!==i._prevClass&&(i.setAttribute("class",a),i._prevClass=a)}}var Hr,Wr={create:qr,update:qr},Zr="__r",Xr="__c";function Yr(t){if(r(t[Zr])){var e=tt?"change":"input";t[e]=[].concat(t[Zr],t[e]||[]),delete t[Zr]}r(t[Xr])&&(t.change=[].concat(t[Xr],t.change||[]),delete t[Xr])}function Kr(t,e,i){var n=Hr;return function r(){var o=e.apply(null,arguments);null!==o&&to(t,r,i,n)}}var Jr=ae&&!(rt&&Number(rt[1])<=53);function Qr(t,e,i,n){if(Jr){var r=Wi,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Hr.addEventListener(t,e,st?{capture:i,passive:n}:i)}function to(t,e,i,n){(n||Hr).removeEventListener(t,e._wrapper||e,i)}function eo(t,e){if(!n(t.data.on)||!n(e.data.on)){var i=e.data.on||{},r=t.data.on||{};Hr=e.elm,Yr(i),xe(i,r,Qr,to,Kr,e.context),Hr=void 0}}var io,no={create:eo,update:eo};function ro(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var i,o,s=e.elm,a=t.data.domProps||{},l=e.data.domProps||{};for(i in r(l.__ob__)&&(l=e.data.domProps=M({},l)),a)i in l||(s[i]="");for(i in l){if(o=l[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),o===a[i])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===i&&"PROGRESS"!==s.tagName){s._value=o;var c=n(o)?"":String(o);oo(s,c)&&(s.value=c)}else if("innerHTML"===i&&or(s.tagName)&&n(s.innerHTML)){io=io||document.createElement("div"),io.innerHTML="<svg>"+o+"</svg>";var u=io.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(u.firstChild)s.appendChild(u.firstChild)}else if(o!==a[i])try{s[i]=o}catch(Ts){}}}}function oo(t,e){return!t.composing&&("OPTION"===t.tagName||so(t,e)||ao(t,e))}function so(t,e){var i=!0;try{i=document.activeElement!==t}catch(Ts){}return i&&t.value!==e}function ao(t,e){var i=t.value,n=t._vModifiers;if(r(n)){if(n.number)return m(i)!==m(e);if(n.trim)return i.trim()!==e.trim()}return i!==e}var lo={create:ro,update:ro},co=x((function(t){var e={},i=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(i).forEach((function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}));function uo(t){var e=ho(t.style);return t.staticStyle?M(t.staticStyle,e):e}function ho(t){return Array.isArray(t)?D(t):"string"===typeof t?co(t):t}function po(t,e){var i,n={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(i=uo(r.data))&&M(n,i)}(i=uo(t.data))&&M(n,i);var o=t;while(o=o.parent)o.data&&(i=uo(o.data))&&M(n,i);return n}var fo,mo=/^--/,go=/\s*!important$/,yo=function(t,e,i){if(mo.test(e))t.style.setProperty(e,i);else if(go.test(i))t.style.setProperty(O(e),i.replace(go,""),"important");else{var n=_o(e);if(Array.isArray(i))for(var r=0,o=i.length;r<o;r++)t.style[n]=i[r];else t.style[n]=i}},vo=["Webkit","Moz","ms"],_o=x((function(t){if(fo=fo||document.createElement("div").style,t=S(t),"filter"!==t&&t in fo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<vo.length;i++){var n=vo[i]+e;if(n in fo)return n}}));function bo(t,e){var i=e.data,o=t.data;if(!(n(i.staticStyle)&&n(i.style)&&n(o.staticStyle)&&n(o.style))){var s,a,l=e.elm,c=o.staticStyle,u=o.normalizedStyle||o.style||{},h=c||u,d=ho(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?M({},d):d;var p=po(e,!0);for(a in h)n(p[a])&&yo(l,a,"");for(a in p)s=p[a],s!==h[a]&&yo(l,a,null==s?"":s)}}var xo={create:bo,update:bo},wo=/\s+/;function So(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(wo).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function To(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(wo).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";while(i.indexOf(n)>=0)i=i.replace(n," ");i=i.trim(),i?t.setAttribute("class",i):t.removeAttribute("class")}}function Co(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&M(e,Oo(t.name||"v")),M(e,t),e}return"string"===typeof t?Oo(t):void 0}}var Oo=x((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),ko=Y&&!et,Ao="transition",Io="animation",Eo="transition",Mo="transitionend",Do="animation",Po="animationend";ko&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Eo="WebkitTransition",Mo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Do="WebkitAnimation",Po="webkitAnimationEnd"));var Lo=Y?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function zo(t){Lo((function(){Lo(t)}))}function jo(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),So(t,e))}function Bo(t,e){t._transitionClasses&&v(t._transitionClasses,e),To(t,e)}function Ro(t,e,i){var n=No(t,e),r=n.type,o=n.timeout,s=n.propCount;if(!r)return i();var a=r===Ao?Mo:Po,l=0,c=function(){t.removeEventListener(a,u),i()},u=function(e){e.target===t&&++l>=s&&c()};setTimeout((function(){l<s&&c()}),o+1),t.addEventListener(a,u)}var Fo=/\b(transform|all)(,|$)/;function No(t,e){var i,n=window.getComputedStyle(t),r=(n[Eo+"Delay"]||"").split(", "),o=(n[Eo+"Duration"]||"").split(", "),s=Vo(r,o),a=(n[Do+"Delay"]||"").split(", "),l=(n[Do+"Duration"]||"").split(", "),c=Vo(a,l),u=0,h=0;e===Ao?s>0&&(i=Ao,u=s,h=o.length):e===Io?c>0&&(i=Io,u=c,h=l.length):(u=Math.max(s,c),i=u>0?s>c?Ao:Io:null,h=i?i===Ao?o.length:l.length:0);var d=i===Ao&&Fo.test(n[Eo+"Property"]);return{type:i,timeout:u,propCount:h,hasTransform:d}}function Vo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,i){return $o(e)+$o(t[i])})))}function $o(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Uo(t,e){var i=t.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var o=Co(t.data.transition);if(!n(o)&&!r(i._enterCb)&&1===i.nodeType){var s=o.css,a=o.type,c=o.enterClass,u=o.enterToClass,h=o.enterActiveClass,d=o.appearClass,p=o.appearToClass,f=o.appearActiveClass,g=o.beforeEnter,y=o.enter,v=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,x=o.appear,w=o.afterAppear,S=o.appearCancelled,T=o.duration,C=Ei,O=Ei.$vnode;while(O&&O.parent)C=O.context,O=O.parent;var k=!C._isMounted||!t.isRootInsert;if(!k||x||""===x){var A=k&&d?d:c,I=k&&f?f:h,E=k&&p?p:u,M=k&&b||g,D=k&&"function"===typeof x?x:y,P=k&&w||v,L=k&&S||_,z=m(l(T)?T.enter:T);0;var j=!1!==s&&!et,B=Ho(D),F=i._enterCb=R((function(){j&&(Bo(i,E),Bo(i,I)),F.cancelled?(j&&Bo(i,A),L&&L(i)):P&&P(i),i._enterCb=null}));t.data.show||we(t,"insert",(function(){var e=i.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),D&&D(i,F)})),M&&M(i),j&&(jo(i,A),jo(i,I),zo((function(){Bo(i,A),F.cancelled||(jo(i,E),B||(qo(z)?setTimeout(F,z):Ro(i,a,F)))}))),t.data.show&&(e&&e(),D&&D(i,F)),j||B||F()}}}function Go(t,e){var i=t.elm;r(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var o=Co(t.data.transition);if(n(o)||1!==i.nodeType)return e();if(!r(i._leaveCb)){var s=o.css,a=o.type,c=o.leaveClass,u=o.leaveToClass,h=o.leaveActiveClass,d=o.beforeLeave,p=o.leave,f=o.afterLeave,g=o.leaveCancelled,y=o.delayLeave,v=o.duration,_=!1!==s&&!et,b=Ho(p),x=m(l(v)?v.leave:v);0;var w=i._leaveCb=R((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),_&&(Bo(i,u),Bo(i,h)),w.cancelled?(_&&Bo(i,c),g&&g(i)):(e(),f&&f(i)),i._leaveCb=null}));y?y(S):S()}function S(){w.cancelled||(!t.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),d&&d(i),_&&(jo(i,c),jo(i,h),zo((function(){Bo(i,c),w.cancelled||(jo(i,u),b||(qo(x)?setTimeout(w,x):Ro(i,a,w)))}))),p&&p(i,w),_||b||w())}}function qo(t){return"number"===typeof t&&!isNaN(t)}function Ho(t){if(n(t))return!1;var e=t.fns;return r(e)?Ho(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Wo(t,e){!0!==e.data.show&&Uo(e)}var Zo=Y?{create:Wo,activate:Wo,remove:function(t,e){!0!==t.data.show?Go(t,e):e()}}:{},Xo=[Gr,Wr,no,lo,xo,Zo],Yo=Xo.concat(Nr),Ko=Dr({nodeOps:Tr,modules:Yo});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&os(t,"input")}));var Jo={inserted:function(t,e,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?we(i,"postpatch",(function(){Jo.componentUpdated(t,e,i)})):Qo(t,e,i.context),t._vOptions=[].map.call(t.options,is)):("textarea"===i.tag||ur(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ns),t.addEventListener("compositionend",rs),t.addEventListener("change",rs),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){Qo(t,e,i.context);var n=t._vOptions,r=t._vOptions=[].map.call(t.options,is);if(r.some((function(t,e){return!j(t,n[e])}))){var o=t.multiple?e.value.some((function(t){return es(t,r)})):e.value!==e.oldValue&&es(e.value,r);o&&os(t,"change")}}}};function Qo(t,e,i){ts(t,e,i),(tt||it)&&setTimeout((function(){ts(t,e,i)}),0)}function ts(t,e,i){var n=e.value,r=t.multiple;if(!r||Array.isArray(n)){for(var o,s,a=0,l=t.options.length;a<l;a++)if(s=t.options[a],r)o=B(n,is(s))>-1,s.selected!==o&&(s.selected=o);else if(j(is(s),n))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function es(t,e){return e.every((function(e){return!j(e,t)}))}function is(t){return"_value"in t?t._value:t.value}function ns(t){t.target.composing=!0}function rs(t){t.target.composing&&(t.target.composing=!1,os(t.target,"input"))}function os(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function ss(t){return!t.componentInstance||t.data&&t.data.transition?t:ss(t.componentInstance._vnode)}var as={bind:function(t,e,i){var n=e.value;i=ss(i);var r=i.data&&i.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&r?(i.data.show=!0,Uo(i,(function(){t.style.display=o}))):t.style.display=n?o:"none"},update:function(t,e,i){var n=e.value,r=e.oldValue;if(!n!==!r){i=ss(i);var o=i.data&&i.data.transition;o?(i.data.show=!0,n?Uo(i,(function(){t.style.display=t.__vOriginalDisplay})):Go(i,(function(){t.style.display="none"}))):t.style.display=n?t.__vOriginalDisplay:"none"}},unbind:function(t,e,i,n,r){r||(t.style.display=t.__vOriginalDisplay)}},ls={model:Jo,show:as},cs={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function us(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?us(Si(e.children)):t}function hs(t){var e={},i=t.$options;for(var n in i.propsData)e[n]=t[n];var r=i._parentListeners;for(var o in r)e[S(o)]=r[o];return e}function ds(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function ps(t){while(t=t.parent)if(t.data.transition)return!0}function fs(t,e){return e.key===t.key&&e.tag===t.tag}var ms=function(t){return t.tag||Le(t)},gs=function(t){return"show"===t.name},ys={name:"transition",props:cs,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(ms),i.length)){0;var n=this.mode;0;var r=i[0];if(ps(this.$vnode))return r;var o=us(r);if(!o)return r;if(this._leaving)return ds(t,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var l=(o.data||(o.data={})).transition=hs(this),c=this._vnode,u=us(c);if(o.data.directives&&o.data.directives.some(gs)&&(o.data.show=!0),u&&u.data&&!fs(o,u)&&!Le(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=M({},l);if("out-in"===n)return this._leaving=!0,we(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ds(t,r);if("in-out"===n){if(Le(o))return c;var d,p=function(){d()};we(l,"afterEnter",p),we(l,"enterCancelled",p),we(h,"delayLeave",(function(t){d=t}))}}return r}}},vs=M({tag:String,moveClass:String},cs);delete vs.mode;var _s={props:vs,beforeMount:function(){var t=this,e=this._update;this._update=function(i,n){var r=Mi(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,i,n)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=hs(this),a=0;a<r.length;a++){var l=r[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),i[l.key]=l,(l.data||(l.data={})).transition=s;else;}if(n){for(var c=[],u=[],h=0;h<n.length;h++){var d=n[h];d.data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?c.push(d):u.push(d)}this.kept=t(e,null,c),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(bs),t.forEach(xs),t.forEach(ws),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var i=t.elm,n=i.style;jo(i,e),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(Mo,i._moveCb=function t(n){n&&n.target!==i||n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Mo,t),i._moveCb=null,Bo(i,e))})}})))},methods:{hasMove:function(t,e){if(!ko)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){To(i,t)})),So(i,e),i.style.display="none",this.$el.appendChild(i);var n=No(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}};function bs(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function xs(t){t.data.newPos=t.elm.getBoundingClientRect()}function ws(t){var e=t.data.pos,i=t.data.newPos,n=e.left-i.left,r=e.top-i.top;if(n||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+r+"px)",o.transitionDuration="0s"}}var Ss={Transition:ys,TransitionGroup:_s};Tn.config.mustUseProp=Vn,Tn.config.isReservedTag=sr,Tn.config.isReservedAttr=Fn,Tn.config.getTagNamespace=ar,Tn.config.isUnknownElement=cr,M(Tn.options.directives,ls),M(Tn.options.components,Ss),Tn.prototype.__patch__=Y?Ko:P,Tn.prototype.$mount=function(t,e){return t=t&&Y?hr(t):void 0,Li(this,t,e)},Y&&setTimeout((function(){$.devtools&&ct&&ct.emit("init",Tn)}),0),e["a"]=Tn}).call(this,i("c8ba"))},"2b17":function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"c",(function(){return m})),i.d(e,"b",(function(){return v})),i.d(e,"d",(function(){return x})),i.d(e,"e",(function(){return S}));var n,r,o,s,a,l=i("6d8b"),c=i("e0d3"),u=i("ec6f"),h=i("07fd"),d=function(){function t(t,e){var i=Object(u["e"])(t)?t:Object(u["c"])(t);this._source=i;var n=this._data=i.data;i.sourceFormat===h["g"]&&(this._offset=0,this._dimSize=e,this._data=n),a(this,n,i)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var t;a=function(t,r,o){var a=o.sourceFormat,c=o.seriesLayoutBy,u=o.startIndex,d=o.dimensionsDefine,p=s[w(a,c)];if(Object(l["m"])(t,p),a===h["g"])t.getItem=e,t.count=n,t.fillStorage=i;else{var f=m(a,c);t.getItem=Object(l["c"])(f,null,r,u,d);var g=v(a,c);t.count=Object(l["c"])(g,null,r,u,d)}};var e=function(t,e){t-=this._offset,e=e||[];for(var i=this._data,n=this._dimSize,r=n*t,o=0;o<n;o++)e[o]=i[r+o];return e},i=function(t,e,i,n){for(var r=this._data,o=this._dimSize,s=0;s<o;s++){for(var a=n[s],l=null==a[0]?1/0:a[0],c=null==a[1]?-1/0:a[1],u=e-t,h=i[s],d=0;d<u;d++){var p=r[d*o+s];h[t+d]=p,p<l&&(l=p),p>c&&(c=p)}a[0]=l,a[1]=c}},n=function(){return this._data?this._data.length/this._dimSize:0};function r(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}t={},t[h["c"]+"_"+h["a"]]={pure:!0,appendData:r},t[h["c"]+"_"+h["b"]]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[h["e"]]={pure:!0,appendData:r},t[h["d"]]={pure:!0,appendData:function(t){var e=this._data;Object(l["k"])(t,(function(t,i){for(var n=e[i]||(e[i]=[]),r=0;r<(t||[]).length;r++)n.push(t[r])}))}},t[h["f"]]={appendData:r},t[h["g"]]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},s=t}(),t}(),p=function(t,e,i,n){return t[n]},f=(n={},n[h["c"]+"_"+h["a"]]=function(t,e,i,n){return t[n+e]},n[h["c"]+"_"+h["b"]]=function(t,e,i,n,r){n+=e;for(var o=r||[],s=t,a=0;a<s.length;a++){var l=s[a];o[a]=l?l[n]:null}return o},n[h["e"]]=p,n[h["d"]]=function(t,e,i,n,r){for(var o=r||[],s=0;s<i.length;s++){var a=i[s].name;0;var l=t[a];o[s]=l?l[n]:null}return o},n[h["f"]]=p,n);function m(t,e){var i=f[w(t,e)];return i}var g=function(t,e,i){return t.length},y=(r={},r[h["c"]+"_"+h["a"]]=function(t,e,i){return Math.max(0,t.length-e)},r[h["c"]+"_"+h["b"]]=function(t,e,i){var n=t[0];return n?Math.max(0,n.length-e):0},r[h["e"]]=g,r[h["d"]]=function(t,e,i){var n=i[0].name;var r=t[n];return r?r.length:0},r[h["f"]]=g,r);function v(t,e){var i=y[w(t,e)];return i}var _=function(t,e,i){return t[e]},b=(o={},o[h["c"]]=_,o[h["e"]]=function(t,e,i){return t[i]},o[h["d"]]=_,o[h["f"]]=function(t,e,i){var n=Object(c["f"])(t);return n instanceof Array?n[e]:n},o[h["g"]]=_,o);function x(t){var e=b[t];return e}function w(t,e){return t===h["c"]?t+"_"+e:t}function S(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var r=t.getStore(),o=r.getSource().sourceFormat;if(null!=i){var s=t.getDimensionIndex(i),a=r.getDimensionProperty(s);return x(o)(n,s,a)}var l=n;return o===h["f"]&&(l=Object(c["f"])(n)),l}}}},"2c50":function(t,e,i){"use strict";var n=i("53a8"),r=i("2ad4"),o=i("6da3"),s=i("7854"),a=i("0aed"),l={},c=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];l.forwardGeocode=function(t){r.assertShape({query:r.required(r.string),mode:r.oneOf("mapbox.places","mapbox.places-permanent"),countries:r.arrayOf(r.string),proximity:r.coordinates,types:r.arrayOf(r.oneOf(c)),autocomplete:r.boolean,bbox:r.arrayOf(r.number),limit:r.number,language:r.arrayOf(r.string),routing:r.boolean,fuzzyMatch:r.boolean,worldview:r.string})(t),t.mode=t.mode||"mapbox.places";var e=s(n({country:t.countries},o(t,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},l.reverseGeocode=function(t){r.assertShape({query:r.required(r.coordinates),mode:r.oneOf("mapbox.places","mapbox.places-permanent"),countries:r.arrayOf(r.string),types:r.arrayOf(r.oneOf(c)),bbox:r.arrayOf(r.number),limit:r.number,language:r.arrayOf(r.string),reverseMode:r.oneOf("distance","score"),routing:r.boolean,worldview:r.string})(t),t.mode=t.mode||"mapbox.places";var e=s(n({country:t.countries},o(t,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},t.exports=a(l)},"2c64":function(t,e,i){},"2cf4":function(t,e,i){"use strict";i.d(e,"e",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return a})),i.d(e,"c",(function(){return l}));var n=1;"undefined"!==typeof window&&(n=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var r=n,o=.4,s="#333",a="#ccc",l="#eee"},"2cf49":function(t,e,i){var n,r,o,s,a=i("da84"),l=i("1626"),c=i("d039"),u=i("0366"),h=i("1be4"),d=i("cc12"),p=i("1cdc"),f=i("605d"),m=a.setImmediate,g=a.clearImmediate,y=a.process,v=a.MessageChannel,_=a.Dispatch,b=0,x={},w="onreadystatechange";try{n=a.location}catch(k){}var S=function(t){if(x.hasOwnProperty(t)){var e=x[t];delete x[t],e()}},T=function(t){return function(){S(t)}},C=function(t){S(t.data)},O=function(t){a.postMessage(String(t),n.protocol+"//"+n.host)};m&&g||(m=function(t){var e=[],i=arguments.length,n=1;while(i>n)e.push(arguments[n++]);return x[++b]=function(){(l(t)?t:Function(t)).apply(void 0,e)},r(b),b},g=function(t){delete x[t]},f?r=function(t){y.nextTick(T(t))}:_&&_.now?r=function(t){_.now(T(t))}:v&&!p?(o=new v,s=o.port2,o.port1.onmessage=C,r=u(s.postMessage,s,1)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!c(O)?(r=O,a.addEventListener("message",C,!1)):r=w in d("script")?function(t){h.appendChild(d("script"))[w]=function(){h.removeChild(this),S(t)}}:function(t){setTimeout(T(t),0)}),t.exports={set:m,clear:g}},"2d00":function(t,e,i){var n,r,o=i("da84"),s=i("342f"),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u?(n=u.split("."),r=n[0]<4?1:n[0]+n[1]):s&&(n=s.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/),n&&(r=n[1]))),t.exports=r&&+r},"2d83":function(t,e,i){"use strict";var n=i("387f");t.exports=function(t,e,i,r,o){var s=new Error(t);return n(s,e,i,r,o)}},"2da7":function(t,e,i){"use strict";i.d(e,"a",(function(){return mt}));var n=i("af5c"),r=i("22b4"),o=i("7fae"),s=i("6cb7"),a=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Object(o["a"])(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(s["a"]),l=a,c=i("6d8b"),u=i("22d1"),h=i("41ef"),d=i("607d"),p=i("65ed"),f=i("eda2");function m(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function g(t){if(u["a"].domSupported)for(var e=document.documentElement.style,i=0,n=t.length;i<n;i++)if(t[i]in e)return t[i]}var y=g(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),v=g(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function _(t,e){if(!t)return e;e=Object(f["h"])(e,!0);var i=t.indexOf(e);return t=-1===i?e:"-"+t.slice(0,i)+"-"+e,t.toLowerCase()}function b(t,e){var i=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return i?e?i[e]:i:null}var x=i("217c"),w=_(v,"transition"),S=_(y,"transform"),T="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(u["a"].transform3dSupported?"will-change:transform;":"");function C(t){return t="left"===t?"right":"right"===t?"left":"top"===t?"bottom":"top",t}function O(t,e,i){if(!Object(c["A"])(i)||"inside"===i)return"";var n=t.get("backgroundColor"),r=t.get("borderWidth");e=Object(f["b"])(e);var o,s=C(i),a=Math.max(1.5*Math.round(r),6),l="",u=S+":";Object(c["q"])(["left","right"],s)>-1?(l+="top:50%",u+="translateY(-50%) rotate("+(o="left"===s?-225:-45)+"deg)"):(l+="left:50%",u+="translateX(-50%) rotate("+(o="top"===s?225:45)+"deg)");var h=o*Math.PI/180,d=a+r,p=d*Math.abs(Math.cos(h))+d*Math.abs(Math.sin(h)),m=Math.round(100*((p-Math.SQRT2*r)/2+Math.SQRT2*r-(p-d)/2))/100;l+=";"+s+":-"+m+"px";var g=e+" solid "+r+"px;",y=["position:absolute;width:"+a+"px;height:"+a+"px;",l+";"+u+";","border-bottom:"+g,"border-right:"+g,"background-color:"+n+";"];return'<div style="'+y.join("")+'"></div>'}function k(t,e){var i="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+i,r="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+i,r+=u["a"].transformSupported?","+S+n:",left"+n+",top"+n),w+":"+r}function A(t,e,i){var n=t.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!u["a"].transformSupported)return i?"top:"+r+";left:"+n+";":[["top",r],["left",n]];var o=u["a"].transform3dSupported,s="translate"+(o?"3d":"")+"("+n+","+r+(o?",0":"")+")";return i?"top:0;left:0;"+S+":"+s+";":[["top",0],["left",0],[y,s]]}function I(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px");var r=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,a=t.get("textShadowOffsetY")||0;return r&&o&&e.push("text-shadow:"+s+"px "+a+"px "+o+"px "+r),Object(c["k"])(["decoration","align"],(function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)})),e.join(";")}function E(t,e,i){var n=[],r=t.get("transitionDuration"),o=t.get("backgroundColor"),s=t.get("shadowBlur"),a=t.get("shadowColor"),l=t.get("shadowOffsetX"),d=t.get("shadowOffsetY"),p=t.getModel("textStyle"),m=Object(x["d"])(t,"html"),g=l+"px "+d+"px "+s+"px "+a;return n.push("box-shadow:"+g),e&&r&&n.push(k(r,i)),o&&(u["a"].canvasSupported?n.push("background-color:"+o):(n.push("background-color:#"+Object(h["f"])(o)),n.push("filter:alpha(opacity=70)"))),Object(c["k"])(["width","color","radius"],(function(e){var i="border-"+e,r=Object(f["h"])(i),o=t.get(r);null!=o&&n.push(i+":"+o+("color"===e?"":"px"))})),n.push(I(p)),null!=m&&n.push("padding:"+Object(f["g"])(m).join("px ")+"px"),n.join(";")+";"}function M(t,e,i,n,r){var o=e&&e.painter;if(i){var s=o&&o.getViewportRoot();s&&Object(p["c"])(t,s,document.body,n,r)}else{t[0]=n,t[1]=r;var a=o&&o.getViewportRootOffset();a&&(t[0]+=a.offsetLeft,t[1]+=a.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var D=function(){function t(t,e,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,u["a"].wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var r=this._zr=e.getZr(),o=this._appendToBody=i&&i.appendToBody;M(this._styleCoord,r,o,e.getWidth()/2,e.getHeight()/2),o?document.body.appendChild(n):t.appendChild(n),this._container=t;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!s._enterable){var e=r.handler,i=r.painter.getViewportRoot();Object(d["d"])(i,t,!0),e.dispatch("mousemove",t)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(t){var e=this._container,i=b(e,"position"),n=e.style;"absolute"!==n.position&&"absolute"!==i&&(n.position="relative");var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,n=i.style,r=this._styleCoord;i.innerHTML?n.cssText=T+E(t,!this._firstShow,this._longHide)+A(r[0],r[1],!0)+"border-color:"+Object(f["b"])(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,i,n,r){var o=this.el;if(null!=t){var s="";if(Object(c["A"])(r)&&"item"===i.get("trigger")&&!m(i)&&(s=O(i,n,r)),Object(c["A"])(t))o.innerHTML=t+s;else if(t){o.innerHTML="",Object(c["s"])(t)||(t=[t]);for(var a=0;a<t.length;a++)Object(c["u"])(t[a])&&t[a].parentNode!==o&&o.appendChild(t[a]);if(s&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=s,o.appendChild(l)}}}else o.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var i=this._styleCoord;if(M(i,this._zr,this._appendToBody,t,e),null!=i[0]&&null!=i[1]){var n=this.el.style,r=A(i[0],i[1]);Object(c["k"])(r,(function(t){n[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",u["a"].transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Object(c["c"])(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}(),P=D,L=i("76a5"),z=i("edae"),j=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),F(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,i,n,r){c["z"](t)&&Object(z["c"])(""),this.el&&this._zr.remove(this.el);var o=i.getModel("textStyle");this.el=new L["a"]({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:i.get("backgroundColor"),borderRadius:i.get("borderRadius"),borderWidth:1,borderColor:n,shadowColor:i.get("shadowColor"),shadowBlur:i.get("shadowBlur"),shadowOffsetX:i.get("shadowOffsetX"),shadowOffsetY:i.get("shadowOffsetY"),textShadowColor:o.get("textShadowColor"),textShadowBlur:o.get("textShadowBlur")||0,textShadowOffsetX:o.get("textShadowOffsetX")||0,textShadowOffsetY:o.get("textShadowOffsetY")||0,fill:i.get(["textStyle","color"]),padding:Object(x["d"])(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=R(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},t.prototype.moveTo=function(t,e){var i=this.el;if(i){var n=this._styleCoord;F(n,this._zr,t,e),t=n[0],e=n[1];var r=i.style,o=B(r.borderWidth||0),s=R(r);i.x=t+o+s.left,i.y=e+o+s.top,i.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(c["c"](this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function B(t){return Math.max(0,t)}function R(t){var e=B(t.shadowBlur||0),i=B(t.shadowOffsetX||0),n=B(t.shadowOffsetY||0);return{left:B(e-i),right:B(e+i),top:B(e-n),bottom:B(e+n)}}function F(t,e,i,n){t[0]=i,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var N=j,V=i("3842"),$=i("c7a2"),U=i("133d"),G=i("f934"),q=i("4319"),H=i("17d6"),W=i("697e"),Z=i("ff2e"),X=i("e0d3"),Y=i("b12f"),K=i("f876"),J=i("861c"),Q=i("38a2"),tt=i("fadd"),et=i("88b3"),it=c["c"],nt=c["k"],rt=V["l"],ot=new $["a"]({shape:{x:-1,y:-1,width:2,height:2}}),st=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Object(o["a"])(e,t),e.prototype.init=function(t,e){if(!u["a"].node){var i=t.getComponent("tooltip"),n=i.get("renderMode");this._renderMode=Object(X["g"])(n),this._tooltipContent="richText"===this._renderMode?new N(e):new P(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,e,i){if(!u["a"].node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._updatePosition="html"===this._renderMode?Object(et["b"])(it(this._doUpdatePosition,this),50):this._doUpdatePosition}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,e=t.get("triggerOn");H["a"]("itemTooltip",this._api,it((function(t,i,n){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,n):"leave"===t&&this._hide(n))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,i,n){if(n.from!==this.uid&&!u["a"].node){var r=lt(n,i);this._ticket="";var o=n.dataByCoordSys,s=pt(n,e,i);if(s){var a=s.el.getBoundingRect().clone();a.applyTransform(s.el.transform),this._tryShow({offsetX:a.x+a.width/2,offsetY:a.y+a.height/2,target:s.el,position:n.position,positionDefault:"bottom"},r)}else if(n.tooltip&&null!=n.x&&null!=n.y){var l=ot;l.x=n.x,l.y=n.y,l.update(),Object(J["a"])(l).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:l},r)}else if(o)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:o,tooltipOption:n.tooltipOption},r);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var c=Object(U["a"])(n,e),h=c.point[0],d=c.point[1];null!=h&&null!=d&&this._tryShow({offsetX:h,offsetY:d,target:c.el,position:n.position,positionDefault:"bottom"},r)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},r))}},e.prototype.manuallyHideTip=function(t,e,i,n){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(lt(n,i))},e.prototype._manuallyAxisShowTip=function(t,e,i,n){var r=n.seriesIndex,o=n.dataIndex,s=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=s){var a=e.getSeriesByIndex(r);if(a){var l=a.getData(),c=at([l.getItemModel(o),a,(a.coordinateSystem||{}).model],this._tooltipModel);if("axis"===c.get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:n.position}),!0}}},e.prototype._tryShow=function(t,e){var i=t.target,n=this._tooltipModel;if(n){this._lastX=t.offsetX,this._lastY=t.offsetY;var r=t.dataByCoordSys;if(r&&r.length)this._showAxisTooltip(r,t);else if(i){var o,s;this._lastDataByCoordSys=null,Object(tt["a"])(i,(function(t){return null!=Object(J["a"])(t).dataIndex?(o=t,!0):null!=Object(J["a"])(t).tooltipConfig?(s=t,!0):void 0}),!0),o?this._showSeriesItemTooltip(t,o,e):s?this._showComponentItemTooltip(t,s,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var i=t.get("showDelay");e=c["c"](e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},e.prototype._showAxisTooltip=function(t,e){var i=this._ecModel,n=this._tooltipModel,r=[e.offsetX,e.offsetY],o=at([e.tooltipOption],n),s=this._renderMode,a=[],l=Object(x["c"])("section",{blocks:[],noHeader:!0}),u=[],h=new x["a"];nt(t,(function(t){nt(t.dataByAxis,(function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value;if(e&&null!=n){var r=Z["d"](n,e.axis,i,t.seriesDataIndices,t.valueLabelOpt),o=Object(x["c"])("section",{header:r,noHeader:!c["Q"](r),sortBlocks:!0,blocks:[]});l.blocks.push(o),c["k"](t.seriesDataIndices,(function(l){var c=i.getSeriesByIndex(l.seriesIndex),d=l.dataIndexInside,p=c.getDataParams(d);if(!(p.dataIndex<0)){p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=W["c"](e.axis,{value:n}),p.axisValueLabel=r,p.marker=h.makeTooltipMarker("item",f["b"](p.color),s);var m=Object(Q["b"])(c.formatTooltip(d,!0,null));m.markupFragment&&o.blocks.push(m.markupFragment),m.markupText&&u.push(m.markupText),a.push(p)}}))}}))})),l.blocks.reverse(),u.reverse();var d=e.position,p=o.get("order"),m=Object(x["b"])(l,h,s,p,i.get("useUTC"),o.get("textStyle"));m&&u.unshift(m);var g="richText"===s?"\n\n":"<br/>",y=u.join(g);this._showOrMove(o,(function(){this._updateContentNotChangedOnAxis(t,a)?this._updatePosition(o,d,r[0],r[1],this._tooltipContent,a):this._showTooltipContent(o,y,a,Math.random()+"",r[0],r[1],d,null,h)}))},e.prototype._showSeriesItemTooltip=function(t,e,i){var n=this._ecModel,r=Object(J["a"])(e),o=r.seriesIndex,s=n.getSeriesByIndex(o),a=r.dataModel||s,l=r.dataIndex,c=r.dataType,u=a.getData(c),h=this._renderMode,d=t.positionDefault,p=at([u.getItemModel(l),a,s&&(s.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),m=p.get("trigger");if(null==m||"item"===m){var g=a.getDataParams(l,c),y=new x["a"];g.marker=y.makeTooltipMarker("item",f["b"](g.color),h);var v=Object(Q["b"])(a.formatTooltip(l,!1,c)),_=p.get("order"),b=v.markupFragment?Object(x["b"])(v.markupFragment,y,h,_,n.get("useUTC"),p.get("textStyle")):v.markupText,w="item_"+a.name+"_"+l;this._showOrMove(p,(function(){this._showTooltipContent(p,b,g,w,t.offsetX,t.offsetY,t.position,t.target,y)})),i({type:"showTip",dataIndexInside:l,dataIndex:u.getRawIndex(l),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,i){var n=Object(J["a"])(e),r=n.tooltipConfig,o=r.option||{};if(c["A"](o)){var s=o;o={content:s,formatter:s}}var a=[o],l=this._ecModel.getComponent(n.componentMainType,n.componentIndex);l&&a.push(l),a.push({formatter:o.content});var u=t.positionDefault,h=at(a,this._tooltipModel,u?{position:u}:null),d=h.get("content"),p=Math.random()+"",f=new x["a"];this._showOrMove(h,(function(){var i=c["d"](h.get("formatterParams")||{});this._showTooltipContent(h,d,i,p,t.offsetX,t.offsetY,t.position,e,f)})),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,i,n,r,o,s,a,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,h=t.get("formatter");s=s||t.get("position");var d=e,p=this._getNearestPoint([r,o],i,t.get("trigger"),t.get("borderColor")),m=p.color;if(h)if(c["A"](h)){var g=t.ecModel.get("useUTC"),y=c["s"](i)?i[0]:i,v=y&&y.axisType&&y.axisType.indexOf("time")>=0;d=h,v&&(d=Object(K["h"])(y.axisValue,d,g)),d=f["d"](d,i,!0)}else if(c["v"](h)){var _=it((function(e,n){e===this._ticket&&(u.setContent(n,l,t,m,s),this._updatePosition(t,s,r,o,u,i,a))}),this);this._ticket=n,d=h(i,n,_)}else d=h;u.setContent(d,l,t,m,s),u.show(t,m),this._updatePosition(t,s,r,o,u,i,a)}},e.prototype._getNearestPoint=function(t,e,i,n){return"axis"===i||c["s"](e)?{color:n||("html"===this._renderMode?"#fff":"none")}:c["s"](e)?void 0:{color:n||e.color||e.borderColor}},e.prototype._doUpdatePosition=function(t,e,i,n,r,o,s){var a=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=r.getSize(),h=t.get("align"),d=t.get("verticalAlign"),p=s&&s.getBoundingRect().clone();if(s&&p.applyTransform(s.transform),c["v"](e)&&(e=e([i,n],o,r.el,p,{viewSize:[a,l],contentSize:u.slice()})),c["s"](e))i=rt(e[0],a),n=rt(e[1],l);else if(c["z"](e)){var f=e;f.width=u[0],f.height=u[1];var g=G["c"](f,{width:a,height:l});i=g.x,n=g.y,h=null,d=null}else if(c["A"](e)&&s){var y=ht(e,p,u,t.get("borderWidth"));i=y[0],n=y[1]}else{y=ct(i,n,r,a,l,h?null:20,d?null:20);i=y[0],n=y[1]}if(h&&(i-=dt(h)?u[0]/2:"right"===h?u[0]:0),d&&(n-=dt(d)?u[1]/2:"bottom"===d?u[1]:0),m(t)){y=ut(i,n,r,a,l);i=y[0],n=y[1]}r.moveTo(i,n)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var i=this._lastDataByCoordSys,n=this._cbParamsList,r=!!i&&i.length===t.length;return r&&nt(i,(function(i,o){var s=i.dataByAxis||[],a=t[o]||{},l=a.dataByAxis||[];r=r&&s.length===l.length,r&&nt(s,(function(t,i){var o=l[i]||{},s=t.seriesDataIndices||[],a=o.seriesDataIndices||[];r=r&&t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&s.length===a.length,r&&nt(s,(function(t,e){var i=a[e];r=r&&t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex})),n&&c["k"](t.seriesDataIndices,(function(t){var i=t.seriesIndex,o=e[i],s=n[i];o&&s&&s.data!==o.data&&(r=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!r},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){u["a"].node||(this._tooltipContent.dispose(),H["b"]("itemTooltip",e))},e.type="tooltip",e}(Y["a"]);function at(t,e,i){var n,r=e.ecModel;i?(n=new q["a"](i,r,r),n=new q["a"](e.option,n,r)):n=e;for(var o=t.length-1;o>=0;o--){var s=t[o];s&&(s instanceof q["a"]&&(s=s.get("tooltip",!0)),c["A"](s)&&(s={formatter:s}),s&&(n=new q["a"](s,n,r)))}return n}function lt(t,e){return t.dispatchAction||c["c"](e.dispatchAction,e)}function ct(t,e,i,n,r,o,s){var a=i.getSize(),l=a[0],c=a[1];return null!=o&&(t+l+o+2>n?t-=l+o:t+=o),null!=s&&(e+c+s>r?e-=c+s:e+=s),[t,e]}function ut(t,e,i,n,r){var o=i.getSize(),s=o[0],a=o[1];return t=Math.min(t+s,n)-s,e=Math.min(e+a,r)-a,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function ht(t,e,i,n){var r=i[0],o=i[1],s=Math.ceil(Math.SQRT2*n)+8,a=0,l=0,c=e.width,u=e.height;switch(t){case"inside":a=e.x+c/2-r/2,l=e.y+u/2-o/2;break;case"top":a=e.x+c/2-r/2,l=e.y-o-s;break;case"bottom":a=e.x+c/2-r/2,l=e.y+u+s;break;case"left":a=e.x-r-s,l=e.y+u/2-o/2;break;case"right":a=e.x+c+s,l=e.y+u/2-o/2}return[a,l]}function dt(t){return"center"===t||"middle"===t}function pt(t,e,i){var n=Object(X["p"])(t).queryOptionMap,r=n.keys()[0];if(r&&"series"!==r){var o=Object(X["r"])(e,r,n.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),s=o.models[0];if(s){var a,l=i.getViewOfComponentModel(s);return l.group.traverse((function(e){var i=Object(J["a"])(e).tooltipConfig;if(i&&i.name===t.name)return a=e,!0})),a?{componentMainType:r,componentIndex:s.componentIndex,el:a}:void 0}}}var ft=st;function mt(t){Object(r["a"])(n["a"]),t.registerComponentModel(l),t.registerComponentView(ft),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))}},"2dc5":function(t,e,i){"use strict";var n=i("21a1"),r=i("6d8b"),o=i("d5b7"),s=i("9850"),a=function(t){function e(e){var i=t.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return Object(n["a"])(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var i=r["q"](this._children,t);return i>=0&&this.replaceAt(e,i),this},e.prototype.replaceAt=function(t,e){var i=this._children,n=i[e];if(t&&t!==this&&t.parent!==this&&t!==n){i[e]=t,n.parent=null;var r=this.__zr;r&&n.removeSelfFromZr(r),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,i=this._children,n=r["q"](i,t);return n<0||(i.splice(n,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,i=0;i<t.length;i++){var n=t[i];e&&n.removeSelfFromZr(e),n.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var i=this._children,n=0;n<i.length;n++){var r=i[n];t.call(e,r,n)}return this},e.prototype.traverse=function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i],r=t.call(e,n);n.isGroup&&!r&&n.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++){var n=this._children[i];n.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++){var n=this._children[i];n.removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new s["a"](0,0,0,0),i=t||this._children,n=[],r=null,o=0;o<i.length;o++){var a=i[o];if(!a.ignore&&!a.invisible){var l=a.getBoundingRect(),c=a.getLocalTransform(n);c?(s["a"].applyTransform(e,l,c),r=r||e.clone(),r.union(e)):(r=r||l.clone(),r.union(l))}}return r||e},e}(o["a"]);a.prototype.type="group",e["a"]=a},"2e67":function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"2f62":function(t,e,i){"use strict";(function(t){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function n(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:n});else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,i.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}i.d(e,"b",(function(){return j})),i.d(e,"c",(function(){return z})),i.d(e,"d",(function(){return P}));var r="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},o=r.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(t){o&&(t._devtoolHook=o,o.emit("vuex:init",t),o.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){o.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){o.emit("vuex:action",t,e)}),{prepend:!0}))}function a(t,e){return t.filter(e)[0]}function l(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var i=a(e,(function(e){return e.original===t}));if(i)return i.copy;var n=Array.isArray(t)?[]:{};return e.push({original:t,copy:n}),Object.keys(t).forEach((function(i){n[i]=l(t[i],e)})),n}function c(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function u(t){return null!==t&&"object"===typeof t}function h(t){return t&&"function"===typeof t.then}function d(t,e){return function(){return t(e)}}var p=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"===typeof i?i():i)||{}},f={namespaced:{configurable:!0}};f.namespaced.get=function(){return!!this._rawModule.namespaced},p.prototype.addChild=function(t,e){this._children[t]=e},p.prototype.removeChild=function(t){delete this._children[t]},p.prototype.getChild=function(t){return this._children[t]},p.prototype.hasChild=function(t){return t in this._children},p.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},p.prototype.forEachChild=function(t){c(this._children,t)},p.prototype.forEachGetter=function(t){this._rawModule.getters&&c(this._rawModule.getters,t)},p.prototype.forEachAction=function(t){this._rawModule.actions&&c(this._rawModule.actions,t)},p.prototype.forEachMutation=function(t){this._rawModule.mutations&&c(this._rawModule.mutations,t)},Object.defineProperties(p.prototype,f);var m=function(t){this.register([],t,!1)};function g(t,e,i){if(e.update(i),i.modules)for(var n in i.modules){if(!e.getChild(n))return void 0;g(t.concat(n),e.getChild(n),i.modules[n])}}m.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},m.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return e=e.getChild(i),t+(e.namespaced?i+"/":"")}),"")},m.prototype.update=function(t){g([],this.root,t)},m.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var r=new p(e,i);if(0===t.length)this.root=r;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],r)}e.modules&&c(e.modules,(function(e,r){n.register(t.concat(r),e,i)}))},m.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],n=e.getChild(i);n&&n.runtime&&e.removeChild(i)},m.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return!!e&&e.hasChild(i)};var y;var v=function(t){var e=this;void 0===t&&(t={}),!y&&"undefined"!==typeof window&&window.Vue&&D(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new m(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new y,this._makeLocalGettersCache=Object.create(null);var r=this,o=this,a=o.dispatch,l=o.commit;this.dispatch=function(t,e){return a.call(r,t,e)},this.commit=function(t,e,i){return l.call(r,t,e,i)},this.strict=n;var c=this._modules.root.state;S(this,c,[],this._modules.root),w(this,c),i.forEach((function(t){return t(e)}));var u=void 0!==t.devtools?t.devtools:y.config.devtools;u&&s(this)},_={state:{configurable:!0}};function b(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function x(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;S(t,i,[],t._modules.root,!0),w(t,i,e)}function w(t,e,i){var n=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,o={};c(r,(function(e,i){o[i]=d(e,t),Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})}));var s=y.config.silent;y.config.silent=!0,t._vm=new y({data:{$$state:e},computed:o}),y.config.silent=s,t.strict&&I(t),n&&(i&&t._withCommit((function(){n._data.$$state=null})),y.nextTick((function(){return n.$destroy()})))}function S(t,e,i,n,r){var o=!i.length,s=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=n),!o&&!r){var a=E(e,i.slice(0,-1)),l=i[i.length-1];t._withCommit((function(){y.set(a,l,n.state)}))}var c=n.context=T(t,s,i);n.forEachMutation((function(e,i){var n=s+i;O(t,n,e,c)})),n.forEachAction((function(e,i){var n=e.root?i:s+i,r=e.handler||e;k(t,n,r,c)})),n.forEachGetter((function(e,i){var n=s+i;A(t,n,e,c)})),n.forEachChild((function(n,o){S(t,e,i.concat(o),n,r)}))}function T(t,e,i){var n=""===e,r={dispatch:n?t.dispatch:function(i,n,r){var o=M(i,n,r),s=o.payload,a=o.options,l=o.type;return a&&a.root||(l=e+l),t.dispatch(l,s)},commit:n?t.commit:function(i,n,r){var o=M(i,n,r),s=o.payload,a=o.options,l=o.type;a&&a.root||(l=e+l),t.commit(l,s,a)}};return Object.defineProperties(r,{getters:{get:n?function(){return t.getters}:function(){return C(t,e)}},state:{get:function(){return E(t.state,i)}}}),r}function C(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,n)===e){var o=r.slice(n);Object.defineProperty(i,o,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}function O(t,e,i,n){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){i.call(t,n.state,e)}))}function k(t,e,i,n){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return h(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}function A(t,e,i,n){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)})}function I(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function E(t,e){return e.reduce((function(t,e){return t[e]}),t)}function M(t,e,i){return u(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function D(t){y&&t===y||(y=t,n(y))}_.state.get=function(){return this._vm._data.$$state},_.state.set=function(t){0},v.prototype.commit=function(t,e,i){var n=this,r=M(t,e,i),o=r.type,s=r.payload,a=(r.options,{type:o,payload:s}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,n.state)})))},v.prototype.dispatch=function(t,e){var i=this,n=M(t,e),r=n.type,o=n.payload,s={type:r,payload:o},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,i.state)}))}catch(c){0}var l=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){l.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,i.state)}))}catch(c){0}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,i.state,t)}))}catch(c){0}e(t)}))}))}},v.prototype.subscribe=function(t,e){return b(t,this._subscribers,e)},v.prototype.subscribeAction=function(t,e){var i="function"===typeof t?{before:t}:t;return b(i,this._actionSubscribers,e)},v.prototype.watch=function(t,e,i){var n=this;return this._watcherVM.$watch((function(){return t(n.state,n.getters)}),e,i)},v.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},v.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),S(this,this.state,t,this._modules.get(t),i.preserveState),w(this,this.state)},v.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=E(e.state,t.slice(0,-1));y.delete(i,t[t.length-1])})),x(this)},v.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},v.prototype.hotUpdate=function(t){this._modules.update(t),x(this,!0)},v.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(v.prototype,_);var P=N((function(t,e){var i={};return R(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=V(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"===typeof r?r.call(this,e,i):e[r]},i[n].vuex=!0})),i})),L=N((function(t,e){var i={};return R(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.commit;if(t){var o=V(this.$store,"mapMutations",t);if(!o)return;n=o.context.commit}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i})),z=N((function(t,e){var i={};return R(e).forEach((function(e){var n=e.key,r=e.val;r=t+r,i[n]=function(){if(!t||V(this.$store,"mapGetters",t))return this.$store.getters[r]},i[n].vuex=!0})),i})),j=N((function(t,e){var i={};return R(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var o=V(this.$store,"mapActions",t);if(!o)return;n=o.context.dispatch}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i})),B=function(t){return{mapState:P.bind(null,t),mapGetters:z.bind(null,t),mapMutations:L.bind(null,t),mapActions:j.bind(null,t)}};function R(t){return F(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function F(t){return Array.isArray(t)||u(t)}function N(t){return function(e,i){return"string"!==typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function V(t,e,i){var n=t._modulesNamespaceMap[i];return n}function $(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var i=t.filter;void 0===i&&(i=function(t,e,i){return!0});var n=t.transformer;void 0===n&&(n=function(t){return t});var r=t.mutationTransformer;void 0===r&&(r=function(t){return t});var o=t.actionFilter;void 0===o&&(o=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var a=t.logMutations;void 0===a&&(a=!0);var c=t.logActions;void 0===c&&(c=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var h=l(t.state);"undefined"!==typeof u&&(a&&t.subscribe((function(t,o){var s=l(o);if(i(t,h,s)){var a=q(),c=r(t),d="mutation "+t.type+a;U(u,d,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",n(h)),u.log("%c mutation","color: #03A9F4; font-weight: bold",c),u.log("%c next state","color: #4CAF50; font-weight: bold",n(s)),G(u)}h=s})),c&&t.subscribeAction((function(t,i){if(o(t,i)){var n=q(),r=s(t),a="action "+t.type+n;U(u,a,e),u.log("%c action","color: #03A9F4; font-weight: bold",r),G(u)}})))}}function U(t,e,i){var n=i?t.groupCollapsed:t.group;try{n.call(t,e)}catch(r){t.log(e)}}function G(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function q(){var t=new Date;return" @ "+W(t.getHours(),2)+":"+W(t.getMinutes(),2)+":"+W(t.getSeconds(),2)+"."+W(t.getMilliseconds(),3)}function H(t,e){return new Array(e+1).join(t)}function W(t,e){return H("0",e-t.toString().length)+t}var Z={Store:v,install:D,version:"3.6.2",mapState:P,mapMutations:L,mapGetters:z,mapActions:j,createNamespacedHelpers:B,createLogger:$};e["a"]=Z}).call(this,i("c8ba"))},"2fa4":function(t,e,i){"use strict";i("20f6");var n=i("80d2");e["a"]=Object(n["i"])("spacer","div","v-spacer")},"30b5":function(t,e,i){"use strict";var n=i("c532");function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var o;if(i)o=i(e);else if(n.isURLSearchParams(e))o=e.toString();else{var s=[];n.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(r(e)+"="+r(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},3206:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a}));var n=i("2b0e"),r=i("d9bd");function o(t,e){return()=>Object(r["c"])(`The ${t} component must be used inside a ${e}`)}function s(t,e,i){const r=e&&i?{register:o(e,i),unregister:o(e,i)}:null;return n["a"].extend({name:"registrable-inject",inject:{[t]:{default:r}}})}function a(t,e=!1){return n["a"].extend({name:"registrable-provide",provide(){return{[t]:e?this:{register:this.register,unregister:this.unregister}}}})}},3408:function(t,e,i){},"342d":function(t,e,i){"use strict";i.d(e,"a",(function(){return k})),i.d(e,"b",(function(){return A})),i.d(e,"c",(function(){return I}));var n=i("21a1"),r=i("cbe5"),o=i("20c8"),s=i("401b"),a=o["a"].CMD,l=[[],[],[]],c=Math.sqrt,u=Math.atan2;function h(t,e){if(e){var i,n,r,o,h,d,p=t.data,f=t.len(),m=a.M,g=a.C,y=a.L,v=a.R,_=a.A,b=a.Q;for(r=0,o=0;r<f;){switch(i=p[r++],o=r,n=0,i){case m:n=1;break;case y:n=1;break;case g:n=3;break;case b:n=2;break;case _:var x=e[4],w=e[5],S=c(e[0]*e[0]+e[1]*e[1]),T=c(e[2]*e[2]+e[3]*e[3]),C=u(-e[1]/T,e[0]/S);p[r]*=S,p[r++]+=x,p[r]*=T,p[r++]+=w,p[r++]*=S,p[r++]*=T,p[r++]+=C,p[r++]+=C,r+=2,o=r;break;case v:d[0]=p[r++],d[1]=p[r++],Object(s["b"])(d,d,e),p[o++]=d[0],p[o++]=d[1],d[0]+=p[r++],d[1]+=p[r++],Object(s["b"])(d,d,e),p[o++]=d[0],p[o++]=d[1]}for(h=0;h<n;h++){var O=l[h];O[0]=p[r++],O[1]=p[r++],Object(s["b"])(O,O,e),p[o++]=O[0],p[o++]=O[1]}}t.increaseVersion()}}var d=i("6d8b"),p=Math.sqrt,f=Math.sin,m=Math.cos,g=Math.PI;function y(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function v(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))}function _(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(v(t,e))}function b(t,e,i,n,r,o,s,a,l,c,u){var h=l*(g/180),d=m(h)*(t-i)/2+f(h)*(e-n)/2,y=-1*f(h)*(t-i)/2+m(h)*(e-n)/2,b=d*d/(s*s)+y*y/(a*a);b>1&&(s*=p(b),a*=p(b));var x=(r===o?-1:1)*p((s*s*(a*a)-s*s*(y*y)-a*a*(d*d))/(s*s*(y*y)+a*a*(d*d)))||0,w=x*s*y/a,S=x*-a*d/s,T=(t+i)/2+m(h)*w-f(h)*S,C=(e+n)/2+f(h)*w+m(h)*S,O=_([1,0],[(d-w)/s,(y-S)/a]),k=[(d-w)/s,(y-S)/a],A=[(-1*d-w)/s,(-1*y-S)/a],I=_(k,A);if(v(k,A)<=-1&&(I=g),v(k,A)>=1&&(I=0),I<0){var E=Math.round(I/g*1e6)/1e6;I=2*g+E%2*g}u.addData(c,T,C,s,a,O,I,h,o)}var x=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,w=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function S(t){var e=new o["a"];if(!t)return e;var i,n=0,r=0,s=n,a=r,l=o["a"].CMD,c=t.match(x);if(!c)return e;for(var u=0;u<c.length;u++){for(var h=c[u],d=h.charAt(0),p=void 0,f=h.match(w)||[],m=f.length,g=0;g<m;g++)f[g]=parseFloat(f[g]);var y=0;while(y<m){var v=void 0,_=void 0,S=void 0,T=void 0,C=void 0,O=void 0,k=void 0,A=n,I=r,E=void 0,M=void 0;switch(d){case"l":n+=f[y++],r+=f[y++],p=l.L,e.addData(p,n,r);break;case"L":n=f[y++],r=f[y++],p=l.L,e.addData(p,n,r);break;case"m":n+=f[y++],r+=f[y++],p=l.M,e.addData(p,n,r),s=n,a=r,d="l";break;case"M":n=f[y++],r=f[y++],p=l.M,e.addData(p,n,r),s=n,a=r,d="L";break;case"h":n+=f[y++],p=l.L,e.addData(p,n,r);break;case"H":n=f[y++],p=l.L,e.addData(p,n,r);break;case"v":r+=f[y++],p=l.L,e.addData(p,n,r);break;case"V":r=f[y++],p=l.L,e.addData(p,n,r);break;case"C":p=l.C,e.addData(p,f[y++],f[y++],f[y++],f[y++],f[y++],f[y++]),n=f[y-2],r=f[y-1];break;case"c":p=l.C,e.addData(p,f[y++]+n,f[y++]+r,f[y++]+n,f[y++]+r,f[y++]+n,f[y++]+r),n+=f[y-2],r+=f[y-1];break;case"S":v=n,_=r,E=e.len(),M=e.data,i===l.C&&(v+=n-M[E-4],_+=r-M[E-3]),p=l.C,A=f[y++],I=f[y++],n=f[y++],r=f[y++],e.addData(p,v,_,A,I,n,r);break;case"s":v=n,_=r,E=e.len(),M=e.data,i===l.C&&(v+=n-M[E-4],_+=r-M[E-3]),p=l.C,A=n+f[y++],I=r+f[y++],n+=f[y++],r+=f[y++],e.addData(p,v,_,A,I,n,r);break;case"Q":A=f[y++],I=f[y++],n=f[y++],r=f[y++],p=l.Q,e.addData(p,A,I,n,r);break;case"q":A=f[y++]+n,I=f[y++]+r,n+=f[y++],r+=f[y++],p=l.Q,e.addData(p,A,I,n,r);break;case"T":v=n,_=r,E=e.len(),M=e.data,i===l.Q&&(v+=n-M[E-4],_+=r-M[E-3]),n=f[y++],r=f[y++],p=l.Q,e.addData(p,v,_,n,r);break;case"t":v=n,_=r,E=e.len(),M=e.data,i===l.Q&&(v+=n-M[E-4],_+=r-M[E-3]),n+=f[y++],r+=f[y++],p=l.Q,e.addData(p,v,_,n,r);break;case"A":S=f[y++],T=f[y++],C=f[y++],O=f[y++],k=f[y++],A=n,I=r,n=f[y++],r=f[y++],p=l.A,b(A,I,n,r,O,k,S,T,C,p,e);break;case"a":S=f[y++],T=f[y++],C=f[y++],O=f[y++],k=f[y++],A=n,I=r,n+=f[y++],r+=f[y++],p=l.A,b(A,I,n,r,O,k,S,T,C,p,e);break}}"z"!==d&&"Z"!==d||(p=l.Z,e.addData(p),n=s,r=a),i=p}return e.toStatic(),e}var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["a"])(e,t),e.prototype.applyTransform=function(t){},e}(r["b"]);function C(t){return null!=t.setData}function O(t,e){var i=S(t),n=Object(d["m"])({},e);return n.buildPath=function(t){if(C(t)){t.setData(i.data);var e=t.getContext();e&&t.rebuildPath(e,1)}else{e=t;i.rebuildPath(e,1)}},n.applyTransform=function(t){h(i,t),this.dirtyShape()},n}function k(t,e){return new T(O(t,e))}function A(t,e){var i=O(t,e),r=function(t){function e(e){var n=t.call(this,e)||this;return n.applyTransform=i.applyTransform,n.buildPath=i.buildPath,n}return Object(n["a"])(e,t),e}(T);return r}function I(t,e){for(var i=[],n=t.length,o=0;o<n;o++){var s=t[o];i.push(s.getUpdatedPathProxy(!0))}var a=new r["b"](e);return a.createPathProxy(),a.buildPath=function(t){if(C(t)){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e,1)}},a}},"342f":function(t,e,i){var n=i("d066");t.exports=n("navigator","userAgent")||""},3437:function(t,e,i){"use strict";function n(t,e,i){var n=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,s=null==e.y2?0:e.y2;e.global||(n=n*i.width+i.x,r=r*i.width+i.x,o=o*i.height+i.y,s=s*i.height+i.y),n=isNaN(n)?0:n,r=isNaN(r)?1:r,o=isNaN(o)?0:o,s=isNaN(s)?0:s;var a=t.createLinearGradient(n,o,r,s);return a}function r(t,e,i){var n=i.width,r=i.height,o=Math.min(n,r),s=null==e.x?.5:e.x,a=null==e.y?.5:e.y,l=null==e.r?.5:e.r;e.global||(s=s*n+i.x,a=a*r+i.y,l*=o);var c=t.createRadialGradient(s,a,0,s,a,l);return c}function o(t,e,i){for(var o="radial"===e.type?r(t,e,i):n(t,e,i),s=e.colorStops,a=0;a<s.length;a++)o.addColorStop(s[a].offset,s[a].color);return o}function s(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s}))},"34c3":function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend({name:"v-list-item-icon",functional:!0,render(t,{data:e,children:i}){return e.staticClass=("v-list-item__icon "+(e.staticClass||"")).trim(),t("div",e,i)}})},"34ef":function(t,e,i){"use strict";var n=i("cc20");e["a"]=n["a"]},"35a1":function(t,e,i){var n=i("f5df"),r=i("dc4a"),o=i("3f8c"),s=i("b622"),a=s("iterator");t.exports=function(t){if(void 0!=t)return r(t,a)||r(t,"@@iterator")||o[n(t)]}},3620:function(t,e,i){"use strict";i.d(e,"a",(function(){return we}));var n=i("7fae"),r=i("6d8b"),o=i("4319");function s(t){return null==t?0:t.length||1}function a(t){return t}var l=function(){function t(t,e,i,n,r,o){this._old=t,this._new=e,this._oldKeyGetter=i||a,this._newKeyGetter=n||a,this.context=r,this._diffModeMultiple="multiple"===o}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},n=new Array(t.length),r=new Array(e.length);this._initIndexMap(t,null,n,"_oldKeyGetter"),this._initIndexMap(e,i,r,"_newKeyGetter");for(var o=0;o<t.length;o++){var a=n[o],l=i[a],c=s(l);if(c>1){var u=l.shift();1===l.length&&(i[a]=l[0]),this._update&&this._update(u,o)}else 1===c?(i[a]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(r,i)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,i={},n={},r=[],o=[];this._initIndexMap(t,i,r,"_oldKeyGetter"),this._initIndexMap(e,n,o,"_newKeyGetter");for(var a=0;a<r.length;a++){var l=r[a],c=i[l],u=n[l],h=s(c),d=s(u);if(h>1&&1===d)this._updateManyToOne&&this._updateManyToOne(u,c),n[l]=null;else if(1===h&&d>1)this._updateOneToMany&&this._updateOneToMany(u,c),n[l]=null;else if(1===h&&1===d)this._update&&this._update(u,c),n[l]=null;else if(h>1&&d>1)this._updateManyToMany&&this._updateManyToMany(u,c),n[l]=null;else if(h>1)for(var p=0;p<h;p++)this._remove&&this._remove(c[p]);else this._remove&&this._remove(c)}this._performRestAdd(o,n)},t.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=e[n],o=s(r);if(o>1)for(var a=0;a<o;a++)this._add&&this._add(r[a]);else 1===o&&this._add&&this._add(r);e[n]=null}},t.prototype._initIndexMap=function(t,e,i,n){for(var r=this._diffModeMultiple,o=0;o<t.length;o++){var a="_ec_"+this[n](t[o],o);if(r||(i[o]=a),e){var l=e[a],c=s(l);0===c?(e[a]=o,r&&i.push(a)):1===c?e[a]=[l,o]:l.push(o)}}},t}(),c=l,u=i("2b17"),h=i("07fd"),d=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function p(t,e){var i={},n=i.encode={},o=Object(r["g"])(),s=[],a=[],l={};Object(r["k"])(t.dimensions,(function(e){var i=t.getDimensionInfo(e),r=i.coordDim;if(r){0;var c=i.coordDimIndex;f(n,r)[c]=e,i.isExtraCoord||(o.set(r,1),g(i.type)&&(s[0]=e),f(l,r)[c]=t.getDimensionIndex(i.name)),i.defaultTooltip&&a.push(e)}h["i"].each((function(t,e){var r=f(n,e),o=i.otherDims[e];null!=o&&!1!==o&&(r[o]=i.name)}))}));var c=[],u={};o.each((function(t,e){var i=n[e];u[e]=i[0],c=c.concat(i)})),i.dataDimsOnCoord=c,i.dataDimIndicesOnCoord=Object(r["F"])(c,(function(e){return t.getDimensionInfo(e).storeDimIndex})),i.encodeFirstDimNotExtra=u;var p=n.label;p&&p.length&&(s=p.slice());var m=n.tooltip;return m&&m.length?a=m.slice():a.length||(a=s.slice()),n.defaultedLabel=s,n.defaultedTooltip=a,i.userOutput=new d(l,e),i}function f(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function m(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function g(t){return!("ordinal"===t||"time"===t)}var y,v,_,b,x,w,S,T=function(){function t(t){this.otherDims={},null!=t&&r["m"](this,t)}return t}(),C=T,O=i("e0d3"),k=i("861c"),A=i("ec6f"),I=i("d0ce"),E=i("80b9"),M=r["z"],D=r["F"],P="undefined"===typeof Int32Array?Array:Int32Array,L="e\0\0",z=-1,j=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],B=["_approximateExtent"],R=function(){function t(t,e){var i;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n=!1;Object(E["d"])(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(n=!0,i=t),i=i||["x","y"];for(var o={},s=[],a={},l=!1,c={},u=0;u<i.length;u++){var h=i[u],d=r["A"](h)?new C({name:h}):h instanceof C?h:new C(h),p=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=p,d.coordDimIndex=0);var f=d.otherDims=d.otherDims||{};s.push(p),o[p]=d,null!=c[p]&&(l=!0),d.createInvertedIndices&&(a[p]=[]),0===f.itemName&&(this._nameDimIdx=u),0===f.itemId&&(this._idDimIdx=u),n&&(d.storeDimIndex=u)}if(this.dimensions=s,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var m=this._dimIdxToName=r["g"]();r["k"](s,(function(t){m.set(o[t].storeDimIndex,t)}))}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var i=this._dimIdxToName.get(e);if(null!=i)return i;var n=this._schema.getSourceDimension(e);return n?n.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if("number"===typeof t||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var i=this._dimSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var n=i.encode[t];return n?n[e]:null},t.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,i=e.encode[t];return(i||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,i){var n,o=this;if(t instanceof I["b"]&&(n=t),!n){var s=this.dimensions,a=Object(A["e"])(t)||r["t"](t)?new u["a"](t,s.length):t;n=new I["b"];var l=D(s,(function(t){return{type:o._dimInfos[t].type,property:t}}));n.initData(a,l,i)}this._store=n,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,n.count()),this._dimSummary=p(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var i=this._store.appendValues(t,e.length),n=i.start,r=i.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=n;s<r;s++){var a=s-n;this._nameList[s]=e[a],o&&S(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,i=0;i<e.length;i++){var n=this._dimInfos[e[i]];n.ordinalMeta&&t.collectOrdinalMeta(n.storeDimIndex,n.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==h["g"]&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store,n=i.getProvider();this._updateOrdinalMeta();var r=this._nameList,o=this._idList,s=n.getSource().sourceFormat,a=s===h["f"];if(a&&!n.pure)for(var l=[],c=t;c<e;c++){var u=n.getItem(c,l);if(!this.hasItemOption&&Object(O["j"])(u)&&(this.hasItemOption=!0),u){var d=u.name;null==r[c]&&null!=d&&(r[c]=Object(O["c"])(d,null));var p=u.id;null==o[c]&&null!=p&&(o[c]=Object(O["c"])(p,null))}}if(this._shouldMakeIdFromName())for(c=t;c<e;c++)S(this,c);y(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){M(t)?r["m"](this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return null==i&&null!=this._nameDimIdx&&(i=_(this,this._nameDimIdx,e)),null==i&&(i=""),i},t.prototype._getCategory=function(t,e){var i=this._store.get(t,e),n=this._store.getOrdinalMeta(t);return n?n.categories[i]:i},t.prototype.getId=function(t){return v(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var i=this._store,n=this._dimInfos[t];if(n)return i.get(n.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var i=this._store,n=this._dimInfos[t];if(n)return i.getByRawIndex(n.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var i=this,n=this._store;return r["s"](t)?n.getValues(D(t,(function(t){return i._getStoreDimIndex(t)})),e):n.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,i=0,n=e.length;i<n;i++)if(isNaN(this._store.get(e[i],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,i=this._store.count();e<i;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var i=t&&this._invertedIndicesMap[t];var n=i[e];return null==n||isNaN(n)?z:n},t.prototype.indicesOfNearest=function(t,e,i){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,i)},t.prototype.each=function(t,e,i){"function"===typeof t&&(i=e,e=t,t=[]);var n=i||this,o=D(b(t),this._getStoreDimIndex,this);this._store.each(o,n?r["c"](e,n):e)},t.prototype.filterSelf=function(t,e,i){"function"===typeof t&&(i=e,e=t,t=[]);var n=i||this,o=D(b(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,n?r["c"](e,n):e),this},t.prototype.selectRange=function(t){var e=this,i={},n=r["D"](t),o=[];return r["k"](n,(function(n){var r=e._getStoreDimIndex(n);i[r]=t[n],o.push(r)})),this._store=this._store.selectRange(i),this},t.prototype.mapArray=function(t,e,i){"function"===typeof t&&(i=e,e=t,t=[]),i=i||this;var n=[];return this.each(t,(function(){n.push(e&&e.apply(this,arguments))}),i),n},t.prototype.map=function(t,e,i,n){var o=i||n||this,s=D(b(t),this._getStoreDimIndex,this),a=w(this);return a._store=this._store.map(s,o?r["c"](e,o):e),a},t.prototype.modify=function(t,e,i,n){var o=i||n||this;var s=D(b(t),this._getStoreDimIndex,this);this._store.modify(s,o?r["c"](e,o):e)},t.prototype.downSample=function(t,e,i,n){var r=w(this);return r._store=this._store.downSample(this._getStoreDimIndex(t),e,i,n),r},t.prototype.lttbDownSample=function(t,e){var i=w(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),i},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new o["a"](i,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new c(t?t.getStore().getIndices():[],this.getStore().getIndices(),(function(e){return v(t,e)}),(function(t){return v(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},M(t)?r["m"](this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t],n=i&&i[e];return null==n?this.getVisual(e):n},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,n=i[t];n||(n=i[t]={});var o=n[e];return null==o&&(o=this.getVisual(e),r["s"](o)?o=o.slice():M(o)&&(o=r["m"]({},o)),n[e]=o),o},t.prototype.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};this._itemVisuals[t]=n,M(e)?r["m"](n,e):n[e]=i},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){if(M(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?r["m"](this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var i=this.hostModel&&this.hostModel.seriesIndex;Object(k["b"])(i,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){r["k"](this._graphicEls,(function(i,n){i&&t&&t.call(e,i,n)}))},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:D(this.dimensions,this._getDimInfo,this),this.hostModel)),x(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var i=this[t];"function"===typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(r["P"](arguments)))})},t.internalField=function(){y=function(t){var e=t._invertedIndicesMap;r["k"](e,(function(i,n){var r=t._dimInfos[n],o=r.ordinalMeta,s=t._store;if(o){i=e[n]=new P(o.categories.length);for(var a=0;a<i.length;a++)i[a]=z;for(a=0;a<s.count();a++)i[s.get(r.storeDimIndex,a)]=a}}))},_=function(t,e,i){return Object(O["c"])(t._getCategory(e,i),null)},v=function(t,e){var i=t._idList[e];return null==i&&null!=t._idDimIdx&&(i=_(t,t._idDimIdx,e)),null==i&&(i=L+e),i},b=function(t){return r["s"](t)||(t=null!=t?[t]:[]),t},w=function(e){var i=new t(e._schema?e._schema:D(e.dimensions,e._getDimInfo,e),e.hostModel);return x(i,e),i},x=function(t,e){r["k"](j.concat(e.__wrappedMethods||[]),(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t.__wrappedMethods=e.__wrappedMethods,r["k"](B,(function(i){t[i]=r["d"](e[i])})),t._calculationInfo=r["m"]({},e._calculationInfo)},S=function(t,e){var i=t._nameList,n=t._idList,r=t._nameDimIdx,o=t._idDimIdx,s=i[e],a=n[e];if(null==s&&null!=r&&(i[e]=s=_(t,r,e)),null==a&&null!=o&&(n[e]=a=_(t,o,e)),null==a&&null!=s){var l=t._nameRepeatCount,c=l[s]=(l[s]||0)+1;a=s,c>1&&(a+="__ec__"+c),n[e]=a}}}(),t}(),F=R,N=i("0f99");function V(t,e){Object(A["e"])(t)||(t=Object(A["c"])(t)),e=e||{};var i=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],o=Object(r["g"])(),s=[],a=U(t,i,n,e.dimensionsCount),l=e.canOmitUnusedDimensions&&Object(E["e"])(a),c=n===t.dimensionsDefine,u=c?Object(E["c"])(t):Object(E["b"])(n),d=e.encodeDefine;!d&&e.encodeDefaulter&&(d=e.encodeDefaulter(t,a));for(var p=Object(r["g"])(d),f=new I["a"](a),m=0;m<f.length;m++)f[m]=-1;function g(t){var e=f[t];if(e<0){var i=n[t],o=Object(r["z"])(i)?i:{name:i},a=new C,l=o.name;null!=l&&null!=u.get(l)&&(a.name=a.displayName=l),null!=o.type&&(a.type=o.type),null!=o.displayName&&(a.displayName=o.displayName);var c=s.length;return f[t]=c,a.storeDimIndex=t,s.push(a),a}return s[e]}if(!l)for(m=0;m<a;m++)g(m);p.each((function(t,e){var i=Object(O["n"])(t).slice();if(1===i.length&&!Object(r["A"])(i[0])&&i[0]<0)p.set(e,!1);else{var n=p.set(e,[]);Object(r["k"])(i,(function(t,i){var o=Object(r["A"])(t)?u.get(t):t;null!=o&&o<a&&(n[i]=o,v(g(o),e,i))}))}}));var y=0;function v(t,e,i){null!=h["i"].get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,o.set(e,!0))}Object(r["k"])(i,(function(t){var e,i,n,o;if(Object(r["A"])(t))e=t,o={};else{o=t,e=o.name;var s=o.ordinalMeta;o.ordinalMeta=null,o=Object(r["m"])({},o),o.ordinalMeta=s,i=o.dimsDef,n=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var l=p.get(e);if(!1!==l){if(l=Object(O["n"])(l),!l.length)for(var u=0;u<(i&&i.length||1);u++){while(y<a&&null!=g(y).coordDim)y++;y<a&&l.push(y++)}Object(r["k"])(l,(function(t,s){var a=g(t);if(c&&null!=o.type&&(a.type=o.type),v(Object(r["j"])(a,o),e,s),null==a.name&&i){var l=i[s];!Object(r["z"])(l)&&(l={name:l}),a.name=a.displayName=l.name,a.defaultTooltip=l.defaultTooltip}n&&Object(r["j"])(a.otherDims,n)}))}}));var _=e.generateCoord,b=e.generateCoordCount,x=null!=b;b=_?b||1:0;var w=_||"value";function S(t){null==t.name&&(t.name=t.coordDim)}if(l)Object(r["k"])(s,(function(t){S(t)})),s.sort((function(t,e){return t.storeDimIndex-e.storeDimIndex}));else for(var T=0;T<a;T++){var k=g(T),M=k.coordDim;null==M&&(k.coordDim=G(w,o,x),k.coordDimIndex=0,(!_||b<=0)&&(k.isExtraCoord=!0),b--),S(k),null!=k.type||Object(N["b"])(t,T)!==N["a"].Must&&(!k.isExtraCoord||null==k.otherDims.itemName&&null==k.otherDims.seriesName)||(k.type="ordinal")}return $(s),new E["a"]({source:t,dimensions:s,fullDimensionCount:a,dimensionOmitted:l})}function $(t){for(var e=Object(r["g"])(),i=0;i<t.length;i++){var n=t[i],o=n.name,s=e.get(o)||0;s>0&&(n.name=o+(s-1)),s++,e.set(o,s)}}function U(t,e,i,n){var o=Math.max(t.dimensionsDetectedCount||1,e.length,i.length,n||0);return Object(r["k"])(e,(function(t){var e;Object(r["z"])(t)&&(e=t.dimsDef)&&(o=Math.max(o,e.length))})),o}function G(t,e,i){var n=e.data;if(i||n.hasOwnProperty(t)){var r=0;while(n.hasOwnProperty(t+r))r++;t+=r}return e.set(t,!0),t}var q=i("1f39"),H=function(){function t(t){this.coordSysDims=[],this.axisMap=Object(r["g"])(),this.categoryAxisMap=Object(r["g"])(),this.coordSysName=t}return t}();function W(t){var e=t.get("coordinateSystem"),i=new H(e),n=Z[e];if(n)return n(t,i,i.axisMap,i.categoryAxisMap),i}var Z={cartesian2d:function(t,e,i,n){var r=t.getReferringComponents("xAxis",O["a"]).models[0],o=t.getReferringComponents("yAxis",O["a"]).models[0];e.coordSysDims=["x","y"],i.set("x",r),i.set("y",o),X(r)&&(n.set("x",r),e.firstCategoryDimIndex=0),X(o)&&(n.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,i,n){var r=t.getReferringComponents("singleAxis",O["a"]).models[0];e.coordSysDims=["single"],i.set("single",r),X(r)&&(n.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var r=t.getReferringComponents("polar",O["a"]).models[0],o=r.findAxisModel("radiusAxis"),s=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],i.set("radius",o),i.set("angle",s),X(o)&&(n.set("radius",o),e.firstCategoryDimIndex=0),X(s)&&(n.set("angle",s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,i,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,i,n){var o=t.ecModel,s=o.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=s.dimensions.slice();Object(r["k"])(s.parallelAxisIndex,(function(t,r){var s=o.getComponent("parallelAxis",t),l=a[r];i.set(l,s),X(s)&&(n.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=r))}))}};function X(t){return"category"===t.get("type")}var Y=i("ee1a");function K(t,e){var i,n=t.get("coordinateSystem"),o=q["a"].get(n);return e&&e.coordSysDims&&(i=r["F"](e.coordSysDims,(function(t){var i={name:t},n=e.axisMap.get(t);if(n){var r=n.get("type");i.type=m(r)}return i}))),i||(i=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),i}function J(t,e,i){var n,o;return i&&r["k"](t,(function(t,r){var s=t.coordDim,a=i.categoryAxisMap.get(s);a&&(null==n&&(n=r),t.ordinalMeta=a.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(o=!0)})),o||null==n||(t[n].otherDims.itemName=0),n}function Q(t,e,i){i=i||{};var n,o=e.getSourceManager(),s=!1;t?(s=!0,n=Object(A["c"])(t)):(n=o.getSource(),s=n.sourceFormat===h["f"]);var a=W(e),l=K(e,a),c=i.useEncodeDefaulter,u=r["v"](c)?c:c?r["i"](N["c"],l,e):null,d={coordDimensions:l,generateCoord:i.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!s},p=V(n,d),f=J(p.dimensions,i.createInvertedIndices,a),m=s?null:o.getSharedDataStore(p),g=Object(Y["a"])(e,{schema:p,store:m}),y=new F(p,e);y.setCalculationInfo(g);var v=null!=f&&tt(n)?function(t,e,i,n){return n===f?i:this.defaultDimValueGetter(t,e,i,n)}:null;return y.hasItemOption=!1,y.initData(s?n:m,null,v),y}function tt(t){if(t.sourceFormat===h["f"]){var e=et(t.data||[]);return null!=e&&!r["s"](Object(O["f"])(e))}}function et(t){var e=0;while(e<t.length&&null==t[e])e++;return t[e]}var it=Q,nt=i("4f85"),rt=i("a15a"),ot=i("2dc5"),st=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i}return Object(n["a"])(e,t),e.prototype.getInitialData=function(t){return it(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new ot["a"],i=Object(rt["a"])("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(i),i.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),r=this.getData().getVisual("symbolRotate"),o="none"===n?"circle":n,s=.8*t.itemHeight,a=Object(rt["a"])(o,(t.itemWidth-s)/2,(t.itemHeight-s)/2,s,s,t.itemStyle.fill);e.add(a),a.setStyle(t.itemStyle);var l="inherit"===t.iconRotate?r:t.iconRotate||0;return a.rotation=l*Math.PI/180,a.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(nt["a"]),at=st,lt=i("deab"),ct=i("7d6c");function ut(t,e){var i=t.mapDimensionsAll("defaultedLabel"),n=i.length;if(1===n){var r=Object(u["e"])(t,e,i[0]);return null!=r?r+"":null}if(n){for(var o=[],s=0;s<i.length;s++)o.push(Object(u["e"])(t,e,i[s]));return o.join(" ")}}function ht(t,e){var i=t.mapDimensionsAll("defaultedLabel");if(!Object(r["s"])(e))return e+"";for(var n=[],o=0;o<i.length;o++){var s=t.getDimensionIndex(i[o]);s>=0&&n.push(e[s])}return n.join(" ")}var dt=i("7837"),pt=i("0da8"),ft=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.updateData(e,i,n,r),o}return Object(n["a"])(e,t),e.prototype._createSymbol=function(t,e,i,n,r){this.removeAll();var o=Object(rt["a"])(t,-1,-1,2,2,null,r);o.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),o.drift=mt,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Object(ct["o"])(this.childAt(0))},e.prototype.downplay=function(){Object(ct["z"])(this.childAt(0))},e.prototype.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},e.prototype.updateData=function(t,i,n,r){this.silent=!1;var o=t.getItemVisual(i,"symbol")||"circle",s=t.hostModel,a=e.getSymbolSize(t,i),l=o!==this._symbolType,c=r&&r.disableAnimation;if(l){var u=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(o,t,i,a,u)}else{var h=this.childAt(0);h.silent=!1;var d={scaleX:a[0]/2,scaleY:a[1]/2};c?h.attr(d):lt["f"](h,d,s,i),Object(lt["e"])(h)}if(this._updateCommon(t,i,a,n,r),l){h=this.childAt(0);if(!c){d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,lt["a"](h,d,s,i)}}c&&this.childAt(0).stopAnimation("remove"),this._seriesModel=s},e.prototype._updateCommon=function(t,e,i,n,o){var s,a,l,c,u,h,d,p,f=this.childAt(0),m=t.hostModel;if(n&&(s=n.emphasisItemStyle,a=n.blurItemStyle,l=n.selectItemStyle,c=n.focus,u=n.blurScope,h=n.labelStatesModels,d=n.hoverScale,p=n.cursorStyle),!n||t.hasItemOption){var g=n&&n.itemModel?n.itemModel:t.getItemModel(e),y=g.getModel("emphasis");s=y.getModel("itemStyle").getItemStyle(),l=g.getModel(["select","itemStyle"]).getItemStyle(),a=g.getModel(["blur","itemStyle"]).getItemStyle(),c=y.get("focus"),u=y.get("blurScope"),h=Object(dt["c"])(g),d=y.getShallow("scale"),p=g.getShallow("cursor")}var v=t.getItemVisual(e,"symbolRotate");f.attr("rotation",(v||0)*Math.PI/180||0);var _=Object(rt["b"])(t.getItemVisual(e,"symbolOffset"),i);_&&(f.x=_[0],f.y=_[1]),p&&f.attr("cursor",p);var b=t.getItemVisual(e,"style"),x=b.fill;if(f instanceof pt["a"]){var w=f.style;f.useStyle(Object(r["m"])({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},b))}else f.__isEmptyBrush?f.useStyle(Object(r["m"])({},b)):f.useStyle(b),f.style.decal=null,f.setColor(x,o&&o.symbolInnerColor),f.style.strokeNoScale=!0;var S=t.getItemVisual(e,"liftZ"),T=this._z2;null!=S?null==T&&(this._z2=f.z2,f.z2+=S):null!=T&&(f.z2=T,this._z2=null);var C=o&&o.useNameLabel;function O(e){return C?t.getName(e):ut(t,e)}Object(dt["e"])(f,h,{labelFetcher:m,labelDataIndex:e,defaultText:O,inheritColor:x,defaultOpacity:b.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var k=f.ensureState("emphasis");if(k.style=s,f.ensureState("select").style=l,f.ensureState("blur").style=a,d){var A=Math.max(1.1,3/this._sizeY);k.scaleX=this._sizeX*A,k.scaleY=this._sizeY*A}this.setSymbolScale(1),Object(ct["m"])(this,c,u)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e){var i=this.childAt(0),n=this._seriesModel,r=Object(k["a"])(this).dataIndex,o=e&&e.animation;if(this.silent=i.silent=!0,e&&e.fadeLabel){var s=i.getTextContent();s&&lt["c"](s,{style:{opacity:0}},n,{dataIndex:r,removeOpt:o,cb:function(){i.removeTextContent()}})}else i.removeTextContent();lt["c"](i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:r,cb:t,removeOpt:o})},e.getSymbolSize=function(t,e){return Object(rt["c"])(t.getItemVisual(e,"symbolSize"))},e}(ot["a"]);function mt(t,e){this.parent.drift(t,e)}var gt=ft;function yt(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function vt(t){return null==t||Object(r["z"])(t)||(t={isIgnore:t}),t||{}}function _t(t){var e=t.hostModel,i=e.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),hoverScale:i.get("scale"),labelStatesModels:Object(dt["c"])(e),cursorStyle:e.get("cursor")}}var bt=function(){function t(t){this.group=new ot["a"],this._SymbolCtor=t||gt}return t.prototype.updateData=function(t,e){e=vt(e);var i=this.group,n=t.hostModel,r=this._data,o=this._SymbolCtor,s=e.disableAnimation,a=_t(t),l={disableAnimation:s},c=e.getSymbolPoint||function(e){return t.getItemLayout(e)};r||i.removeAll(),t.diff(r).add((function(n){var r=c(n);if(yt(t,r,n,e)){var s=new o(t,n,a,l);s.setPosition(r),t.setItemGraphicEl(n,s),i.add(s)}})).update((function(u,h){var d=r.getItemGraphicEl(h),p=c(u);if(yt(t,p,u,e)){var f=t.getItemVisual(u,"symbol")||"circle",m=d&&d.getSymbolType&&d.getSymbolType();if(!d||m&&m!==f)i.remove(d),d=new o(t,u,a,l),d.setPosition(p);else{d.updateData(t,u,a,l);var g={x:p[0],y:p[1]};s?d.attr(g):lt["f"](d,g,n)}i.add(d),t.setItemGraphicEl(u,d)}else i.remove(d)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut((function(){i.remove(e)}))})).execute(),this._getSymbolPoint=c,this._data=t},t.prototype.isPersistent=function(){return!0},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,i){var n=t._getSymbolPoint(i);e.setPosition(n),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=_t(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}i=vt(i);for(var r=t.start;r<t.end;r++){var o=e.getItemLayout(r);if(yt(e,o,r,i)){var s=new this._SymbolCtor(e,r,this._seriesScope);s.traverse(n),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(r,s)}}},t.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()},t}(),xt=bt;function wt(t,e,i){var n=t.getBaseAxis(),o=t.getOtherAxis(n),s=St(o,i),a=n.dim,l=o.dim,c=e.mapDimension(l),u=e.mapDimension(a),h="x"===l||"radius"===l?1:0,d=Object(r["F"])(t.dimensions,(function(t){return e.mapDimension(t)})),p=!1,f=e.getCalculationInfo("stackResultDimension");return Object(Y["c"])(e,d[0])&&(p=!0,d[0]=f),Object(Y["c"])(e,d[1])&&(p=!0,d[1]=f),{dataDimsForPoint:d,valueStart:s,valueAxisDim:l,baseAxisDim:a,stacked:!!p,valueDim:c,baseDim:u,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function St(t,e){var i=0,n=t.scale.getExtent();return"start"===e?i=n[0]:"end"===e?i=n[1]:n[0]>0?i=n[0]:n[1]<0&&(i=n[1]),i}function Tt(t,e,i,n){var r=NaN;t.stacked&&(r=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,s=[];return s[o]=i.get(t.baseDim,n),s[1-o]=r,e.dataToPoint(s)}var Ct="undefined"!==typeof Float32Array,Ot=Ct?Float32Array:Array;function kt(t){return Object(r["s"])(t)?Ct?new Float32Array(t):t:new Ot(t)}function At(t,e){var i=[];return e.diff(t).add((function(t){i.push({cmd:"+",idx:t})})).update((function(t,e){i.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){i.push({cmd:"-",idx:t})})).execute(),i}function It(t,e,i,n,r,o,s,a){for(var l=At(t,e),c=[],u=[],h=[],d=[],p=[],f=[],m=[],g=wt(r,e,s),y=t.getLayout("points")||[],v=e.getLayout("points")||[],_=0;_<l.length;_++){var b=l[_],x=!0,w=void 0,S=void 0;switch(b.cmd){case"=":w=2*b.idx,S=2*b.idx1;var T=y[w],C=y[w+1],O=v[S],k=v[S+1];(isNaN(T)||isNaN(C))&&(T=O,C=k),c.push(T,C),u.push(O,k),h.push(i[w],i[w+1]),d.push(n[S],n[S+1]),m.push(e.getRawIndex(b.idx1));break;case"+":var A=b.idx,I=g.dataDimsForPoint,E=r.dataToPoint([e.get(I[0],A),e.get(I[1],A)]);S=2*A,c.push(E[0],E[1]),u.push(v[S],v[S+1]);var M=Tt(g,r,e,A);h.push(M[0],M[1]),d.push(n[S],n[S+1]),m.push(e.getRawIndex(A));break;case"-":x=!1}x&&(p.push(b),f.push(f.length))}f.sort((function(t,e){return m[t]-m[e]}));var D=c.length,P=kt(D),L=kt(D),z=kt(D),j=kt(D),B=[];for(_=0;_<f.length;_++){var R=f[_],F=2*_,N=2*R;P[F]=c[N],P[F+1]=c[N+1],L[F]=u[N],L[F+1]=u[N+1],z[F]=h[N],z[F+1]=h[N+1],j[F]=d[N],j[F+1]=d[N+1],B[_]=p[R]}return{current:P,next:L,stackedOnCurrent:z,stackedOnNext:j,status:B}}var Et=i("48a9"),Mt=i("76a5"),Dt=i("cbe5"),Pt=i("20c8"),Lt=i("4a3f"),zt=Math.min,jt=Math.max;function Bt(t,e){return isNaN(t)||isNaN(e)}function Rt(t,e,i,n,r,o,s,a,l){for(var c,u,h,d,p,f,m=i,g=0;g<n;g++){var y=e[2*m],v=e[2*m+1];if(m>=r||m<0)break;if(Bt(y,v)){if(l){m+=o;continue}break}if(m===i)t[o>0?"moveTo":"lineTo"](y,v),h=y,d=v;else{var _=y-c,b=v-u;if(_*_+b*b<.5){m+=o;continue}if(s>0){var x=m+o,w=e[2*x],S=e[2*x+1];while(w===y&&S===v&&g<n)g++,x+=o,m+=o,w=e[2*x],S=e[2*x+1],y=e[2*m],v=e[2*m+1],_=y-c,b=v-u;var T=g+1;if(l)while(Bt(w,S)&&T<n)T++,x+=o,w=e[2*x],S=e[2*x+1];var C=.5,O=0,k=0,A=void 0,I=void 0;if(T>=n||Bt(w,S))p=y,f=v;else{O=w-c,k=S-u;var E=y-c,M=w-y,D=v-u,P=S-v,L=void 0,z=void 0;"x"===a?(L=Math.abs(E),z=Math.abs(M),p=y-L*s,f=v,A=y+L*s,I=v):"y"===a?(L=Math.abs(D),z=Math.abs(P),p=y,f=v-L*s,A=y,I=v+L*s):(L=Math.sqrt(E*E+D*D),z=Math.sqrt(M*M+P*P),C=z/(z+L),p=y-O*s*(1-C),f=v-k*s*(1-C),A=y+O*s*C,I=v+k*s*C,A=zt(A,jt(w,y)),I=zt(I,jt(S,v)),A=jt(A,zt(w,y)),I=jt(I,zt(S,v)),O=A-y,k=I-v,p=y-O*L/z,f=v-k*L/z,p=zt(p,jt(c,y)),f=zt(f,jt(u,v)),p=jt(p,zt(c,y)),f=jt(f,zt(u,v)),O=y-p,k=v-f,A=y+O*z/L,I=v+k*z/L)}t.bezierCurveTo(h,d,p,f,y,v),h=A,d=I}else t.lineTo(y,v)}c=y,u=v,m+=o}return g}var Ft=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),Nt=function(t){function e(e){var i=t.call(this,e)||this;return i.type="ec-polyline",i}return Object(n["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ft},e.prototype.buildPath=function(t,e){var i=e.points,n=0,r=i.length/2;if(e.connectNulls){for(;r>0;r--)if(!Bt(i[2*r-2],i[2*r-1]))break;for(;n<r;n++)if(!Bt(i[2*n],i[2*n+1]))break}while(n<r)n+=Rt(t,i,n,r,r,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,n,r=this.path,o=r.data,s=Pt["a"].CMD,a="x"===e,l=[],c=0;c<o.length;){var u=o[c++],h=void 0,d=void 0,p=void 0,f=void 0,m=void 0,g=void 0,y=void 0;switch(u){case s.M:i=o[c++],n=o[c++];break;case s.L:if(h=o[c++],d=o[c++],y=a?(t-i)/(h-i):(t-n)/(d-n),y<=1&&y>=0){var v=a?(d-n)*y+n:(h-i)*y+i;return a?[t,v]:[v,t]}i=h,n=d;break;case s.C:h=o[c++],d=o[c++],p=o[c++],f=o[c++],m=o[c++],g=o[c++];var _=a?Object(Lt["f"])(i,h,p,m,t,l):Object(Lt["f"])(n,d,f,g,t,l);if(_>0)for(var b=0;b<_;b++){var x=l[b];if(x<=1&&x>=0){v=a?Object(Lt["a"])(n,d,f,g,x):Object(Lt["a"])(i,h,p,m,x);return a?[t,v]:[v,t]}}i=m,n=g;break}}},e}(Dt["b"]),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["a"])(e,t),e}(Ft),$t=function(t){function e(e){var i=t.call(this,e)||this;return i.type="ec-polygon",i}return Object(n["a"])(e,t),e.prototype.getDefaultShape=function(){return new Vt},e.prototype.buildPath=function(t,e){var i=e.points,n=e.stackedOnPoints,r=0,o=i.length/2,s=e.smoothMonotone;if(e.connectNulls){for(;o>0;o--)if(!Bt(i[2*o-2],i[2*o-1]))break;for(;r<o;r++)if(!Bt(i[2*r],i[2*r+1]))break}while(r<o){var a=Rt(t,i,r,o,o,1,e.smooth,s,e.connectNulls);Rt(t,n,r+a-1,a,o,-1,e.stackedOnSmooth,s,e.connectNulls),r+=a+1,t.closePath()}},e}(Dt["b"]),Ut=i("e887"),Gt=i("c7a2"),qt=i("4aa2"),Ht=i("3842");function Wt(t,e,i,n,r){var o=t.getArea(),s=o.x,a=o.y,l=o.width,c=o.height,u=i.get(["lineStyle","width"])||2;s-=u/2,a-=u/2,l+=u,c+=u,s=Math.floor(s),l=Math.round(l);var h=new Gt["a"]({shape:{x:s,y:a,width:l,height:c}});if(e){var d=t.getBaseAxis(),p=d.isHorizontal(),f=d.inverse;p?(f&&(h.shape.x+=l),h.shape.width=0):(f||(h.shape.y+=c),h.shape.height=0);var m="function"===typeof r?function(t){r(t,h)}:null;lt["a"](h,{shape:{width:l,height:c,x:s,y:a}},i,null,n,m)}return h}function Zt(t,e,i){var n=t.getArea(),r=Object(Ht["o"])(n.r0,1),o=Object(Ht["o"])(n.r,1),s=new qt["a"]({shape:{cx:Object(Ht["o"])(t.cx,1),cy:Object(Ht["o"])(t.cy,1),r0:r,r:o,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var a="angle"===t.getBaseAxis().dim;a?s.shape.endAngle=n.startAngle:s.shape.r=r,lt["a"](s,{shape:{endAngle:n.endAngle,r:o}},i)}return s}function Xt(t,e){return t.type===e}var Yt=i("eda2"),Kt=i("41ef");function Jt(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return;return!0}}function Qt(t){for(var e=1/0,i=1/0,n=-1/0,r=-1/0,o=0;o<t.length;){var s=t[o++],a=t[o++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(a)||(i=Math.min(a,i),r=Math.max(a,r))}return[[e,i],[n,r]]}function te(t,e){var i=Qt(t),n=i[0],r=i[1],o=Qt(e),s=o[0],a=o[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]))}function ee(t){return"number"===typeof t?t:t?.5:0}function ie(t,e,i){if(!i.valueDim)return[];for(var n=e.count(),r=kt(2*n),o=0;o<n;o++){var s=Tt(i,t,e,o);r[2*o]=s[0],r[2*o+1]=s[1]}return r}function ne(t,e,i){for(var n=e.getBaseAxis(),r="x"===n.dim||"radius"===n.dim?0:1,o=[],s=0,a=[],l=[],c=[];s<t.length-2;s+=2)switch(c[0]=t[s+2],c[1]=t[s+3],l[0]=t[s],l[1]=t[s+1],o.push(l[0],l[1]),i){case"end":a[r]=c[r],a[1-r]=l[1-r],o.push(a[0],a[1]);break;case"middle":var u=(l[r]+c[r])/2,h=[];a[r]=h[r]=u,a[1-r]=l[1-r],h[1-r]=c[1-r],o.push(a[0],a[1]),o.push(h[0],h[1]);break;default:a[r]=l[r],a[1-r]=c[1-r],o.push(a[0],a[1])}return o.push(t[s++],t[s++]),o}function re(t,e){var i,n,r=[],o=t.length;function s(t,e,i){var n=t.coord,r=(i-n)/(e.coord-n),o=Object(Kt["a"])(r,[t.color,e.color]);return{coord:i,color:o}}for(var a=0;a<o;a++){var l=t[a],c=l.coord;if(c<0)i=l;else{if(c>e){n?r.push(s(n,l,e)):i&&r.push(s(i,l,0),s(i,l,e));break}i&&(r.push(s(i,l,0)),i=null),r.push(l),n=l}}return r}function oe(t,e,i){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var o,s,a=n.length-1;a>=0;a--){var l=t.getDimensionInfo(n[a].dimension);if(o=l&&l.coordDim,"x"===o||"y"===o){s=n[a];break}}if(s){var c=e.getAxis(o),u=r["F"](s.stops,(function(t){return{coord:c.toGlobalCoord(c.dataToCoord(t.value)),color:t.color}})),h=u.length,d=s.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),d.reverse());var p=re(u,"x"===o?i.getWidth():i.getHeight()),f=p.length;if(!f&&h)return u[0].coord<0?d[1]?d[1]:u[h-1].color:d[0]?d[0]:u[0].color;var m=10,g=p[0].coord-m,y=p[f-1].coord+m,v=y-g;if(v<.001)return"transparent";r["k"](p,(function(t){t.offset=(t.coord-g)/v})),p.push({offset:f?p[f-1].offset:.5,color:d[1]||"transparent"}),p.unshift({offset:f?p[0].offset:.5,color:d[0]||"transparent"});var _=new Et["a"](0,0,0,0,p,!0);return _[o]=g,_[o+"2"]=y,_}}}function se(t,e,i){var n=t.get("showAllSymbol"),o="auto"===n;if(!n||o){var s=i.getAxesByScale("ordinal")[0];if(s&&(!o||!ae(s,e))){var a=e.mapDimension(s.dim),l={};return r["k"](s.getViewLabels(),(function(t){var e=s.scale.getRawOrdinalNumber(t.tickValue);l[e]=1})),function(t){return!l.hasOwnProperty(e.get(a,t))}}}}function ae(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),s=0;s<r;s+=o)if(1.5*gt.getSymbolSize(e,s)[t.isHorizontal()?1:0]>n)return!1;return!0}function le(t,e){return isNaN(t)||isNaN(e)}function ce(t){for(var e=t.length/2;e>0;e--)if(!le(t[2*e-2],t[2*e-1]))break;return e-1}function ue(t,e){return[t[2*e],t[2*e+1]]}function he(t,e,i){for(var n,r,o=t.length/2,s="x"===i?0:1,a=0,l=-1,c=0;c<o;c++)if(r=t[2*c+s],!isNaN(r)&&!isNaN(t[2*c+1-s]))if(0!==c){if(n<=e&&r>=e||n>=e&&r<=e){l=c;break}a=c,n=r}else n=r;return{range:[a,l],t:(e-n)/(r-n)}}function de(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<ct["g"].length;e++)if(t.get([ct["g"][e],"endLabel","show"]))return!0;return!1}function pe(t,e,i,n){if(Xt(e,"cartesian2d")){var r=n.getModel("endLabel"),o=r.get("valueAnimation"),s=n.getData(),a={lastFrameIndex:0},l=de(n)?function(i,n){t._endLabelOnDuring(i,n,s,a,o,r,e)}:null,c=e.getBaseAxis().isHorizontal(),u=Wt(e,i,n,(function(){var e=t._endLabel;e&&i&&null!=a.originalX&&e.attr({x:a.originalX,y:a.originalY})}),l);if(!n.get("clip",!0)){var h=u.shape,d=Math.max(h.width,h.height);c?(h.y-=d,h.height+=2*d):(h.x-=d,h.width+=2*d)}return l&&l(1,u),u}return Zt(e,i,n)}function fe(t,e){var i=e.getBaseAxis(),n=i.isHorizontal(),r=i.inverse,o=n?r?"right":"left":"center",s=n?"middle":r?"top":"bottom";return{normal:{align:t.get("align")||o,verticalAlign:t.get("verticalAlign")||s}}}var me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["a"])(e,t),e.prototype.init=function(){var t=new ot["a"],e=new xt;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,i){var n=this,o=t.coordinateSystem,s=this.group,a=t.getData(),l=t.getModel("lineStyle"),c=t.getModel("areaStyle"),u=a.getLayout("points")||[],h="polar"===o.type,d=this._coordSys,p=this._symbolDraw,f=this._polyline,m=this._polygon,g=this._lineGroup,y=t.get("animation"),v=!c.isEmpty(),_=c.get("origin"),b=wt(o,a,_),x=v&&ie(o,a,b),w=t.get("showSymbol"),S=w&&!h&&se(t,a,o),T=this._data;T&&T.eachItemGraphicEl((function(t,e){t.__temp&&(s.remove(t),T.setItemGraphicEl(e,null))})),w||p.remove(),s.add(g);var C,O=!h&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(C=o.getArea(),null!=C.width?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C;var A=oe(a,o,i)||a.getVisual("style")[a.getVisual("drawType")];if(f&&d.type===o.type&&O===this._step){v&&!m?m=this._newPolygon(u,x):m&&!v&&(g.remove(m),m=this._polygon=null),h||this._initOrUpdateEndLabel(t,o,Object(Yt["b"])(A));var I=g.getClipPath();if(I){var E=pe(this,o,!1,t);lt["a"](I,{shape:E.shape},t)}else g.setClipPath(pe(this,o,!0,t));w&&p.updateData(a,{isIgnore:S,clipShape:C,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),Jt(this._stackedOnPoints,x)&&Jt(this._points,u)||(y?this._doUpdateAnimation(a,x,o,i,O,_):(O&&(u=ne(u,o,O),x&&(x=ne(x,o,O))),f.setShape({points:u}),m&&m.setShape({points:u,stackedOnPoints:x})))}else w&&p.updateData(a,{isIgnore:S,clipShape:C,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),y&&this._initSymbolLabelAnimation(a,o,C),O&&(u=ne(u,o,O),x&&(x=ne(x,o,O))),f=this._newPolyline(u),v&&(m=this._newPolygon(u,x)),h||this._initOrUpdateEndLabel(t,o,Object(Yt["b"])(A)),g.setClipPath(pe(this,o,!0,t));var M=t.get(["emphasis","focus"]),D=t.get(["emphasis","blurScope"]);if(f.useStyle(r["j"](l.getLineStyle(),{fill:"none",stroke:A,lineJoin:"bevel"})),Object(ct["D"])(f,t,"lineStyle"),f.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])){var P=f.getState("emphasis").style;P.lineWidth=+f.style.lineWidth+1}Object(k["a"])(f).seriesIndex=t.seriesIndex,Object(ct["m"])(f,M,D);var L=ee(t.get("smooth")),z=t.get("smoothMonotone"),j=t.get("connectNulls");if(f.setShape({smooth:L,smoothMonotone:z,connectNulls:j}),m){var B=a.getCalculationInfo("stackedOnSeries"),R=0;m.useStyle(r["j"](c.getAreaStyle(),{fill:A,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),B&&(R=ee(B.get("smooth"))),m.setShape({smooth:L,stackedOnSmooth:R,smoothMonotone:z,connectNulls:j}),Object(ct["D"])(m,t,"areaStyle"),Object(k["a"])(m).seriesIndex=t.seriesIndex,Object(ct["m"])(m,M,D)}var F=function(t){n._changePolyState(t)};a.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=F)})),this._polyline.onHoverStateChange=F,this._data=a,this._coordSys=o,this._stackedOnPoints=x,this._points=u,this._step=O,this._valueOrigin=_,t.get("triggerLineEvent")&&(this.packEventData(t,f),m&&this.packEventData(t,m))},e.prototype.packEventData=function(t,e){Object(k["a"])(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,i,n){var r=t.getData(),o=O["q"](r,n);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var s=r.getLayout("points"),a=r.getItemGraphicEl(o);if(!a){var l=s[2*o],c=s[2*o+1];if(isNaN(l)||isNaN(c))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,c))return;var u=t.get("zlevel"),h=t.get("z");a=new gt(r,o),a.x=l,a.y=c,a.setZ(u,h);var d=a.getSymbolPath().getTextContent();d&&(d.zlevel=u,d.z=h,d.z2=this._polyline.z2+1),a.__temp=!0,r.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else Ut["a"].prototype.highlight.call(this,t,e,i,n)},e.prototype.downplay=function(t,e,i,n){var r=t.getData(),o=O["q"](r,n);if(this._changePolyState("normal"),null!=o&&o>=0){var s=r.getItemGraphicEl(o);s&&(s.__temp?(r.setItemGraphicEl(o,null),this.group.remove(s)):s.downplay())}else Ut["a"].prototype.downplay.call(this,t,e,i,n)},e.prototype._changePolyState=function(t){var e=this._polygon;Object(ct["C"])(this._polyline,t),e&&Object(ct["C"])(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Nt({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new $t({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,e,i){var n,r,o=e.getBaseAxis(),s=o.inverse;"cartesian2d"===e.type?(n=o.isHorizontal(),r=!1):"polar"===e.type&&(n="angle"===o.dim,r=!0);var a=t.hostModel,l=a.get("animationDuration");"function"===typeof l&&(l=l(null));var c=a.get("animationDelay")||0,u="function"===typeof c?c(null):c;t.eachItemGraphicEl((function(t,o){var a=t;if(a){var h=[t.x,t.y],d=void 0,p=void 0,f=void 0;if(i)if(r){var m=i,g=e.pointToCoord(h);n?(d=m.startAngle,p=m.endAngle,f=-g[1]/180*Math.PI):(d=m.r0,p=m.r,f=g[0])}else{var y=i;n?(d=y.x,p=y.x+y.width,f=t.x):(d=y.y+y.height,p=y.y,f=t.y)}var v=p===d?0:(f-d)/(p-d);s&&(v=1-v);var _="function"===typeof c?c(o):l*v+u,b=a.getSymbolPath(),x=b.getTextContent();a.attr({scaleX:0,scaleY:0}),a.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:_}),x&&x.animateFrom({style:{opacity:0}},{duration:300,delay:_}),b.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,i){var n=t.getModel("endLabel");if(de(t)){var r=t.getData(),o=this._polyline,s=this._endLabel;s||(s=this._endLabel=new Mt["a"]({z2:200}),s.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var a=ce(r.getLayout("points"));a>=0&&(Object(dt["e"])(o,Object(dt["c"])(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:a,defaultText:function(t,e,i){return null!=i?ht(r,i):ut(r,t)},enableTextSetter:!0},fe(n,e)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,i,n,r,o,s){var a=this._endLabel,l=this._polyline;if(a){t<1&&null==n.originalX&&(n.originalX=a.x,n.originalY=a.y);var c=i.getLayout("points"),u=i.hostModel,h=u.get("connectNulls"),d=o.get("precision"),p=o.get("distance")||0,f=s.getBaseAxis(),m=f.isHorizontal(),g=f.inverse,y=e.shape,v=g?m?y.x:y.y+y.height:m?y.x+y.width:y.y,_=(m?p:0)*(g?-1:1),b=(m?0:-p)*(g?-1:1),x=m?"x":"y",w=he(c,v,x),S=w.range,T=S[1]-S[0],C=void 0;if(T>=1){if(T>1&&!h){var k=ue(c,S[0]);a.attr({x:k[0]+_,y:k[1]+b}),r&&(C=u.getRawValue(S[0]))}else{k=l.getPointOn(v,x);k&&a.attr({x:k[0]+_,y:k[1]+b});var A=u.getRawValue(S[0]),I=u.getRawValue(S[1]);r&&(C=O["h"](i,d,A,I,w.t))}n.lastFrameIndex=S[0]}else{var E=1===t||n.lastFrameIndex>0?S[0]:0;k=ue(c,E);r&&(C=u.getRawValue(E)),a.attr({x:k[0]+_,y:k[1]+b})}r&&Object(dt["d"])(a).setLabelText(C)}},e.prototype._doUpdateAnimation=function(t,e,i,n,r,o){var s=this._polyline,a=this._polygon,l=t.hostModel,c=It(this._data,t,this._stackedOnPoints,e,this._coordSys,i,this._valueOrigin,o),u=c.current,h=c.stackedOnCurrent,d=c.next,p=c.stackedOnNext;if(r&&(u=ne(c.current,i,r),h=ne(c.stackedOnCurrent,i,r),d=ne(c.next,i,r),p=ne(c.stackedOnNext,i,r)),te(u,d)>3e3||a&&te(h,p)>3e3)return s.stopAnimation(),s.setShape({points:d}),void(a&&(a.stopAnimation(),a.setShape({points:d,stackedOnPoints:p})));s.shape.__points=c.current,s.shape.points=u;var f={shape:{points:d}};c.current!==u&&(f.shape.__points=c.next),s.stopAnimation(),lt["f"](s,f,l),a&&(a.setShape({points:u,stackedOnPoints:h}),a.stopAnimation(),lt["f"](a,{shape:{stackedOnPoints:p}},l),s.shape.points!==a.shape.points&&(a.shape.points=s.shape.points));for(var m=[],g=c.status,y=0;y<g.length;y++){var v=g[y].cmd;if("="===v){var _=t.getItemGraphicEl(g[y].idx1);_&&m.push({el:_,ptIdx:y})}}s.animators&&s.animators.length&&s.animators[0].during((function(){a&&a.dirtyShape();for(var t=s.shape.__points,e=0;e<m.length;e++){var i=m[e].el,n=2*m[e].ptIdx;i.x=t[n],i.y=t[n+1],i.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl((function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Ut["a"]),ge=me,ye=i("cccd");function ve(t,e){return{seriesType:t,plan:Object(ye["a"])(),reset:function(t){var i=t.getData(),n=t.coordinateSystem,o=t.pipelineContext,s=e||o.large;if(n){var a=Object(r["F"])(n.dimensions,(function(t){return i.mapDimension(t)})).slice(0,2),l=a.length,c=i.getCalculationInfo("stackResultDimension");Object(Y["c"])(i,a[0])&&(a[0]=c),Object(Y["c"])(i,a[1])&&(a[1]=c);var u=i.getStore(),h=i.getDimensionIndex(a[0]),d=i.getDimensionIndex(a[1]);return l&&{progress:function(t,e){for(var i=t.end-t.start,r=s&&kt(i*l),o=[],a=[],c=t.start,p=0;c<t.end;c++){var f=void 0;if(1===l){var m=u.get(h,c);f=n.dataToPoint(m,null,a)}else o[0]=u.get(h,c),o[1]=u.get(d,c),f=n.dataToPoint(o,null,a);s?(r[p++]=f[0],r[p++]=f[1]):e.setItemLayout(c,f.slice())}s&&e.setLayout("points",r)}}}}}}var _e={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},be=function(t){return Math.round(t.length/2)};function xe(t){return{seriesType:t,reset:function(t,e,i){var n=t.getData(),r=t.get("sampling"),o=t.coordinateSystem,s=n.count();if(s>10&&"cartesian2d"===o.type&&r){var a=o.getBaseAxis(),l=o.getOtherAxis(a),c=a.getExtent(),u=i.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(u||1),d=Math.round(s/h);if(d>1){"lttb"===r&&t.setData(n.lttbDownSample(n.mapDimension(l.dim),1/d));var p=void 0;"string"===typeof r?p=_e[r]:"function"===typeof r&&(p=r),p&&t.setData(n.downSample(n.mapDimension(l.dim),1/d,p,be))}}}}}function we(t){t.registerChartView(ge),t.registerSeriesModel(at),t.registerLayout(ve("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,xe("line"))}},"368e":function(t,e,i){},"36a7":function(t,e,i){},"37e8":function(t,e,i){var n=i("83ab"),r=i("9bf2"),o=i("825a"),s=i("df75");t.exports=n?Object.defineProperties:function(t,e){o(t);var i,n=s(e),a=n.length,l=0;while(a>l)r.f(t,i=n[l++],e[i]);return t}},3842:function(t,e,i){"use strict";i.d(e,"h",(function(){return s})),i.d(e,"l",(function(){return a})),i.d(e,"o",(function(){return l})),i.d(e,"d",(function(){return c})),i.d(e,"c",(function(){return h})),i.d(e,"a",(function(){return d})),i.d(e,"n",(function(){return p})),i.d(e,"g",(function(){return f})),i.d(e,"k",(function(){return g})),i.d(e,"m",(function(){return y})),i.d(e,"i",(function(){return _})),i.d(e,"j",(function(){return b})),i.d(e,"f",(function(){return x})),i.d(e,"e",(function(){return w})),i.d(e,"b",(function(){return T}));i("6d8b");var n=1e-4,r=20;function o(t){return t.replace(/^\s+|\s+$/g,"")}function s(t,e,i,n){var r=e[0],o=e[1],s=i[0],a=i[1],l=o-r,c=a-s;if(0===l)return 0===c?s:(s+a)/2;if(n)if(l>0){if(t<=r)return s;if(t>=o)return a}else{if(t>=r)return s;if(t<=o)return a}else{if(t===r)return s;if(t===o)return a}return(t-r)/l*c+s}function a(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return"string"===typeof t?o(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function l(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),r),t=(+t).toFixed(e),i?t:+t}function c(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var e=1,i=0;i<15;i++,e*=10)if(Math.round(t*e)/e===t)return i;return u(t)}function u(t){var e=t.toString().toLowerCase(),i=e.indexOf("e"),n=i>0?+e.slice(i+1):0,r=i>0?i:e.length,o=e.indexOf("."),s=o<0?0:r-1-o;return Math.max(0,s-n)}function h(t,e){var i=Math.log,n=Math.LN10,r=Math.floor(i(t[1]-t[0])/n),o=Math.round(i(Math.abs(e[1]-e[0]))/n),s=Math.min(Math.max(-r+o,0),20);return isFinite(s)?s:20}function d(t,e){var i=Math.max(c(t),c(e)),n=t+e;return i>r?n:l(n,i)}function p(t){var e=2*Math.PI;return(t%e+e)%e}function f(t){return t>-n&&t<n}var m=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function g(t){if(t instanceof Date)return t;if("string"===typeof t){var e=m.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(i-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function y(t){return Math.pow(10,v(t))}function v(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function _(t,e){var i,n=v(t),r=Math.pow(10,n),o=t/r;return i=e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10,t=i*r,n>=-20?+t.toFixed(n<0?-n:0):t}function b(t){var e=parseFloat(t);return e==t&&(0!==e||"string"!==typeof t||t.indexOf("x")<=0)?e:NaN}function x(t){return!isNaN(b(t))}function w(){return Math.round(9*Math.random())}function S(t,e){return 0===e?t:S(e,t%e)}function T(t,e){return null==t?e:null==e?t:t*e/S(t,e)}},"387f":function(t,e,i){"use strict";t.exports=function(t,e,i,n,r){return t.config=e,i&&(t.code=i),t.request=n,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},"38a2":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return l}));var n=i("6d8b"),r=i("2b17"),o=i("eda2"),s=/\{@(.+?)\}/g,a=function(){function t(){}return t.prototype.getDataParams=function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),r=i.getRawIndex(t),o=i.getName(t),s=i.getRawDataItem(t),a=i.getItemVisual(t,"style"),l=a&&a[i.getItemVisual(t,"drawType")||"fill"],c=a&&a.stroke,u=this.mainType,h="series"===u,d=i.userOutput&&i.userOutput.get();return{componentType:u,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:r,data:s,dataType:e,value:n,color:l,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,i,a,l,c){e=e||"normal";var u=this.getData(i),h=this.getDataParams(t,i);if(c&&(h.value=c.interpolatedValue),null!=a&&n["s"](h.value)&&(h.value=h.value[a]),!l){var d=u.getItemModel(t);l=d.get("normal"===e?["label","formatter"]:[e,"label","formatter"])}if("function"===typeof l)return h.status=e,h.dimensionIndex=a,l(h);if("string"===typeof l){var p=Object(o["d"])(l,h);return p.replace(s,(function(e,i){var o=i.length,s=i;"["===s.charAt(0)&&"]"===s.charAt(o-1)&&(s=+s.slice(1,o-1));var a=Object(r["e"])(u,t,s);if(c&&n["s"](c.interpolatedValue)){var l=u.getDimensionIndex(s);l>=0&&(a=c.interpolatedValue[l])}return null!=a?a+"":""}))}},t.prototype.getRawValue=function(t,e){return Object(r["e"])(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,i){},t}();function l(t){var e,i;return n["z"](t)?t.type&&(i=t):e=t,{markupText:e,markupFragment:i}}},"38cb":function(t,e,i){"use strict";var n=i("a9ad"),r=i("7560"),o=i("3206"),s=i("80d2"),a=i("d9bd"),l=i("58df");const c=Object(l["a"])(n["a"],Object(o["a"])("form"),r["a"]);e["a"]=c.extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:()=>[]},messages:{type:[String,Array],default:()=>[]},readonly:Boolean,rules:{type:Array,default:()=>[]},success:Boolean,successMessages:{type:[String,Array],default:()=>[]},validateOnBlur:Boolean,value:{required:!1}},data(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor(){if(!this.isDisabled)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},hasError(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess(){return this.internalSuccessMessages.length>0||this.success},externalError(){return this.internalErrorMessages.length>0||this.error},hasMessages(){return this.validationTarget.length>0},hasState(){return!this.isDisabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages(){return this.genInternalMessages(this.errorMessages)},internalMessages(){return this.genInternalMessages(this.messages)},internalSuccessMessages(){return this.genInternalMessages(this.successMessages)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("input",t)}},isDisabled(){return this.disabled||!!this.form&&this.form.disabled},isInteractive(){return!this.isDisabled&&!this.isReadonly},isReadonly(){return this.readonly||!!this.form&&this.form.readonly},shouldValidate(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState(){if(!this.isDisabled)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},validationTarget(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages&&this.successMessages.length>0?this.internalSuccessMessages:this.messages&&this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler(t,e){Object(s["j"])(t,e)||this.validate()},deep:!0},internalValue(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused(t){t||this.isDisabled||(this.hasFocused=!0,this.validateOnBlur&&this.$nextTick(this.validate))},isResetting(){setTimeout(()=>{this.hasInput=!1,this.hasFocused=!1,this.isResetting=!1,this.validate()},0)},hasError(t){this.shouldValidate&&this.$emit("update:error",t)},value(t){this.lazyValue=t}},beforeMount(){this.validate()},created(){this.form&&this.form.register(this)},beforeDestroy(){this.form&&this.form.unregister(this)},methods:{genInternalMessages(t){return t?Array.isArray(t)?t:[t]:[]},reset(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:null},resetValidation(){this.isResetting=!0},validate(t=!1,e){const i=[];e=e||this.internalValue,t&&(this.hasInput=this.hasFocused=!0);for(let n=0;n<this.rules.length;n++){const t=this.rules[n],r="function"===typeof t?t(e):t;!1===r||"string"===typeof r?i.push(r||""):"boolean"!==typeof r&&Object(a["b"])(`Rules should return a string or boolean, received '${typeof r}' instead`,this)}return this.errorBucket=i,this.valid=0===i.length,this.valid}}})},3901:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s}));var n=i("282b"),r=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],o=Object(n["a"])(r),s=function(){function t(){}return t.prototype.getLineStyle=function(t){return o(this,t)},t}()},"392f":function(t,e,i){"use strict";var n=i("21a1"),r=i("19eb"),o=i("9850"),s=[],a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Object(n["a"])(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new o["a"](1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(s)),t.union(n)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();if(n.contain(i[0],i[1]))for(var r=0;r<this._displayables.length;r++){var o=this._displayables[r];if(o.contain(t,e))return!0}return!1},e}(r["c"]);e["a"]=a},3934:function(t,e,i){"use strict";var n=i("c532");t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(t){var n=t;return e&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=r(window.location.href),function(e){var i=n.isString(e)?r(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},"3a66":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("fe6c"),r=i("58df");function o(t,e=[]){return Object(r["a"])(Object(n["b"])(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty(){return t}},watch:{app(t,e){e?this.removeApplication(!0):this.callUpdate()},applicationProperty(t,e){this.$vuetify.application.unregister(this._uid,e)}},activated(){this.callUpdate()},created(){for(let t=0,i=e.length;t<i;t++)this.$watch(e[t],this.callUpdate);this.callUpdate()},mounted(){this.callUpdate()},deactivated(){this.removeApplication()},destroyed(){this.removeApplication()},methods:{callUpdate(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication(t=!1){(t||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:()=>0}})}},"3ad0":function(t,e,i){},"3bbe":function(t,e,i){var n=i("1626");t.exports=function(t){if("object"===typeof t||n(t))return t;throw TypeError("Can't set "+String(t)+" as a prototype")}},"3c93":function(t,e,i){},"3ca3":function(t,e,i){"use strict";var n=i("6547").charAt,r=i("577e"),o=i("69f3"),s=i("7dd0"),a="String Iterator",l=o.set,c=o.getterFor(a);s(String,"String",(function(t){l(this,{type:a,string:r(t),index:0})}),(function(){var t,e=c(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=n(i,r),e.index+=t.length,{value:t,done:!1})}))},"3d86":function(t,e,i){},"3f8c":function(t,e){t.exports={}},"3fcf":function(t,e,i){(function(){var e={};t.exports=e,e.simpleFilter=function(t,i){return i.filter((function(i){return e.test(t,i)}))},e.test=function(t,i){return null!==e.match(t,i)},e.match=function(t,e,i){i=i||{};var n,r=0,o=[],s=e.length,a=0,l=0,c=i.pre||"",u=i.post||"",h=i.caseSensitive&&e||e.toLowerCase();t=i.caseSensitive&&t||t.toLowerCase();for(var d=0;d<s;d++)n=e[d],h[d]===t[r]?(n=c+n+u,r+=1,l+=1+l):l=0,a+=l,o[o.length]=n;return r===t.length?(a=h===t?1/0:a,{rendered:o.join(""),score:a}):null},e.filter=function(t,i,n){return i&&0!==i.length?"string"!==typeof t?i:(n=n||{},i.reduce((function(i,r,o,s){var a=r;n.extract&&(a=n.extract(r));var l=e.match(t,a,n);return null!=l&&(i[i.length]={string:l.rendered,score:l.score,index:o,original:r}),i}),[]).sort((function(t,e){var i=e.score-t.score;return i||t.index-e.index}))):[]}})()},"401b":function(t,e,i){"use strict";function n(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function r(t){return[t[0],t[1]]}function o(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function s(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function a(t){return Math.sqrt(l(t))}i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return o})),i.d(e,"l",(function(){return s})),i.d(e,"k",(function(){return c})),i.d(e,"j",(function(){return u})),i.d(e,"g",(function(){return h})),i.d(e,"e",(function(){return d})),i.d(e,"f",(function(){return f})),i.d(e,"b",(function(){return m})),i.d(e,"i",(function(){return g})),i.d(e,"h",(function(){return y}));function l(t){return t[0]*t[0]+t[1]*t[1]}function c(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function u(t,e){var i=a(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function h(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var d=h;function p(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var f=p;function m(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}function g(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function y(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}},4041:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("e0d3"),r=Object(n["l"])(),o=(Object(n["l"])(),function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,i){var o=Object(n["n"])(this.get("color",!0)),s=this.get("colorLayer",!0);return a(this,r,o,s,t,e,i)},t.prototype.clearColorPalette=function(){l(this,r)},t}());function s(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n].length>e)return t[n];return t[i-1]}function a(t,e,i,n,r,o,a){o=o||t;var l=e(o),c=l.paletteIdx||0,u=l.paletteNameMap=l.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=null!=a&&n?s(n,a):i;if(h=h||i,h&&h.length){var d=h[c];return r&&(u[r]=d),l.paletteIdx=(c+1)%h.length,d}}function l(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}},"40dc":function(t,e,i){"use strict";i("8b0d");var n=i("71d9");function r(t,e){const{self:i=!1}=e.modifiers||{},n=e.value,r="object"===typeof n&&n.options||{passive:!0},o="function"===typeof n||"handleEvent"in n?n:n.handler,s=i?t:e.arg?document.querySelector(e.arg):window;s&&(s.addEventListener("scroll",o,r),t._onScroll={handler:o,options:r,target:i?void 0:s})}function o(t){if(!t._onScroll)return;const{handler:e,options:i,target:n=t}=t._onScroll;n.removeEventListener("scroll",e,i),delete t._onScroll}const s={inserted:r,unbind:o};var a=s,l=i("3a66"),c=i("d9bd"),u=i("2b0e"),h=u["a"].extend({name:"scrollable",directives:{Scroll:s},props:{scrollTarget:String,scrollThreshold:[String,Number]},data:()=>({currentScroll:0,currentThreshold:0,isActive:!1,isScrollingUp:!1,previousScroll:0,savedScroll:0,target:null}),computed:{canScroll(){return"undefined"!==typeof window},computedScrollThreshold(){return this.scrollThreshold?Number(this.scrollThreshold):300}},watch:{isScrollingUp(){this.savedScroll=this.savedScroll||this.currentScroll},isActive(){this.savedScroll=0}},mounted(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget),this.target||Object(c["c"])("Unable to locate element with identifier "+this.scrollTarget,this))},methods:{onScroll(){this.canScroll&&(this.previousScroll=this.currentScroll,this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.currentThreshold=Math.abs(this.currentScroll-this.computedScrollThreshold),this.$nextTick(()=>{Math.abs(this.currentScroll-this.savedScroll)>this.computedScrollThreshold&&this.thresholdMet()}))},thresholdMet(){}}}),d=i("d10f"),p=i("f2e7"),f=i("80d2"),m=i("58df");const g=Object(m["a"])(n["a"],h,d["a"],p["a"],Object(l["a"])("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","isExtended","isProminent","value"]));e["a"]=g.extend({name:"v-app-bar",directives:{Scroll:a},provide(){return{VAppBar:this}},props:{clippedLeft:Boolean,clippedRight:Boolean,collapseOnScroll:Boolean,elevateOnScroll:Boolean,fadeImgOnScroll:Boolean,hideOnScroll:Boolean,invertedScroll:Boolean,scrollOffScreen:Boolean,shrinkOnScroll:Boolean,value:{type:Boolean,default:!0}},data(){return{isActive:this.value}},computed:{applicationProperty(){return this.bottom?"bottom":"top"},canScroll(){return h.options.computed.canScroll.call(this)&&(this.invertedScroll||this.elevateOnScroll||this.hideOnScroll||this.collapseOnScroll||this.isBooted||!this.value)},classes(){return{...n["a"].options.computed.classes.call(this),"v-toolbar--collapse":this.collapse||this.collapseOnScroll,"v-app-bar":!0,"v-app-bar--clipped":this.clippedLeft||this.clippedRight,"v-app-bar--fade-img-on-scroll":this.fadeImgOnScroll,"v-app-bar--elevate-on-scroll":this.elevateOnScroll,"v-app-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-app-bar--hide-shadow":this.hideShadow,"v-app-bar--is-scrolled":this.currentScroll>0,"v-app-bar--shrink-on-scroll":this.shrinkOnScroll}},scrollRatio(){const t=this.computedScrollThreshold;return Math.max((t-this.currentScroll)/t,0)},computedContentHeight(){if(!this.shrinkOnScroll)return n["a"].options.computed.computedContentHeight.call(this);const t=this.dense?48:56,e=this.computedOriginalHeight;return t+(e-t)*this.scrollRatio},computedFontSize(){if(!this.isProminent)return;const t=1.25,e=1.5;return t+(e-t)*this.scrollRatio},computedLeft(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedMarginTop(){return this.app?this.$vuetify.application.bar:0},computedOpacity(){if(this.fadeImgOnScroll)return this.scrollRatio},computedOriginalHeight(){let t=n["a"].options.computed.computedContentHeight.call(this);return this.isExtended&&(t+=parseInt(this.extensionHeight)),t},computedRight(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedScrollThreshold(){return this.scrollThreshold?Number(this.scrollThreshold):this.computedOriginalHeight-(this.dense?48:56)},computedTransform(){if(!this.canScroll||this.elevateOnScroll&&0===this.currentScroll&&this.isActive)return 0;if(this.isActive)return 0;const t=this.scrollOffScreen?this.computedHeight:this.computedContentHeight;return this.bottom?t:-t},hideShadow(){return this.elevateOnScroll&&this.isExtended?this.currentScroll<this.computedScrollThreshold:this.elevateOnScroll?0===this.currentScroll||this.computedTransform<0:(!this.isExtended||this.scrollOffScreen)&&0!==this.computedTransform},isCollapsed(){return this.collapseOnScroll?this.currentScroll>0:n["a"].options.computed.isCollapsed.call(this)},isProminent(){return n["a"].options.computed.isProminent.call(this)||this.shrinkOnScroll},styles(){return{...n["a"].options.computed.styles.call(this),fontSize:Object(f["g"])(this.computedFontSize,"rem"),marginTop:Object(f["g"])(this.computedMarginTop),transform:`translateY(${Object(f["g"])(this.computedTransform)})`,left:Object(f["g"])(this.computedLeft),right:Object(f["g"])(this.computedRight)}}},watch:{canScroll:"onScroll",computedTransform(){this.canScroll&&(this.clippedLeft||this.clippedRight)&&this.callUpdate()},invertedScroll(t){this.isActive=!t||0!==this.currentScroll}},created(){this.invertedScroll&&(this.isActive=!1)},methods:{genBackground(){const t=n["a"].options.methods.genBackground.call(this);return t.data=this._b(t.data||{},t.tag,{style:{opacity:this.computedOpacity}}),t},updateApplication(){return this.invertedScroll?0:this.computedHeight+this.computedTransform},thresholdMet(){this.invertedScroll?this.isActive=this.currentScroll>this.computedScrollThreshold:(this.hideOnScroll&&(this.isActive=this.isScrollingUp||this.currentScroll<this.computedScrollThreshold),this.currentThreshold<this.computedScrollThreshold||(this.savedScroll=this.currentScroll))}},render(t){const e=n["a"].options.render.call(this,t);return e.data=e.data||{},this.canScroll&&(e.data.directives=e.data.directives||[],e.data.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),e}})},"41ef":function(t,e,i){"use strict";i.d(e,"d",(function(){return g})),i.d(e,"b",(function(){return v})),i.d(e,"f",(function(){return _})),i.d(e,"a",(function(){return b})),i.d(e,"e",(function(){return x})),i.d(e,"c",(function(){return w}));var n=i("d51b"),r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return t=Math.round(t),t<0?0:t>255?255:t}function s(t){return t<0?0:t>1?1:t}function a(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?o(parseFloat(e)/100*255):o(parseInt(e,10))}function l(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?s(parseFloat(e)/100):s(parseFloat(e))}function c(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function u(t,e,i){return t+(e-t)*i}function h(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var p=new n["a"](20),f=null;function m(t,e){f&&d(f,e),f=p.put(t,f||e.slice())}function g(t,e){if(t){e=e||[];var i=p.get(t);if(i)return d(e,i);t+="";var n=t.replace(/ /g,"").toLowerCase();if(n in r)return d(e,r[n]),m(t,e),e;var o=n.length;if("#"!==n.charAt(0)){var s=n.indexOf("("),c=n.indexOf(")");if(-1!==s&&c+1===o){var u=n.substr(0,s),f=n.substr(s+1,c-(s+1)).split(","),g=1;switch(u){case"rgba":if(4!==f.length)return 3===f.length?h(e,+f[0],+f[1],+f[2],1):h(e,0,0,0,1);g=l(f.pop());case"rgb":return 3!==f.length?void h(e,0,0,0,1):(h(e,a(f[0]),a(f[1]),a(f[2]),g),m(t,e),e);case"hsla":return 4!==f.length?void h(e,0,0,0,1):(f[3]=l(f[3]),y(f,e),m(t,e),e);case"hsl":return 3!==f.length?void h(e,0,0,0,1):(y(f,e),m(t,e),e);default:return}}h(e,0,0,0,1)}else{if(4===o||5===o){var v=parseInt(n.slice(1,4),16);return v>=0&&v<=4095?(h(e,(3840&v)>>4|(3840&v)>>8,240&v|(240&v)>>4,15&v|(15&v)<<4,5===o?parseInt(n.slice(4),16)/15:1),m(t,e),e):void h(e,0,0,0,1)}if(7===o||9===o){v=parseInt(n.slice(1,7),16);return v>=0&&v<=16777215?(h(e,(16711680&v)>>16,(65280&v)>>8,255&v,9===o?parseInt(n.slice(7),16)/255:1),m(t,e),e):void h(e,0,0,0,1)}}}}function y(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=l(t[1]),r=l(t[2]),s=r<=.5?r*(n+1):r+n-r*n,a=2*r-s;return e=e||[],h(e,o(255*c(a,s,i+1/3)),o(255*c(a,s,i)),o(255*c(a,s,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function v(t,e){var i=g(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0,i[n]>255?i[n]=255:i[n]<0&&(i[n]=0);return x(i,4===i.length?"rgba":"rgb")}}function _(t){var e=g(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function b(t,e,i){if(e&&e.length&&t>=0&&t<=1){var n=t*(e.length-1),r=Math.floor(n),a=Math.ceil(n),l=g(e[r]),c=g(e[a]),h=n-r,d=x([o(u(l[0],c[0],h)),o(u(l[1],c[1],h)),o(u(l[2],c[2],h)),s(u(l[3],c[3],h))],"rgba");return i?{color:d,leftIndex:r,rightIndex:a,value:n}:d}}function x(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}function w(t,e){var i=g(t);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*e:0}},"428f":function(t,e,i){var n=i("da84");t.exports=n},"42e5":function(t,e,i){"use strict";var n=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}();e["a"]=n},4319:function(t,e,i){"use strict";var n=i("22d1"),r=i("625e"),o=i("282b"),s=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],a=Object(o["a"])(s),l=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return a(this,t,e)},t}(),c=i("7837"),u=i("76a5"),h=["textStyle","color"],d=new u["a"],p=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(h):null)},t.prototype.getFont=function(){return Object(c["b"])({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){return d.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),d.update(),d.getBoundingRect()},t}(),f=p,m=i("3901"),g=i("551f"),y=i("6d8b"),v=function(){function t(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}return t.prototype.init=function(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r]},t.prototype.mergeOption=function(t,e){Object(y["G"])(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var i=this.option,n=null==i?i:i[t];if(null==n&&!e){var r=this.parentModel;r&&(n=r.getShallow(t))}return n},t.prototype.getModel=function(e,i){var n=null!=e,r=n?this.parsePath(e):null,o=n?this._doGet(r):this.option;return i=i||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new t(o,i,this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){var t=this.constructor;return new t(Object(y["d"])(this.option))},t.prototype.parsePath=function(t){return"string"===typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!n["a"].node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var i=this.option;if(!t)return i;for(var n=0;n<t.length;n++)if(t[n]&&(i=i&&"object"===typeof i?i[t[n]]:null,null==i))break;return null==i&&e&&(i=e._doGet(this.resolveParentPath(t),e.parentModel)),i},t}();Object(r["b"])(v),Object(r["a"])(v),Object(y["H"])(v,m["b"]),Object(y["H"])(v,g["b"]),Object(y["H"])(v,l),Object(y["H"])(v,f);e["a"]=v},4362:function(t,e,i){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,n="/";e.cwd=function(){return n},e.chdir=function(e){t||(t=i("df7c")),n=t.resolve(e,n)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43a6":function(t,e,i){"use strict";i("ec29"),i("3d86");var n=i("c37a"),r=i("604c"),o=i("8547"),s=i("58df");const a=Object(s["a"])(o["a"],r["a"],n["a"]);e["a"]=a.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},n["a"].options.methods.genDefaultSlot.call(this))},genInputSlot(){const t=n["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel(){const t=n["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:r["a"].options.methods.onClick}})},"44ad":function(t,e,i){var n=i("d039"),r=i("c6b6"),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},"44d2":function(t,e,i){var n=i("b622"),r=i("7c73"),o=i("9bf2"),s=n("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},"44de":function(t,e,i){var n=i("da84");t.exports=function(t,e){var i=n.console;i&&i.error&&(1===arguments.length?i.error(t):i.error(t,e))}},"467f":function(t,e,i){"use strict";var n=i("2d83");t.exports=function(t,e,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?e(n("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},"47f5":function(t,e,i){"use strict";var n=i("53a8"),r=i("3fcf"),o=i("497f"),s=function(t,e,i){return i=i||{},this.options=n({minLength:2,limit:5,filter:!0,hideOnBlur:!0},i),this.el=t,this.data=e||[],this.list=new o(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(t){this.handleKeyUp(t.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(t){this.handleKeyDown(t)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(t){this.handlePaste(t)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};s.prototype.handleKeyUp=function(t){40!==t&&38!==t&&27!==t&&13!==t&&9!==t&&this.handleInputChange(this.el.value)},s.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}},s.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},s.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var e=this;setTimeout((function(){e.handleInputChange(t.target.value)}),100)}},s.prototype.handleInputChange=function(t){this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(t){for(var e=0;e<t.length;e++)if(this.list.add(t[e]),e===this.options.limit-1)break;this.list.draw()}.bind(this))},s.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},s.prototype.update=function(t){this.data=t,this.handleKeyUp()},s.prototype.clear=function(){this.data=[],this.list.clear()},s.prototype.normalize=function(t){return t=t.toLowerCase(),t},s.prototype.match=function(t,e){return t.indexOf(e)>-1},s.prototype.value=function(t){if(this.selected=t,this.el.value=this.getItemValue(t),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")},s.prototype.getCandidates=function(t){var e,i={pre:"<strong>",post:"</strong>",extract:function(t){return this.getItemValue(t)}.bind(this)};this.options.filter?(e=r.filter(this.query,this.data,i),e=e.map(function(t){return{original:t.original,string:this.render(t.original,t.string)}}.bind(this))):e=this.data.map(function(t){var e=this.render(t);return{original:t,string:e}}.bind(this)),t(e)},s.prototype.getItemValue=function(t){return t},s.prototype.render=function(t,e){if(e)return e;var i=t.original?this.getItemValue(t.original):this.getItemValue(t),n=this.normalize(i),r=n.lastIndexOf(this.query);while(r>-1){var o=r+this.query.length;i=i.slice(0,r)+"<strong>"+i.slice(r,o)+"</strong>"+i.slice(o),r=n.slice(0,r).lastIndexOf(this.query)}return i},s.prototype.renderError=function(t){this.list.drawError(t)},t.exports=s},4804:function(t,e,i){},"480e":function(t,e,i){"use strict";var n=i("7560");e["a"]=n["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark(){return this.root?this.rootIsDark:n["a"].options.computed.isDark.call(this)}},render(){return this.$slots.default&&this.$slots.default.find(t=>!t.isComment&&" "!==t.text)}})},4840:function(t,e,i){var n=i("825a"),r=i("5087"),o=i("b622"),s=o("species");t.exports=function(t,e){var i,o=n(t).constructor;return void 0===o||void 0==(i=n(o)[s])?e:r(i)}},"485a":function(t,e,i){var n=i("1626"),r=i("861d");t.exports=function(t,e){var i,o;if("string"===e&&n(i=t.toString)&&!r(o=i.call(t)))return o;if(n(i=t.valueOf)&&!r(o=i.call(t)))return o;if("string"!==e&&n(i=t.toString)&&!r(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"48a9":function(t,e,i){"use strict";var n=i("21a1"),r=i("42e5"),o=function(t){function e(e,i,n,r,o,s){var a=t.call(this,o)||this;return a.x=null==e?0:e,a.y=null==i?0:i,a.x2=null==n?1:n,a.y2=null==r?0:r,a.type="linear",a.global=s||!1,a}return Object(n["a"])(e,t),e}(r["a"]);e["a"]=o},4930:function(t,e,i){var n=i("2d00"),r=i("d039");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},"497f":function(t,e,i){"use strict";var n=function(t){return this.component=t,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,t.el.parentNode.insertBefore(this.wrapper,t.el.nextSibling),this};n.prototype.show=function(){this.element.style.display="block"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.add=function(t){this.items.push(t)},n.prototype.clear=function(){this.items=[],this.active=0},n.prototype.isEmpty=function(){return!this.items.length},n.prototype.isVisible=function(){return"block"===this.element.style.display},n.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var t=0;t<this.items.length;t++)this.drawItem(this.items[t],this.active===t);this.show()}else this.hide()},n.prototype.drawItem=function(t,e){var i=document.createElement("li"),n=document.createElement("a");e&&(i.className+=" active"),n.innerHTML=t.string,i.appendChild(n),this.element.appendChild(i),i.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),i.addEventListener("mouseup",function(){this.handleMouseUp.call(this,t)}.bind(this))},n.prototype.handleMouseUp=function(t){this.selectingListItem=!1,this.component.value(t.original),this.clear(),this.draw()},n.prototype.move=function(t){this.active=t,this.draw()},n.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},n.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},n.prototype.drawError=function(t){var e=document.createElement("li");e.innerHTML=t,this.element.appendChild(e),this.show()},t.exports=n},"49e2":function(t,e,i){"use strict";var n=i("0789"),r=i("9d65"),o=i("a9ad"),s=i("3206"),a=i("80d2"),l=i("58df");const c=Object(l["a"])(r["a"],o["a"],Object(s["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel"));e["a"]=c.extend().extend({name:"v-expansion-panel-content",data:()=>({isActive:!1}),computed:{parentIsActive(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler(t,e){t&&(this.isBooted=!0),null==e?this.isActive=t:this.$nextTick(()=>this.isActive=t)}}},created(){this.expansionPanel.registerContent(this)},beforeDestroy(){this.expansionPanel.unregisterContent()},render(t){return t(n["a"],this.showLazyContent(()=>[t("div",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:this.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(a["p"])(this))])]))}})},"4a0c":function(t){t.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},"4a3f":function(t,e,i){"use strict";i.d(e,"a",(function(){return m})),i.d(e,"b",(function(){return g})),i.d(e,"f",(function(){return y})),i.d(e,"c",(function(){return v})),i.d(e,"g",(function(){return _})),i.d(e,"e",(function(){return b})),i.d(e,"d",(function(){return x})),i.d(e,"h",(function(){return w})),i.d(e,"i",(function(){return S})),i.d(e,"m",(function(){return T})),i.d(e,"j",(function(){return C})),i.d(e,"n",(function(){return O})),i.d(e,"l",(function(){return k})),i.d(e,"k",(function(){return A}));var n=i("401b"),r=Math.pow,o=Math.sqrt,s=1e-8,a=1e-4,l=o(3),c=1/3,u=Object(n["d"])(),h=Object(n["d"])(),d=Object(n["d"])();function p(t){return t>-s&&t<s}function f(t){return t>s||t<-s}function m(t,e,i,n,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*n+3*o*i)}function g(t,e,i,n,r){var o=1-r;return 3*(((e-t)*o+2*(i-e)*r)*o+(n-i)*r*r)}function y(t,e,i,n,s,a){var u=n+3*(e-i)-t,h=3*(i-2*e+t),d=3*(e-t),f=t-s,m=h*h-3*u*d,g=h*d-9*u*f,y=d*d-3*h*f,v=0;if(p(m)&&p(g))if(p(h))a[0]=0;else{var _=-d/h;_>=0&&_<=1&&(a[v++]=_)}else{var b=g*g-4*m*y;if(p(b)){var x=g/m,w=(_=-h/u+x,-x/2);_>=0&&_<=1&&(a[v++]=_),w>=0&&w<=1&&(a[v++]=w)}else if(b>0){var S=o(b),T=m*h+1.5*u*(-g+S),C=m*h+1.5*u*(-g-S);T=T<0?-r(-T,c):r(T,c),C=C<0?-r(-C,c):r(C,c);_=(-h-(T+C))/(3*u);_>=0&&_<=1&&(a[v++]=_)}else{var O=(2*m*h-3*u*g)/(2*o(m*m*m)),k=Math.acos(O)/3,A=o(m),I=Math.cos(k),E=(_=(-h-2*A*I)/(3*u),w=(-h+A*(I+l*Math.sin(k)))/(3*u),(-h+A*(I-l*Math.sin(k)))/(3*u));_>=0&&_<=1&&(a[v++]=_),w>=0&&w<=1&&(a[v++]=w),E>=0&&E<=1&&(a[v++]=E)}}return v}function v(t,e,i,n,r){var s=6*i-12*e+6*t,a=9*e+3*n-3*t-9*i,l=3*e-3*t,c=0;if(p(a)){if(f(s)){var u=-l/s;u>=0&&u<=1&&(r[c++]=u)}}else{var h=s*s-4*a*l;if(p(h))r[0]=-s/(2*a);else if(h>0){var d=o(h),m=(u=(-s+d)/(2*a),(-s-d)/(2*a));u>=0&&u<=1&&(r[c++]=u),m>=0&&m<=1&&(r[c++]=m)}}return c}function _(t,e,i,n,r,o){var s=(e-t)*r+t,a=(i-e)*r+e,l=(n-i)*r+i,c=(a-s)*r+s,u=(l-a)*r+a,h=(u-c)*r+c;o[0]=t,o[1]=s,o[2]=c,o[3]=h,o[4]=h,o[5]=u,o[6]=l,o[7]=n}function b(t,e,i,r,s,l,c,p,f,g,y){var v,_,b,x,w,S=.005,T=1/0;u[0]=f,u[1]=g;for(var C=0;C<1;C+=.05)h[0]=m(t,i,s,c,C),h[1]=m(e,r,l,p,C),x=Object(n["f"])(u,h),x<T&&(v=C,T=x);T=1/0;for(var O=0;O<32;O++){if(S<a)break;_=v-S,b=v+S,h[0]=m(t,i,s,c,_),h[1]=m(e,r,l,p,_),x=Object(n["f"])(h,u),_>=0&&x<T?(v=_,T=x):(d[0]=m(t,i,s,c,b),d[1]=m(e,r,l,p,b),w=Object(n["f"])(d,u),b<=1&&w<T?(v=b,T=w):S*=.5)}return y&&(y[0]=m(t,i,s,c,v),y[1]=m(e,r,l,p,v)),o(T)}function x(t,e,i,n,r,o,s,a,l){for(var c=t,u=e,h=0,d=1/l,p=1;p<=l;p++){var f=p*d,g=m(t,i,r,s,f),y=m(e,n,o,a,f),v=g-c,_=y-u;h+=Math.sqrt(v*v+_*_),c=g,u=y}return h}function w(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}function S(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function T(t,e,i,n,r){var s=t-2*e+i,a=2*(e-t),l=t-n,c=0;if(p(s)){if(f(a)){var u=-l/a;u>=0&&u<=1&&(r[c++]=u)}}else{var h=a*a-4*s*l;if(p(h)){u=-a/(2*s);u>=0&&u<=1&&(r[c++]=u)}else if(h>0){var d=o(h),m=(u=(-a+d)/(2*s),(-a-d)/(2*s));u>=0&&u<=1&&(r[c++]=u),m>=0&&m<=1&&(r[c++]=m)}}return c}function C(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function O(t,e,i,n,r){var o=(e-t)*n+t,s=(i-e)*n+e,a=(s-o)*n+o;r[0]=t,r[1]=o,r[2]=a,r[3]=a,r[4]=s,r[5]=i}function k(t,e,i,r,s,l,c,p,f){var m,g=.005,y=1/0;u[0]=c,u[1]=p;for(var v=0;v<1;v+=.05){h[0]=w(t,i,s,v),h[1]=w(e,r,l,v);var _=Object(n["f"])(u,h);_<y&&(m=v,y=_)}y=1/0;for(var b=0;b<32;b++){if(g<a)break;var x=m-g,S=m+g;h[0]=w(t,i,s,x),h[1]=w(e,r,l,x);_=Object(n["f"])(h,u);if(x>=0&&_<y)m=x,y=_;else{d[0]=w(t,i,s,S),d[1]=w(e,r,l,S);var T=Object(n["f"])(d,u);S<=1&&T<y?(m=S,y=T):g*=.5}}return f&&(f[0]=w(t,i,s,m),f[1]=w(e,r,l,m)),o(y)}function A(t,e,i,n,r,o,s){for(var a=t,l=e,c=0,u=1/s,h=1;h<=s;h++){var d=h*u,p=w(t,i,r,d),f=w(e,n,o,d),m=p-a,g=f-l;c+=Math.sqrt(m*m+g*g),a=p,l=f}return c}},"4a69":function(t,e,i){"use strict";function n(t,e){return Object.keys(t).reduce((function(i,n){return i[n]=e(n,t[n]),i}),{})}t.exports=n},"4a7b":function(t,e,i){"use strict";var n=i("c532");t.exports=function(t,e){e=e||{};var i={},r=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function c(r){n.isUndefined(e[r])?n.isUndefined(t[r])||(i[r]=l(void 0,t[r])):i[r]=l(t[r],e[r])}n.forEach(r,(function(t){n.isUndefined(e[t])||(i[t]=l(void 0,e[t]))})),n.forEach(o,c),n.forEach(s,(function(r){n.isUndefined(e[r])?n.isUndefined(t[r])||(i[r]=l(void 0,t[r])):i[r]=l(void 0,e[r])})),n.forEach(a,(function(n){n in e?i[n]=l(t[n],e[n]):n in t&&(i[n]=l(void 0,t[n]))}));var u=r.concat(o).concat(s).concat(a),h=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return n.forEach(h,c),i}},"4aa2":function(t,e,i){"use strict";var n=i("21a1"),r=i("cbe5"),o=i("20c8"),s=Math.PI,a=2*s,l=Math.sin,c=Math.cos,u=Math.acos,h=Math.atan2,d=Math.abs,p=Math.sqrt,f=Math.max,m=Math.min,g=1e-4;function y(t,e,i,n,r,o,s,a){var l=i-t,c=n-e,u=s-r,h=a-o,d=h*l-u*c;if(!(d*d<g))return d=(u*(e-o)-h*(t-r))/d,[t+d*l,e+d*c]}function v(t,e,i,n,r,o,s){var a=t-i,l=e-n,c=(s?o:-o)/p(a*a+l*l),u=c*l,h=-c*a,d=t+u,m=e+h,g=i+u,y=n+h,v=(d+g)/2,_=(m+y)/2,b=g-d,x=y-m,w=b*b+x*x,S=r-o,T=d*y-g*m,C=(x<0?-1:1)*p(f(0,S*S*w-T*T)),O=(T*x-b*C)/w,k=(-T*b-x*C)/w,A=(T*x+b*C)/w,I=(-T*b+x*C)/w,E=O-v,M=k-_,D=A-v,P=I-_;return E*E+M*M>D*D+P*P&&(O=A,k=I),{cx:O,cy:k,x01:-u,y01:-h,x11:O*(r/S-1),y11:k*(r/S-1)}}function _(t,e){var i=f(e.r,0),n=f(e.r0||0,0),r=i>0,_=n>0;if(r||_){if(r||(i=n,n=0),n>i){var b=i;i=n,n=b}var x,w=!!e.clockwise,S=e.startAngle,T=e.endAngle;if(S===T)x=0;else{var C=[S,T];Object(o["b"])(C,!w),x=d(C[0]-C[1])}var O=e.cx,k=e.cy,A=e.cornerRadius||0,I=e.innerCornerRadius||0;if(i>g)if(x>a-g)t.moveTo(O+i*c(S),k+i*l(S)),t.arc(O,k,i,S,T,!w),n>g&&(t.moveTo(O+n*c(T),k+n*l(T)),t.arc(O,k,n,T,S,w));else{var E=d(i-n)/2,M=m(E,A),D=m(E,I),P=D,L=M,z=i*c(S),j=i*l(S),B=n*c(T),R=n*l(T),F=void 0,N=void 0,V=void 0,$=void 0;if((M>g||D>g)&&(F=i*c(T),N=i*l(T),V=n*c(S),$=n*l(S),x<s)){var U=y(z,j,V,$,F,N,B,R);if(U){var G=z-U[0],q=j-U[1],H=F-U[0],W=N-U[1],Z=1/l(u((G*H+q*W)/(p(G*G+q*q)*p(H*H+W*W)))/2),X=p(U[0]*U[0]+U[1]*U[1]);P=m(D,(n-X)/(Z-1)),L=m(M,(i-X)/(Z+1))}}if(x>g)if(L>g){var Y=v(V,$,z,j,i,L,w),K=v(F,N,B,R,i,L,w);t.moveTo(O+Y.cx+Y.x01,k+Y.cy+Y.y01),L<M?t.arc(O+Y.cx,k+Y.cy,L,h(Y.y01,Y.x01),h(K.y01,K.x01),!w):(t.arc(O+Y.cx,k+Y.cy,L,h(Y.y01,Y.x01),h(Y.y11,Y.x11),!w),t.arc(O,k,i,h(Y.cy+Y.y11,Y.cx+Y.x11),h(K.cy+K.y11,K.cx+K.x11),!w),t.arc(O+K.cx,k+K.cy,L,h(K.y11,K.x11),h(K.y01,K.x01),!w))}else t.moveTo(O+z,k+j),t.arc(O,k,i,S,T,!w);else t.moveTo(O+z,k+j);if(n>g&&x>g)if(P>g){Y=v(B,R,F,N,n,-P,w),K=v(z,j,V,$,n,-P,w);t.lineTo(O+Y.cx+Y.x01,k+Y.cy+Y.y01),P<D?t.arc(O+Y.cx,k+Y.cy,P,h(Y.y01,Y.x01),h(K.y01,K.x01),!w):(t.arc(O+Y.cx,k+Y.cy,P,h(Y.y01,Y.x01),h(Y.y11,Y.x11),!w),t.arc(O,k,n,h(Y.cy+Y.y11,Y.cx+Y.x11),h(K.cy+K.y11,K.cx+K.x11),w),t.arc(O+K.cx,k+K.cy,P,h(K.y11,K.x11),h(K.y01,K.x01),!w))}else t.lineTo(O+B,k+R),t.arc(O,k,n,T,S,w);else t.lineTo(O+B,k+R)}else t.moveTo(O,k);t.closePath()}}var b=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0}return t}(),x=function(t){function e(e){return t.call(this,e)||this}return Object(n["a"])(e,t),e.prototype.getDefaultShape=function(){return new b},e.prototype.buildPath=function(t,e){_(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(r["b"]);x.prototype.type="sector";e["a"]=x},"4ac6":function(t,e){t.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},"4ad4":function(t,e,i){"use strict";var n=i("16b7"),r=i("f2e7"),o=i("58df"),s=i("80d2"),a=i("d9bd");const l=Object(o["a"])(n["a"],r["a"]);e["a"]=l.extend({name:"activatable",props:{activator:{default:null,validator:t=>["string","object"].includes(typeof t)},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean,openOnFocus:Boolean},data:()=>({activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}),watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted(){const t=Object(s["q"])(this,"activator",!0);t&&["v-slot","normal"].includes(t)&&Object(a["b"])('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy(){this.removeActivatorEvents()},methods:{addActivatorEvents(){if(!this.activator||this.disabled||!this.getActivator())return;this.listeners=this.genActivatorListeners();const t=Object.keys(this.listeners);for(const e of t)this.getActivator().addEventListener(e,this.listeners[e])},genActivator(){const t=Object(s["p"])(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=t,t},genActivatorAttributes(){return{role:"button","aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners(){if(this.disabled)return{};const t={};return this.openOnHover?(t.mouseenter=t=>{this.getActivator(t),this.runDelay("open")},t.mouseleave=t=>{this.getActivator(t),this.runDelay("close")}):t.click=t=>{const e=this.getActivator(t);e&&e.focus(),t.stopPropagation(),this.isActive=!this.isActive},this.openOnFocus&&(t.focus=t=>{this.getActivator(t),t.stopPropagation(),this.isActive=!this.isActive}),t},getActivator(t){var e;if(this.activatorElement)return this.activatorElement;let i=null;if(this.activator){const t=this.internalActivator?this.$el:document;i="string"===typeof this.activator?t.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!t){const t=this.activatorNode[0].componentInstance;i=t&&t.$options.mixins&&t.$options.mixins.some(t=>t.options&&["activatable","menuable"].includes(t.options.name))?t.getActivator():this.activatorNode[0].elm}else t&&(i=t.currentTarget||t.target);return this.activatorElement=(null==(e=i)?void 0:e.nodeType)===Node.ELEMENT_NODE?i:null,this.activatorElement},getContentSlot(){return Object(s["p"])(this,"default",this.getValueProxy(),!0)},getValueProxy(){const t=this;return{get value(){return t.isActive},set value(e){t.isActive=e}}},removeActivatorEvents(){if(!this.activator||!this.activatorElement)return;const t=Object.keys(this.listeners);for(const e of t)this.activatorElement.removeEventListener(e,this.listeners[e]);this.listeners={}},resetActivator(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}})},"4b2a":function(t,e,i){"use strict";i.d(e,"a",(function(){return Et}));var n=i("7fae"),r=i("b12f"),o=i("6cb7"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["a"])(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(o["a"]),a=s,l=i("c7a2"),c=i("6d8b"),u=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},t.prototype.getCoordSysModel=function(){},t}(),h=i("e0d3"),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["a"])(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",h["a"]).models[0]},e.type="cartesian2dAxis",e}(o["a"]);c["H"](d,u);var p={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},f=c["G"]({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},p),m=c["G"]({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},p),g=c["G"]({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},m),y=c["j"]({scale:!0,logBase:10},m),v={category:f,value:m,time:g,log:y},_=i("f934"),b=i("8e43"),x={value:1,category:1,time:1,log:1};function w(t,e,i,r){Object(c["k"])(x,(function(o,s){var a=Object(c["G"])(Object(c["G"])({},v[s],!0),r,!0),l=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e+"Axis."+s,i}return Object(n["a"])(i,t),i.prototype.mergeDefaultAndTheme=function(t,e){var i=Object(_["a"])(this),n=i?Object(_["b"])(t):{},r=e.getTheme();Object(c["G"])(t,r.get(s+"Axis")),Object(c["G"])(t,this.getDefaultOption()),t.type=S(t),i&&Object(_["d"])(t,n,i)},i.prototype.optionUpdated=function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=b["a"].createByAxisModel(this))},i.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},i.type=e+"Axis."+s,i.defaultOption=a,i}(i);t.registerComponentModel(l)})),t.registerSubTypeDefaulter(e+"Axis",S)}function S(t){return t.type||(t.data?"category":"value")}var T=i("697e"),C=i("9850"),O=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return c["F"](this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),c["n"](this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),k=O,A=i("1687"),I=i("401b"),E=["x","y"];function M(t){return"interval"===t.type||"time"===t.type}var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=E,e}return Object(n["a"])(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(M(t)&&M(e)){var i=t.getExtent(),n=e.getExtent(),r=this.dataToPoint([i[0],n[0]]),o=this.dataToPoint([i[1],n[1]]),s=i[1]-i[0],a=n[1]-n[0];if(s&&a){var l=(o[0]-r[0])/s,c=(o[1]-r[1])/a,u=r[0]-i[0]*l,h=r[1]-n[0]*c,d=this._transform=[l,0,0,c,u,h];this._invTransform=Object(A["d"])([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,e,i){i=i||[];var n=t[0],r=t[1];if(this._transform&&null!=n&&isFinite(n)&&null!=r&&isFinite(r))return Object(I["b"])(i,t,this._transform);var o=this.getAxis("x"),s=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(n,e)),i[1]=s.toGlobalCoord(s.dataToCoord(r,e)),i},e.prototype.clampData=function(t,e){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,r=i.getExtent(),o=n.getExtent(),s=i.parse(t[0]),a=n.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),e},e.prototype.pointToData=function(t,e){var i=[];if(this._invTransform)return Object(I["b"])(i,t,this._invTransform);var n=this.getAxis("x"),r=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(t[0]),e),i[1]=r.coordToData(r.toLocalCoord(t[1]),e),i},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),n=Math.min(e[0],e[1]),r=Math.max(t[0],t[1])-i,o=Math.max(e[0],e[1])-n;return new C["a"](i,n,r,o)},e}(k),P=D,L=i("3842"),z=i("e86a"),j=Object(h["l"])();function B(t){return"category"===t.type?F(t):$(t)}function R(t,e){return"category"===t.type?V(t,e):{ticks:c["F"](t.scale.getTicks(),(function(t){return t.value}))}}function F(t){var e=t.getLabelModel(),i=N(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function N(t,e){var i,n,r=U(t,"labels"),o=Object(T["e"])(e),s=G(r,o);return s||(c["v"](o)?i=Y(t,o):(n="auto"===o?H(t):o,i=X(t,n)),q(r,o,{labels:i,labelCategoryInterval:n}))}function V(t,e){var i,n,r=U(t,"ticks"),o=Object(T["e"])(e),s=G(r,o);if(s)return s;if(e.get("show")&&!t.scale.isBlank()||(i=[]),c["v"](o))i=Y(t,o,!0);else if("auto"===o){var a=N(t,t.getLabelModel());n=a.labelCategoryInterval,i=c["F"](a.labels,(function(t){return t.tickValue}))}else n=o,i=X(t,n,!0);return q(r,o,{ticks:i,tickCategoryInterval:n})}function $(t){var e=t.scale.getTicks(),i=Object(T["g"])(t);return{labels:c["F"](e,(function(e,n){return{level:e.level,formattedLabel:i(e,n),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}function U(t,e){return j(t)[e]||(j(t)[e]=[])}function G(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function q(t,e,i){return t.push({key:e,value:i}),i}function H(t){var e=j(t).autoInterval;return null!=e?e:j(t).autoInterval=t.calculateCategoryInterval()}function W(t){var e=Z(t),i=Object(T["g"])(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,o=r.getExtent(),s=r.count();if(o[1]-o[0]<1)return 0;var a=1;s>40&&(a=Math.max(1,Math.floor(s/40)));for(var l=o[0],c=t.dataToCoord(l+1)-t.dataToCoord(l),u=Math.abs(c*Math.cos(n)),h=Math.abs(c*Math.sin(n)),d=0,p=0;l<=o[1];l+=a){var f=0,m=0,g=z["e"](i({value:l}),e.font,"center","top");f=1.3*g.width,m=1.3*g.height,d=Math.max(d,f,7),p=Math.max(p,m,7)}var y=d/u,v=p/h;isNaN(y)&&(y=1/0),isNaN(v)&&(v=1/0);var _=Math.max(0,Math.floor(Math.min(y,v))),b=j(t.model),x=t.getExtent(),w=b.lastAutoInterval,S=b.lastTickCount;return null!=w&&null!=S&&Math.abs(w-_)<=1&&Math.abs(S-s)<=1&&w>_&&b.axisExtent0===x[0]&&b.axisExtent1===x[1]?_=w:(b.lastTickCount=s,b.lastAutoInterval=_,b.axisExtent0=x[0],b.axisExtent1=x[1]),_}function Z(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function X(t,e,i){var n=Object(T["g"])(t),r=t.scale,o=r.getExtent(),s=t.getLabelModel(),a=[],l=Math.max((e||0)+1,1),c=o[0],u=r.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var h=Object(T["i"])(t),d=s.get("showMinLabel")||h,p=s.get("showMaxLabel")||h;d&&c!==o[0]&&m(o[0]);for(var f=c;f<=o[1];f+=l)m(f);function m(t){var e={value:t};a.push(i?t:{formattedLabel:n(e),rawLabel:r.getLabel(e),tickValue:t})}return p&&f-l!==o[1]&&m(o[1]),a}function Y(t,e,i){var n=t.scale,r=Object(T["g"])(t),o=[];return c["k"](n.getTicks(),(function(t){var s=n.getLabel(t),a=t.value;e(t.value,s)&&o.push(i?a:{formattedLabel:r(t),rawLabel:s,tickValue:a})})),o}var K=[0,1],J=function(){function t(t,e,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=i||[0,0]}return t.prototype.contain=function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&t<=n},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Object(L["c"])(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var i=this._extent;i[0]=t,i[1]=e},t.prototype.dataToCoord=function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&(i=i.slice(),Q(i,n.count())),Object(L["h"])(t,K,i,e)},t.prototype.coordToData=function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&(i=i.slice(),Q(i,n.count()));var r=Object(L["h"])(t,i,K,e);return this.scale.scale(r)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),i=R(this,e),n=i.ticks,r=Object(c["F"])(n,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this),o=e.get("alignWithLabel");return tt(this,r,o,t.clamp),r},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var i=this.scale.getMinorTicks(e),n=Object(c["F"])(i,(function(t){return Object(c["F"])(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return n},t.prototype.getViewLabels=function(){return B(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},t.prototype.calculateCategoryInterval=function(){return W(this)},t}();function Q(t,e){var i=t[1]-t[0],n=e,r=i/n/2;t[0]+=r,t[1]-=r}function tt(t,e,i,n){var r=e.length;if(t.onBand&&!i&&r){var o,s,a=t.getExtent();if(1===r)e[0].coord=a[0],o=e[1]={coord:a[0]};else{var l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l;Object(c["k"])(e,(function(t){t.coord-=u/2}));var h=t.scale.getExtent();s=1+h[1]-e[r-1].tickValue,o={coord:e[r-1].coord+u*s},e.push(o)}var d=a[0]>a[1];p(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&p(a[0],e[0].coord)&&e.unshift({coord:a[0]}),p(a[1],o.coord)&&(n?o.coord=a[1]:e.pop()),n&&p(o.coord,a[1])&&e.push({coord:a[1]})}function p(t,e){return t=Object(L["o"])(t),e=Object(L["o"])(e),d?t>e:t<e}}var et=J,it=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n)||this;return s.index=0,s.type=r||"value",s.position=o||"bottom",s}return Object(n["a"])(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(et),nt=it,rt=i("0156"),ot=function(){function t(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=E,this._initCartesian(t,e,i),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),Object(c["k"])(i.x,(function(t){Object(T["h"])(t.scale,t.model)})),Object(c["k"])(i.y,(function(t){Object(T["h"])(t.scale,t.model)}));var n={};Object(c["k"])(i.x,(function(t){at(i,"y",t,n)})),Object(c["k"])(i.y,(function(t){at(i,"x",t,n)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,i){var n=t.getBoxLayoutParams(),r=!i&&t.get("containLabel"),o=Object(_["c"])(n,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;function a(){Object(c["k"])(s,(function(t){var e=t.isHorizontal(),i=e?[0,o.width]:[0,o.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),ct(t,e?o.x:o.y)}))}a(),r&&(Object(c["k"])(s,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=Object(T["b"])(t);if(e){var i=t.isHorizontal()?"height":"width",n=t.model.get(["axisLabel","margin"]);o[i]-=e[i]+n,"top"===t.position?o.y+=e.height+n:"left"===t.position&&(o.x+=e.width+n)}}})),a()),Object(c["k"])(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i)return i[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}Object(c["z"])(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,r=this._coordsList;n<r.length;n++)if(r[n].getAxis("x").index===t||r[n].getAxis("y").index===e)return r[n]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,i){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},t.prototype.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},t.prototype._findConvertTarget=function(t){var e,i,n=t.seriesModel,r=t.xAxisModel||n&&n.getReferringComponents("xAxis",h["a"]).models[0],o=t.yAxisModel||n&&n.getReferringComponents("yAxis",h["a"]).models[0],s=t.gridModel,a=this._coordsList;if(n)e=n.coordinateSystem,Object(c["q"])(a,e)<0&&(e=null);else if(r&&o)e=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)i=this.getAxis("x",r.componentIndex);else if(o)i=this.getAxis("y",o.componentIndex);else if(s){var l=s.coordinateSystem;l===this&&(e=this._coordsList[0])}return{cartesian:e,axis:i}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,i){var n=this,r=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},a={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(i,n){if(st(i,t)){var l=i.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=o.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=o.left?"right":"left"),o[l]=!0;var c=new nt(e,Object(T["a"])(i),[0,0],i.get("type"),l),u="category"===c.type;c.onBand=u&&i.get("boundaryGap"),c.inverse=i.get("inverse"),i.axis=c,c.model=i,c.grid=r,c.index=n,r._axesList.push(c),s[e][n]=c,a[e]++}}}this._axesMap=s,Object(c["k"])(s.x,(function(e,i){Object(c["k"])(s.y,(function(r,o){var s="x"+i+"y"+o,a=new P(s);a.master=n,a.model=t,n._coordsMap[s]=a,n._coordsList.push(a),a.addAxis(e),a.addAxis(r)}))}))},t.prototype._updateScale=function(t,e){function i(t,e){Object(c["k"])(Object(T["d"])(t,e.dim),(function(i){e.scale.unionExtentFromData(t,i)}))}Object(c["k"])(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(Object(rt["b"])(t)){var n=Object(rt["a"])(t),r=n.xAxisModel,o=n.yAxisModel;if(!st(r,e)||!st(o,e))return;var s=this.getCartesian(r.componentIndex,o.componentIndex),a=t.getData(),l=s.getAxis("x"),c=s.getAxis("y");"list"===a.type&&(i(a,l),i(a,c))}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],i=[];return Object(c["k"])(this.getCartesians(),(function(n){var r=null!=t&&"auto"!==t?n.getAxis(t):n.getBaseAxis(),o=n.getOtherAxis(r);Object(c["q"])(e,r)<0&&e.push(r),Object(c["q"])(i,o)<0&&i.push(o)})),{baseAxes:e,otherAxes:i}},t.create=function(e,i){var n=[];return e.eachComponent("grid",(function(r,o){var s=new t(r,e,i);s.name="grid_"+o,s.resize(r,i,!0),r.coordinateSystem=s,n.push(s)})),e.eachSeries((function(t){if(Object(rt["b"])(t)){var e=Object(rt["a"])(t),i=e.xAxisModel,n=e.yAxisModel,r=i.getCoordSysModel();0;var o=r.coordinateSystem;t.coordinateSystem=o.getCartesian(i.componentIndex,n.componentIndex)}})),n},t.dimensions=E,t}();function st(t,e){return t.getCoordSysModel()===e}function at(t,e,i,n){i.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=t[e],s=i.model,a=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(a){if(null!=l)lt(o[l])&&(r=o[l]);else for(var c in o)if(o.hasOwnProperty(c)&&lt(o[c])&&!n[u(o[c])]){r=o[c];break}r&&(n[u(r)]=!0)}function u(t){return t.dim+"_"+t.index}}function lt(t){return t&&"category"!==t.type&&"time"!==t.type&&Object(T["f"])(t)}function ct(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}var ut=ot,ht=i("2dc5"),dt=i("2306"),pt=i("cb11"),ft=i("fab2"),mt=i("6679"),gt=Object(h["l"])();function yt(t,e,i,n){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitArea"),s=o.getModel("areaStyle"),a=s.get("color"),u=n.coordinateSystem.getRect(),h=r.getTicksCoords({tickModel:o,clamp:!0});if(h.length){var d=a.length,p=gt(t).splitAreaColors,f=c["g"](),m=0;if(p)for(var g=0;g<h.length;g++){var y=p.get(h[g].tickValue);if(null!=y){m=(y+(d-1)*g)%d;break}}var v=r.toGlobalCoord(h[0].coord),_=s.getAreaStyle();a=c["s"](a)?a:[a];for(g=1;g<h.length;g++){var b=r.toGlobalCoord(h[g].coord),x=void 0,w=void 0,S=void 0,T=void 0;r.isHorizontal()?(x=v,w=u.y,S=b-x,T=u.height,v=x+S):(x=u.x,w=v,S=u.width,T=b-w,v=w+T);var C=h[g-1].tickValue;null!=C&&f.set(C,m),e.add(new l["a"]({anid:null!=C?"area_"+C:null,shape:{x:x,y:w,width:S,height:T},style:c["j"]({fill:a[m]},_),autoBatch:!0,silent:!0})),m=(m+1)%d}gt(t).splitAreaColors=f}}}function vt(t){gt(t).splitAreaColors=null}var _t=["axisLine","axisTickLabel","axisName"],bt=["splitArea","splitLine","minorSplitLine"],xt=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.axisPointerClass="CartesianAxisPointer",i}return Object(n["a"])(e,t),e.prototype.render=function(e,i,n,r){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ht["a"],this.group.add(this._axisGroup),e.get("show")){var s=e.getCoordSysModel(),a=rt["c"](s,e),l=new ft["a"](e,c["m"]({handleAutoShown:function(t){for(var i=s.coordinateSystem.getCartesians(),n=0;n<i.length;n++){var r=i[n].getOtherAxis(e.axis).type;if("value"===r||"log"===r)return!0}return!1}},a));c["k"](_t,l.add,l),this._axisGroup.add(l.getGroup()),c["k"](bt,(function(t){e.get([t,"show"])&&wt[t](this,this._axisGroup,e,s)}),this);var u=r&&"changeAxisOrder"===r.type&&r.isInitSort;u||dt["groupTransition"](o,this._axisGroup,e),t.prototype.render.call(this,e,i,n,r)}},e.prototype.remove=function(){vt(this)},e.type="cartesianAxis",e}(mt["a"]),wt={splitLine:function(t,e,i,n){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color");a=c["s"](a)?a:[a];for(var l=n.coordinateSystem.getRect(),u=r.isHorizontal(),h=0,d=r.getTicksCoords({tickModel:o}),p=[],f=[],m=s.getLineStyle(),g=0;g<d.length;g++){var y=r.toGlobalCoord(d[g].coord);u?(p[0]=y,p[1]=l.y,f[0]=y,f[1]=l.y+l.height):(p[0]=l.x,p[1]=y,f[0]=l.x+l.width,f[1]=y);var v=h++%a.length,_=d[g].tickValue;e.add(new pt["a"]({anid:null!=_?"line_"+d[g].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:f[0],y2:f[1]},style:c["j"]({stroke:a[v]},m),silent:!0}))}}},minorSplitLine:function(t,e,i,n){var r=i.axis,o=i.getModel("minorSplitLine"),s=o.getModel("lineStyle"),a=n.coordinateSystem.getRect(),l=r.isHorizontal(),c=r.getMinorTicksCoords();if(c.length)for(var u=[],h=[],d=s.getLineStyle(),p=0;p<c.length;p++)for(var f=0;f<c[p].length;f++){var m=r.toGlobalCoord(c[p][f].coord);l?(u[0]=m,u[1]=a.y,h[0]=m,h[1]=a.y+a.height):(u[0]=a.x,u[1]=m,h[0]=a.x+a.width,h[1]=m),e.add(new pt["a"]({anid:"minor_line_"+c[p][f].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:d,silent:!0}))}},splitArea:function(t,e,i,n){yt(t,e,i,n)}},St=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Object(n["a"])(e,t),e.type="xAxis",e}(xt),Tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=St.type,e}return Object(n["a"])(e,t),e.type="yAxis",e}(xt),Ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return Object(n["a"])(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new l["a"]({shape:t.coordinateSystem.getRect(),style:Object(c["j"])({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(r["a"]),Ot={offset:0};function kt(t){t.registerComponentView(Ct),t.registerComponentModel(a),t.registerCoordinateSystem("cartesian2d",ut),w(t,"x",d,Ot),w(t,"y",d,Ot),t.registerComponentView(St),t.registerComponentView(Tt),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}var At=i("af5c"),It=i("22b4");function Et(t){Object(It["a"])(kt),Object(It["a"])(At["a"])}},"4b85":function(t,e,i){},"4bc4":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"b",(function(){return o}));var n=1,r=2,o=4},"4d64":function(t,e,i){var n=i("fc6a"),r=i("50c4"),o=i("23cb"),s=function(t){return function(e,i,s){var a,l=n(e),c=r(l.length),u=o(s,c);if(t&&i!=i){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").filter,o=i("1dde"),s=o("filter");n({target:"Array",proto:!0,forced:!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,i){"use strict";var n=i("0366"),r=i("7b0b"),o=i("9bdd"),s=i("e95a"),a=i("68ee"),l=i("50c4"),c=i("8418"),u=i("9a1f"),h=i("35a1");t.exports=function(t){var e=r(t),i=a(this),d=arguments.length,p=d>1?arguments[1]:void 0,f=void 0!==p;f&&(p=n(p,d>2?arguments[2]:void 0,2));var m,g,y,v,_,b,x=h(e),w=0;if(!x||this==Array&&s(x))for(m=l(e.length),g=i?new this(m):Array(m);m>w;w++)b=f?p(e[w],w):e[w],c(g,w,b);else for(v=u(e,x),_=v.next,g=i?new this:[];!(y=_.call(v)).done;w++)b=f?o(v,p,[y.value,w],!0):y.value,c(g,w,b);return g.length=w,g}},"4e82":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("3206");function r(t,e,i){return Object(n["a"])(t,e,i).extend({name:"groupable",props:{activeClass:{type:String,default(){if(this[t])return this[t].activeClass}},disabled:Boolean},data(){return{isActive:!1}},computed:{groupClasses(){return this.activeClass?{[this.activeClass]:this.isActive}:{}}},created(){this[t]&&this[t].register(this)},beforeDestroy(){this[t]&&this[t].unregister(this)},methods:{toggle(){this.$emit("change")}}})}r("itemGroup")},"4e827":function(t,e,i){"use strict";var n=i("23e7"),r=i("59ed"),o=i("7b0b"),s=i("50c4"),a=i("577e"),l=i("d039"),c=i("addb"),u=i("a640"),h=i("04d1"),d=i("d998"),p=i("2d00"),f=i("512c"),m=[],g=m.sort,y=l((function(){m.sort(void 0)})),v=l((function(){m.sort(null)})),_=u("sort"),b=!l((function(){if(p)return p<70;if(!(h&&h>3)){if(d)return!0;if(f)return f<603;var t,e,i,n,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)m.push({k:e+n,v:i})}for(m.sort((function(t,e){return e.v-t.v})),n=0;n<m.length;n++)e=m[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),x=y||!v||!_||!b,w=function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:a(e)>a(i)?1:-1}};n({target:"Array",proto:!0,forced:x},{sort:function(t){void 0!==t&&r(t);var e=o(this);if(b)return void 0===t?g.call(e):g.call(e,t);var i,n,a=[],l=s(e.length);for(n=0;n<l;n++)n in e&&a.push(e[n]);a=c(a,w(t)),i=a.length,n=0;while(n<i)e[n]=a[n++];while(n<l)delete e[n++];return e}})},"4f85":function(t,e,i){"use strict";var n=i("7fae"),r=i("6d8b"),o=i("22d1"),s=i("e0d3"),a=i("6cb7"),l=i("4041"),c=i("38a2"),u=i("f934"),h=i("9fbc"),d=i("625e"),p=i("ec6f"),f=i("07fd"),m=i("0f99"),g=i("04f7"),y=i("d0ce"),v=i("2b17"),_=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,i=this._sourceHost,n=this._getUpstreamSourceManagers(),o=!!n.length;if(b(i)){var s=i,a=void 0,l=void 0,c=void 0;if(o){var u=n[0];u.prepareSource(),c=u.getSource(),a=c.data,l=c.sourceFormat,e=[u._getVersionSign()]}else a=s.get("data",!0),l=Object(r["C"])(a)?f["g"]:f["f"],e=[];var h=this._getSourceMetaRawOption()||{},d=c&&c.metaRawOption||{},m=Object(r["M"])(h.seriesLayoutBy,d.seriesLayoutBy)||null,g=Object(r["M"])(h.sourceHeader,d.sourceHeader)||null,y=Object(r["M"])(h.dimensions,d.dimensions),v=m!==d.seriesLayoutBy||!!g!==!!d.sourceHeader||y;t=v?[Object(p["b"])(a,{seriesLayoutBy:m,sourceHeader:g,dimensions:y},l)]:[]}else{var _=i;if(o){var x=this._applyTransform(n);t=x.sourceList,e=x.upstreamSignList}else{var w=_.get("source",!0);t=[Object(p["b"])(w,this._getSourceMetaRawOption(),null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,i=this._sourceHost,n=i.get("transform",!0),o=i.get("fromTransformResult",!0);if(null!=o){var s="";1!==t.length&&x(s)}var a=[],l=[];return Object(r["k"])(t,(function(t){t.prepareSource();var e=t.getSource(o||0),i="";null==o||e||x(i),a.push(e),l.push(t._getVersionSign())})),n?e=Object(g["a"])(n,a,{datasetIndex:i.componentIndex}):null!=o&&(e=[Object(p["a"])(a[0])]),{sourceList:e,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var i=t[e];if(i._isDirty()||this._upstreamSignList[e]!==i._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,i){var n=0,r=this._storeList,o=r[n];o||(o=r[n]={});var s=o[i];if(!s){var a=this._getUpstreamSourceManagers()[0];b(this._sourceHost)&&a?s=a._innerGetDataStore(t,e,i):(s=new y["b"],s.initData(new v["a"](e,t.length),t)),o[i]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(b(t)){var e=Object(m["e"])(t);return e?[e.getSourceManager()]:[]}return Object(r["F"])(Object(m["d"])(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,i,n=this._sourceHost;if(b(n))t=n.get("seriesLayoutBy",!0),e=n.get("sourceHeader",!0),i=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var r=n;t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),i=r.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:i}},t}();function b(t){return"series"===t.mainType}function x(t){throw new Error(t)}var w=i("217c");function S(t){var e,i,n,o,a=t.series,l=t.dataIndex,c=t.multipleSeries,u=a.getData(),h=u.mapDimensionsAll("defaultedTooltip"),d=h.length,p=a.getRawValue(l),f=Object(r["s"])(p),m=Object(w["e"])(a,l);if(d>1||f&&!d){var g=T(p,a,l,h,m);e=g.inlineValues,i=g.inlineValueTypes,n=g.blocks,o=g.inlineValues[0]}else if(d){var y=u.getDimensionInfo(h[0]);o=e=Object(v["e"])(u,l,h[0]),i=y.type}else o=e=f?p[0]:p;var _=Object(s["k"])(a),b=_&&a.name||"",x=u.getName(l),S=c?b:x;return Object(w["c"])("section",{header:b,noHeader:c||!_,sortParam:o,blocks:[Object(w["c"])("nameValue",{markerType:"item",markerColor:m,name:S,noName:!Object(r["Q"])(S),value:e,valueType:i})].concat(n||[])})}function T(t,e,i,n,o){var s=e.getData(),a=Object(r["K"])(t,(function(t,e,i){var n=s.getDimensionInfo(i);return t||n&&!1!==n.tooltip&&null!=n.displayName}),!1),l=[],c=[],u=[];function h(t,e){var i=s.getDimensionInfo(e);i&&!1!==i.otherDims.tooltip&&(a?u.push(Object(w["c"])("nameValue",{markerType:"subItem",markerColor:o,name:i.displayName,value:t,valueType:i.type})):(l.push(t),c.push(i.type)))}return n.length?Object(r["k"])(n,(function(t){h(Object(v["e"])(s,i,t),t)})):Object(r["k"])(t,h),{inlineValues:l,inlineValueTypes:c,blocks:u}}var C=s["l"]();function O(t,e){return t.getName(e)||t.getId(e)}var k="__universalTransitionEnabled",A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return Object(n["a"])(e,t),e.prototype.init=function(t,e,i){this.seriesIndex=this.componentIndex,this.dataTask=Object(h["a"])({count:M,reset:D}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var n=C(this).sourceManager=new _(this);n.prepareSource();var r=this.getInitialData(t,i);L(r,this),this.dataTask.context.data=r,C(this).dataBeforeProcessed=r,I(this),this._initSelectedMapFromData(r)},e.prototype.mergeDefaultAndTheme=function(t,e){var i=Object(u["a"])(this),n=i?Object(u["b"])(t):{},o=this.subType;a["a"].hasClass(o)&&(o+="Series"),r["G"](t,e.getTheme().get(this.subType)),r["G"](t,this.getDefaultOption()),s["d"](t,"label",["show"]),this.fillDataTextStyle(t.data),i&&Object(u["d"])(t,n,i)},e.prototype.mergeOption=function(t,e){t=r["G"](this.option,t,!0),this.fillDataTextStyle(t.data);var i=Object(u["a"])(this);i&&Object(u["d"])(this.option,t,i);var n=C(this).sourceManager;n.dirty(),n.prepareSource();var o=this.getInitialData(t,e);L(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,C(this).dataBeforeProcessed=o,I(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(t){if(t&&!r["C"](t))for(var e=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&s["d"](t[i],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){var e=this.getRawData();e.appendData(t.data)},e.prototype.getData=function(t){var e=j(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return C(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=j(this);if(e){var i=e.context;i.outputData=t,e!==this.dataTask&&(i.data=t)}C(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return r["g"](t)},e.prototype.getSourceManager=function(){return C(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return C(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,i){return S({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){if(o["a"].node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,i){var n=this.ecModel,r=l["a"].prototype.getColorFromPalette.call(this,t,e,i);return r||(r=n.getColorFromPalette(t,e,i)),r},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var i=this.option.selectedMap;if(i)for(var n=this.getData(e),r=0;r<t.length;r++){var o=t[r],s=O(n,o);i[s]=!1,this._selectedDataIndicesMap[s]=-1}},e.prototype.toggleSelect=function(t,e){for(var i=[],n=0;n<t.length;n++)i[0]=t[n],this.isSelected(t[n],e)?this.unselect(i,e):this.select(i,e)},e.prototype.getSelectedDataIndices=function(){for(var t=this._selectedDataIndicesMap,e=r["D"](t),i=[],n=0;n<e.length;n++){var o=t[e[n]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(t,e){var i=this.option.selectedMap;if(!i)return!1;var n=this.getData(e),r=O(n,t);return i[r]||!1},e.prototype.isUniversalTransitionEnabled=function(){if(this[k])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,e){var i,n,r=this.option.selectedMode,o=e.length;if(r&&o)if("multiple"===r)for(var s=this.option.selectedMap||(this.option.selectedMap={}),a=0;a<o;a++){var l=e[a],c=O(t,l);s[c]=!0,this._selectedDataIndicesMap[c]=t.getRawIndex(l)}else if("single"===r||!0===r){var u=e[o-1];c=O(t,u);this.option.selectedMap=(i={},i[c]=!0,i),this._selectedDataIndicesMap=(n={},n[c]=t.getRawIndex(u),n)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each((function(i){var n=t.getRawDataItem(i);n&&n.selected&&e.push(i)})),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return a["a"].registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(a["a"]);function I(t){var e=t.name;s["k"](t)||(t.name=E(t)||e)}function E(t){var e=t.getRawData(),i=e.mapDimensionsAll("seriesName"),n=[];return r["k"](i,(function(t){var i=e.getDimensionInfo(t);i.displayName&&n.push(i.displayName)})),n.join(" ")}function M(t){return t.model.getRawData().count()}function D(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),P}function P(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function L(t,e){r["k"](r["e"](t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(i){t.wrapMethod(i,r["i"](z,e))}))}function z(t,e){var i=j(t);return i&&i.setOutputEnd((e||this).count()),e}function j(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){var n=i.currentTask;if(n){var r=n.agentStubMap;r&&(n=r.get(t.uid))}return n}}r["H"](A,c["a"]),r["H"](A,l["a"]),Object(d["e"])(A,a["a"]);e["a"]=A},"4fac":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("401b");function r(t,e,i,n,r,o,s){var a=.5*(i-t),l=.5*(n-e);return(2*(e-i)+a+l)*s+(-3*(e-i)-2*a-l)*o+a*r+e}function o(t,e){for(var i=t.length,o=[],s=0,a=1;a<i;a++)s+=Object(n["g"])(t[a-1],t[a]);var l=s/2;l=l<i?i:l;for(a=0;a<l;a++){var c=a/(l-1)*(e?i:i-1),u=Math.floor(c),h=c-u,d=void 0,p=t[u%i],f=void 0,m=void 0;e?(d=t[(u-1+i)%i],f=t[(u+1)%i],m=t[(u+2)%i]):(d=t[0===u?u:u-1],f=t[u>i-2?i-1:u+1],m=t[u>i-3?i-1:u+2]);var g=h*h,y=h*g;o.push([r(d[0],p[0],f[0],m[0],h,g,y),r(d[1],p[1],f[1],m[1],h,g,y)])}return o}function s(t,e,i,r){var o,s,a,l,c=[],u=[],h=[],d=[];if(r){a=[1/0,1/0],l=[-1/0,-1/0];for(var p=0,f=t.length;p<f;p++)Object(n["i"])(a,a,t[p]),Object(n["h"])(l,l,t[p]);Object(n["i"])(a,a,r[0]),Object(n["h"])(l,l,r[1])}for(p=0,f=t.length;p<f;p++){var m=t[p];if(i)o=t[p?p-1:f-1],s=t[(p+1)%f];else{if(0===p||p===f-1){c.push(Object(n["c"])(t[p]));continue}o=t[p-1],s=t[p+1]}Object(n["l"])(u,s,o),Object(n["k"])(u,u,e);var g=Object(n["g"])(m,o),y=Object(n["g"])(m,s),v=g+y;0!==v&&(g/=v,y/=v),Object(n["k"])(h,u,-g),Object(n["k"])(d,u,y);var _=Object(n["a"])([],m,h),b=Object(n["a"])([],m,d);r&&(Object(n["h"])(_,_,a),Object(n["i"])(_,_,l),Object(n["h"])(b,b,a),Object(n["i"])(b,b,l)),c.push(_),c.push(b)}return i&&c.push(c.shift()),c}function a(t,e,i){var n=e.smooth,r=e.points;if(r&&r.length>=2){if(n&&"spline"!==n){var a=s(r,n,i,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var l=r.length,c=0;c<(i?l:l-1);c++){var u=a[2*c],h=a[2*c+1],d=r[(c+1)%l];t.bezierCurveTo(u[0],u[1],h[0],h[1],d[0],d[1])}}else{"spline"===n&&(r=o(r,i)),t.moveTo(r[0][0],r[0][1]);c=1;for(var p=r.length;c<p;c++)t.lineTo(r[c][0],r[c][1])}i&&t.closePath()}}},"4ff9":function(t,e,i){},5087:function(t,e,i){var n=i("68ee"),r=i("0d51");t.exports=function(t){if(n(t))return t;throw TypeError(r(t)+" is not a constructor")}},"50c4":function(t,e,i){var n=i("a691"),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},"512c":function(t,e,i){var n=i("342f"),r=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},5135:function(t,e,i){var n=i("7b0b"),r={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return r.call(n(t),e)}},5210:function(t,e,i){"use strict";i.d(e,"c",(function(){return x})),i.d(e,"b",(function(){return N})),i.d(e,"a",(function(){return V}));var n=i("19eb"),r=i("20c8"),o=i("5e76"),s=i("3437"),a=i("cbe5"),l=i("0da8"),c=i("dd4f"),u=i("e86a"),h=i("6d8b");function d(t,e){return t&&"solid"!==t&&e>0?(e=e||1,"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:Object(h["y"])(t)?[t]:Object(h["s"])(t)?t:null):null}var p=i("392f"),f=i("4bc4"),m=new r["a"](!0);function g(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function y(t){return"string"===typeof t&&"none"!==t}function v(t){var e=t.fill;return null!=e&&"none"!==e}function _(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var i=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=i}else t.fill()}function b(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var i=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=i}else t.stroke()}function x(t,e,i){var n=Object(o["a"])(e.image,e.__image,i);if(Object(o["c"])(n)){var r=t.createPattern(n,e.repeat||"repeat");if("function"===typeof DOMMatrix&&r.setTransform){var s=new DOMMatrix;s.rotateSelf(0,0,(e.rotation||0)/Math.PI*180),s.scaleSelf(e.scaleX||1,e.scaleY||1),s.translateSelf(e.x||0,e.y||0),r.setTransform(s)}return r}}function w(t,e,i,n){var r=g(i),o=v(i),a=i.strokePercent,l=a<1,c=!e.path;e.silent&&!l||!c||e.createPathProxy();var u=e.path||m;if(!n){var p=i.fill,y=i.stroke,w=o&&!!p.colorStops,S=r&&!!y.colorStops,T=o&&!!p.image,C=r&&!!y.image,O=void 0,k=void 0,A=void 0,I=void 0,E=void 0;(w||S)&&(E=e.getBoundingRect()),w&&(O=e.__dirty?Object(s["a"])(t,p,E):e.__canvasFillGradient,e.__canvasFillGradient=O),S&&(k=e.__dirty?Object(s["a"])(t,y,E):e.__canvasStrokeGradient,e.__canvasStrokeGradient=k),T&&(A=e.__dirty||!e.__canvasFillPattern?x(t,p,e):e.__canvasFillPattern,e.__canvasFillPattern=A),C&&(I=e.__dirty||!e.__canvasStrokePattern?x(t,y,e):e.__canvasStrokePattern,e.__canvasStrokePattern=A),w?t.fillStyle=O:T&&(A?t.fillStyle=A:o=!1),S?t.strokeStyle=k:C&&(I?t.strokeStyle=I:r=!1)}var M=i.lineDash&&i.lineWidth>0&&d(i.lineDash,i.lineWidth),D=i.lineDashOffset,P=!!t.setLineDash,L=e.getGlobalScale();if(u.setScale(L[0],L[1],e.segmentIgnoreThreshold),M){var z=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;z&&1!==z&&(M=Object(h["F"])(M,(function(t){return t/z})),D/=z)}var j=!0;(c||e.__dirty&f["b"]||M&&!P&&r)&&(u.setDPR(t.dpr),l?u.setContext(null):(u.setContext(t),j=!1),u.reset(),M&&!P&&(u.setLineDash(M),u.setLineDashOffset(D)),e.buildPath(u,e.shape,n),u.toStatic(),e.pathUpdated()),j&&u.rebuildPath(t,l?a:1),M&&P&&(t.setLineDash(M),t.lineDashOffset=D),n||(i.strokeFirst?(r&&b(t,i),o&&_(t,i)):(o&&_(t,i),r&&b(t,i))),M&&P&&t.setLineDash([])}function S(t,e,i){var n=e.__image=Object(o["a"])(i.image,e.__image,e,e.onload);if(n&&Object(o["c"])(n)){var r=i.x||0,s=i.y||0,a=e.getWidth(),l=e.getHeight(),c=n.width/n.height;if(null==a&&null!=l?a=l*c:null==l&&null!=a?l=a/c:null==a&&null==l&&(a=n.width,l=n.height),i.sWidth&&i.sHeight){var u=i.sx||0,h=i.sy||0;t.drawImage(n,u,h,i.sWidth,i.sHeight,r,s,a,l)}else if(i.sx&&i.sy){u=i.sx,h=i.sy;var d=a-u,p=l-h;t.drawImage(n,u,h,d,p,r,s,a,l)}else t.drawImage(n,r,s,a,l)}}function T(t,e,i){var n=i.text;if(null!=n&&(n+=""),n){t.font=i.font||u["a"],t.textAlign=i.textAlign,t.textBaseline=i.textBaseline;var r=void 0;if(t.setLineDash){var o=i.lineDash&&i.lineWidth>0&&d(i.lineDash,i.lineWidth),s=i.lineDashOffset;if(o){var a=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;a&&1!==a&&(o=Object(h["F"])(o,(function(t){return t/a})),s/=a),t.setLineDash(o),t.lineDashOffset=s,r=!0}}i.strokeFirst?(g(i)&&t.strokeText(n,i.x,i.y),v(i)&&t.fillText(n,i.x,i.y)):(v(i)&&t.fillText(n,i.x,i.y),g(i)&&t.strokeText(n,i.x,i.y)),r&&t.setLineDash([])}}var C=["shadowBlur","shadowOffsetX","shadowOffsetY"],O=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function k(t,e,i,r,o){var s=!1;if(!r&&(i=i||{},e===i))return!1;if(r||e.opacity!==i.opacity){s||(R(t,o),s=!0);var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?n["b"].opacity:a}(r||e.blend!==i.blend)&&(s||(R(t,o),s=!0),t.globalCompositeOperation=e.blend||n["b"].blend);for(var l=0;l<C.length;l++){var c=C[l];(r||e[c]!==i[c])&&(s||(R(t,o),s=!0),t[c]=t.dpr*(e[c]||0))}return(r||e.shadowColor!==i.shadowColor)&&(s||(R(t,o),s=!0),t.shadowColor=e.shadowColor||n["b"].shadowColor),s}function A(t,e,i,n,r){var o=F(e,r.inHover),s=n?null:i&&F(i,r.inHover)||{};if(o===s)return!1;var a=k(t,o,s,n,r);if((n||o.fill!==s.fill)&&(a||(R(t,r),a=!0),y(o.fill)&&(t.fillStyle=o.fill)),(n||o.stroke!==s.stroke)&&(a||(R(t,r),a=!0),y(o.stroke)&&(t.strokeStyle=o.stroke)),(n||o.opacity!==s.opacity)&&(a||(R(t,r),a=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var l=o.lineWidth,c=l/(o.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);t.lineWidth!==c&&(a||(R(t,r),a=!0),t.lineWidth=c)}for(var u=0;u<O.length;u++){var h=O[u],d=h[0];(n||o[d]!==s[d])&&(a||(R(t,r),a=!0),t[d]=o[d]||h[1])}return a}function I(t,e,i,n,r){return k(t,F(e,r.inHover),i&&F(i,r.inHover),n,r)}function E(t,e){var i=e.transform,n=t.dpr||1;i?t.setTransform(n*i[0],n*i[1],n*i[2],n*i[3],n*i[4],n*i[5]):t.setTransform(n,0,0,n,0,0)}function M(t,e,i){for(var n=!1,r=0;r<t.length;r++){var o=t[r];n=n||o.isZeroArea(),E(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}i.allClipped=n}function D(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var P=1,L=2,z=3,j=4;function B(t){var e=v(t),i=g(t);return!(t.lineDash||!(+e^+i)||e&&"string"!==typeof t.fill||i&&"string"!==typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function R(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function F(t,e){return e&&t.__hoverStyle||t.style}function N(t,e){V(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function V(t,e,i,n){var r=e.transform;if(!e.shouldBePainted(i.viewWidth,i.viewHeight,!1,!1))return e.__dirty&=~f["a"],void(e.__isRendered=!1);var o=e.__clipPaths,u=i.prevElClipPaths,h=!1,d=!1;if(u&&!Object(s["b"])(o,u)||(u&&u.length&&(R(t,i),t.restore(),d=h=!0,i.prevElClipPaths=null,i.allClipped=!1,i.prevEl=null),o&&o.length&&(R(t,i),t.save(),M(o,t,i),h=!0),i.prevElClipPaths=o),i.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var m=i.prevEl;m||(d=h=!0);var g=e instanceof a["b"]&&e.autoBatch&&B(e.style);h||D(r,m.transform)?(R(t,i),E(t,e)):g||R(t,i);var y=F(e,i.inHover);e instanceof a["b"]?(i.lastDrawType!==P&&(d=!0,i.lastDrawType=P),A(t,e,m,d,i),g&&(i.batchFill||i.batchStroke)||t.beginPath(),w(t,e,y,g),g&&(i.batchFill=y.fill||"",i.batchStroke=y.stroke||"")):e instanceof c["a"]?(i.lastDrawType!==z&&(d=!0,i.lastDrawType=z),A(t,e,m,d,i),T(t,e,y)):e instanceof l["a"]?(i.lastDrawType!==L&&(d=!0,i.lastDrawType=L),I(t,e,m,d,i),S(t,e,y)):e instanceof p["a"]&&(i.lastDrawType!==j&&(d=!0,i.lastDrawType=j),$(t,e,i)),g&&n&&R(t,i),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),i.prevEl=e,e.__dirty=0,e.__isRendered=!0}}function $(t,e,i){var n=e.getDisplayables(),r=e.getTemporalDisplayables();t.save();var o,s,a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover};for(o=e.getCursor(),s=n.length;o<s;o++){var l=n[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),V(t,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var c=0,u=r.length;c<u;c++){l=r[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),V(t,l,a,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}},5270:function(t,e,i){"use strict";var n=i("c532"),r=i("c401"),o=i("2e67"),s=i("2444");function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){a(t),t.headers=t.headers||{},t.data=r.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||s.adapter;return e(t).then((function(e){return a(t),e.data=r.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=r.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},5311:function(t,e,i){"use strict";var n=i("5607"),r=i("2b0e");e["a"]=r["a"].extend({name:"rippleable",directives:{ripple:n["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},"53a8":function(t,e){t.exports=n;var i=Object.prototype.hasOwnProperty;function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)i.call(n,r)&&(t[r]=n[r])}return t}},"53ca":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}},"551f":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s}));var n=i("282b"),r=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],o=Object(n["a"])(r),s=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return o(this,t,e)},t}()},5530:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("b64b"),i("a4d3"),i("4de4"),i("e439"),i("159b"),i("dbb4");function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}},5607:function(t,e,i){"use strict";i("7435");var n=i("80d2");const r=Symbol("rippleStop"),o=80;function s(t,e){t.style.transform=e,t.style.webkitTransform=e}function a(t,e){t.style.opacity=e.toString()}function l(t){return"TouchEvent"===t.constructor.name}function c(t){return"KeyboardEvent"===t.constructor.name}const u=(t,e,i={})=>{let n=0,r=0;if(!c(t)){const i=e.getBoundingClientRect(),o=l(t)?t.touches[t.touches.length-1]:t;n=o.clientX-i.left,r=o.clientY-i.top}let o=0,s=.3;e._ripple&&e._ripple.circle?(s=.15,o=e.clientWidth/2,o=i.center?o:o+Math.sqrt((n-o)**2+(r-o)**2)/4):o=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const a=(e.clientWidth-2*o)/2+"px",u=(e.clientHeight-2*o)/2+"px",h=i.center?a:n-o+"px",d=i.center?u:r-o+"px";return{radius:o,scale:s,x:h,y:d,centerX:a,centerY:u}},h={show(t,e,i={}){if(!e._ripple||!e._ripple.enabled)return;const n=document.createElement("span"),r=document.createElement("span");n.appendChild(r),n.className="v-ripple__container",i.class&&(n.className+=" "+i.class);const{radius:o,scale:l,x:c,y:h,centerX:d,centerY:p}=u(t,e,i),f=2*o+"px";r.className="v-ripple__animation",r.style.width=f,r.style.height=f,e.appendChild(n);const m=window.getComputedStyle(e);m&&"static"===m.position&&(e.style.position="relative",e.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),s(r,`translate(${c}, ${h}) scale3d(${l},${l},${l})`),a(r,0),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),s(r,`translate(${d}, ${p}) scale3d(1,1,1)`),a(r,.25)},0)},hide(t){if(!t||!t._ripple||!t._ripple.enabled)return;const e=t.getElementsByClassName("v-ripple__animation");if(0===e.length)return;const i=e[e.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const n=performance.now()-Number(i.dataset.activated),r=Math.max(250-n,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),a(i,0),setTimeout(()=>{const e=t.getElementsByClassName("v-ripple__animation");1===e.length&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),i.parentNode&&t.removeChild(i.parentNode)},300)},r)}};function d(t){return"undefined"===typeof t||!!t}function p(t){const e={},i=t.currentTarget;if(i&&i._ripple&&!i._ripple.touched&&!t[r]){if(t[r]=!0,l(t))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(e.center=i._ripple.centered||c(t),i._ripple.class&&(e.class=i._ripple.class),l(t)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{h.show(t,i,e)},i._ripple.showTimer=window.setTimeout(()=>{i&&i._ripple&&i._ripple.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},o)}else h.show(t,i,e)}}function f(t){const e=t.currentTarget;if(e&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),"touchend"===t.type&&e._ripple.showTimerCommit)return e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,void(e._ripple.showTimer=setTimeout(()=>{f(t)}));window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),h.hide(e)}}function m(t){const e=t.currentTarget;e&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let g=!1;function y(t){g||t.keyCode!==n["u"].enter&&t.keyCode!==n["u"].space||(g=!0,p(t))}function v(t){g=!1,f(t)}function _(t){!0===g&&(g=!1,f(t))}function b(t,e,i){const n=d(e.value);n||h.hide(t),t._ripple=t._ripple||{},t._ripple.enabled=n;const r=e.value||{};r.center&&(t._ripple.centered=!0),r.class&&(t._ripple.class=e.value.class),r.circle&&(t._ripple.circle=r.circle),n&&!i?(t.addEventListener("touchstart",p,{passive:!0}),t.addEventListener("touchend",f,{passive:!0}),t.addEventListener("touchmove",m,{passive:!0}),t.addEventListener("touchcancel",f),t.addEventListener("mousedown",p),t.addEventListener("mouseup",f),t.addEventListener("mouseleave",f),t.addEventListener("keydown",y),t.addEventListener("keyup",v),t.addEventListener("blur",_),t.addEventListener("dragstart",f,{passive:!0})):!n&&i&&x(t)}function x(t){t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",p),t.removeEventListener("touchend",f),t.removeEventListener("touchmove",m),t.removeEventListener("touchcancel",f),t.removeEventListener("mouseup",f),t.removeEventListener("mouseleave",f),t.removeEventListener("keydown",y),t.removeEventListener("keyup",v),t.removeEventListener("dragstart",f),t.removeEventListener("blur",_)}function w(t,e,i){b(t,e,!1)}function S(t){delete t._ripple,x(t)}function T(t,e){if(e.value===e.oldValue)return;const i=d(e.oldValue);b(t,e,i)}const C={bind:w,unbind:S,update:T};e["a"]=C},5692:function(t,e,i){var n=i("c430"),r=i("c6cd");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.18.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56a4":function(t,e,i){"use strict";var n=i("9d26"),r=i("a9ad"),o=i("3206"),s=i("5607"),a=i("58df");const l=Object(a["a"])(r["a"],Object(o["a"])("stepper","v-stepper-step","v-stepper"));e["a"]=l.extend().extend({name:"v-stepper-step",directives:{ripple:s["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:()=>[]},step:[Number,String]},data(){return{isActive:!1,isInactive:!0}},computed:{classes(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError(){return this.rules.some(t=>!0!==t())}},mounted(){this.stepper&&this.stepper.register(this)},beforeDestroy(){this.stepper&&this.stepper.unregister(this)},methods:{click(t){t.stopPropagation(),this.$emit("click",t),this.editable&&this.stepClick(this.step)},genIcon(t){return this.$createElement(n["a"],t)},genLabel(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep(){const t=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(t,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent(){const t=[];return this.hasError?t.push(this.genIcon(this.errorIcon)):this.complete?this.editable?t.push(this.genIcon(this.editIcon)):t.push(this.genIcon(this.completeIcon)):t.push(String(this.step)),t},toggle(t){this.isActive=t.toString()===this.step.toString(),this.isInactive=Number(t)<Number(this.step)}},render(t){return t("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}})},"56ef":function(t,e,i){var n=i("d066"),r=i("241c"),o=i("7418"),s=i("825a");t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(s(t)),i=o.f;return i?e.concat(i(t)):e}},"577e":function(t,e,i){var n=i("f5df");t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},5803:function(t,e,i){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("1d80"),r=i("577e"),o=i("5899"),s="["+o+"]",a=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(t){return function(e){var i=r(n(e));return 1&t&&(i=i.replace(a,"")),2&t&&(i=i.replace(l,"")),i}};t.exports={start:c(1),end:c(2),trim:c(3)}},"58df":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("2b0e");function r(...t){return n["a"].extend({mixins:t})}},"59ed":function(t,e,i){var n=i("1626"),r=i("0d51");t.exports=function(t){if(n(t))return t;throw TypeError(r(t)+" is not a function")}},"5a92":function(t,e,i){"use strict";var n=i("e1bd");function r(t){this.origin=t.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=t.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=t,this.send=this.send.bind(this),this.countries=t.countries?t.countries.split(","):null,this.types=t.types?t.types.split(","):null,this.bbox=t.bbox?t.bbox:null,this.language=t.language?t.language.split(","):null,this.limit=t.limit?+t.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(t),this.eventQueue=new Array,this.flushInterval=t.flushInterval||1e3,this.maxQueueSize=t.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}r.prototype={select:function(t,e){var i=this.getSelectedIndex(t,e),n=this.getEventPayload("search.select",e);if(n.resultIndex=i,n.resultPlaceName=t.place_name,n.resultId=t.id,(i!==this.lastSentIndex||n.queryString!==this.lastSentInput)&&-1!=i&&(this.lastSentIndex=i,this.lastSentInput=n.queryString,n.queryString))return this.push(n)},start:function(t){var e=this.getEventPayload("search.start",t);if(e.queryString)return this.push(e)},keyevent:function(t,e){if(t.key&&!t.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(t.keyCode)){var i=this.getEventPayload("search.keystroke",e);if(i.lastAction=t.key,i.queryString)return this.push(i)}},send:function(t,e){if(!this.enableEventLogging)return e?e():void 0;var i=this.getRequestOptions(t);this.request(i,function(t){return t?this.handleError(t,e):e?e():void 0}.bind(this))},getRequestOptions:function(t){Array.isArray(t)||(t=[t]);var e={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return e},getEventPayload:function(t,e){var i;i=e.options.proximity?[e.options.proximity.longitude,e.options.proximity.latitude]:null;var n=e._map?e._map.getZoom():void 0,r={event:t,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:e.options.autocomplete,fuzzyMatch:e.options.fuzzyMatch,proximity:i,limit:e.options.limit,routing:e.options.routing,worldview:e.options.worldview,mapZoom:n,keyboardLocale:this.locale};return"search.select"===t?r.queryString=e.inputString:"search.select"!=t&&e._inputEl?r.queryString=e._inputEl.value:r.queryString=e.inputString,r},request:function(t,e){var i=new XMLHttpRequest;for(var n in i.onreadystatechange=function(){if(4==this.readyState)return 204==this.status?e(null):e(this.statusText)},i.open(t.method,t.host+"/"+t.path,!0),t.headers){var r=t.headers[n];i.setRequestHeader(n,r)}i.send(t.body)},handleError:function(t,e){if(e)return e(t)},generateSessionID:function(){return n()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(t,e){if(e._typeahead){var i=e._typeahead.data,n=t.id,r=i.map((function(t){return t.id})),o=r.indexOf(n);return o}},shouldEnableLogging:function(t){return!1!==t.enableEventLogging&&((!t.origin||-1!=t.origin.indexOf("api.mapbox.com"))&&(!t.localGeocoder&&!t.filter))},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(t,e){this.eventQueue.push(t),(this.eventQueue.length>=this.maxQueueSize||e)&&this.flush()},remove:function(){this.flush()}},t.exports=r},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5c7f":function(t,e,i){"use strict";var n=i("2b0e"),r=i("ed09");function o(t){t=t||n["a"],t&&!t["__composition_api_installed__"]&&n["a"].use(r["b"])}o(n["a"]);var s=n["a"],a=(n["a"].version,i("1be7")),l=i("88b3"),c=null;function u(t){return c||(c=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),c(t)}var h=null;function d(t){h||(h=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),h(t)}function p(t){var e=document.createElement("style");return e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),(document.querySelector("head")||document.body).appendChild(e),e}function f(t,e){void 0===e&&(e={});var i=document.createElement(t);return Object.keys(e).forEach((function(t){i[t]=e[t]})),i}function m(t,e,i){var n=window.getComputedStyle(t,i||null)||{display:"none"};return n[e]}function g(t){if(!document.documentElement.contains(t))return{detached:!0,rendered:!1};var e=t;while(e!==document){if("none"===m(e,"display"))return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}var y='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',v=0,_=null;function b(t,e){t.__resize_mutation_handler__||(t.__resize_mutation_handler__=S.bind(t));var i=t.__resize_listeners__;if(!i)if(t.__resize_listeners__=[],window.ResizeObserver){var n=t.offsetWidth,r=t.offsetHeight,o=new ResizeObserver((function(){(t.__resize_observer_triggered__||(t.__resize_observer_triggered__=!0,t.offsetWidth!==n||t.offsetHeight!==r))&&C(t)})),s=g(t),a=s.detached,l=s.rendered;t.__resize_observer_triggered__=!1===a&&!1===l,t.__resize_observer__=o,o.observe(t)}else if(t.attachEvent&&t.addEventListener)t.__resize_legacy_resize_handler__=function(){C(t)},t.attachEvent("onresize",t.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);else if(v||(_=p(y)),O(t),t.__resize_rendered__=g(t).rendered,window.MutationObserver){var c=new MutationObserver(t.__resize_mutation_handler__);c.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),t.__resize_mutation_observer__=c}t.__resize_listeners__.push(e),v++}function x(t,e){var i=t.__resize_listeners__;if(i){if(e&&i.splice(i.indexOf(e),1),!i.length||!e){if(t.detachEvent&&t.removeEventListener)return t.detachEvent("onresize",t.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);t.__resize_observer__?(t.__resize_observer__.unobserve(t),t.__resize_observer__.disconnect(),t.__resize_observer__=null):(t.__resize_mutation_observer__&&(t.__resize_mutation_observer__.disconnect(),t.__resize_mutation_observer__=null),t.removeEventListener("scroll",T),t.removeChild(t.__resize_triggers__.triggers),t.__resize_triggers__=null),t.__resize_listeners__=null}!--v&&_&&_.parentNode.removeChild(_)}}function w(t){var e=t.__resize_last__,i=e.width,n=e.height,r=t.offsetWidth,o=t.offsetHeight;return r!==i||o!==n?{width:r,height:o}:null}function S(){var t=g(this),e=t.rendered,i=t.detached;e!==this.__resize_rendered__&&(!i&&this.__resize_triggers__&&(k(this),this.addEventListener("scroll",T,!0)),this.__resize_rendered__=e,C(this))}function T(){var t=this;k(this),this.__resize_raf__&&d(this.__resize_raf__),this.__resize_raf__=u((function(){var e=w(t);e&&(t.__resize_last__=e,C(t))}))}function C(t){t&&t.__resize_listeners__&&t.__resize_listeners__.forEach((function(e){e.call(t,t)}))}function O(t){var e=m(t,"position");e&&"static"!==e||(t.style.position="relative"),t.__resize_old_position__=e,t.__resize_last__={};var i=f("div",{className:"resize-triggers"}),n=f("div",{className:"resize-expand-trigger"}),r=f("div"),o=f("div",{className:"resize-contract-trigger"});n.appendChild(r),i.appendChild(n),i.appendChild(o),t.appendChild(i),t.__resize_triggers__={triggers:i,expand:n,expandChild:r,contract:o},k(t),t.addEventListener("scroll",T,!0),t.__resize_last__={width:t.offsetWidth,height:t.offsetHeight}}function k(t){var e=t.__resize_triggers__,i=e.expand,n=e.expandChild,r=e.contract,o=r.scrollWidth,s=r.scrollHeight,a=i.offsetWidth,l=i.offsetHeight,c=i.scrollWidth,u=i.scrollHeight;r.scrollLeft=o,r.scrollTop=s,n.style.width=a+1+"px",n.style.height=l+1+"px",i.scrollLeft=c,i.scrollTop=u}var A=function(){return(A=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},I=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"],E={autoresize:Boolean},M={loading:Boolean,loadingOptions:Object};!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}("x-vue-echarts{display:block;width:100%;height:100%}");var D=/^on[^a-z]/,P=function(t){return D.test(t)};s&&s.config.ignoredElements.push("x-vue-echarts");var L=Object(r["c"])({name:"echarts",props:A(A({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},E),M),inheritAttrs:!1,setup:function(t,e){var i=e.attrs,n=e.listeners,o=Object(r["i"])(),s=Object(r["j"])(),c=Object(r["j"])(),u=Object(r["e"])("ecTheme",null),h=Object(r["e"])("ecInitOptions",null),d=Object(r["e"])("ecUpdateOptions",null),p=Object(r["a"])((function(){return c.value||t.option||Object.create(null)})),f=Object(r["a"])((function(){return t.theme||Object(r["m"])(u)||{}})),m=Object(r["a"])((function(){return t.initOptions||Object(r["m"])(h)||{}})),g=Object(r["a"])((function(){return t.updateOptions||Object(r["m"])(d)||{}})),y=Object(r["l"])(t),v=y.autoresize,_=y.manualUpdate,w=y.loading,S=Object(r["k"])(t,"theme"),T=Object(r["k"])(t,"initOptions"),C=Object(r["k"])(t,"loadingOptions"),O=Object(r["a"])((function(){return function(t){var e={};for(var i in t)P(i)||(e[i]=t[i]);return e}(i)}));function k(e){if(!s.value&&o.value){var l=s.value=Object(a["b"])(o.value,f.value,m.value);t.group&&(l.group=t.group);var c=n;c||(c={},Object.keys(i).filter((function(t){return 0===t.indexOf("on")&&t.length>2})).forEach((function(t){var e=t.charAt(2).toLowerCase()+t.slice(3);c[e]=i[t]}))),Object.keys(c).forEach((function(t){var e=c[t];e&&(0===t.indexOf("zr:")?l.getZr().on(t.slice(3).toLowerCase(),e):l.on(t.toLowerCase(),e))})),l.setOption(e||p.value,g.value),Object(r["f"])(u),setTimeout(u)}function u(){l&&!l.isDisposed()&&l.resize()}}function E(){s.value&&(s.value.dispose(),s.value=void 0)}var M=null;Object(r["n"])(_,(function(e){"function"==typeof M&&(M(),M=null),e||(M=Object(r["n"])((function(){return t.option}),(function(e){e&&(s.value?s.value.setOption(e,t.updateOptions):k())}),{deep:!0}))}),{immediate:!0}),Object(r["n"])([S,T],(function(){E(),k()}),{deep:!0}),Object(r["o"])((function(){t.group&&s.value&&(s.value.group=t.group)}));var D=function(t,e){function i(i){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t.value||e(),!t.value)throw new Error("ECharts is not initialized yet.");return t.value[i].apply(t.value,n)}}function n(t){return i(t)}return A(A({},(r=Object.create(null),I.forEach((function(t){r[t]=i(t)})),r)),{dispatchAction:n("dispatchAction"),getDataURL:n("getDataURL"),getConnectedDataURL:n("getConnectedDataURL")});var r}(s,k);!function(t,e,i){var n=Object(r["e"])("ecLoadingOptions",{}),o=Object(r["a"])((function(){return A(A({},Object(r["m"])(n)),null==i?void 0:i.value)}));Object(r["o"])((function(){var i=t.value;i&&(e.value?i.showLoading(o.value):i.hideLoading())}))}(s,w,C),function(t,e,i,n){var o=null,s=0;function a(){var t=i.value;return t?t.offsetWidth*t.offsetHeight:0}Object(r["n"])([i,t,e],(function(t,e,i){var r=t[0],c=t[1],u=t[2];r&&c&&u&&(s=a(),o=Object(l["b"])((function(){0===s?(c.setOption(Object.create(null),!0),c.resize(),c.setOption(n.value,!0)):c.resize(),s=a()}),100),b(r,o)),i((function(){o&&r&&(s=0,x(r,o))}))}))}(s,v,o,p),Object(r["g"])((function(){t.option&&k()})),Object(r["h"])(E);var L=A({root:o,setOption:function(e,i){t.manualUpdate&&(c.value=e),s.value?s.value.setOption(e,A(A({},g.value),i)):k(e)},nonEventAttrs:O},D);return Object.defineProperty(L,"chart",{get:function(){return Object(r["m"])(s)}}),L},render:function(){var t=A({},this.nonEventAttrs);return t.ref="root",t.class=t.class?["echarts"].concat(t.class):"echarts",Object(r["d"])("x-vue-echarts",t)}});e["a"]=L},"5d23":function(t,e,i){"use strict";i.d(e,"a",(function(){return O})),i.d(e,"b",(function(){return k}));var n=i("80d2"),r=i("8860"),o=(i("db42"),i("9d26")),s=i("da13"),a=i("34c3"),l=i("7e2b"),c=i("9d65"),u=i("a9ad"),h=i("f2e7"),d=i("3206"),p=i("5607"),f=i("0789"),m=i("58df");const g=Object(m["a"])(l["a"],c["a"],u["a"],Object(d["a"])("list"),h["a"]);var y=g.extend().extend({name:"v-list-group",directives:{ripple:p["a"]},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:[String,RegExp],noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive(t){!this.subGroup&&t&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy(){this.list&&this.list.unregister(this)},methods:{click(t){this.disabled||(this.isBooted=!0,this.$emit("click",t),this.$nextTick(()=>this.isActive=!this.isActive))},genIcon(t){return this.$createElement(o["a"],t)},genAppendIcon(){const t=!this.subGroup&&this.appendIcon;return t||this.$slots.appendIcon?this.$createElement(a["a"],{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(t)]):null},genHeader(){return this.$createElement(s["a"],{staticClass:"v-list-group__header",attrs:{"aria-expanded":String(this.isActive),role:"button"},class:{[this.activeClass]:this.isActive},props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.listeners$,click:this.click}},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems(){return this.showLazyContent(()=>[this.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:this.isActive}]},Object(n["p"])(this))])},genPrependIcon(){const t=this.subGroup&&null==this.prependIcon?"$subgroup":this.prependIcon;return t||this.$slots.prependIcon?this.$createElement(a["a"],{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(t)]):null},onRouteChange(t){if(!this.group)return;const e=this.matchRoute(t.path);e&&this.isActive!==e&&this.list&&this.list.listClick(this._uid),this.isActive=e},toggle(t){const e=this._uid===t;e&&(this.isBooted=!0),this.$nextTick(()=>this.isActive=e)},matchRoute(t){return null!==t.match(this.group)}},render(t){return t("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),t(f["a"],this.genItems())])}}),v=i("1baa"),_=i("1800"),b=(i("3408"),i("24b2")),x=i("a236"),w=Object(m["a"])(u["a"],b["a"],x["a"]).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes(){return{"v-avatar--left":this.left,"v-avatar--right":this.right,...this.roundedClasses}},styles(){return{height:Object(n["g"])(this.size),minWidth:Object(n["g"])(this.size),width:Object(n["g"])(this.size),...this.measurableStyles}}},render(t){const e={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),this.$slots.default)}}),S=w,T=S.extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes(){return{"v-list-item__avatar--horizontal":this.horizontal,...S.options.computed.classes.call(this),"v-avatar--tile":this.tile||this.horizontal}}},render(t){const e=S.options.render.call(this,t);return e.data=e.data||{},e.data.staticClass+=" v-list-item__avatar",e}});const C=Object(n["i"])("v-list-item__action-text","span"),O=Object(n["i"])("v-list-item__content","div"),k=Object(n["i"])("v-list-item__title","div"),A=Object(n["i"])("v-list-item__subtitle","div");r["a"],s["a"],_["a"],v["a"],a["a"]},"5e23":function(t,e,i){},"5e76":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return l}));var n=i("d51b"),r=new n["a"](50);function o(t){if("string"===typeof t){var e=r.get(t);return e&&e.image}return t}function s(t,e,i,n,o){if(t){if("string"===typeof t){if(e&&e.__zrImageSrc===t||!i)return e;var s=r.get(t),c={hostEl:i,cb:n,cbPayload:o};return s?(e=s.image,!l(e)&&s.pending.push(c)):(e=new Image,e.onload=e.onerror=a,r.put(t,e.__cachedImgObj={image:e,pending:[c]}),e.src=e.__zrImageSrc=t),e}return t}return e}function a(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function l(t){return t&&t.width&&t.height}},"5e77":function(t,e,i){var n=i("83ab"),r=i("5135"),o=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=r(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!n||n&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},"5f02":function(t,e,i){"use strict";t.exports=function(t){return"object"===typeof t&&!0===t.isAxiosError}},"5fa6":function(t,e,i){"use strict";i("84c9")},"604c":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("166a");var n=i("a452"),r=i("7560"),o=i("58df"),s=i("d9bd");const a=Object(o["a"])(n["a"],r["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean,tag:{type:String,default:"div"}},data(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes(){return{"v-item-group":!0,...this.themeClasses}},selectedIndex(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem(){if(!this.multiple)return this.selectedItems[0]},selectedItems(){return this.items.filter((t,e)=>this.toggleMethod(this.getValue(t,e)))},selectedValues(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod(){if(!this.multiple)return t=>this.internalValue===t;const t=this.internalValue;return Array.isArray(t)?e=>t.includes(e):()=>!1}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created(){this.multiple&&!Array.isArray(this.internalValue)&&Object(s["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{genData(){return{class:this.classes}},getValue(t,e){return null==t.value||""===t.value?e:t.value},onClick(t){this.updateInternalValue(this.getValue(t,this.items.indexOf(t)))},register(t){const e=this.items.push(t)-1;t.$on("change",()=>this.onClick(t)),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(t,e)},unregister(t){if(this._isDestroyed)return;const e=this.items.indexOf(t),i=this.getValue(t,e);this.items.splice(e,1);const n=this.selectedValues.indexOf(i);if(!(n<0)){if(!this.mandatory)return this.updateInternalValue(i);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter(t=>t!==i):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}},updateItem(t,e){const i=this.getValue(t,e);t.isActive=this.toggleMethod(i)},updateItemsState(){this.$nextTick(()=>{if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)})},updateInternalValue(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory(t){if(!this.items.length)return;const e=this.items.slice();t&&e.reverse();const i=e.find(t=>!t.disabled);if(!i)return;const n=this.items.indexOf(i);this.updateInternalValue(this.getValue(i,n))},updateMultiple(t){const e=Array.isArray(this.internalValue)?this.internalValue:[],i=e.slice(),n=i.findIndex(e=>e===t);this.mandatory&&n>-1&&i.length-1<1||null!=this.max&&n<0&&i.length+1>this.max||(n>-1?i.splice(n,1):i.push(t),this.internalValue=i)},updateSingle(t){const e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render(t){return t(this.tag,this.genData(),this.$slots.default)}});a.extend({name:"v-item-group",provide(){return{itemGroup:this}}})},"605d":function(t,e,i){var n=i("c6b6"),r=i("da84");t.exports="process"==n(r.process)},6069:function(t,e){t.exports="object"==typeof window},"607d":function(t,e,i){"use strict";i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return u})),i.d(e,"d",(function(){return h})),i.d(e,"a",(function(){return p})),i.d(e,"e",(function(){return f})),i.d(e,"f",(function(){return m}));var n=i("22d1"),r=i("65ed"),o="undefined"!==typeof window&&!!window.addEventListener,s=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,a=[];function l(t,e,i,r){return i=i||{},r||!n["a"].canvasSupported?c(t,e,i):n["a"].browser.firefox&&n["a"].browser.version<"39"&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):c(t,e,i),i}function c(t,e,i){if(n["a"].domSupported&&t.getBoundingClientRect){var o=e.clientX,s=e.clientY;if(Object(r["a"])(t)){var l=t.getBoundingClientRect();return i.zrX=o-l.left,void(i.zrY=s-l.top)}if(Object(r["b"])(a,t,o,s))return i.zrX=a[0],void(i.zrY=a[1])}i.zrX=i.zrY=0}function u(t){return t||window.event}function h(t,e,i){if(e=u(e),null!=e.zrX)return e;var n=e.type,r=n&&n.indexOf("touch")>=0;if(r){var o="touchend"!==n?e.targetTouches[0]:e.changedTouches[0];o&&l(t,o,e,i)}else{l(t,e,e,i);var a=d(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var c=e.button;return null==e.which&&void 0!==c&&s.test(e.type)&&(e.which=1&c?1:2&c?3:4&c?2:0),e}function d(t){var e=t.wheelDelta;if(e)return e;var i=t.deltaX,n=t.deltaY;if(null==i||null==n)return e;var r=0!==n?Math.abs(n):Math.abs(i),o=n>0?-1:n<0?1:i>0?-1:1;return 3*r*o}function p(t,e,i,n){o?t.addEventListener(e,i,n):t.attachEvent("on"+e,i)}function f(t,e,i,n){o?t.removeEventListener(e,i,n):t.detachEvent("on"+e,i)}var m=o?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0}},"608e":function(t,e,i){"use strict";var n=i("6aa0"),r={};function o(t){if(r[t])return r[t];var e=t.split("."),i=e[0],n=e[1];if(!n)throw new Error("Invalid token");var o=s(n),l={usage:i,user:o.u};return a(o,"a")&&(l.authorization=o.a),a(o,"exp")&&(l.expires=1e3*o.exp),a(o,"iat")&&(l.created=1e3*o.iat),a(o,"scopes")&&(l.scopes=o.scopes),a(o,"client")&&(l.client=o.client),a(o,"ll")&&(l.lastLogin=o.ll),a(o,"iu")&&(l.impersonator=o.iu),r[t]=l,l}function s(t){try{return JSON.parse(n.decode(t))}catch(e){throw new Error("Invalid token")}}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=o},"60da":function(t,e,i){"use strict";var n=i("83ab"),r=i("d039"),o=i("df75"),s=i("7418"),a=i("d1e7"),l=i("7b0b"),c=i("44ad"),u=Object.assign,h=Object.defineProperty;t.exports=!u||r((function(){if(n&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),r="abcdefghijklmnopqrst";return t[i]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[i]||o(u({},e)).join("")!=r}))?function(t,e){var i=l(t),r=arguments.length,u=1,h=s.f,d=a.f;while(r>u){var p,f=c(arguments[u++]),m=h?o(f).concat(h(f)):o(f),g=m.length,y=0;while(g>y)p=m[y++],n&&!d.call(f,p)||(i[p]=f[p])}return i}:u},"615b":function(t,e,i){},"61d2":function(t,e,i){},"625e":function(t,e,i){"use strict";i.d(e,"f",(function(){return l})),i.d(e,"d",(function(){return u})),i.d(e,"b",(function(){return h})),i.d(e,"e",(function(){return p})),i.d(e,"a",(function(){return m})),i.d(e,"c",(function(){return v}));var n=i("7fae"),r=i("6d8b"),o=".",s="___EC__COMPONENT__CONTAINER___",a="___EC__EXTENDED_CLASS___";function l(t){var e={main:"",sub:""};if(t){var i=t.split(o);e.main=i[0]||"",e.sub=i[1]||""}return e}function c(t){r["b"](/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function u(t){return!(!t||!t[a])}function h(t,e){t.$constructor=t,t.extend=function(t){var e=this;function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(t.$constructor)t.$constructor.apply(this,arguments);else{if(d(e)){var a=r["h"](i.prototype,new(e.bind.apply(e,Object(n["b"])([void 0],o))));return a}e.apply(this,arguments)}}return i[a]=!0,r["m"](i.prototype,t),i.extend=this.extend,i.superCall=g,i.superApply=y,r["r"](i,this),i.superClass=e,i}}function d(t){return"function"===typeof t&&/^class\s/.test(Function.prototype.toString.call(t))}function p(t,e){t.extend=e.extend}var f=Math.round(10*Math.random());function m(t){var e=["__\0is_clz",f++].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function g(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,i)}function y(t,e,i){return this.superClass.prototype[e].apply(t,i)}function v(t){var e={};function i(t){var i=e[t.main];return i&&i[s]||(i=e[t.main]={},i[s]=!0),i}t.registerClass=function(t){var n=t.type||t.prototype.type;if(n){c(n),t.prototype.type=n;var r=l(n);if(r.sub){if(r.sub!==s){var o=i(r);o[r.sub]=t}}else e[r.main]=t}return t},t.getClass=function(t,i,n){var r=e[t];if(r&&r[s]&&(r=i?r[i]:null),n&&!r)throw new Error(i?"Component "+t+"."+(i||"")+" is used but not imported.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){var i=l(t),n=[],o=e[i.main];return o&&o[s]?r["k"](o,(function(t,e){e!==s&&n.push(t)})):n.push(o),n},t.hasClass=function(t){var i=l(t);return!!e[i.main]},t.getAllClassMainTypes=function(){var t=[];return r["k"](e,(function(e,i){t.push(i)})),t},t.hasSubTypes=function(t){var i=l(t),n=e[i.main];return n&&n[s]}}},"62ad":function(t,e,i){"use strict";i("4b85");var n=i("2b0e"),r=i("d9f7"),o=i("80d2");const s=["sm","md","lg","xl"],a=(()=>s.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),l=(()=>s.reduce((t,e)=>(t["offset"+Object(o["A"])(e)]={type:[String,Number],default:null},t),{}))(),c=(()=>s.reduce((t,e)=>(t["order"+Object(o["A"])(e)]={type:[String,Number],default:null},t),{}))(),u={col:Object.keys(a),offset:Object.keys(l),order:Object.keys(c)};function h(t,e,i){let n=t;if(null!=i&&!1!==i){if(e){const i=e.replace(t,"");n+="-"+i}return"col"!==t||""!==i&&!0!==i?(n+="-"+i,n.toLowerCase()):n.toLowerCase()}}const d=new Map;e["a"]=n["a"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...a,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:i,children:n,parent:o}){let s="";for(const r in e)s+=String(e[r]);let a=d.get(s);if(!a){let t;for(t in a=[],u)u[t].forEach(i=>{const n=e[i],r=h(t,i,n);r&&a.push(r)});const i=a.some(t=>t.startsWith("col-"));a.push({col:!i||!e.cols,["col-"+e.cols]:e.cols,["offset-"+e.offset]:e.offset,["order-"+e.order]:e.order,["align-self-"+e.alignSelf]:e.alignSelf}),d.set(s,a)}return t(e.tag,Object(r["a"])(i,{class:a}),n)}})},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6453:function(t,e,i){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())},6544:function(t,e){t.exports=function(t,e){var i="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var n in"function"===typeof t.exports&&(i.components=t.exports.options.components),i.components=i.components||{},e)i.components[n]=i.components[n]||e[n]}},6547:function(t,e,i){var n=i("a691"),r=i("577e"),o=i("1d80"),s=function(t){return function(e,i){var s,a,l=r(o(e)),c=n(i),u=l.length;return c<0||c>=u?t?"":void 0:(s=l.charCodeAt(c),s<55296||s>56319||c+1===u||(a=l.charCodeAt(c+1))<56320||a>57343?t?l.charAt(c):s:t?l.slice(c,c+2):a-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"65ed":function(t,e,i){"use strict";i.d(e,"c",(function(){return c})),i.d(e,"b",(function(){return u})),i.d(e,"a",(function(){return p}));var n=i("22d1"),r=Math.log(2);function o(t,e,i,n,s,a){var l=n+"-"+s,c=t.length;if(a.hasOwnProperty(l))return a[l];if(1===e){var u=Math.round(Math.log((1<<c)-1&~s)/r);return t[i][u]}var h=n|1<<i,d=i+1;while(n&1<<d)d++;for(var p=0,f=0,m=0;f<c;f++){var g=1<<f;g&s||(p+=(m%2?-1:1)*t[i][f]*o(t,e-1,d,h,s|g,a),m++)}return a[l]=p,p}function s(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},r=o(i,8,0,0,0,n);if(0!==r){for(var s=[],a=0;a<8;a++)for(var l=0;l<8;l++)null==s[l]&&(s[l]=0),s[l]+=((a+l)%2?-1:1)*o(i,7,0===a?1:0,1<<a,1<<l,n)/r*e[a];return function(t,e,i){var n=e*s[6]+i*s[7]+1;t[0]=(e*s[0]+i*s[1]+s[2])/n,t[1]=(e*s[3]+i*s[4]+s[5])/n}}}var a="___zrEVENTSAVED",l=[];function c(t,e,i,n,r){return u(l,e,n,r,!0)&&u(t,i,l[0],l[1])}function u(t,e,i,r,o){if(e.getBoundingClientRect&&n["a"].domSupported&&!p(e)){var s=e[a]||(e[a]={}),l=h(e,s),c=d(l,s,o);if(c)return c(t,i,r),!0}return!1}function h(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var n=["left","right"],r=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),a=s.style,l=o%2,c=(o>>1)%2;a.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",r[c]+":0",n[1-l]+":auto",r[1-c]+":auto",""].join("!important;"),t.appendChild(s),i.push(s)}return i}function d(t,e,i){for(var n=i?"invTrans":"trans",r=e[n],o=e.srcCoords,a=[],l=[],c=!0,u=0;u<4;u++){var h=t[u].getBoundingClientRect(),d=2*u,p=h.left,f=h.top;a.push(p,f),c=c&&o&&p===o[d]&&f===o[d+1],l.push(t[u].offsetLeft,t[u].offsetTop)}return c&&r?r:(e.srcCoords=a,e[n]=i?s(l,a):s(a,l))}function p(t){return"CANVAS"===t.nodeName.toUpperCase()}},"65f0":function(t,e,i){var n=i("0b42");t.exports=function(t,e){return new(n(t))(0===e?0:e)}},6679:function(t,e,i){"use strict";var n=i("7fae"),r=i("cd33"),o=i("b12f"),s={},a=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Object(n["a"])(e,t),e.prototype.render=function(e,i,n,o){this.axisPointerClass&&r["b"](e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,n,!0)},e.prototype.updateAxisPointer=function(t,e,i,n){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,e){var i=this._axisPointer;i&&i.remove(e)},e.prototype.dispose=function(e,i){this._disposeAxisPointer(i),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,n){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var s=r["d"](t);s?(this._axisPointer||(this._axisPointer=new o)).render(t,s,i,n):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){s[t]=e},e.getAxisPointerClass=function(t){return t&&s[t]},e.type="axis",e}(o["a"]);e["a"]=a},"67b6":function(t,e,i){"use strict";i("2c64");var n=i("ba87"),r=i("9d26"),o=i("c37a"),s=i("7e2b"),a=i("a9ad"),l=i("4e82"),c=i("5311"),u=i("7560"),h=i("fe09"),d=i("80d2"),p=i("58df"),f=i("d9f7");const m=Object(p["a"])(s["a"],a["a"],c["a"],Object(l["a"])("radioGroup"),u["a"]);e["a"]=m.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){return h["a"].options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return o["a"].options.computed.computedId.call(this)},hasLabel:o["a"].options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-"+this.radioGroup._uid},rippleState(){return h["a"].options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(t){return h["a"].options.methods.genInput.call(this,"radio",t)},genLabel(){return this.hasLabel?this.$createElement(n["a"],{on:{click:h["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(d["p"])(this,"label")||this.label):null},genRadio(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(r["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...e}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(t){const e={staticClass:"v-radio",class:this.classes,on:Object(f["b"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",e,[this.genRadio(),this.genLabel()])}})},"68dd":function(t,e,i){},"68ee":function(t,e,i){var n=i("d039"),r=i("1626"),o=i("f5df"),s=i("d066"),a=i("8925"),l=[],c=s("Reflect","construct"),u=/^\s*(?:class|function)\b/,h=u.exec,d=!u.exec((function(){})),p=function(t){if(!r(t))return!1;try{return c(Object,l,t),!0}catch(e){return!1}},f=function(t){if(!r(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return d||!!h.call(u,a(t))};t.exports=!c||n((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?f:p},"697e":function(t,e,i){"use strict";i.d(e,"h",(function(){return vt})),i.d(e,"a",(function(){return _t})),i.d(e,"f",(function(){return bt})),i.d(e,"g",(function(){return xt})),i.d(e,"c",(function(){return wt})),i.d(e,"b",(function(){return St})),i.d(e,"e",(function(){return Ct})),i.d(e,"i",(function(){return Ot})),i.d(e,"d",(function(){return kt}));var n=i("6d8b"),r=i("7fae"),o=i("625e"),s=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();o["c"](s);var a=s,l=i("8e43"),c=i("3842"),u=c["o"];function h(t,e,i,n){var r={},o=t[1]-t[0],s=r.interval=c["i"](o/e,!0);null!=i&&s<i&&(s=r.interval=i),null!=n&&s>n&&(s=r.interval=n);var a=r.intervalPrecision=d(s),l=r.niceTickExtent=[u(Math.ceil(t[0]/s)*s,a),u(Math.floor(t[1]/s)*s,a)];return f(l,t),r}function d(t){return c["d"](t)+2}function p(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function f(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),p(t,0,e),p(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function m(t,e){return t>=e[0]&&t<=e[1]}function g(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function y(t,e){return t*(e[1]-e[0])+e[0]}var v=function(t){function e(e){var i=t.call(this,e)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new l["a"]({})),Object(n["s"])(r)&&(r=new l["a"]({categories:Object(n["F"])(r,(function(t){return Object(n["z"])(t)?t.value:t}))})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return Object(r["a"])(e,t),e.prototype.parse=function(t){return"string"===typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),m(t,this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),g(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(y(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){var t=[],e=this._extent,i=e[0];while(i<=e[1])t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],n=this._ticksByOrdinalNumber=[],r=0,o=this._ordinalMeta.categories.length,s=Math.min(o,e.length);r<s;++r){var a=e[r];i[r]=a,n[a]=r}for(var l=0;r<o;++r){while(null!=n[l])l++;i.push(l),n[l]=r}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[e];return null==i?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.niceTicks=function(){},e.prototype.niceExtent=function(){},e.type="ordinal",e}(a);a.registerClass(v);var _=v,b=i("eda2"),x=c["o"],w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return Object(r["a"])(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return m(t,this._extent)},e.prototype.normalize=function(t){return g(t,this._extent)},e.prototype.scale=function(t){return y(t,this._extent)},e.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=d(t)},e.prototype.getTicks=function(t){var e=this._interval,i=this._extent,n=this._niceExtent,r=this._intervalPrecision,o=[];if(!e)return o;var s=1e4;i[0]<n[0]&&(t?o.push({value:x(n[0]-e,r)}):o.push({value:i[0]}));var a=n[0];while(a<=n[1]){if(o.push({value:a}),a=x(a+e,r),a===o[o.length-1].value)break;if(o.length>s)return[]}var l=o.length?o[o.length-1].value:n[1];return i[1]>l&&(t?o.push({value:x(l+e,r)}):o.push({value:i[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),i=[],n=this.getExtent(),r=1;r<e.length;r++){var o=e[r],s=e[r-1],a=0,l=[],c=o.value-s.value,u=c/t;while(a<t-1){var h=x(s.value+(a+1)*u);h>n[0]&&h<n[1]&&l.push(h),a++}i.push(l)}return i},e.prototype.getLabel=function(t,e){if(null==t)return"";var i=e&&e.precision;null==i?i=c["d"](t.value)||0:"auto"===i&&(i=this._intervalPrecision);var n=x(t.value,i,!0);return b["a"](n)},e.prototype.niceTicks=function(t,e,i){t=t||5;var n=this._extent,r=n[1]-n[0];if(isFinite(r)){r<0&&(r=-r,n.reverse());var o=h(n,t,e,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax||(e[1]+=i/2),e[0]-=i/2}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=x(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=x(Math.ceil(e[1]/r)*r))},e.type="interval",e}(a);a.registerClass(w);var S=w,T=i("ee1a"),C=i("cccd"),O="__ec_stack_",k=.5,A="undefined"!==typeof Float32Array?Float32Array:Array;function I(t){return t.get("stack")||O+t.seriesIndex}function E(t){return t.dim+t.index}function M(t,e){var i=[];return e.eachSeriesByType(t,(function(t){j(t)&&!B(t)&&i.push(t)})),i}function D(t){var e={};n["k"](t,(function(t){var i=t.coordinateSystem,n=i.getBaseAxis();if("time"===n.type||"value"===n.type)for(var r=t.getData(),o=n.dim+"_"+n.index,s=r.getDimensionIndex(r.mapDimension(n.dim)),a=r.getStore(),l=0,c=a.count();l<c;++l){var u=a.get(s,l);e[o]?e[o].push(u):e[o]=[u]}}));var i={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(o){o.sort((function(t,e){return t-e}));for(var s=null,a=1;a<o.length;++a){var l=o[a]-o[a-1];l>0&&(s=null===s?l:Math.min(s,l))}i[r]=s}}return i}function P(t){var e=D(t),i=[];return n["k"](t,(function(t){var n,r=t.coordinateSystem,o=r.getBaseAxis(),s=o.getExtent();if("category"===o.type)n=o.getBandWidth();else if("value"===o.type||"time"===o.type){var a=o.dim+"_"+o.index,l=e[a],u=Math.abs(s[1]-s[0]),h=o.scale.getExtent(),d=Math.abs(h[1]-h[0]);n=l?u/d*l:u}else{var p=t.getData();n=Math.abs(s[1]-s[0])/p.count()}var f=Object(c["l"])(t.get("barWidth"),n),m=Object(c["l"])(t.get("barMaxWidth"),n),g=Object(c["l"])(t.get("barMinWidth")||1,n),y=t.get("barGap"),v=t.get("barCategoryGap");i.push({bandWidth:n,barWidth:f,barMaxWidth:m,barMinWidth:g,barGap:y,barCategoryGap:v,axisKey:E(o),stackId:I(t)})})),L(i)}function L(t){var e={};n["k"](t,(function(t,i){var n=t.axisKey,r=t.bandWidth,o=e[n]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},s=o.stacks;e[n]=o;var a=t.stackId;s[a]||o.autoWidthCount++,s[a]=s[a]||{width:0,maxWidth:0};var l=t.barWidth;l&&!s[a].width&&(s[a].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var c=t.barMaxWidth;c&&(s[a].maxWidth=c);var u=t.barMinWidth;u&&(s[a].minWidth=u);var h=t.barGap;null!=h&&(o.gap=h);var d=t.barCategoryGap;null!=d&&(o.categoryGap=d)}));var i={};return n["k"](e,(function(t,e){i[e]={};var r=t.stacks,o=t.bandWidth,s=t.categoryGap;if(null==s){var a=n["D"](r).length;s=Math.max(35-4*a,15)+"%"}var l=Object(c["l"])(s,o),u=Object(c["l"])(t.gap,1),h=t.remainedWidth,d=t.autoWidthCount,p=(h-l)/(d+(d-1)*u);p=Math.max(p,0),n["k"](r,(function(t){var e=t.maxWidth,i=t.minWidth;if(t.width){n=t.width;e&&(n=Math.min(n,e)),i&&(n=Math.max(n,i)),t.width=n,h-=n+u*n,d--}else{var n=p;e&&e<n&&(n=Math.min(e,h)),i&&i>n&&(n=i),n!==p&&(t.width=n,h-=n+u*n,d--)}})),p=(h-l)/(d+(d-1)*u),p=Math.max(p,0);var f,m=0;n["k"](r,(function(t,e){t.width||(t.width=p),f=t,m+=t.width*(1+u)})),f&&(m-=f.width*u);var g=-m/2;n["k"](r,(function(t,n){i[e][n]=i[e][n]||{bandWidth:o,offset:g,width:t.width},g+=t.width*(1+u)}))})),i}function z(t,e,i){if(t&&e){var n=t[E(e)];return null!=n&&null!=i?n[I(i)]:n}}Object(C["a"])();function j(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function B(t){return t.pipelineContext&&t.pipelineContext.large}function R(t,e,i){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var F=i("9850"),N=i("f876"),V=function(t,e,i,n){while(i<n){var r=i+n>>>1;t[r][1]<e?i=r+1:n=r}return i},$=function(t){function e(e){var i=t.call(this,e)||this;return i.type="time",i}return Object(r["a"])(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Object(N["h"])(t.value,N["i"][Object(N["l"])(Object(N["m"])(this._minLevelUnit))]||N["i"].second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,i){var n=this.getSetting("useUTC"),r=this.getSetting("locale");return Object(N["r"])(t,e,i,r,n)},e.prototype.getTicks=function(t){var e=this._interval,i=this._extent,n=[];if(!e)return n;n.push({value:i[0],level:0});var r=this.getSetting("useUTC"),o=K(this._minLevelUnit,this._approxInterval,r,i);return n=n.concat(o),n.push({value:i[1],level:0}),n},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=N["a"],e[1]+=N["a"]),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-N["a"]}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.niceTicks=function(t,e,i){t=t||10;var n=this._extent,r=n[1]-n[0];this._approxInterval=r/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var o=U.length,s=Math.min(V(U,this._approxInterval,0,o),o-1);this._interval=U[s][1],this._minLevelUnit=U[Math.max(s-1,0)][0]},e.prototype.parse=function(t){return"number"===typeof t?t:+c["k"](t)},e.prototype.contain=function(t){return m(this.parse(t),this._extent)},e.prototype.normalize=function(t){return g(this.parse(t),this._extent)},e.prototype.scale=function(t){return y(t,this._extent)},e.type="time",e}(S),U=[["second",N["d"]],["minute",N["c"]],["hour",N["b"]],["quarter-day",6*N["b"]],["half-day",12*N["b"]],["day",1.2*N["a"]],["half-week",3.5*N["a"]],["week",7*N["a"]],["month",31*N["a"]],["quarter",95*N["a"]],["half-year",N["e"]/2],["year",N["e"]]];function G(t,e,i,n){var r=c["k"](e),o=c["k"](i),s=function(t){return Object(N["n"])(r,t,n)===Object(N["n"])(o,t,n)},a=function(){return s("year")},l=function(){return a()&&s("month")},u=function(){return l()&&s("day")},h=function(){return u()&&s("hour")},d=function(){return h()&&s("minute")},p=function(){return d()&&s("second")},f=function(){return p()&&s("millisecond")};switch(t){case"year":return a();case"month":return l();case"day":return u();case"hour":return h();case"minute":return d();case"second":return p();case"millisecond":return f()}}function q(t,e){return t/=N["a"],t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function H(t){var e=30*N["a"];return t/=e,t>6?6:t>3?3:t>2?2:1}function W(t){return t/=N["b"],t>12?12:t>6?6:t>3.5?4:t>2?2:1}function Z(t,e){return t/=e?N["c"]:N["d"],t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function X(t){return c["i"](t,!0)}function Y(t,e,i){var n=new Date(t);switch(Object(N["m"])(e)){case"year":case"month":n[Object(N["x"])(i)](0);case"day":n[Object(N["g"])(i)](1);case"hour":n[Object(N["p"])(i)](0);case"minute":n[Object(N["v"])(i)](0);case"second":n[Object(N["A"])(i)](0),n[Object(N["t"])(i)](0)}return n.getTime()}function K(t,e,i,r){var o=1e4,s=N["B"],a=0;function l(t,e,i,n,o,s,a){var l=new Date(e),c=e,u=l[n]();while(c<i&&c<=r[1])a.push({value:c}),u+=t,l[o](u),c=l.getTime();a.push({value:c,notAdd:!0})}function c(t,n,o){var s=[],a=!n.length;if(!G(Object(N["m"])(t),r[0],r[1],i)){a&&(n=[{value:Y(new Date(r[0]),t,i)},{value:r[1]}]);for(var c=0;c<n.length-1;c++){var u=n[c].value,h=n[c+1].value;if(u!==h){var d=void 0,p=void 0,f=void 0,m=!1;switch(t){case"year":d=Math.max(1,Math.round(e/N["a"]/365)),p=Object(N["j"])(i),f=Object(N["k"])(i);break;case"half-year":case"quarter":case"month":d=H(e),p=Object(N["w"])(i),f=Object(N["x"])(i);break;case"week":case"half-week":case"day":d=q(e,31),p=Object(N["f"])(i),f=Object(N["g"])(i),m=!0;break;case"half-day":case"quarter-day":case"hour":d=W(e),p=Object(N["o"])(i),f=Object(N["p"])(i);break;case"minute":d=Z(e,!0),p=Object(N["u"])(i),f=Object(N["v"])(i);break;case"second":d=Z(e,!1),p=Object(N["z"])(i),f=Object(N["A"])(i);break;case"millisecond":d=X(e),p=Object(N["s"])(i),f=Object(N["t"])(i);break}l(d,u,h,p,f,m,s),"year"===t&&o.length>1&&0===c&&o.unshift({value:o[0].value-d})}}for(c=0;c<s.length;c++)o.push(s[c]);return s}}for(var u=[],h=[],d=0,p=0,f=0;f<s.length&&a++<o;++f){var m=Object(N["m"])(s[f]);if(Object(N["q"])(s[f])){c(s[f],u[u.length-1]||[],h);var g=s[f+1]?Object(N["m"])(s[f+1]):null;if(m!==g){if(h.length){p=d,h.sort((function(t,e){return t.value-e.value}));for(var y=[],v=0;v<h.length;++v){var _=h[v].value;0!==v&&h[v-1].value===_||(y.push(h[v]),_>=r[0]&&_<=r[1]&&d++)}var b=(r[1]-r[0])/e;if(d>1.5*b&&p>b/1.5)break;if(u.push(y),d>b||t===s[f])break}h=[]}}}var x=Object(n["n"])(Object(n["F"])(u,(function(t){return Object(n["n"])(t,(function(t){return t.value>=r[0]&&t.value<=r[1]&&!t.notAdd}))})),(function(t){return t.length>0})),w=[],S=x.length-1;for(f=0;f<x.length;++f)for(var T=x[f],C=0;C<T.length;++C)w.push({value:T[C].value,level:S-f});w.sort((function(t,e){return t.value-e.value}));var O=[];for(f=0;f<w.length;++f)0!==f&&w[f].value===w[f-1].value||O.push(w[f]);return O}a.registerClass($);var J=$,Q=a.prototype,tt=S.prototype,et=c["o"],it=Math.floor,nt=Math.ceil,rt=Math.pow,ot=Math.log,st=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new S,e._interval=0,e}return Object(r["a"])(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,i=this._extent,r=e.getExtent(),o=tt.getTicks.call(this,t);return n["F"](o,(function(t){var e=t.value,n=c["o"](rt(this.base,e));return n=e===i[0]&&this._fixMin?lt(n,r[0]):n,n=e===i[1]&&this._fixMax?lt(n,r[1]):n,{value:n}}),this)},e.prototype.setExtent=function(t,e){var i=this.base;t=ot(t)/ot(i),e=ot(e)/ot(i),tt.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=Q.getExtent.call(this);e[0]=rt(t,e[0]),e[1]=rt(t,e[1]);var i=this._originalScale,n=i.getExtent();return this._fixMin&&(e[0]=lt(e[0],n[0])),this._fixMax&&(e[1]=lt(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=ot(t[0])/ot(e),t[1]=ot(t[1])/ot(e),Q.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.niceTicks=function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=c["m"](i),r=t/i*n;r<=.5&&(n*=10);while(!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0)n*=10;var o=[c["o"](nt(e[0]/n)*n),c["o"](it(e[1]/n)*n)];this._interval=n,this._niceExtent=o}},e.prototype.niceExtent=function(t){tt.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=ot(t)/ot(this.base),m(t,this._extent)},e.prototype.normalize=function(t){return t=ot(t)/ot(this.base),g(t,this._extent)},e.prototype.scale=function(t){return t=y(t,this._extent),rt(this.base,t)},e.type="log",e}(a),at=st.prototype;function lt(t,e){return et(t,c["d"](e))}at.getMinorTicks=tt.getMinorTicks,at.getLabel=tt.getLabel,a.registerClass(st);var ct=st,ut=i("e86a"),ht=function(){function t(t,e,i){this._prepareParams(t,e,i)}return t.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);Object(n["v"])(o)?this._modelMinNum=mt(t,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=mt(t,o));var s=this._modelMaxRaw=e.get("max",!0);if(Object(n["v"])(s)?this._modelMaxNum=mt(t,s({min:i[0],max:i[1]})):"dataMax"!==s&&(this._modelMaxNum=mt(t,s)),r)this._axisDataLen=e.getCategories().length;else{var a=e.get("boundaryGap"),l=Object(n["s"])(a)?a:[a||0,a||0];"boolean"===typeof l[0]||"boolean"===typeof l[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Object(ut["h"])(l[0],1),Object(ut["h"])(l[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,s=t?null:i-e||Math.abs(e),a="dataMin"===this._modelMinRaw?e:this._modelMinNum,l="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,c=null!=a,u=null!=l;null==a&&(a=t?r?0:NaN:e-o[0]*s),null==l&&(l=t?r?r-1:NaN:i+o[1]*s),(null==a||!isFinite(a))&&(a=NaN),(null==l||!isFinite(l))&&(l=NaN);var h=Object(n["l"])(a)||Object(n["l"])(l)||t&&!r;this._needCrossZero&&(a>0&&l>0&&!c&&(a=0),a<0&&l<0&&!u&&(l=0));var d=this._determinedMin,p=this._determinedMax;return null!=d&&(a=d,c=!0),null!=p&&(l=p,u=!0),{min:a,max:l,minFixed:c,maxFixed:u,isBlank:h}},t.prototype.modifyDataMinMax=function(t,e){this[pt[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var i=dt[t];this[i]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),dt={min:"_determinedMin",max:"_determinedMax"},pt={min:"_dataMin",max:"_dataMax"};function ft(t,e,i){var n=t.rawExtentInfo;return n||(n=new ht(t,e,i),t.rawExtentInfo=n,n)}function mt(t,e){return null==e?null:Object(n["l"])(e)?NaN:t.parse(e)}function gt(t,e){var i=t.type,r=ft(t,e,t.getExtent()).calculate();t.setBlank(r.isBlank);var o=r.min,s=r.max,a=e.ecModel;if(a&&"time"===i){var l=M("bar",a),c=!1;if(n["k"](l,(function(t){c=c||t.getBaseAxis()===e.axis})),c){var u=P(l),h=yt(o,s,e,u);o=h.min,s=h.max}}return{extent:[o,s],fixMin:r.minFixed,fixMax:r.maxFixed}}function yt(t,e,i,r){var o=i.axis.getExtent(),s=o[1]-o[0],a=z(r,i.axis);if(void 0===a)return{min:t,max:e};var l=1/0;n["k"](a,(function(t){l=Math.min(t.offset,l)}));var c=-1/0;n["k"](a,(function(t){c=Math.max(t.offset+t.width,c)})),l=Math.abs(l),c=Math.abs(c);var u=l+c,h=e-t,d=1-(l+c)/s,p=h/d-h;return e+=p*(c/u),t-=p*(l/u),{min:t,max:e}}function vt(t,e){var i=e,n=gt(t,i),r=n.extent,o=i.get("splitNumber");t instanceof ct&&(t.base=i.get("logBase"));var s=t.type;t.setExtent(r[0],r[1]),t.niceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===s||"time"===s?i.get("minInterval"):null,maxInterval:"interval"===s||"time"===s?i.get("maxInterval"):null});var a=i.get("interval");null!=a&&t.setInterval&&t.setInterval(a)}function _t(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new _({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new J({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(a.getClass(e)||S)}}function bt(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||i<0&&n<0)}function xt(t){var e=t.getLabelModel().get("formatter"),i="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?function(e){return function(i,n){return t.scale.getFormattedLabel(i,n,e)}}(e):"string"===typeof e?function(e){return function(i){var n=t.scale.getLabel(i),r=e.replace("{value}",null!=n?n:"");return r}}(e):"function"===typeof e?function(e){return function(n,r){return null!=i&&(r=n.value-i),e(wt(t,n),r,null!=n.level?{level:n.level}:null)}}(e):function(e){return t.scale.getLabel(e)}}function wt(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function St(t){var e=t.model,i=t.scale;if(e.get(["axisLabel","show"])&&!i.isBlank()){var n,r,o=i.getExtent();i instanceof _?r=i.count():(n=i.getTicks(),r=n.length);var s,a=t.getLabelModel(),l=xt(t),c=1;r>40&&(c=Math.ceil(r/40));for(var u=0;u<r;u+=c){var h=n?n[u]:{value:o[0]+u},d=l(h,u),p=a.getTextRect(d),f=Tt(p,a.get("rotate")||0);s?s.union(f):s=f}return s}}function Tt(t,e){var i=e*Math.PI/180,n=t.width,r=t.height,o=n*Math.abs(Math.cos(i))+Math.abs(r*Math.sin(i)),s=n*Math.abs(Math.sin(i))+Math.abs(r*Math.cos(i)),a=new F["a"](t.x,t.y,o,s);return a}function Ct(t){var e=t.get("interval");return null==e?"auto":e}function Ot(t){return"category"===t.type&&0===Ct(t.getLabelModel())}function kt(t,e){var i={};return n["k"](t.mapDimensionsAll(e),(function(e){i[Object(T["b"])(t,e)]=!0})),n["D"](i)}},"697e7":function(t,e,i){"use strict";i.d(e,"a",(function(){return dt})),i.d(e,"b",(function(){return pt}));var n=i("22d1"),r=i("6d8b"),o=i("21a1"),s=i("401b"),a=function(){function t(t,e){this.target=t,this.topTarget=e&&e.topTarget}return t}(),l=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){var e=t.target;while(e&&!e.draggable)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new a(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,r=i-this._x,o=n-this._y;this._x=i,this._y=n,e.drift(r,o,t),this.handler.dispatchToElement(new a(e,t),"drag",t.event);var s=this.handler.findHover(i,n,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new a(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new a(s,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new a(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new a(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),c=l,u=i("6fd3"),h=i("607d"),d=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,i){var n=t.touches;if(n){for(var r={points:[],touches:[],target:e,event:t},o=0,s=n.length;o<s;o++){var a=n[o],l=h["b"](i,a,{});r.points.push([l.zrX,l.zrY]),r.touches.push(a)}this._track.push(r)}},t.prototype._recognize=function(t){for(var e in m)if(m.hasOwnProperty(e)){var i=m[e](this._track,t);if(i)return i}},t}();function p(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function f(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var m={pinch:function(t,e){var i=t.length;if(i){var n=(t[i-1]||{}).points,r=(t[i-2]||{}).points||n;if(r&&r.length>1&&n&&n.length>1){var o=p(n)/p(r);!isFinite(o)&&(o=1),e.pinchScale=o;var s=f(n);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},g="silent";function y(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:v}}function v(){h["f"](this.event)}var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return Object(o["a"])(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(u["a"]),b=function(){function t(t,e){this.x=t,this.y=e}return t}(),x=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],w=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o._hovered=new b(0,0),o.storage=e,o.painter=i,o.painterRoot=r,n=n||new _,o.proxy=null,o.setHandlerProxy(n),o._draggingMgr=new c(o),o}return Object(o["a"])(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(r["k"](x,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,i=t.zrY,n=T(this,e,i),r=this._hovered,o=r.target;o&&!o.__zr&&(r=this.findHover(r.x,r.y),o=r.target);var s=this._hovered=n?new b(e,i):this.findHover(e,i),a=s.target,l=this.proxy;l.setCursor&&l.setCursor(a?a.cursor:"default"),o&&a!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(s,"mousemove",t),a&&a!==o&&this.dispatchToElement(s,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new b(0,0)},e.prototype.dispatch=function(t,e){var i=this[t];i&&i.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,i){t=t||{};var n=t.target;if(!n||!n.silent){var r="on"+e,o=y(e,t,i);while(n)if(n[r]&&(o.cancelBubble=!!n[r].call(n,o)),n.trigger(e,o),n=n.__hostTarget?n.__hostTarget:n.parent,o.cancelBubble)break;o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"===typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,i){for(var n=this.storage.getDisplayList(),r=new b(t,e),o=n.length-1;o>=0;o--){var s=void 0;if(n[o]!==i&&!n[o].ignore&&(s=S(n[o],t,e))&&(!r.topTarget&&(r.topTarget=n[o]),s!==g)){r.target=n[o];break}}return r},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new d);var i=this._gestureMgr;"start"===e&&i.clear();var n=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),n){var r=n.type;t.gestureEvent=r;var o=new b;o.target=n.target,this.dispatchToElement(o,r,n.event)}},e}(u["a"]);function S(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){var n=t,r=void 0,o=!1;while(n){if(n.ignoreClip&&(o=!0),!o){var s=n.getClipPath();if(s&&!s.contain(e,i))return!1;n.silent&&(r=!0)}var a=n.__hostTarget;n=a||n.parent}return!r||g}return!1}function T(t,e,i){var n=t.painter;return e<0||e>n.getWidth()||i<0||i>n.getHeight()}r["k"](["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){w.prototype[t]=function(e){var i,n,r=e.zrX,o=e.zrY,a=T(this,r,o);if("mouseup"===t&&a||(i=this.findHover(r,o),n=i.target),"mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||s["e"](this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}));var C=w,O=i("04f6"),k=i("4bc4"),A=!1;function I(){A||(A=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function E(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var M=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=E}return t.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return!t&&i.length||this.updateDisplayList(e),i},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,n["a"].canvasSupported&&Object(O["a"])(i,E)},t.prototype._updateAndAddDisplayable=function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.getClipPath();if(t.ignoreClip)e=null;else if(n){e=e?e.slice():[];var r=n,o=t;while(r)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),a=0;a<s.length;a++){var l=s[a];t.__dirty&&(l.__dirty|=k["a"]),this._updateAndAddDisplayable(l,e,i)}t.__dirty=0}else{var c=t;e&&e.length?c.__clipPaths=e:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(I(),c.z=0),isNaN(c.z2)&&(I(),c.z2=0),isNaN(c.zlevel)&&(I(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var u=t.getDecalElement&&t.getDecalElement();u&&this._updateAndAddDisplayable(u,e,i);var h=t.getTextGuideLine();h&&this._updateAndAddDisplayable(h,e,i);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,i)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var n=r["q"](this._roots,t);n>=0&&this._roots.splice(n,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),D=M,P=i("98b7"),L=i("06ad"),z=function(t){function e(e){var i=t.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,e=e||{},i.stage=e.stage||{},i.onframe=e.onframe||function(){},i}return Object(o["a"])(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,i=t.next;e?e.next=i:this._clipsHead=i,i?i.prev=e:this._clipsTail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){var e=(new Date).getTime()-this._pausedTime,i=e-this._time,n=this._clipsHead;while(n){var r=n.next,o=n.step(e,i);o?(n.ondestroy&&n.ondestroy(),this.removeClip(n),n=r):n=r}this._time=e,t||(this.onframe(i),this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;function e(){t._running&&(Object(P["a"])(e),!t._paused&&t.update())}this._running=!0,Object(P["a"])(e)},e.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){var t=this._clipsHead;while(t){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._clipsHead=this._clipsTail=null},e.prototype.isFinished=function(){return null==this._clipsHead},e.prototype.animate=function(t,e){e=e||{},this.start();var i=new L["b"](t,e.loop);return this.addAnimator(i),i},e}(u["a"]),j=z,B=300,R=n["a"].domSupported,F=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],i={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=r["F"](t,(function(t){var e=t.replace("mouse","pointer");return i.hasOwnProperty(e)?e:t}));return{mouse:t,touch:e,pointer:n}}(),N={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},V=!1;function $(t){var e=t.pointerType;return"pen"===e||"touch"===e}function U(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}function G(t){t&&(t.zrByTouch=!0)}function q(t,e){return Object(h["d"])(t.dom,new W(t,e),!0)}function H(t,e){var i=e,n=!1;while(i&&9!==i.nodeType&&!(n=i.domBelongToZr||i!==e&&i===t.painterRoot))i=i.parentNode;return n}var W=function(){function t(t,e){this.stopPropagation=r["I"],this.stopImmediatePropagation=r["I"],this.preventDefault=r["I"],this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return t}(),Z={mousedown:function(t){t=Object(h["d"])(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Object(h["d"])(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Object(h["d"])(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=Object(h["d"])(this.dom,t);var e=t.toElement||t.relatedTarget;H(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){V=!0,t=Object(h["d"])(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){V||(t=Object(h["d"])(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=Object(h["d"])(this.dom,t),G(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Z.mousemove.call(this,t),Z.mousedown.call(this,t)},touchmove:function(t){t=Object(h["d"])(this.dom,t),G(t),this.handler.processGesture(t,"change"),Z.mousemove.call(this,t)},touchend:function(t){t=Object(h["d"])(this.dom,t),G(t),this.handler.processGesture(t,"end"),Z.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<B&&Z.click.call(this,t)},pointerdown:function(t){Z.mousedown.call(this,t)},pointermove:function(t){$(t)||Z.mousemove.call(this,t)},pointerup:function(t){Z.mouseup.call(this,t)},pointerout:function(t){$(t)||Z.mouseout.call(this,t)}};r["k"](["click","dblclick","contextmenu"],(function(t){Z[t]=function(e){e=Object(h["d"])(this.dom,e),this.trigger(t,e)}}));var X={pointermove:function(t){$(t)||X.mousemove.call(this,t)},pointerup:function(t){X.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Y(t,e){var i=e.domHandlers;n["a"].pointerEventsSupported?r["k"](F.pointer,(function(n){J(e,n,(function(e){i[n].call(t,e)}))})):(n["a"].touchEventsSupported&&r["k"](F.touch,(function(n){J(e,n,(function(r){i[n].call(t,r),U(e)}))})),r["k"](F.mouse,(function(n){J(e,n,(function(r){r=Object(h["c"])(r),e.touching||i[n].call(t,r)}))})))}function K(t,e){function i(i){function n(n){n=Object(h["c"])(n),H(t,n.target)||(n=q(t,n),e.domHandlers[i].call(t,n))}J(e,i,n,{capture:!0})}n["a"].pointerEventsSupported?r["k"](N.pointer,i):n["a"].touchEventsSupported||r["k"](N.mouse,i)}function J(t,e,i,n){t.mounted[e]=i,t.listenerOpts[e]=n,Object(h["a"])(t.domTarget,e,i,n)}function Q(t){var e=t.mounted;for(var i in e)e.hasOwnProperty(i)&&Object(h["e"])(t.domTarget,i,e[i],t.listenerOpts[i]);t.mounted={}}var tt=function(){function t(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return t}(),et=function(t){function e(e,i){var n=t.call(this)||this;return n.__pointerCapturing=!1,n.dom=e,n.painterRoot=i,n._localHandlerScope=new tt(e,Z),R&&(n._globalHandlerScope=new tt(document,X)),Y(n,n._localHandlerScope),n}return Object(o["a"])(e,t),e.prototype.dispose=function(){Q(this._localHandlerScope),R&&Q(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,R&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?K(this,e):Q(e)}},e}(u["a"]),it=et,nt=i("41ef"),rt=i("2cf4"),ot=i("2dc5"),st=!n["a"].canvasSupported,at={},lt={};function ct(t){delete lt[t]}function ut(t){if(!t)return!1;if("string"===typeof t)return Object(nt["c"])(t,1)<rt["b"];if(t.colorStops){for(var e=t.colorStops,i=0,n=e.length,r=0;r<n;r++)i+=Object(nt["c"])(e[r].color,1);return i/=n,i<rt["b"]}return!1}var ht=function(){function t(t,e,i){var o=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var s=new D,a=i.renderer||"canvas";if(st)throw new Error("IE8 support has been dropped since 5.0");if(at[a]||(a=r["D"](at)[0]),!at[a])throw new Error("Renderer '"+a+"' is not imported. Please import it first.");i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var l=new at[a](e,s,i,t);this.storage=s,this.painter=l;var c=n["a"].node||n["a"].worker?null:new it(l.getViewportRoot(),l.root);this.handler=new C(s,l,c,l.root),this.animation=new j({stage:{update:function(){return o._flush(!0)}}}),this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=ut(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,i=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var n=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:n-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.addHover=function(t){},t.prototype.removeHover=function(t){},t.prototype.clearHover=function(){},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof ot["a"]&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,ct(this.id)},t}();function dt(t,e){var i=new ht(r["o"](),t,e);return lt[i.id]=i,i}function pt(t,e){at[t]=e}},"69f3":function(t,e,i){var n,r,o,s=i("7f9a"),a=i("da84"),l=i("861d"),c=i("9112"),u=i("5135"),h=i("c6cd"),d=i("f772"),p=i("d012"),f="Object already initialized",m=a.WeakMap,g=function(t){return o(t)?r(t):n(t,{})},y=function(t){return function(e){var i;if(!l(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}};if(s||h.state){var v=h.state||(h.state=new m),_=v.get,b=v.has,x=v.set;n=function(t,e){if(b.call(v,t))throw new TypeError(f);return e.facade=t,x.call(v,t,e),e},r=function(t){return _.call(v,t)||{}},o=function(t){return b.call(v,t)}}else{var w=d("state");p[w]=!0,n=function(t,e){if(u(t,w))throw new TypeError(f);return e.facade=t,c(t,w,e),e},r=function(t){return u(t,w)?t[w]:{}},o=function(t){return u(t,w)}}t.exports={set:n,get:r,has:o,enforce:g,getterFor:y}},"6aa0":function(t,e,i){(function(t,n){var r;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */(function(o){var s=e,a=(t&&t.exports,"object"==typeof n&&n);a.global!==a&&a.window;var l=function(t){this.message=t};l.prototype=new Error,l.prototype.name="InvalidCharacterError";var c=function(t){throw new l(t)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/[\t\n\f\r ]/g,d=function(t){t=String(t).replace(h,"");var e=t.length;e%4==0&&(t=t.replace(/==?$/,""),e=t.length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&c("Invalid character: the string to be decoded is not correctly encoded.");var i,n,r=0,o="",s=-1;while(++s<e)n=u.indexOf(t.charAt(s)),i=r%4?64*i+n:n,r++%4&&(o+=String.fromCharCode(255&i>>(-2*r&6)));return o},p=function(t){t=String(t),/[^\0-\xFF]/.test(t)&&c("The string to be encoded contains characters outside of the Latin1 range.");var e,i,n,r,o=t.length%3,s="",a=-1,l=t.length-o;while(++a<l)e=t.charCodeAt(a)<<16,i=t.charCodeAt(++a)<<8,n=t.charCodeAt(++a),r=e+i+n,s+=u.charAt(r>>18&63)+u.charAt(r>>12&63)+u.charAt(r>>6&63)+u.charAt(63&r);return 2==o?(e=t.charCodeAt(a)<<8,i=t.charCodeAt(++a),r=e+i,s+=u.charAt(r>>10)+u.charAt(r>>4&63)+u.charAt(r<<2&63)+"="):1==o&&(r=t.charCodeAt(a),s+=u.charAt(r>>2)+u.charAt(r<<4&63)+"=="),s},f={encode:p,decode:d,version:"0.1.0"};r=function(){return f}.call(e,i,e,t),void 0===r||(t.exports=r)})()}).call(this,i("62e4")(t),i("c8ba"))},"6ca7":function(t,e,i){},"6cb7":function(t,e,i){"use strict";var n=i("7fae"),r=i("6d8b"),o=i("4319"),s=i("8918"),a=i("625e"),l=i("e0d3"),c=i("f934"),u=Object(l["l"])(),h=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r.uid=s["c"]("ec_cpt_model"),r}return Object(n["a"])(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,e){var i=c["a"](this),n=i?c["b"](t):{},o=e.getTheme();r["G"](t,o.get(this.mainType)),r["G"](t,this.getDefaultOption()),i&&c["d"](t,n,i)},e.prototype.mergeOption=function(t,e){r["G"](this.option,t,!0);var i=c["a"](this);i&&c["d"](this.option,t,i)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Object(a["d"])(t))return t.defaultOption;var e=u(this);if(!e.defaultOption){var i=[],n=t;while(n){var o=n.prototype.defaultOption;o&&i.push(o),n=n.superClass}for(var s={},l=i.length-1;l>=0;l--)s=r["G"](s,i[l],!0);e.defaultOption=s}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var i=t+"Index",n=t+"Id";return Object(l["r"])(this.ecModel,t,{index:this.get(i,!0),id:this.get(n,!0)},e)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(o["a"]);function d(t){var e=[];return r["k"](h.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=r["F"](e,(function(t){return Object(a["f"])(t).main})),"dataset"!==t&&r["q"](e,"dataset")<=0&&e.unshift("dataset"),e}Object(a["e"])(h,o["a"]),Object(a["c"])(h),s["a"](h),s["b"](h,d),e["a"]=h},"6d8b":function(t,e,i){"use strict";i.d(e,"a",(function(){return m})),i.d(e,"o",(function(){return y})),i.d(e,"E",(function(){return v})),i.d(e,"d",(function(){return _})),i.d(e,"G",(function(){return b})),i.d(e,"m",(function(){return x})),i.d(e,"j",(function(){return w})),i.d(e,"f",(function(){return S})),i.d(e,"q",(function(){return T})),i.d(e,"r",(function(){return C})),i.d(e,"H",(function(){return O})),i.d(e,"t",(function(){return k})),i.d(e,"k",(function(){return A})),i.d(e,"F",(function(){return I})),i.d(e,"K",(function(){return E})),i.d(e,"n",(function(){return M})),i.d(e,"D",(function(){return D})),i.d(e,"c",(function(){return L})),i.d(e,"i",(function(){return z})),i.d(e,"s",(function(){return j})),i.d(e,"v",(function(){return B})),i.d(e,"A",(function(){return R})),i.d(e,"B",(function(){return F})),i.d(e,"y",(function(){return N})),i.d(e,"z",(function(){return V})),i.d(e,"C",(function(){return U})),i.d(e,"u",(function(){return G})),i.d(e,"w",(function(){return q})),i.d(e,"x",(function(){return H})),i.d(e,"l",(function(){return W})),i.d(e,"L",(function(){return Z})),i.d(e,"M",(function(){return X})),i.d(e,"N",(function(){return Y})),i.d(e,"P",(function(){return K})),i.d(e,"J",(function(){return J})),i.d(e,"b",(function(){return Q})),i.d(e,"Q",(function(){return tt})),i.d(e,"O",(function(){return it})),i.d(e,"g",(function(){return ot})),i.d(e,"e",(function(){return st})),i.d(e,"h",(function(){return at})),i.d(e,"p",(function(){return lt})),i.d(e,"I",(function(){return ct}));var n={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},r={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},o=Object.prototype.toString,s=Array.prototype,a=s.forEach,l=s.filter,c=s.slice,u=s.map,h=function(){}.constructor,d=h?h.prototype:null,p="__proto__",f={};function m(t,e){f[t]=e}var g=2311;function y(){return g++}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!==typeof console&&console.error.apply(console,t)}function _(t){if(null==t||"object"!==typeof t)return t;var e=t,i=o.call(t);if("[object Array]"===i){if(!nt(t)){e=[];for(var s=0,a=t.length;s<a;s++)e[s]=_(t[s])}}else if(r[i]){if(!nt(t)){var l=t.constructor;if(l.from)e=l.from(t);else{e=new l(t.length);for(s=0,a=t.length;s<a;s++)e[s]=_(t[s])}}}else if(!n[i]&&!nt(t)&&!G(t))for(var c in e={},t)t.hasOwnProperty(c)&&c!==p&&(e[c]=_(t[c]));return e}function b(t,e,i){if(!V(e)||!V(t))return i?_(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==p){var r=t[n],o=e[n];!V(o)||!V(r)||j(o)||j(r)||G(o)||G(r)||$(o)||$(r)||nt(o)||nt(r)?!i&&n in t||(t[n]=_(e[n])):b(r,o,i)}return t}function x(t,e){if(Object.assign)Object.assign(t,e);else for(var i in e)e.hasOwnProperty(i)&&i!==p&&(t[i]=e[i]);return t}function w(t,e,i){for(var n=D(e),r=0;r<n.length;r++){var o=n[r];(i?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var S=function(){return f.createCanvas()};function T(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function C(t,e){var i=t.prototype;function n(){}for(var r in n.prototype=e.prototype,t.prototype=new n,i)i.hasOwnProperty(r)&&(t.prototype[r]=i[r]);t.prototype.constructor=t,t.superClass=e}function O(t,e,i){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r];"constructor"!==o&&(i?null!=e[o]:null==t[o])&&(t[o]=e[o])}else w(t,e,i)}function k(t){return!!t&&("string"!==typeof t&&"number"===typeof t.length)}function A(t,e,i){if(t&&e)if(t.forEach&&t.forEach===a)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function I(t,e,i){if(!t)return[];if(!e)return K(t);if(t.map&&t.map===u)return t.map(e,i);for(var n=[],r=0,o=t.length;r<o;r++)n.push(e.call(i,t[r],r,t));return n}function E(t,e,i,n){if(t&&e){for(var r=0,o=t.length;r<o;r++)i=e.call(n,i,t[r],r,t);return i}}function M(t,e,i){if(!t)return[];if(!e)return K(t);if(t.filter&&t.filter===l)return t.filter(e,i);for(var n=[],r=0,o=t.length;r<o;r++)e.call(i,t[r],r,t)&&n.push(t[r]);return n}function D(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}function P(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return function(){return t.apply(e,i.concat(c.call(arguments)))}}f.createCanvas=function(){return document.createElement("canvas")};var L=d&&B(d.bind)?d.call.bind(d.bind):P;function z(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return function(){return t.apply(this,e.concat(c.call(arguments)))}}function j(t){return Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)}function B(t){return"function"===typeof t}function R(t){return"string"===typeof t}function F(t){return"[object String]"===o.call(t)}function N(t){return"number"===typeof t}function V(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function $(t){return!!n[o.call(t)]}function U(t){return!!r[o.call(t)]}function G(t){return"object"===typeof t&&"number"===typeof t.nodeType&&"object"===typeof t.ownerDocument}function q(t){return null!=t.colorStops}function H(t){return null!=t.image}function W(t){return t!==t}function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,n=t.length;i<n;i++)if(null!=t[i])return t[i]}function X(t,e){return null!=t?t:e}function Y(t,e,i){return null!=t?t:null!=e?e:i}function K(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return c.apply(t,e)}function J(t){if("number"===typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function Q(t,e){if(!t)throw new Error(e)}function tt(t){return null==t?null:"function"===typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var et="__ec_primitive__";function it(t){t[et]=!0}function nt(t){return t[et]}var rt=function(){function t(e){this.data={};var i=j(e);this.data={};var n=this;function r(t,e){i?n.set(t,e):n.set(e,t)}e instanceof t?e.each(r):e&&A(e,r)}return t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var i in this.data)this.data.hasOwnProperty(i)&&t.call(e,this.data[i],i)},t.prototype.keys=function(){return D(this.data)},t.prototype.removeKey=function(t){delete this.data[t]},t}();function ot(t){return new rt(t)}function st(t,e){for(var i=new t.constructor(t.length+e.length),n=0;n<t.length;n++)i[n]=t[n];var r=t.length;for(n=0;n<e.length;n++)i[n+r]=e[n];return i}function at(t,e){var i;if(Object.create)i=Object.create(t);else{var n=function(){};n.prototype=t,i=new n}return e&&x(i,e),i}function lt(t,e){return t.hasOwnProperty(e)}function ct(){}},"6da3":function(t,e,i){"use strict";function n(t,e){var i=function(t,i){return-1!==e.indexOf(t)&&void 0!==i};return"function"===typeof e&&(i=e),Object.keys(t).filter((function(e){return i(e,t[e])})).reduce((function(e,i){return e[i]=t[i],e}),{})}t.exports=n},"6ece":function(t,e,i){},"6eeb":function(t,e,i){var n=i("da84"),r=i("1626"),o=i("5135"),s=i("9112"),a=i("ce4e"),l=i("8925"),c=i("69f3"),u=i("5e77").CONFIGURABLE,h=c.get,d=c.enforce,p=String(String).split("String");(t.exports=function(t,e,i,l){var c,h=!!l&&!!l.unsafe,f=!!l&&!!l.enumerable,m=!!l&&!!l.noTargetGet,g=l&&void 0!==l.name?l.name:e;r(i)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(i,"name")||u&&i.name!==g)&&s(i,"name",g),c=d(i),c.source||(c.source=p.join("string"==typeof g?g:""))),t!==n?(h?!m&&t[e]&&(f=!0):delete t[e],f?t[e]=i:s(t,e,i)):f?t[e]=i:a(e,i)})(Function.prototype,"toString",(function(){return r(this)&&h(this).source||l(this)}))},"6f53":function(t,e,i){var n=i("83ab"),r=i("df75"),o=i("fc6a"),s=i("d1e7").f,a=function(t){return function(e){var i,a=o(e),l=r(a),c=l.length,u=0,h=[];while(c>u)i=l[u++],n&&!s.call(a,i)||h.push(t?[i,a[i]]:a[i]);return h}};t.exports={entries:a(!0),values:a(!1)}},"6fd3":function(t,e,i){"use strict";var n=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,i,n){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"===typeof e&&(n=i,i=e,e=null),!i||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),r[t]||(r[t]=[]);for(var s=0;s<r[t].length;s++)if(r[t][s].h===i)return this;var a={h:i,query:e,ctx:n||this,callAtLast:i.zrEventfulCallAtLast},l=r[t].length-1,c=r[t][l];return c&&c.callAtLast?r[t].splice(l,0,a):r[t].push(a),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],r=0,o=i[t].length;r<o;r++)i[t][r].h!==e&&n.push(i[t][r]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},t.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var n=this._$handlers[t],r=this._$eventProcessor;if(n)for(var o=e.length,s=n.length,a=0;a<s;a++){var l=n[a];if(!r||!r.filter||null==l.query||r.filter(t,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e);break}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var n=this._$handlers[t],r=this._$eventProcessor;if(n)for(var o=e.length,s=e[o-1],a=n.length,l=0;l<a;l++){var c=n[l];if(!r||!r.filter||null==c.query||r.filter(t,c.query))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,e[0]);break;case 2:c.h.call(s,e[0],e[1]);break;default:c.h.apply(s,e.slice(1,o-1));break}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t}();e["a"]=n},7119:function(t,e,i){"use strict";var n=i("031b");function r(t,e){this.request=t,this.headers=e.headers,this.rawBody=e.body,this.statusCode=e.statusCode;try{this.body=JSON.parse(e.body||"{}")}catch(i){this.body=e.body}this.links=n(this.headers.link)}r.prototype.hasNextPage=function(){return!!this.links.next},r.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},t.exports=r},7156:function(t,e,i){var n=i("1626"),r=i("861d"),o=i("d2bb");t.exports=function(t,e,i){var s,a;return o&&n(s=e.constructor)&&s!==i&&r(a=s.prototype)&&a!==i.prototype&&o(t,a),t}},"71d9":function(t,e,i){"use strict";i("5e23");var n=i("8dd9"),r=i("adda"),o=i("80d2"),s=i("d9bd");e["a"]=n["a"].extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:()=>({isExtended:!1}),computed:{computedHeight(){const t=this.computedContentHeight;if(!this.isExtended)return t;const e=parseInt(this.extensionHeight);return this.isCollapsed?t:t+(isNaN(e)?0:e)},computedContentHeight(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes(){return{...n["a"].options.computed.classes.call(this),"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent}},isCollapsed(){return this.collapse},isProminent(){return this.prominent},styles(){return{...this.measurableStyles,height:Object(o["g"])(this.computedHeight)}}},created(){const t=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];t.forEach(([t,e])=>{this.$attrs.hasOwnProperty(t)&&Object(s["a"])(t,e,this)})},methods:{genBackground(){const t={height:Object(o["g"])(this.computedHeight),src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img({props:t}):this.$createElement(r["a"],{props:t});return this.$createElement("div",{staticClass:"v-toolbar__image"},[e])},genContent(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(o["g"])(this.computedContentHeight)}},Object(o["p"])(this))},genExtension(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(o["g"])(this.extensionHeight)}},Object(o["p"])(this,"extension"))}},render(t){this.isExtended=this.extended||!!this.$scopedSlots.extension;const e=[this.genContent()],i=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&e.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&e.unshift(this.genBackground()),t(this.tag,i,e)}})},"72bc":function(t,e,i){"use strict";function n(t){var e=t.indexOf(":"),i=t.substring(0,e).trim().toLowerCase(),n=t.substring(e+1).trim();return{name:i,value:n}}function r(t){var e={};return t?(t.trim().split(/[\r|\n]+/).forEach((function(t){var i=n(t);e[i.name]=i.value})),e):e}t.exports=r},"72bf":function(t,e,i){"use strict";const n=i("6453"),r=i("f234"),o=i("f32c"),s=t=>null===t||void 0===t;function a(t){switch(t.arrayFormat){case"index":return e=>(i,n)=>{const r=i.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?i:null===n?[...i,[u(e,t),"[",r,"]"].join("")]:[...i,[u(e,t),"[",u(r,t),"]=",u(n,t)].join("")]};case"bracket":return e=>(i,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?i:null===n?[...i,[u(e,t),"[]"].join("")]:[...i,[u(e,t),"[]=",u(n,t)].join("")];case"comma":case"separator":return e=>(i,n)=>null===n||void 0===n||0===n.length?i:0===i.length?[[u(e,t),"=",u(n,t)].join("")]:[[i,u(n,t)].join(t.arrayFormatSeparator)];default:return e=>(i,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?i:null===n?[...i,u(e,t)]:[...i,[u(e,t),"=",u(n,t)].join("")]}}function l(t){let e;switch(t.arrayFormat){case"index":return(t,i,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=i):n[t]=i};case"bracket":return(t,i,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],i):n[t]=[i]:n[t]=i};case"comma":case"separator":return(e,i,n)=>{const r="string"===typeof i&&i.includes(t.arrayFormatSeparator),o="string"===typeof i&&!r&&h(i,t).includes(t.arrayFormatSeparator);i=o?h(i,t):i;const s=r||o?i.split(t.arrayFormatSeparator).map(e=>h(e,t)):null===i?i:h(i,t);n[e]=s};default:return(t,e,i)=>{void 0!==i[t]?i[t]=[].concat(i[t],e):i[t]=e}}}function c(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function h(t,e){return e.decode?r(t):t}function d(t){return Array.isArray(t)?t.sort():"object"===typeof t?d(Object.keys(t)).sort((t,e)=>Number(t)-Number(e)).map(e=>t[e]):t}function p(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function f(t){let e="";const i=t.indexOf("#");return-1!==i&&(e=t.slice(i)),e}function m(t){t=p(t);const e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function g(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function y(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),c(e.arrayFormatSeparator);const i=l(e),n=Object.create(null);if("string"!==typeof t)return n;if(t=t.trim().replace(/^[?#&]/,""),!t)return n;for(const r of t.split("&")){let[t,s]=o(e.decode?r.replace(/\+/g," "):r,"=");s=void 0===s?null:["comma","separator"].includes(e.arrayFormat)?s:h(s,e),i(h(t,e),s,n)}for(const r of Object.keys(n)){const t=n[r];if("object"===typeof t&&null!==t)for(const i of Object.keys(t))t[i]=g(t[i],e);else n[r]=g(t,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((t,e)=>{const i=n[e];return Boolean(i)&&"object"===typeof i&&!Array.isArray(i)?t[e]=d(i):t[e]=i,t},Object.create(null))}e.extract=m,e.parse=y,e.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),c(e.arrayFormatSeparator);const i=i=>e.skipNull&&s(t[i])||e.skipEmptyString&&""===t[i],n=a(e),r={};for(const s of Object.keys(t))i(s)||(r[s]=t[s]);const o=Object.keys(r);return!1!==e.sort&&o.sort(e.sort),o.map(i=>{const r=t[i];return void 0===r?"":null===r?u(i,e):Array.isArray(r)?r.reduce(n(i),[]).join("&"):u(i,e)+"="+u(r,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[i,n]=o(t,"#");return Object.assign({url:i.split("?")[0]||"",query:y(m(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:h(n,e)}:{})},e.stringifyUrl=(t,i)=>{i=Object.assign({encode:!0,strict:!0},i);const n=p(t.url).split("?")[0]||"",r=e.extract(t.url),o=e.parse(r,{sort:!1}),s=Object.assign(o,t.query);let a=e.stringify(s,i);a&&(a="?"+a);let l=f(t.url);return t.fragmentIdentifier&&(l="#"+u(t.fragmentIdentifier,i)),`${n}${a}${l}`}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},7435:function(t,e,i){},"746f":function(t,e,i){var n=i("428f"),r=i("5135"),o=i("e538"),s=i("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||s(e,t,{value:o.f(t)})}},7496:function(t,e,i){"use strict";i("df86");var n=i("7560"),r=i("58df");e["a"]=Object(r["a"])(n["a"]).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark(){return this.$vuetify.theme.dark}},beforeCreate(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render(t){const e=t("div",{staticClass:"v-application--wrap"},this.$slots.default);return t("div",{staticClass:"v-application",class:{"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl,...this.themeClasses},attrs:{"data-app":!0},domProps:{id:this.id}},[e])}})},7560:function(t,e,i){"use strict";i.d(e,"b",(function(){return o}));var n=i("2b0e");const r=n["a"].extend().extend({name:"themeable",provide(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark(){return this.$vuetify.theme.dark||!1},isDark(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler(t,e){t!==e&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});function o(t){const e={...t.props,...t.injections},i=r.options.computed.isDark.call(e);return r.options.computed.themeClasses.call({isDark:i})}e["a"]=r},"75eb":function(t,e,i){"use strict";var n=i("9d65"),r=i("80d2"),o=i("58df"),s=i("d9bd");function a(t){const e=typeof t;return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}e["a"]=Object(o["a"])(n["a"]).extend({name:"detachable",props:{attach:{default:!1,validator:a},contentClass:{type:String,default:""}},data:()=>({activatorNode:null,hasDetached:!1}),watch:{attach(){this.hasDetached=!1,this.initDetach()},hasContent(){this.$nextTick(this.initDetach)}},beforeMount(){this.$nextTick(()=>{if(this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach(t=>{if(!t.elm)return;if(!this.$el.parentNode)return;const e=this.$el===this.$el.parentNode.firstChild?this.$el:this.$el.nextSibling;this.$el.parentNode.insertBefore(t.elm,e)})}})},mounted(){this.hasContent&&this.initDetach()},deactivated(){this.isActive=!1},beforeDestroy(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach(t=>{t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)})}}catch(t){console.log(t)}},methods:{getScopeIdAttrs(){const t=Object(r["n"])(this.$vnode,"context.$options._scopeId");return t&&{[t]:""}},initDetach(){if(this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach)return;let t;t=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,t?(t.appendChild(this.$refs.content),this.hasDetached=!0):Object(s["c"])("Unable to locate target "+(this.attach||"[data-app]"),this)}}})},"76a5":function(t,e,i){"use strict";var n=i("21a1"),r=i("d409"),o=i("dd4f"),s=i("6d8b"),a=i("e86a"),l=i("0da8"),c=i("c7a2"),u=i("9850"),h=i("19eb"),d={fill:"#000"},p=2,f={style:Object(s["j"])({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},h["a"].style)},m=function(t){function e(e){var i=t.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=d,i.attr(e),i}return Object(n["a"])(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var i=this.innerTransformable;return i?i.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,v(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new u["a"](0,0,0,0),e=this._children,i=[],n=null,r=0;r<e.length;r++){var o=e[r],s=o.getBoundingRect(),a=o.getLocalTransform(i);a?(t.copy(s),t.applyTransform(a),n=n||t.clone(),n.union(t)):(n=n||s.clone(),n.union(s))}this._rect=n||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||d},e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},e.prototype._mergeStyle=function(t,e){if(!e)return t;var i=e.rich,n=t.rich||i&&{};return Object(s["m"])(t,e),i&&n?(this._mergeRich(n,i),t.rich=n):n&&(t.rich=n),t},e.prototype._mergeRich=function(t,e){for(var i=Object(s["D"])(e),n=0;n<i.length;n++){var r=i[n];t[r]=t[r]||{},Object(s["m"])(t[r],e[r])}},e.prototype.getAnimationStyleProps=function(){return f},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||a["a"],i=t.padding,n=S(t),s=Object(r["a"])(n,t),l=T(t),c=!!t.backgroundColor,h=s.outerHeight,d=s.lines,f=s.lineHeight,m=this._defaultStyle,g=t.x||0,y=t.y||0,v=t.align||m.align||"left",_=t.verticalAlign||m.verticalAlign||"top",C=g,O=Object(a["c"])(y,s.contentHeight,_);if(l||i){var k=s.width;i&&(k+=i[1]+i[3]);var A=Object(a["b"])(g,k,v),I=Object(a["c"])(y,h,_);l&&this._renderBackground(t,t,A,I,k,h)}O+=f/2,i&&(C=w(g,v,i),"top"===_?O+=i[0]:"bottom"===_&&(O-=i[2]));for(var E=0,M=!1,D=(x("fill"in t?t.fill:(M=!0,m.fill))),P=(b("stroke"in t?t.stroke:c||m.autoStroke&&!M?null:(E=p,m.stroke))),L=t.textShadowBlur>0,z=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),j=s.calculatedLineHeight,B=0;B<d.length;B++){var R=this._getOrCreateChild(o["a"]),F=R.createStyle();R.useStyle(F),F.text=d[B],F.x=C,F.y=O,v&&(F.textAlign=v),F.textBaseline="middle",F.opacity=t.opacity,F.strokeFirst=!0,L&&(F.shadowBlur=t.textShadowBlur||0,F.shadowColor=t.textShadowColor||"transparent",F.shadowOffsetX=t.textShadowOffsetX||0,F.shadowOffsetY=t.textShadowOffsetY||0),P&&(F.stroke=P,F.lineWidth=t.lineWidth||E,F.lineDash=t.lineDash,F.lineDashOffset=t.lineDashOffset||0),D&&(F.fill=D),F.font=e,O+=f,z&&R.setBoundingRect(new u["a"](Object(a["b"])(F.x,t.width,F.textAlign),Object(a["c"])(F.y,j,F.textBaseline),t.width,j))}},e.prototype._updateRichTexts=function(){var t=this.style,e=S(t),i=Object(r["b"])(e,t),n=i.width,o=i.outerWidth,s=i.outerHeight,l=t.padding,c=t.x||0,u=t.y||0,h=this._defaultStyle,d=t.align||h.align,p=t.verticalAlign||h.verticalAlign,f=Object(a["b"])(c,o,d),m=Object(a["c"])(u,s,p),g=f,y=m;l&&(g+=l[3],y+=l[0]);var v=g+n;T(t)&&this._renderBackground(t,t,f,m,o,s);for(var _=!!t.backgroundColor,b=0;b<i.lines.length;b++){var x=i.lines[b],w=x.tokens,C=w.length,O=x.lineHeight,k=x.width,A=0,I=g,E=v,M=C-1,D=void 0;while(A<C&&(D=w[A],!D.align||"left"===D.align))this._placeToken(D,t,O,y,I,"left",_),k-=D.width,I+=D.width,A++;while(M>=0&&(D=w[M],"right"===D.align))this._placeToken(D,t,O,y,E,"right",_),k-=D.width,E-=D.width,M--;I+=(n-(I-g)-(v-E)-k)/2;while(A<=M)D=w[A],this._placeToken(D,t,O,y,I+D.width/2,"center",_),I+=D.width,A++;y+=O}},e.prototype._placeToken=function(t,e,i,n,r,l,c){var h=e.rich[t.styleName]||{};h.text=t.text;var d=t.verticalAlign,f=n+i/2;"top"===d?f=n+t.height/2:"bottom"===d&&(f=n+i-t.height/2);var m=!t.isLineHolder&&T(h);m&&this._renderBackground(h,e,"right"===l?r-t.width:"center"===l?r-t.width/2:r,f-t.height/2,t.width,t.height);var g=!!h.backgroundColor,y=t.textPadding;y&&(r=w(r,l,y),f-=t.height/2-y[0]-t.innerHeight/2);var v=this._getOrCreateChild(o["a"]),_=v.createStyle();v.useStyle(_);var S=this._defaultStyle,C=!1,O=0,k=x("fill"in h?h.fill:"fill"in e?e.fill:(C=!0,S.fill)),A=b("stroke"in h?h.stroke:"stroke"in e?e.stroke:g||c||S.autoStroke&&!C?null:(O=p,S.stroke)),I=h.textShadowBlur>0||e.textShadowBlur>0;_.text=t.text,_.x=r,_.y=f,I&&(_.shadowBlur=h.textShadowBlur||e.textShadowBlur||0,_.shadowColor=h.textShadowColor||e.textShadowColor||"transparent",_.shadowOffsetX=h.textShadowOffsetX||e.textShadowOffsetX||0,_.shadowOffsetY=h.textShadowOffsetY||e.textShadowOffsetY||0),_.textAlign=l,_.textBaseline="middle",_.font=t.font||a["a"],_.opacity=Object(s["N"])(h.opacity,e.opacity,1),A&&(_.lineWidth=Object(s["N"])(h.lineWidth,e.lineWidth,O),_.lineDash=Object(s["M"])(h.lineDash,e.lineDash),_.lineDashOffset=e.lineDashOffset||0,_.stroke=A),k&&(_.fill=k);var E=t.contentWidth,M=t.contentHeight;v.setBoundingRect(new u["a"](Object(a["b"])(_.x,E,_.textAlign),Object(a["c"])(_.y,M,_.textBaseline),E,M))},e.prototype._renderBackground=function(t,e,i,n,r,o){var a,u,h=t.backgroundColor,d=t.borderWidth,p=t.borderColor,f=h&&h.image,m=h&&!f,g=t.borderRadius,y=this;if(m||t.lineHeight||d&&p){a=this._getOrCreateChild(c["a"]),a.useStyle(a.createStyle()),a.style.fill=null;var v=a.shape;v.x=i,v.y=n,v.width=r,v.height=o,v.r=g,a.dirtyShape()}if(m){var _=a.style;_.fill=h||null,_.fillOpacity=Object(s["M"])(t.fillOpacity,1)}else if(f){u=this._getOrCreateChild(l["a"]),u.onload=function(){y.dirtyStyle()};var b=u.style;b.image=h.image,b.x=i,b.y=n,b.width=r,b.height=o}if(d&&p){_=a.style;_.lineWidth=d,_.stroke=p,_.strokeOpacity=Object(s["M"])(t.strokeOpacity,1),_.lineDash=t.borderDash,_.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2)}var x=(a||u).style;x.shadowBlur=t.shadowBlur||0,x.shadowColor=t.shadowColor||"transparent",x.shadowOffsetX=t.shadowOffsetX||0,x.shadowOffsetY=t.shadowOffsetY||0,x.opacity=Object(s["N"])(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";if(t.fontSize||t.fontFamily||t.fontWeight){var i="";i="string"!==typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,e=[t.fontStyle,t.fontWeight,i,t.fontFamily||"sans-serif"].join(" ")}return e&&Object(s["Q"])(e)||t.textFont||t.font},e}(h["c"]),g={left:!0,right:1,center:1},y={top:1,bottom:1,middle:1};function v(t){return _(t),Object(s["k"])(t.rich,_),t}function _(t){if(t){t.font=m.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||g[e]?e:"left";var i=t.verticalAlign;"center"===i&&(i="middle"),t.verticalAlign=null==i||y[i]?i:"top";var n=t.padding;n&&(t.padding=Object(s["J"])(t.padding))}}function b(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function x(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function w(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function S(t){var e=t.text;return null!=e&&(e+=""),e}function T(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}e["a"]=m},"774a":function(t,e,i){"use strict";function n(t){return t.map(encodeURIComponent).join(",")}function r(t){return Array.isArray(t)?n(t):encodeURIComponent(String(t))}function o(t,e,i){if(!1===i||null===i)return t;var n=/\?/.test(t)?"&":"?",o=encodeURIComponent(e);return void 0!==i&&""!==i&&!0!==i&&(o+="="+r(i)),""+t+n+o}function s(t,e){if(!e)return t;var i=t;return Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&(Array.isArray(n)&&(n=n.filter((function(t){return null!==t&&void 0!==t})).join(",")),i=o(i,t,n))})),i}function a(t,e){if(!e)return t;if("http"===t.slice(0,4))return t;var i="/"===t[0]?"":"/";return""+e.replace(/\/$/,"")+i+t}function l(t,e){return e?t.replace(/\/:([a-zA-Z0-9]+)/g,(function(t,i){var n=e[i];if(void 0===n)throw new Error("Unspecified route parameter "+i);var o=r(n);return"/"+o})):t}t.exports={appendQueryObject:s,appendQueryParam:o,prependOrigin:a,interpolateRouteParams:l}},7837:function(t,e,i){"use strict";i.d(e,"e",(function(){return u})),i.d(e,"c",(function(){return h})),i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return b})),i.d(e,"d",(function(){return x}));var n=i("76a5"),r=i("6d8b"),o=i("7d6c"),s=i("e0d3"),a=(i("deab"),{});function l(t,e){for(var i=0;i<o["g"].length;i++){var n=o["g"][i],r=e[n],s=t.ensureState(n);s.style=s.style||{},s.style.text=r}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function c(t,e,i){var n,s=t.labelFetcher,a=t.labelDataIndex,l=t.labelDimIndex,c=e.normal;s&&(n=s.getFormattedLabel(a,"normal",null,l,c&&c.get("formatter"),null!=i?{interpolatedValue:i}:null)),null==n&&(n=Object(r["v"])(t.defaultText)?t.defaultText(a,t,i):t.defaultText);for(var u={normal:n},h=0;h<o["g"].length;h++){var d=o["g"][h],p=e[d];u[d]=Object(r["M"])(s?s.getFormattedLabel(a,d,null,l,p&&p.get("formatter")):null,n)}return u}function u(t,e,i,s){i=i||a;for(var u=t instanceof n["a"],h=!1,f=0;f<o["a"].length;f++){var m=e[o["a"][f]];if(m&&m.getShallow("show")){h=!0;break}}var g=u?t:t.getTextContent();if(h){u||(g||(g=new n["a"],t.setTextContent(g)),t.stateProxy&&(g.stateProxy=t.stateProxy));var y=c(i,e),v=e.normal,_=!!v.getShallow("show"),b=d(v,s&&s.normal,i,!1,!u);b.text=y.normal,u||t.setTextConfig(p(v,i,!1));for(f=0;f<o["g"].length;f++){var w=o["g"][f];m=e[w];if(m){var S=g.ensureState(w),T=!!Object(r["M"])(m.getShallow("show"),_);if(T!==_&&(S.ignore=!T),S.style=d(m,s&&s[w],i,!0,!u),S.style.text=y[w],!u){var C=t.ensureState(w);C.textConfig=p(m,i,!0)}}}g.silent=!!v.getShallow("silent"),null!=g.style.x&&(b.x=g.style.x),null!=g.style.y&&(b.y=g.style.y),g.ignore=!_,g.useStyle(b),g.dirty(),i.enableTextSetter&&(x(g).setLabelText=function(t){var n=c(i,e,t);l(g,n)})}else g&&(g.ignore=!0);t.dirty()}function h(t,e){e=e||"label";for(var i={normal:t.getModel(e)},n=0;n<o["g"].length;n++){var r=o["g"][n];i[r]=t.getModel([r,e])}return i}function d(t,e,i,n,o){var s={};return f(s,t,i,n,o),e&&Object(r["m"])(s,e),s}function p(t,e,i){e=e||{};var n,o={},s=t.getShallow("rotate"),a=Object(r["M"])(t.getShallow("distance"),i?null:5),l=t.getShallow("offset");return n=t.getShallow("position")||(i?null:"inside"),"outside"===n&&(n=e.defaultOutsidePosition||"top"),null!=n&&(o.position=n),null!=l&&(o.offset=l),null!=s&&(s*=Math.PI/180,o.rotation=s),null!=a&&(o.distance=a),o.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",o}function f(t,e,i,n,r){i=i||a;var o,s=e.ecModel,l=s&&s.option.textStyle,c=m(e);if(c)for(var u in o={},c)if(c.hasOwnProperty(u)){var h=e.getModel(["rich",u]);_(o[u]={},h,l,i,n,r,!1,!0)}o&&(t.rich=o);var d=e.get("overflow");d&&(t.overflow=d);var p=e.get("minMargin");null!=p&&(t.margin=p),_(t,e,l,i,n,r,!0,!1)}function m(t){var e;while(t&&t!==t.ecModel){var i=(t.option||a).rich;if(i){e=e||{};for(var n=Object(r["D"])(i),o=0;o<n.length;o++){var s=n[o];e[s]=1}}t=t.parentModel}return e}var g=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],y=["align","lineHeight","width","height","tag","verticalAlign"],v=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function _(t,e,i,n,o,s,l,c){i=!o&&i||a;var u=n&&n.inheritColor,h=e.getShallow("color"),d=e.getShallow("textBorderColor"),p=Object(r["M"])(e.getShallow("opacity"),i.opacity);"inherit"!==h&&"auto"!==h||(h=u||null),"inherit"!==d&&"auto"!==d||(d=u||null),s||(h=h||i.color,d=d||i.textBorderColor),null!=h&&(t.fill=h),null!=d&&(t.stroke=d);var f=Object(r["M"])(e.getShallow("textBorderWidth"),i.textBorderWidth);null!=f&&(t.lineWidth=f);var m=Object(r["M"])(e.getShallow("textBorderType"),i.textBorderType);null!=m&&(t.lineDash=m);var _=Object(r["M"])(e.getShallow("textBorderDashOffset"),i.textBorderDashOffset);null!=_&&(t.lineDashOffset=_),o||null!=p||c||(p=n&&n.defaultOpacity),null!=p&&(t.opacity=p),o||s||null==t.fill&&n.inheritColor&&(t.fill=n.inheritColor);for(var b=0;b<g.length;b++){var x=g[b],w=Object(r["M"])(e.getShallow(x),i[x]);null!=w&&(t[x]=w)}for(b=0;b<y.length;b++){x=y[b],w=e.getShallow(x);null!=w&&(t[x]=w)}if(null==t.verticalAlign){var S=e.getShallow("baseline");null!=S&&(t.verticalAlign=S)}if(!l||!n.disableBox){for(b=0;b<v.length;b++){x=v[b],w=e.getShallow(x);null!=w&&(t[x]=w)}var T=e.getShallow("borderType");null!=T&&(t.borderDash=T),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!u||(t.backgroundColor=u),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!u||(t.borderColor=u)}}function b(t,e){var i=e&&e.getModel("textStyle");return Object(r["Q"])([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}var x=Object(s["l"])()},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7854:function(t,e,i){"use strict";var n=i("4a69");function r(t){return n(t,(function(t,e){return"boolean"===typeof e?JSON.stringify(e):e}))}t.exports=r},"785a":function(t,e,i){var n=i("cc12"),r=n("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},7958:function(t,e,i){},"7a77":function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},"7aac":function(t,e,i){"use strict";var n=i("c532");t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,i,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),n.isString(r)&&a.push("path="+r),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(t,e,i){var n=i("1d80");t.exports=function(t){return Object(n(t))}},"7b38":function(t,e,i){"use strict";i("a301")},"7bc6":function(t,e,i){"use strict";i.d(e,"d",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=i("d9bd");i("80d2"),i("8da5");function r(t){return!!t&&!!t.match(/^(#|var\(--|(rgb|hsl)a?\()/)}function o(t){let e;if("number"===typeof t)e=t;else{if("string"!==typeof t)throw new TypeError(`Colors can only be numbers or strings, recieved ${null==t?t:t.constructor.name} instead`);{let i="#"===t[0]?t.substring(1):t;3===i.length&&(i=i.split("").map(t=>t+t).join("")),6!==i.length&&Object(n["c"])(`'${t}' is not a valid rgb color`),e=parseInt(i,16)}}return e<0?(Object(n["c"])(`Colors cannot be negative: '${t}'`),e=0):(e>16777215||isNaN(e))&&(Object(n["c"])(`'${t}' is not a valid rgb color`),e=16777215),e}function s(t){let e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function a(t){return s(o(t))}},"7c73":function(t,e,i){var n,r=i("825a"),o=i("37e8"),s=i("7839"),a=i("d012"),l=i("1be4"),c=i("cc12"),u=i("f772"),h=">",d="<",p="prototype",f="script",m=u("IE_PROTO"),g=function(){},y=function(t){return d+f+h+t+d+"/"+f+h},v=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){var t,e=c("iframe"),i="java"+f+":";return e.style.display="none",l.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(y("document.F=Object")),t.close(),t.F},b=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}b="undefined"!=typeof document?document.domain&&n?v(n):_():v(n);var t=s.length;while(t--)delete b[p][s[t]];return b()};a[m]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(g[p]=r(t),i=new g,g[p]=null,i[m]=t):i=b(),void 0===e?i:o(i,e)}},"7d6c":function(t,e,i){"use strict";i.d(e,"d",(function(){return p})),i.d(e,"e",(function(){return f})),i.d(e,"g",(function(){return m})),i.d(e,"a",(function(){return g})),i.d(e,"c",(function(){return _})),i.d(e,"b",(function(){return b})),i.d(e,"f",(function(){return x})),i.d(e,"i",(function(){return w})),i.d(e,"h",(function(){return S})),i.d(e,"C",(function(){return j})),i.d(e,"o",(function(){return q})),i.d(e,"z",(function(){return H})),i.d(e,"n",(function(){return W})),i.d(e,"y",(function(){return Z})),i.d(e,"p",(function(){return X})),i.d(e,"A",(function(){return Y})),i.d(e,"j",(function(){return J})),i.d(e,"k",(function(){return tt})),i.d(e,"l",(function(){return et})),i.d(e,"q",(function(){return it})),i.d(e,"u",(function(){return nt})),i.d(e,"t",(function(){return rt})),i.d(e,"E",(function(){return ot})),i.d(e,"F",(function(){return st})),i.d(e,"r",(function(){return at})),i.d(e,"m",(function(){return lt})),i.d(e,"D",(function(){return dt})),i.d(e,"v",(function(){return ft})),i.d(e,"s",(function(){return mt})),i.d(e,"x",(function(){return gt})),i.d(e,"w",(function(){return yt})),i.d(e,"B",(function(){return vt}));var n=i("d51b"),r=i("6d8b"),o=i("861c"),s=i("41ef"),a=i("e0d3"),l=i("cbe5"),c=1,u={},h=Object(a["l"])(),d=0,p=1,f=2,m=["emphasis","blur","select"],g=["normal","emphasis","blur","select"],y=10,v=9,_="highlight",b="downplay",x="select",w="unselect",S="toggleSelect";function T(t){return null!=t&&"none"!==t}var C=new n["a"](100);function O(t){if("string"!==typeof t)return t;var e=C.get(t);return e||(e=s["b"](t,-.1),C.put(t,e)),e}function k(t,e,i){t.onHoverStateChange&&(t.hoverState||0)!==i&&t.onHoverStateChange(e),t.hoverState=i}function A(t){k(t,"emphasis",f)}function I(t){t.hoverState===f&&k(t,"normal",d)}function E(t){k(t,"blur",p)}function M(t){t.hoverState===p&&k(t,"normal",d)}function D(t){t.selected=!0}function P(t){t.selected=!1}function L(t,e,i){e(t,i)}function z(t,e,i){L(t,e,i),t.isGroup&&t.traverse((function(t){L(t,e,i)}))}function j(t,e){switch(e){case"emphasis":t.hoverState=f;break;case"normal":t.hoverState=d;break;case"blur":t.hoverState=p;break;case"select":t.selected=!0}}function B(t,e,i,n){for(var r=t.style,o={},s=0;s<e.length;s++){var a=e[s],l=r[a];o[a]=null==l?n&&n[a]:l}for(s=0;s<t.animators.length;s++){var c=t.animators[s];c.__fromStateTransition&&c.__fromStateTransition.indexOf(i)<0&&"style"===c.targetName&&c.saveFinalToTarget(o,e)}return o}function R(t,e,i,n){var o=i&&Object(r["q"])(i,"select")>=0,s=!1;if(t instanceof l["b"]){var a=h(t),c=o&&a.selectFill||a.normalFill,u=o&&a.selectStroke||a.normalStroke;if(T(c)||T(u)){n=n||{};var d=n.style||{};"inherit"===d.fill?(s=!0,n=Object(r["m"])({},n),d=Object(r["m"])({},d),d.fill=c):!T(d.fill)&&T(c)?(s=!0,n=Object(r["m"])({},n),d=Object(r["m"])({},d),d.fill=O(c)):!T(d.stroke)&&T(u)&&(s||(n=Object(r["m"])({},n),d=Object(r["m"])({},d)),d.stroke=O(u)),n.style=d}}if(n&&null==n.z2){s||(n=Object(r["m"])({},n));var p=t.z2EmphasisLift;n.z2=t.z2+(null!=p?p:y)}return n}function F(t,e,i){if(i&&null==i.z2){i=Object(r["m"])({},i);var n=t.z2SelectLift;i.z2=t.z2+(null!=n?n:v)}return i}function N(t,e,i){var n=Object(r["q"])(t.currentStates,e)>=0,o=t.style.opacity,s=n?null:B(t,["opacity"],e,{opacity:1});i=i||{};var a=i.style||{};return null==a.opacity&&(i=Object(r["m"])({},i),a=Object(r["m"])({opacity:n?o:.1*s.opacity},a),i.style=a),i}function V(t,e){var i=this.states[t];if(this.style){if("emphasis"===t)return R(this,t,e,i);if("blur"===t)return N(this,t,i);if("select"===t)return F(this,t,i)}return i}function $(t){t.stateProxy=V;var e=t.getTextContent(),i=t.getTextGuideLine();e&&(e.stateProxy=V),i&&(i.stateProxy=V)}function U(t,e){!K(t,e)&&!t.__highByOuter&&z(t,A)}function G(t,e){!K(t,e)&&!t.__highByOuter&&z(t,I)}function q(t,e){t.__highByOuter|=1<<(e||0),z(t,A)}function H(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&z(t,I)}function W(t){z(t,E)}function Z(t){z(t,M)}function X(t){z(t,D)}function Y(t){z(t,P)}function K(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function J(t){var e=t.getModel();e.eachComponent((function(e,i){var n="series"===e?t.getViewOfSeriesModel(i):t.getViewOfComponentModel(i);n.group.traverse((function(t){M(t)}))}))}function Q(t,e,i,n){var o=n.getModel();function s(t,e){for(var i=0;i<e.length;i++){var n=t.getItemGraphicEl(e[i]);n&&Z(n)}}if(i=i||"coordinateSystem",null!=t&&e&&"none"!==e){var a=o.getSeriesByIndex(t),l=a.coordinateSystem;l&&l.master&&(l=l.master);var c=[];o.eachSeries((function(t){var o=a===t,u=t.coordinateSystem;u&&u.master&&(u=u.master);var h=u&&l?u===l:o;if(!("series"===i&&!o||"coordinateSystem"===i&&!h||"series"===e&&o)){var d=n.getViewOfSeriesModel(t);if(d.group.traverse((function(t){E(t)})),Object(r["t"])(e))s(t.getData(),e);else if(Object(r["z"])(e))for(var p=Object(r["D"])(e),f=0;f<p.length;f++)s(t.getData(p[f]),e[p[f]]);c.push(t)}})),o.eachComponent((function(t,e){if("series"!==t){var i=n.getViewOfComponentModel(e);i&&i.blurSeries&&i.blurSeries(c,o)}}))}}function tt(t,e,i){if(null!=t&&null!=e){var n=i.getModel().getComponent(t,e);if(n){var r=i.getViewOfComponentModel(n);r&&r.focusBlurEnabled&&r.group.traverse((function(t){E(t)}))}}}function et(t,e,i){var n=t.seriesIndex,s=t.getData(e.dataType),l=Object(a["q"])(s,e);l=(Object(r["s"])(l)?l[0]:l)||0;var c=s.getItemGraphicEl(l);if(!c){var u=s.count(),h=0;while(!c&&h<u)c=s.getItemGraphicEl(h++)}if(c){var d=Object(o["a"])(c);Q(n,d.focus,d.blurScope,i)}else{var p=t.get(["emphasis","focus"]),f=t.get(["emphasis","blurScope"]);null!=p&&Q(n,p,f,i)}}function it(t,e,i,n){var r={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==e||null==i)return r;var s=n.getModel().getComponent(t,e);if(!s)return r;var a=n.getViewOfComponentModel(s);if(!a||!a.findHighDownDispatchers)return r;for(var l,c=a.findHighDownDispatchers(i),u=0;u<c.length;u++)if("self"===Object(o["a"])(c[u]).focus){l=!0;break}return{focusSelf:l,dispatchers:c}}function nt(t,e,i){var n=Object(o["a"])(t),s=it(n.componentMainType,n.componentIndex,n.componentHighDownName,i),a=s.dispatchers,l=s.focusSelf;a?(l&&tt(n.componentMainType,n.componentIndex,i),Object(r["k"])(a,(function(t){return U(t,e)}))):(Q(n.seriesIndex,n.focus,n.blurScope,i),"self"===n.focus&&tt(n.componentMainType,n.componentIndex,i),U(t,e))}function rt(t,e,i){J(i);var n=Object(o["a"])(t),s=it(n.componentMainType,n.componentIndex,n.componentHighDownName,i).dispatchers;s?Object(r["k"])(s,(function(t){return G(t,e)})):G(t,e)}function ot(t,e,i){if(gt(e)){var n=e.dataType,o=t.getData(n),s=Object(a["q"])(o,e);Object(r["s"])(s)||(s=[s]),t[e.type===S?"toggleSelect":e.type===x?"select":"unselect"](s,n)}}function st(t){var e=t.getAllData();Object(r["k"])(e,(function(e){var i=e.data,n=e.type;i.eachItemGraphicEl((function(e,i){t.isSelected(i,n)?X(e):Y(e)}))}))}function at(t){var e=[];return t.eachSeries((function(t){var i=t.getAllData();Object(r["k"])(i,(function(i){i.data;var n=i.type,r=t.getSelectedDataIndices();if(r.length>0){var o={dataIndex:r,seriesIndex:t.seriesIndex};null!=n&&(o.dataType=n),e.push(o)}}))})),e}function lt(t,e,i){pt(t,!0),z(t,$),ct(t,e,i)}function ct(t,e,i){var n=Object(o["a"])(t);null!=e?(n.focus=e,n.blurScope=i):n.focus&&(n.focus=null)}var ut=["emphasis","blur","select"],ht={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function dt(t,e,i,n){i=i||"itemStyle";for(var r=0;r<ut.length;r++){var o=ut[r],s=e.getModel([o,i]),a=t.ensureState(o);a.style=n?n(s):s[ht[i]]()}}function pt(t,e){var i=!1===e,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),i&&!n.__highDownDispatcher||(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!i)}function ft(t){return!(!t||!t.__highDownDispatcher)}function mt(t){var e=u[t];return null==e&&c<=32&&(e=u[t]=c++),e}function gt(t){var e=t.type;return e===x||e===w||e===S}function yt(t){var e=t.type;return e===_||e===b}function vt(t){var e=h(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var i=t.states.select||{};e.selectFill=i.style&&i.style.fill||null,e.selectStroke=i.style&&i.style.stroke||null}},"7d8f":function(t,e,i){"use strict";i.d(e,"b",(function(){return w})),i.d(e,"a",(function(){return S}));var n={};i.r(n),i.d(n,"linear",(function(){return o})),i.d(n,"easeInQuad",(function(){return s})),i.d(n,"easeOutQuad",(function(){return a})),i.d(n,"easeInOutQuad",(function(){return l})),i.d(n,"easeInCubic",(function(){return c})),i.d(n,"easeOutCubic",(function(){return u})),i.d(n,"easeInOutCubic",(function(){return h})),i.d(n,"easeInQuart",(function(){return d})),i.d(n,"easeOutQuart",(function(){return p})),i.d(n,"easeInOutQuart",(function(){return f})),i.d(n,"easeInQuint",(function(){return m})),i.d(n,"easeOutQuint",(function(){return g})),i.d(n,"easeInOutQuint",(function(){return y}));var r=i("fff9");const o=t=>t,s=t=>t**2,a=t=>t*(2-t),l=t=>t<.5?2*t**2:(4-2*t)*t-1,c=t=>t**3,u=t=>--t**3+1,h=t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,d=t=>t**4,p=t=>1- --t**4,f=t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,m=t=>t**5,g=t=>1+--t**5,y=t=>t<.5?16*t**5:1+16*--t**5;function v(t){if("number"===typeof t)return t;let e=x(t);if(!e)throw"string"===typeof t?new Error(`Target element "${t}" not found.`):new TypeError(`Target must be a Number/Selector/HTMLElement/VueComponent, received ${b(t)} instead.`);let i=0;while(e)i+=e.offsetTop,e=e.offsetParent;return i}function _(t){const e=x(t);if(e)return e;throw"string"===typeof t?new Error(`Container element "${t}" not found.`):new TypeError(`Container must be a Selector/HTMLElement/VueComponent, received ${b(t)} instead.`)}function b(t){return null==t?t:t.constructor.name}function x(t){return"string"===typeof t?document.querySelector(t):t&&t._isVue?t.$el:t instanceof HTMLElement?t:null}function w(t,e={}){const i={container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0,...e},r=_(i.container);if(i.appOffset&&w.framework.application){const t=r.classList.contains("v-navigation-drawer"),e=r.classList.contains("v-navigation-drawer--clipped"),{bar:n,top:o}=w.framework.application;i.offset+=n,t&&!e||(i.offset+=o)}const o=performance.now();let s;s="number"===typeof t?v(t)-i.offset:v(t)-v(r)-i.offset;const a=r.scrollTop;if(s===a)return Promise.resolve(s);const l="function"===typeof i.easing?i.easing:n[i.easing];if(!l)throw new TypeError(`Easing function "${i.easing}" not found.`);return new Promise(t=>requestAnimationFrame((function e(n){const c=n-o,u=Math.abs(i.duration?Math.min(c/i.duration,1):1);r.scrollTop=Math.floor(a+(s-a)*l(u));const h=r===document.body?document.documentElement.clientHeight:r.clientHeight;if(1===u||h+r.scrollTop===r.scrollHeight)return t(s);requestAnimationFrame(e)})))}w.framework={},w.init=()=>{};class S extends r["a"]{constructor(){return super(),w}}S.property="goTo"},"7dd0":function(t,e,i){"use strict";var n=i("23e7"),r=i("c430"),o=i("5e77"),s=i("1626"),a=i("9ed3"),l=i("e163"),c=i("d2bb"),u=i("d44e"),h=i("9112"),d=i("6eeb"),p=i("b622"),f=i("3f8c"),m=i("ae93"),g=o.PROPER,y=o.CONFIGURABLE,v=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,b=p("iterator"),x="keys",w="values",S="entries",T=function(){return this};t.exports=function(t,e,i,o,p,m,C){a(i,e,o);var O,k,A,I=function(t){if(t===p&&L)return L;if(!_&&t in D)return D[t];switch(t){case x:return function(){return new i(this,t)};case w:return function(){return new i(this,t)};case S:return function(){return new i(this,t)}}return function(){return new i(this)}},E=e+" Iterator",M=!1,D=t.prototype,P=D[b]||D["@@iterator"]||p&&D[p],L=!_&&P||I(p),z="Array"==e&&D.entries||P;if(z&&(O=l(z.call(new t)),O!==Object.prototype&&O.next&&(r||l(O)===v||(c?c(O,v):s(O[b])||d(O,b,T)),u(O,E,!0,!0),r&&(f[E]=T))),g&&p==w&&P&&P.name!==w&&(!r&&y?h(D,"name",w):(M=!0,L=function(){return P.call(this)})),p)if(k={values:I(w),keys:m?L:I(x),entries:I(S)},C)for(A in k)(_||M||!(A in D))&&d(D,A,k[A]);else n({target:e,proto:!0,forced:_||M},k);return r&&!C||D[b]===L||d(D,b,L,{name:p}),f[e]=L,k}},"7e2b":function(t,e,i){"use strict";var n=i("2b0e");function r(t){return function(e,i){for(const n in i)Object.prototype.hasOwnProperty.call(e,n)||this.$delete(this.$data[t],n);for(const n in e)this.$set(this.$data[t],n,e[n])}}e["a"]=n["a"].extend({data:()=>({attrs$:{},listeners$:{}}),created(){this.$watch("$attrs",r("attrs$"),{immediate:!0}),this.$watch("$listeners",r("listeners$"),{immediate:!0})}})},"7e85":function(t,e,i){"use strict";i("8836");var n=i("10d2"),r=i("3206"),o=i("a452"),s=i("58df"),a=i("d9bd");const l=Object(s["a"])(n["a"],Object(r["b"])("stepper"),o["a"]);e["a"]=l.extend({name:"v-stepper",provide(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,flat:Boolean,vertical:Boolean},data(){const t={isBooted:!1,steps:[],content:[],isReverse:!1};return t.internalLazyValue=null!=this.value?this.value:(t[0]||{}).step||1,t},computed:{classes(){return{"v-stepper--flat":this.flat,"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear,...n["a"].options.computed.classes.call(this)}},styles(){return{...n["a"].options.computed.styles.call(this)}}},watch:{internalValue(t,e){this.isReverse=Number(t)<Number(e),e&&(this.isBooted=!0),this.updateView()}},created(){this.$listeners.input&&Object(a["a"])("@input","@change",this)},mounted(){this.updateView()},methods:{register(t){"v-stepper-step"===t.$options.name?this.steps.push(t):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content.push(t))},unregister(t){"v-stepper-step"===t.$options.name?this.steps=this.steps.filter(e=>e!==t):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content=this.content.filter(e=>e!==t))},stepClick(t){this.$nextTick(()=>this.internalValue=t)},updateView(){for(let t=this.steps.length;--t>=0;)this.steps[t].toggle(this.internalValue);for(let t=this.content.length;--t>=0;)this.content[t].toggle(this.internalValue,this.isReverse)}},render(t){return t(this.tag,{staticClass:"v-stepper",class:this.classes,style:this.styles},this.$slots.default)}})},"7f9a":function(t,e,i){var n=i("da84"),r=i("1626"),o=i("8925"),s=n.WeakMap;t.exports=r(s)&&/native code/.test(o(s))},"7fae":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},n(t,e)};function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}Object.create;function o(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||e)}Object.create},"80b9":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"d",(function(){return c})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return h})),i.d(e,"e",(function(){return d}));var n=i("6d8b"),r=i("e0d3"),o=i("ec6f"),s=Object(r["l"])(),a={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},l=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=h(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return Object(n["M"])(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Object(o["f"])(this.source),i=!d(t),n="",r=[],s=0,l=0;s<t;s++){var c=void 0,u=void 0,h=void 0,p=this.dimensions[l];if(p&&p.storeDimIndex===s)c=e?p.name:null,u=p.type,h=p.ordinalMeta,l++;else{var f=this.getSourceDimension(s);f&&(c=e?f.name:null,u=f.type)}r.push({property:c,type:u,ordinalMeta:h}),!e||null==c||p&&p.isCalculationCoord||(n+=i?c.replace(/\`/g,"`1").replace(/\$/g,"`2"):c),n+="$",n+=a[u]||"f",h&&(n+=h.uid),n+="$"}var m=this.source,g=[m.seriesLayoutBy,m.startIndex,n].join("$$");return{dimensions:r,hash:g}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,i=0;e<this._fullDimCount;e++){var n=void 0,r=this.dimensions[i];if(r&&r.storeDimIndex===e)r.isCalculationCoord||(n=r.name),i++;else{var o=this.getSourceDimension(e);o&&(n=o.name)}t.push(n)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function c(t){return t instanceof l}function u(t){for(var e=Object(n["g"])(),i=0;i<(t||[]).length;i++){var r=t[i],o=Object(n["z"])(r)?r.name:r;null!=o&&null==e.get(o)&&e.set(o,i)}return e}function h(t){var e=s(t);return e.dimNameMap||(e.dimNameMap=u(t.dimensionsDefine))}function d(t){return t>30}},"80d2":function(t,e,i){"use strict";i.d(e,"i",(function(){return r})),i.d(e,"a",(function(){return o})),i.d(e,"y",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"m",(function(){return l})),i.d(e,"j",(function(){return c})),i.d(e,"n",(function(){return u})),i.d(e,"o",(function(){return h})),i.d(e,"h",(function(){return d})),i.d(e,"r",(function(){return p})),i.d(e,"k",(function(){return m})),i.d(e,"l",(function(){return g})),i.d(e,"g",(function(){return y})),i.d(e,"t",(function(){return v})),i.d(e,"u",(function(){return b})),i.d(e,"z",(function(){return x})),i.d(e,"v",(function(){return w})),i.d(e,"d",(function(){return T})),i.d(e,"c",(function(){return C})),i.d(e,"A",(function(){return O})),i.d(e,"B",(function(){return k})),i.d(e,"q",(function(){return A})),i.d(e,"p",(function(){return I})),i.d(e,"f",(function(){return E})),i.d(e,"x",(function(){return M})),i.d(e,"e",(function(){return D})),i.d(e,"s",(function(){return P})),i.d(e,"w",(function(){return L}));var n=i("2b0e");function r(t,e="div",i){return n["a"].extend({name:i||t.replace(/__/g,"-"),functional:!0,render(i,{data:n,children:r}){return n.staticClass=`${t} ${n.staticClass||""}`.trim(),i(e,n,r)}})}function o(t,e,i,n=!1){const r=o=>{i(o),t.removeEventListener(e,r,n)};t.addEventListener(e,r,n)}let s=!1;try{if("undefined"!==typeof window){const t=Object.defineProperty({},"passive",{get:()=>{s=!0}});window.addEventListener("testListener",t,t),window.removeEventListener("testListener",t,t)}}catch(z){console.warn(z)}function a(t,e,i,n){t.addEventListener(e,i,!!s&&n)}function l(t,e,i){const n=e.length-1;if(n<0)return void 0===t?i:t;for(let r=0;r<n;r++){if(null==t)return i;t=t[e[r]]}return null==t||void 0===t[e[n]]?i:t[e[n]]}function c(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime())return!1;if(t!==Object(t)||e!==Object(e))return!1;const i=Object.keys(t);return i.length===Object.keys(e).length&&i.every(i=>c(t[i],e[i]))}function u(t,e,i){return null!=t&&e&&"string"===typeof e?void 0!==t[e]?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),l(t,e.split("."),i)):i}function h(t,e,i){if(null==e)return void 0===t?i:t;if(t!==Object(t))return void 0===i?t:i;if("string"===typeof e)return u(t,e,i);if(Array.isArray(e))return l(t,e,i);if("function"!==typeof e)return i;const n=e(t,i);return"undefined"===typeof n?i:n}function d(t){return Array.from({length:t},(t,e)=>e)}function p(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return 0;const e=+window.getComputedStyle(t).getPropertyValue("z-index");return e||p(t.parentNode)}const f={"&":"&amp;","<":"&lt;",">":"&gt;"};function m(t){return t.replace(/[&<>]/g,t=>f[t]||t)}function g(t,e){const i={};for(let n=0;n<e.length;n++){const r=e[n];"undefined"!==typeof t[r]&&(i[r]=t[r])}return i}function y(t,e="px"){return null==t||""===t?void 0:isNaN(+t)?String(t):`${Number(t)}${e}`}function v(t){return(t||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _(t){return null!==t&&"object"===typeof t}const b=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function x(t,e){const i=t.$vuetify.icons.component;if(e.startsWith("$")){const i="$vuetify.icons.values."+e.split("$").pop().split(".").pop(),n=u(t,i,e);if("string"!==typeof n)return n;e=n}return null==i?e:{component:i,props:{icon:e}}}function w(t){return Object.keys(t)}const S=/-(\w)/g,T=t=>t.replace(S,(t,e)=>e?e.toUpperCase():"");function C(t,e){const i=[];for(let n=0;n<e.length;n++)t.indexOf(e[n])<0&&i.push(e[n]);return i}function O(t){return t.charAt(0).toUpperCase()+t.slice(1)}function k(t){return null!=t?Array.isArray(t)?t:[t]:[]}function A(t,e,i){return t.$slots[e]&&t.$scopedSlots[e]&&t.$scopedSlots[e].name?i?"v-slot":"scoped":t.$slots[e]?"normal":t.$scopedSlots[e]?"scoped":void 0}function I(t,e="default",i,n=!1){return t.$scopedSlots[e]?t.$scopedSlots[e](i instanceof Function?i():i):!t.$slots[e]||i&&!n?void 0:t.$slots[e]}function E(t,e=0,i=1){return Math.max(e,Math.min(i,t))}function M(t,e,i="0"){return t+i.repeat(Math.max(0,e-t.length))}function D(t,e=1){const i=[];let n=0;while(n<t.length)i.push(t.substr(n,e)),n+=e;return i}function P(t,e=!1){const i=e?1024:1e3;if(t<i)return t+" B";const n=e?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;while(Math.abs(t)>=i&&r<n.length-1)t/=i,++r;return`${t.toFixed(1)} ${n[r]}B`}function L(t={},e={}){for(const i in e){const n=t[i],r=e[i];_(n)&&_(r)?t[i]=L(n,r):t[i]=r}return t}},"80ec":function(t,e,i){"use strict";i.d(e,"a",(function(){return _n}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app-bar",{staticClass:"app-header",attrs:{app:"",color:t.color,dark:"dark"===t.theme}},[t._t("left"),!1===t.leftSlotIsFilled?i("v-toolbar-title",[t._v(" "+t._s(t.title)+" ")]):t._e(),i("v-spacer"),t._t("right")],2)},r=[],o={props:{title:{type:String,default:""},theme:{type:String,default:"dark",validator:function(t){return"dark"===t||"light"===t}},color:{type:String,default:"primary"}},computed:{leftSlotIsFilled:function(){return!!this.$slots["left"]}}},s=o,a=(i("d8b6"),i("2877")),l=i("6544"),c=i.n(l),u=i("40dc"),h=i("2fa4"),d=i("2a7f"),p=Object(a["a"])(s,n,r,!1,null,null,null),f=p.exports;c()(p,{VAppBar:u["a"],VSpacer:h["a"],VToolbarTitle:d["a"]});var m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[t._t("app-header"),!1===t.appHeaderSlotIsFilled?i("app-header",{attrs:{title:t.headerTitle,theme:t.theme}},[i("template",{slot:"left"},[t._t("header-left")],2),i("template",{slot:"right"},[t._t("header-right")],2)],2):t._e(),i("v-main",[i("router-view"),t._t("default"),t._t("map")],2)],2)},g=[],y={components:{AppHeader:f},props:{headerTitle:{type:String,default:""},theme:{type:String,default:"dark",validator:function(t){return"dark"===t||"light"===t}}},computed:{appHeaderSlotIsFilled:function(){return!!this.$slots["app-header"]}}},v=y,_=i("7496"),b=i("f6c4"),x=Object(a["a"])(v,m,g,!1,null,null,null);x.exports;c()(x,{VApp:_["a"],VMain:b["a"]});var w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-navigation-drawer",{attrs:{clipped:"",app:"",permanent:"",width:"360"}},[t._t("default")],2)},S=[],T=i("f774"),C={},O=Object(a["a"])(C,w,S,!1,null,null,null);O.exports;c()(O,{VNavigationDrawer:T["a"]});var k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.layersAreProvided?i("div",{ref:"root"},[i("v-treeview",{attrs:{open:t.openItems,selectable:"",items:t.layersWithParents,"open-all":!0},on:{"update:open":function(e){t.openItems=e},input:t.setSelectedIds},scopedSlots:t._u([{key:"label",fn:function(e){var n=e.item,r=e.selected;return[i("div",{staticClass:"d-flex align-center"},[i("span",{staticClass:"sortable-handle",attrs:{"data-id":n.id,"data-parent-ids":n.parentIds.toString()}},[t._v(t._s(n.name))]),n.layer&&r?i("v-btn",{staticClass:"ml-auto",attrs:{icon:""},on:{click:function(e){return t.setActiveLegend(n.id)}}},[i("v-icon",[t._v(" mdi-card-bulleted"+t._s(n.id===t.activeLegend?"":"-off")+"-outline ")])],1):t._e()],1)]}}],null,!1,1098009216)})],1):t._e()},A=[],I=(i("d81d"),i("4e827"),i("ed09"));function E(t){let e=t;return{getValue:()=>e,increment:()=>e++}}function M(t){return t.reverse().map(t=>t.children?{...t,children:M(t.children)}:t)}function D(t,e){return t.map(t=>t.url?(e.increment(),{...t,index:e.getValue()}):{...t,children:D(t.children,e)})}function P(t){let e=E(-1);const i=JSON.parse(JSON.stringify(t)),n=M(i),r=D(n,e),o=M(r);return o}var L=P;const z=t=>Boolean(t.children),j=t=>Boolean(t.url);function B(t,e,i){return t.reduce((t,n)=>t||(z(n)?B(n.children,e,i):j(n)&&n[e]===i?n:null),null)}var R=B;const F=t=>Boolean(t.children);function N(t,e=[]){return t.map(t=>{if(!1===F(t))return{...t,parentIds:e};const i=N(t.children,[...e,t.id]);return{...t,children:i,parentIds:e}})}var V=N;function $(t=[]){const e=t.length,i=e-1;return t[i]}function U(t){const e=Object(I["i"])("");function i(t){e.value=e.value===t?"":t}function n(t){if(t.includes(e.value))return;const n=$(t);i(n)}return Object(I["n"])(t,n),{activeLegend:e,setActiveLegend:i}}const G=Object(I["i"])([]);function q(t){G.value=t}function H(){return{selectedIds:G,setSelectedIds:q}}
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function W(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?W(Object(i),!0).forEach((function(e){Y(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function X(t){return X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function K(){return K=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},K.apply(this,arguments)}function J(t,e){if(null==t)return{};var i,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}function Q(t,e){if(null==t)return{};var i,n,r=J(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}var tt="1.14.0";function et(t){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var it=et(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),nt=et(/Edge/i),rt=et(/firefox/i),ot=et(/safari/i)&&!et(/chrome/i)&&!et(/android/i),st=et(/iP(ad|od|hone)/i),at=et(/chrome/i)&&et(/android/i),lt={capture:!1,passive:!1};function ct(t,e,i){t.addEventListener(e,i,!it&&lt)}function ut(t,e,i){t.removeEventListener(e,i,!it&&lt)}function ht(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(i){return!1}return!1}}function dt(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function pt(t,e,i,n){if(t){i=i||document;do{if(null!=e&&(">"===e[0]?t.parentNode===i&&ht(t,e):ht(t,e))||n&&t===i)return t;if(t===i)break}while(t=dt(t))}return null}var ft,mt=/\s+/g;function gt(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(mt," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(mt," ")}}function yt(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||-1!==e.indexOf("webkit")||(e="-webkit-"+e),n[e]=i+("string"===typeof i?"":"px")}}function vt(t,e){var i="";if("string"===typeof t)i=t;else do{var n=yt(t,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function _t(t,e,i){if(t){var n=t.getElementsByTagName(e),r=0,o=n.length;if(i)for(;r<o;r++)i(n[r],r);return n}return[]}function bt(){var t=document.scrollingElement;return t||document.documentElement}function xt(t,e,i,n,r){if(t.getBoundingClientRect||t===window){var o,s,a,l,c,u,h;if(t!==window&&t.parentNode&&t!==bt()?(o=t.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,c=o.right,u=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||i)&&t!==window&&(r=r||t.parentNode,!it))do{if(r&&r.getBoundingClientRect&&("none"!==yt(r,"transform")||i&&"static"!==yt(r,"position"))){var d=r.getBoundingClientRect();s-=d.top+parseInt(yt(r,"border-top-width")),a-=d.left+parseInt(yt(r,"border-left-width")),l=s+o.height,c=a+o.width;break}}while(r=r.parentNode);if(n&&t!==window){var p=vt(r||t),f=p&&p.a,m=p&&p.d;p&&(s/=m,a/=f,h/=f,u/=m,l=s+u,c=a+h)}return{top:s,left:a,bottom:l,right:c,width:h,height:u}}}function wt(t,e,i){var n=At(t,!0),r=xt(t)[e];while(n){var o=xt(n)[i],s=void 0;if(s="top"===i||"left"===i?r>=o:r<=o,!s)return n;if(n===bt())break;n=At(n,!1)}return!1}function St(t,e,i,n){var r=0,o=0,s=t.children;while(o<s.length){if("none"!==s[o].style.display&&s[o]!==Re.ghost&&(n||s[o]!==Re.dragged)&&pt(s[o],i.draggable,t,!1)){if(r===e)return s[o];r++}o++}return null}function Tt(t,e){var i=t.lastElementChild;while(i&&(i===Re.ghost||"none"===yt(i,"display")||e&&!ht(i,e)))i=i.previousElementSibling;return i||null}function Ct(t,e){var i=0;if(!t||!t.parentNode)return-1;while(t=t.previousElementSibling)"TEMPLATE"===t.nodeName.toUpperCase()||t===Re.clone||e&&!ht(t,e)||i++;return i}function Ot(t){var e=0,i=0,n=bt();if(t)do{var r=vt(t),o=r.a,s=r.d;e+=t.scrollLeft*o,i+=t.scrollTop*s}while(t!==n&&(t=t.parentNode));return[e,i]}function kt(t,e){for(var i in t)if(t.hasOwnProperty(i))for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i);return-1}function At(t,e){if(!t||!t.getBoundingClientRect)return bt();var i=t,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=yt(i);if(i.clientWidth<i.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!i.getBoundingClientRect||i===document.body)return bt();if(n||e)return i;n=!0}}}while(i=i.parentNode);return bt()}function It(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Et(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function Mt(t,e){return function(){if(!ft){var i=arguments,n=this;1===i.length?t.call(n,i[0]):t.apply(n,i),ft=setTimeout((function(){ft=void 0}),e)}}}function Dt(){clearTimeout(ft),ft=void 0}function Pt(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function Lt(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}var zt="Sortable"+(new Date).getTime();function jt(){var t,e=[];return{captureAnimationState:function(){if(e=[],this.options.animation){var t=[].slice.call(this.el.children);t.forEach((function(t){if("none"!==yt(t,"display")&&t!==Re.ghost){e.push({target:t,rect:xt(t)});var i=Z({},e[e.length-1].rect);if(t.thisAnimationDuration){var n=vt(t,!0);n&&(i.top-=n.f,i.left-=n.e)}t.fromRect=i}}))}},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(kt(e,{target:t}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(t),void("function"===typeof i&&i());var r=!1,o=0;e.forEach((function(t){var e=0,i=t.target,s=i.fromRect,a=xt(i),l=i.prevFromRect,c=i.prevToRect,u=t.rect,h=vt(i,!0);h&&(a.top-=h.f,a.left-=h.e),i.toRect=a,i.thisAnimationDuration&&Et(l,a)&&!Et(s,a)&&(u.top-a.top)/(u.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(e=Rt(u,l,c,n.options)),Et(a,s)||(i.prevFromRect=s,i.prevToRect=a,e||(e=n.options.animation),n.animate(i,u,a,e)),e&&(r=!0,o=Math.max(o,e),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),e),i.thisAnimationDuration=e)})),clearTimeout(t),r?t=setTimeout((function(){"function"===typeof i&&i()}),o):"function"===typeof i&&i(),e=[]},animate:function(t,e,i,n){if(n){yt(t,"transition",""),yt(t,"transform","");var r=vt(this.el),o=r&&r.a,s=r&&r.d,a=(e.left-i.left)/(o||1),l=(e.top-i.top)/(s||1);t.animatingX=!!a,t.animatingY=!!l,yt(t,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=Bt(t),yt(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),yt(t,"transform","translate3d(0,0,0)"),"number"===typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){yt(t,"transition",""),yt(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),n)}}}}function Bt(t){return t.offsetWidth}function Rt(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}var Ft=[],Nt={initializeByDefault:!0},Vt={mount:function(t){for(var e in Nt)Nt.hasOwnProperty(e)&&!(e in t)&&(t[e]=Nt[e]);Ft.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),Ft.push(t)},pluginEvent:function(t,e,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var r=t+"Global";Ft.forEach((function(n){e[n.pluginName]&&(e[n.pluginName][r]&&e[n.pluginName][r](Z({sortable:e},i)),e.options[n.pluginName]&&e[n.pluginName][t]&&e[n.pluginName][t](Z({sortable:e},i)))}))},initializePlugins:function(t,e,i,n){for(var r in Ft.forEach((function(n){var r=n.pluginName;if(t.options[r]||n.initializeByDefault){var o=new n(t,e,t.options);o.sortable=t,o.options=t.options,t[r]=o,K(i,o.defaults)}})),t.options)if(t.options.hasOwnProperty(r)){var o=this.modifyOption(t,r,t.options[r]);"undefined"!==typeof o&&(t.options[r]=o)}},getEventProperties:function(t,e){var i={};return Ft.forEach((function(n){"function"===typeof n.eventProperties&&K(i,n.eventProperties.call(e[n.pluginName],t))})),i},modifyOption:function(t,e,i){var n;return Ft.forEach((function(r){t[r.pluginName]&&r.optionListeners&&"function"===typeof r.optionListeners[e]&&(n=r.optionListeners[e].call(t[r.pluginName],i))})),n}};function $t(t){var e=t.sortable,i=t.rootEl,n=t.name,r=t.targetEl,o=t.cloneEl,s=t.toEl,a=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,h=t.newDraggableIndex,d=t.originalEvent,p=t.putSortable,f=t.extraEventProperties;if(e=e||i&&i[zt],e){var m,g=e.options,y="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||it||nt?(m=document.createEvent("Event"),m.initEvent(n,!0,!0)):m=new CustomEvent(n,{bubbles:!0,cancelable:!0}),m.to=s||i,m.from=a||i,m.item=r||i,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=h,m.originalEvent=d,m.pullMode=p?p.lastPutMode:void 0;var v=Z(Z({},f),Vt.getEventProperties(n,e));for(var _ in v)m[_]=v[_];i&&i.dispatchEvent(m),g[y]&&g[y].call(e,m)}}var Ut=["evt"],Gt=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,r=Q(i,Ut);Vt.pluginEvent.bind(Re)(t,e,Z({dragEl:Ht,parentEl:Wt,ghostEl:Zt,rootEl:Xt,nextEl:Yt,lastDownEl:Kt,cloneEl:Jt,cloneHidden:Qt,dragStarted:de,putSortable:oe,activeSortable:Re.active,originalEvent:n,oldIndex:te,oldDraggableIndex:ie,newIndex:ee,newDraggableIndex:ne,hideGhostForTarget:Le,unhideGhostForTarget:ze,cloneNowHidden:function(){Qt=!0},cloneNowShown:function(){Qt=!1},dispatchSortableEvent:function(t){qt({sortable:e,name:t,originalEvent:n})}},r))};function qt(t){$t(Z({putSortable:oe,cloneEl:Jt,targetEl:Ht,rootEl:Xt,oldIndex:te,oldDraggableIndex:ie,newIndex:ee,newDraggableIndex:ne},t))}var Ht,Wt,Zt,Xt,Yt,Kt,Jt,Qt,te,ee,ie,ne,re,oe,se,ae,le,ce,ue,he,de,pe,fe,me,ge,ye=!1,ve=!1,_e=[],be=!1,xe=!1,we=[],Se=!1,Te=[],Ce="undefined"!==typeof document,Oe=st,ke=nt||it?"cssFloat":"float",Ae=Ce&&!at&&!st&&"draggable"in document.createElement("div"),Ie=function(){if(Ce){if(it)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Ee=function(t,e){var i=yt(t),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=St(t,0,e),o=St(t,1,e),s=r&&yt(r),a=o&&yt(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+xt(r).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+xt(o).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s["float"]&&"none"!==s["float"]){var u="left"===s["float"]?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return r&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=n&&"none"===i[ke]||o&&"none"===i[ke]&&l+c>n)?"vertical":"horizontal"},Me=function(t,e,i){var n=i?t.left:t.top,r=i?t.right:t.bottom,o=i?t.width:t.height,s=i?e.left:e.top,a=i?e.right:e.bottom,l=i?e.width:e.height;return n===s||r===a||n+o/2===s+l/2},De=function(t,e){var i;return _e.some((function(n){var r=n[zt].options.emptyInsertThreshold;if(r&&!Tt(n)){var o=xt(n),s=t>=o.left-r&&t<=o.right+r,a=e>=o.top-r&&e<=o.bottom+r;return s&&a?i=n:void 0}})),i},Pe=function(t){function e(t,i){return function(n,r,o,s){var a=n.options.group.name&&r.options.group.name&&n.options.group.name===r.options.group.name;if(null==t&&(i||a))return!0;if(null==t||!1===t)return!1;if(i&&"clone"===t)return t;if("function"===typeof t)return e(t(n,r,o,s),i)(n,r,o,s);var l=(i?n:r).options.group.name;return!0===t||"string"===typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var i={},n=t.group;n&&"object"==X(n)||(n={name:n}),i.name=n.name,i.checkPull=e(n.pull,!0),i.checkPut=e(n.put),i.revertClone=n.revertClone,t.group=i},Le=function(){!Ie&&Zt&&yt(Zt,"display","none")},ze=function(){!Ie&&Zt&&yt(Zt,"display","")};Ce&&document.addEventListener("click",(function(t){if(ve)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ve=!1,!1}),!0);var je=function(t){if(Ht){t=t.touches?t.touches[0]:t;var e=De(t.clientX,t.clientY);if(e){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[zt]._onDragOver(i)}}},Be=function(t){Ht&&Ht.parentNode[zt]._isOutsideThisEl(t.target)};function Re(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=K({},e),t[zt]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ee(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Re.supportPointer&&"PointerEvent"in window&&!ot,emptyInsertThreshold:5};for(var n in Vt.initializePlugins(this,t,i),i)!(n in e)&&(e[n]=i[n]);for(var r in Pe(e),this)"_"===r.charAt(0)&&"function"===typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&Ae,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ct(t,"pointerdown",this._onTapStart):(ct(t,"mousedown",this._onTapStart),ct(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ct(t,"dragover",this),ct(t,"dragenter",this)),_e.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),K(this,jt())}function Fe(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ne(t,e,i,n,r,o,s,a){var l,c,u=t[zt],h=u.options.onMove;return!window.CustomEvent||it||nt?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=r||e,l.relatedRect=o||xt(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),h&&(c=h.call(u,l,s)),c}function Ve(t){t.draggable=!1}function $e(){Se=!1}function Ue(t,e,i){var n=xt(St(i.el,0,i.options,!0)),r=10;return e?t.clientX<n.left-r||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-r||t.clientY<n.bottom&&t.clientX<n.left}function Ge(t,e,i){var n=xt(Tt(i.el,i.options.draggable)),r=10;return e?t.clientX>n.right+r||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+r}function qe(t,e,i,n,r,o,s,a){var l=n?t.clientY:t.clientX,c=n?i.height:i.width,u=n?i.top:i.left,h=n?i.bottom:i.right,d=!1;if(!s)if(a&&me<c*r){if(!be&&(1===fe?l>u+c*o/2:l<h-c*o/2)&&(be=!0),be)d=!0;else if(1===fe?l<u+me:l>h-me)return-fe}else if(l>u+c*(1-r)/2&&l<h-c*(1-r)/2)return He(e);return d=d||s,d&&(l<u+c*o/2||l>h-c*o/2)?l>u+c/2?1:-1:0}function He(t){return Ct(Ht)<Ct(t)?1:-1}function We(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;while(i--)n+=e.charCodeAt(i);return n.toString(36)}function Ze(t){Te.length=0;var e=t.getElementsByTagName("input"),i=e.length;while(i--){var n=e[i];n.checked&&Te.push(n)}}function Xe(t){return setTimeout(t,0)}function Ye(t){return clearTimeout(t)}Re.prototype={constructor:Re,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(pe=null)},_getDirection:function(t,e){return"function"===typeof this.options.direction?this.options.direction.call(this,t,e,Ht):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,n=this.options,r=n.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,c=n.filter;if(Ze(i),!Ht&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!ot||!a||"SELECT"!==a.tagName.toUpperCase())&&(a=pt(a,n.draggable,i,!1),(!a||!a.animated)&&Kt!==a)){if(te=Ct(a),ie=Ct(a,n.draggable),"function"===typeof c){if(c.call(this,t,a,this))return qt({sortable:e,rootEl:l,name:"filter",targetEl:a,toEl:i,fromEl:i}),Gt("filter",e,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=pt(l,n.trim(),i,!1),n)return qt({sortable:e,rootEl:n,name:"filter",targetEl:a,fromEl:i,toEl:i}),Gt("filter",e,{evt:t}),!0})),c))return void(r&&t.cancelable&&t.preventDefault());n.handle&&!pt(l,n.handle,i,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,i){var n,r=this,o=r.el,s=r.options,a=o.ownerDocument;if(i&&!Ht&&i.parentNode===o){var l=xt(i);if(Xt=o,Ht=i,Wt=Ht.parentNode,Yt=Ht.nextSibling,Kt=i,re=s.group,Re.dragged=Ht,se={target:Ht,clientX:(e||t).clientX,clientY:(e||t).clientY},ue=se.clientX-l.left,he=se.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Ht.style["will-change"]="all",n=function(){Gt("delayEnded",r,{evt:t}),Re.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!rt&&r.nativeDraggable&&(Ht.draggable=!0),r._triggerDragStart(t,e),qt({sortable:r,name:"choose",originalEvent:t}),gt(Ht,s.chosenClass,!0))},s.ignore.split(",").forEach((function(t){_t(Ht,t.trim(),Ve)})),ct(a,"dragover",je),ct(a,"mousemove",je),ct(a,"touchmove",je),ct(a,"mouseup",r._onDrop),ct(a,"touchend",r._onDrop),ct(a,"touchcancel",r._onDrop),rt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ht.draggable=!0),Gt("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(nt||it))n();else{if(Re.eventCanceled)return void this._onDrop();ct(a,"mouseup",r._disableDelayedDrag),ct(a,"touchend",r._disableDelayedDrag),ct(a,"touchcancel",r._disableDelayedDrag),ct(a,"mousemove",r._delayedDragTouchMoveHandler),ct(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&ct(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(n,s.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ht&&Ve(Ht),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ut(t,"mouseup",this._disableDelayedDrag),ut(t,"touchend",this._disableDelayedDrag),ut(t,"touchcancel",this._disableDelayedDrag),ut(t,"mousemove",this._delayedDragTouchMoveHandler),ut(t,"touchmove",this._delayedDragTouchMoveHandler),ut(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?ct(document,"pointermove",this._onTouchMove):ct(document,e?"touchmove":"mousemove",this._onTouchMove):(ct(Ht,"dragend",this),ct(Xt,"dragstart",this._onDragStart));try{document.selection?Xe((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(i){}},_dragStarted:function(t,e){if(ye=!1,Xt&&Ht){Gt("dragStarted",this,{evt:e}),this.nativeDraggable&&ct(document,"dragover",Be);var i=this.options;!t&&gt(Ht,i.dragClass,!1),gt(Ht,i.ghostClass,!0),Re.active=this,t&&this._appendGhost(),qt({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ae){this._lastX=ae.clientX,this._lastY=ae.clientY,Le();var t=document.elementFromPoint(ae.clientX,ae.clientY),e=t;while(t&&t.shadowRoot){if(t=t.shadowRoot.elementFromPoint(ae.clientX,ae.clientY),t===e)break;e=t}if(Ht.parentNode[zt]._isOutsideThisEl(t),e)do{if(e[zt]){var i=void 0;if(i=e[zt]._onDragOver({clientX:ae.clientX,clientY:ae.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);ze()}},_onTouchMove:function(t){if(se){var e=this.options,i=e.fallbackTolerance,n=e.fallbackOffset,r=t.touches?t.touches[0]:t,o=Zt&&vt(Zt,!0),s=Zt&&o&&o.a,a=Zt&&o&&o.d,l=Oe&&ge&&Ot(ge),c=(r.clientX-se.clientX+n.x)/(s||1)+(l?l[0]-we[0]:0)/(s||1),u=(r.clientY-se.clientY+n.y)/(a||1)+(l?l[1]-we[1]:0)/(a||1);if(!Re.active&&!ye){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(Zt){o?(o.e+=c-(le||0),o.f+=u-(ce||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");yt(Zt,"webkitTransform",h),yt(Zt,"mozTransform",h),yt(Zt,"msTransform",h),yt(Zt,"transform",h),le=c,ce=u,ae=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Zt){var t=this.options.fallbackOnBody?document.body:Xt,e=xt(Ht,!0,Oe,!0,t),i=this.options;if(Oe){ge=t;while("static"===yt(ge,"position")&&"none"===yt(ge,"transform")&&ge!==document)ge=ge.parentNode;ge!==document.body&&ge!==document.documentElement?(ge===document&&(ge=bt()),e.top+=ge.scrollTop,e.left+=ge.scrollLeft):ge=bt(),we=Ot(ge)}Zt=Ht.cloneNode(!0),gt(Zt,i.ghostClass,!1),gt(Zt,i.fallbackClass,!0),gt(Zt,i.dragClass,!0),yt(Zt,"transition",""),yt(Zt,"transform",""),yt(Zt,"box-sizing","border-box"),yt(Zt,"margin",0),yt(Zt,"top",e.top),yt(Zt,"left",e.left),yt(Zt,"width",e.width),yt(Zt,"height",e.height),yt(Zt,"opacity","0.8"),yt(Zt,"position",Oe?"absolute":"fixed"),yt(Zt,"zIndex","100000"),yt(Zt,"pointerEvents","none"),Re.ghost=Zt,t.appendChild(Zt),yt(Zt,"transform-origin",ue/parseInt(Zt.style.width)*100+"% "+he/parseInt(Zt.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,n=t.dataTransfer,r=i.options;Gt("dragStart",this,{evt:t}),Re.eventCanceled?this._onDrop():(Gt("setupClone",this),Re.eventCanceled||(Jt=Lt(Ht),Jt.draggable=!1,Jt.style["will-change"]="",this._hideClone(),gt(Jt,this.options.chosenClass,!1),Re.clone=Jt),i.cloneId=Xe((function(){Gt("clone",i),Re.eventCanceled||(i.options.removeCloneOnHide||Xt.insertBefore(Jt,Ht),i._hideClone(),qt({sortable:i,name:"clone"}))})),!e&&gt(Ht,r.dragClass,!0),e?(ve=!0,i._loopId=setInterval(i._emulateDragOver,50)):(ut(document,"mouseup",i._onDrop),ut(document,"touchend",i._onDrop),ut(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(i,n,Ht)),ct(document,"drop",i),yt(Ht,"transform","translateZ(0)")),ye=!0,i._dragStartId=Xe(i._dragStarted.bind(i,e,t)),ct(document,"selectstart",i),de=!0,ot&&yt(document.body,"user-select","none"))},_onDragOver:function(t){var e,i,n,r,o=this.el,s=t.target,a=this.options,l=a.group,c=Re.active,u=re===l,h=a.sort,d=oe||c,p=this,f=!1;if(!Se){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=pt(s,a.draggable,o,!0),I("dragOver"),Re.eventCanceled)return f;if(Ht.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return M(!1);if(ve=!1,c&&!a.disabled&&(u?h||(n=Wt!==Xt):oe===this||(this.lastPutMode=re.checkPull(this,c,Ht,t))&&l.checkPut(this,c,Ht,t))){if(r="vertical"===this._getDirection(t,s),e=xt(Ht),I("dragOverValid"),Re.eventCanceled)return f;if(n)return Wt=Xt,E(),this._hideClone(),I("revert"),Re.eventCanceled||(Yt?Xt.insertBefore(Ht,Yt):Xt.appendChild(Ht)),M(!0);var m=Tt(o,a.draggable);if(!m||Ge(t,r,this)&&!m.animated){if(m===Ht)return M(!1);if(m&&o===t.target&&(s=m),s&&(i=xt(s)),!1!==Ne(Xt,o,Ht,e,s,i,t,!!s))return E(),o.appendChild(Ht),Wt=o,D(),M(!0)}else if(m&&Ue(t,r,this)){var g=St(o,0,a,!0);if(g===Ht)return M(!1);if(s=g,i=xt(s),!1!==Ne(Xt,o,Ht,e,s,i,t,!1))return E(),o.insertBefore(Ht,g),Wt=o,D(),M(!0)}else if(s.parentNode===o){i=xt(s);var y,v,_=0,b=Ht.parentNode!==o,x=!Me(Ht.animated&&Ht.toRect||e,s.animated&&s.toRect||i,r),w=r?"top":"left",S=wt(s,"top","top")||wt(Ht,"top","top"),T=S?S.scrollTop:void 0;if(pe!==s&&(y=i[w],be=!1,xe=!x&&a.invertSwap||b),_=qe(t,s,i,r,x?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,xe,pe===s),0!==_){var C=Ct(Ht);do{C-=_,v=Wt.children[C]}while(v&&("none"===yt(v,"display")||v===Zt))}if(0===_||v===s)return M(!1);pe=s,fe=_;var O=s.nextElementSibling,k=!1;k=1===_;var A=Ne(Xt,o,Ht,e,s,i,t,k);if(!1!==A)return 1!==A&&-1!==A||(k=1===A),Se=!0,setTimeout($e,30),E(),k&&!O?o.appendChild(Ht):s.parentNode.insertBefore(Ht,k?O:s),S&&Pt(S,0,T-S.scrollTop),Wt=Ht.parentNode,void 0===y||xe||(me=Math.abs(y-xt(s)[w])),D(),M(!0)}if(o.contains(Ht))return M(!1)}return!1}function I(a,l){Gt(a,p,Z({evt:t,isOwner:u,axis:r?"vertical":"horizontal",revert:n,dragRect:e,targetRect:i,canSort:h,fromSortable:d,target:s,completed:M,onMove:function(i,n){return Ne(Xt,o,Ht,e,i,xt(i),t,n)},changed:D},l))}function E(){I("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function M(e){return I("dragOverCompleted",{insertion:e}),e&&(u?c._hideClone():c._showClone(p),p!==d&&(gt(Ht,oe?oe.options.ghostClass:c.options.ghostClass,!1),gt(Ht,a.ghostClass,!0)),oe!==p&&p!==Re.active?oe=p:p===Re.active&&oe&&(oe=null),d===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){I("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(s===Ht&&!Ht.animated||s===o&&!s.animated)&&(pe=null),a.dragoverBubble||t.rootEl||s===document||(Ht.parentNode[zt]._isOutsideThisEl(t.target),!e&&je(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),f=!0}function D(){ee=Ct(Ht),ne=Ct(Ht,a.draggable),qt({sortable:p,name:"change",toEl:o,newIndex:ee,newDraggableIndex:ne,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){ut(document,"mousemove",this._onTouchMove),ut(document,"touchmove",this._onTouchMove),ut(document,"pointermove",this._onTouchMove),ut(document,"dragover",je),ut(document,"mousemove",je),ut(document,"touchmove",je)},_offUpEvents:function(){var t=this.el.ownerDocument;ut(t,"mouseup",this._onDrop),ut(t,"touchend",this._onDrop),ut(t,"pointerup",this._onDrop),ut(t,"touchcancel",this._onDrop),ut(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;ee=Ct(Ht),ne=Ct(Ht,i.draggable),Gt("drop",this,{evt:t}),Wt=Ht&&Ht.parentNode,ee=Ct(Ht),ne=Ct(Ht,i.draggable),Re.eventCanceled||(ye=!1,xe=!1,be=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ye(this.cloneId),Ye(this._dragStartId),this.nativeDraggable&&(ut(document,"drop",this),ut(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ot&&yt(document.body,"user-select",""),yt(Ht,"transform",""),t&&(de&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),Zt&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),(Xt===Wt||oe&&"clone"!==oe.lastPutMode)&&Jt&&Jt.parentNode&&Jt.parentNode.removeChild(Jt),Ht&&(this.nativeDraggable&&ut(Ht,"dragend",this),Ve(Ht),Ht.style["will-change"]="",de&&!ye&&gt(Ht,oe?oe.options.ghostClass:this.options.ghostClass,!1),gt(Ht,this.options.chosenClass,!1),qt({sortable:this,name:"unchoose",toEl:Wt,newIndex:null,newDraggableIndex:null,originalEvent:t}),Xt!==Wt?(ee>=0&&(qt({rootEl:Wt,name:"add",toEl:Wt,fromEl:Xt,originalEvent:t}),qt({sortable:this,name:"remove",toEl:Wt,originalEvent:t}),qt({rootEl:Wt,name:"sort",toEl:Wt,fromEl:Xt,originalEvent:t}),qt({sortable:this,name:"sort",toEl:Wt,originalEvent:t})),oe&&oe.save()):ee!==te&&ee>=0&&(qt({sortable:this,name:"update",toEl:Wt,originalEvent:t}),qt({sortable:this,name:"sort",toEl:Wt,originalEvent:t})),Re.active&&(null!=ee&&-1!==ee||(ee=te,ne=ie),qt({sortable:this,name:"end",toEl:Wt,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){Gt("nulling",this),Xt=Ht=Wt=Zt=Yt=Jt=Kt=Qt=se=ae=de=ee=ne=te=ie=pe=fe=oe=re=Re.dragged=Re.ghost=Re.clone=Re.active=null,Te.forEach((function(t){t.checked=!0})),Te.length=le=ce=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Ht&&(this._onDragOver(t),Fe(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t,e=[],i=this.el.children,n=0,r=i.length,o=this.options;n<r;n++)t=i[n],pt(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||We(t));return e},sort:function(t,e){var i={},n=this.el;this.toArray().forEach((function(t,e){var r=n.children[e];pt(r,this.options.draggable,n,!1)&&(i[t]=r)}),this),e&&this.captureAnimationState(),t.forEach((function(t){i[t]&&(n.removeChild(i[t]),n.appendChild(i[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return pt(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];var n=Vt.modifyOption(this,t,e);i[t]="undefined"!==typeof n?n:e,"group"===t&&Pe(i)},destroy:function(){Gt("destroy",this);var t=this.el;t[zt]=null,ut(t,"mousedown",this._onTapStart),ut(t,"touchstart",this._onTapStart),ut(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ut(t,"dragover",this),ut(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),_e.splice(_e.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Qt){if(Gt("hideClone",this),Re.eventCanceled)return;yt(Jt,"display","none"),this.options.removeCloneOnHide&&Jt.parentNode&&Jt.parentNode.removeChild(Jt),Qt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(Qt){if(Gt("showClone",this),Re.eventCanceled)return;Ht.parentNode!=Xt||this.options.group.revertClone?Yt?Xt.insertBefore(Jt,Yt):Xt.appendChild(Jt):Xt.insertBefore(Jt,Ht),this.options.group.revertClone&&this.animate(Ht,Jt),yt(Jt,"display",""),Qt=!1}}else this._hideClone()}},Ce&&ct(document,"touchmove",(function(t){(Re.active||ye)&&t.cancelable&&t.preventDefault()})),Re.utils={on:ct,off:ut,css:yt,find:_t,is:function(t,e){return!!pt(t,e,t,!1)},extend:It,throttle:Mt,closest:pt,toggleClass:gt,clone:Lt,index:Ct,nextTick:Xe,cancelNextTick:Ye,detectDirection:Ee,getChild:St},Re.get=function(t){return t[zt]},Re.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Re.utils=Z(Z({},Re.utils),t.utils)),Vt.mount(t)}))},Re.create=function(t,e){return new Re(t,e)},Re.version=tt;var Ke,Je,Qe,ti,ei,ii,ni=[],ri=!1;function oi(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?ct(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ct(document,"pointermove",this._handleFallbackAutoScroll):e.touches?ct(document,"touchmove",this._handleFallbackAutoScroll):ct(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?ut(document,"dragover",this._handleAutoScroll):(ut(document,"pointermove",this._handleFallbackAutoScroll),ut(document,"touchmove",this._handleFallbackAutoScroll),ut(document,"mousemove",this._handleFallbackAutoScroll)),ai(),si(),Dt()},nulling:function(){ei=Je=Ke=ri=ii=Qe=ti=null,ni.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var i=this,n=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(n,r);if(ei=t,e||this.options.forceAutoScrollFallback||nt||it||ot){li(t,this.options,o,e);var s=At(o,!0);!ri||ii&&n===Qe&&r===ti||(ii&&ai(),ii=setInterval((function(){var o=At(document.elementFromPoint(n,r),!0);o!==s&&(s=o,si()),li(t,i.options,o,e)}),10),Qe=n,ti=r)}else{if(!this.options.bubbleScroll||At(o,!0)===bt())return void si();li(t,this.options,At(o,!1),!1)}}},K(t,{pluginName:"scroll",initializeByDefault:!0})}function si(){ni.forEach((function(t){clearInterval(t.pid)})),ni=[]}function ai(){clearInterval(ii)}var li=Mt((function(t,e,i,n){if(e.scroll){var r,o=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,c=bt(),u=!1;Je!==i&&(Je=i,si(),Ke=e.scroll,r=e.scrollFn,!0===Ke&&(Ke=At(i,!0)));var h=0,d=Ke;do{var p=d,f=xt(p),m=f.top,g=f.bottom,y=f.left,v=f.right,_=f.width,b=f.height,x=void 0,w=void 0,S=p.scrollWidth,T=p.scrollHeight,C=yt(p),O=p.scrollLeft,k=p.scrollTop;p===c?(x=_<S&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),w=b<T&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(x=_<S&&("auto"===C.overflowX||"scroll"===C.overflowX),w=b<T&&("auto"===C.overflowY||"scroll"===C.overflowY));var A=x&&(Math.abs(v-o)<=a&&O+_<S)-(Math.abs(y-o)<=a&&!!O),I=w&&(Math.abs(g-s)<=a&&k+b<T)-(Math.abs(m-s)<=a&&!!k);if(!ni[h])for(var E=0;E<=h;E++)ni[E]||(ni[E]={});ni[h].vx==A&&ni[h].vy==I&&ni[h].el===p||(ni[h].el=p,ni[h].vx=A,ni[h].vy=I,clearInterval(ni[h].pid),0==A&&0==I||(u=!0,ni[h].pid=setInterval(function(){n&&0===this.layer&&Re.active._onTouchMove(ei);var e=ni[this.layer].vy?ni[this.layer].vy*l:0,i=ni[this.layer].vx?ni[this.layer].vx*l:0;"function"===typeof r&&"continue"!==r.call(Re.dragged.parentNode[zt],i,e,t,ei,ni[this.layer].el)||Pt(ni[this.layer].el,i,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&d!==c&&(d=At(d,!1)));ri=u}}),30),ci=function(t){var e=t.originalEvent,i=t.putSortable,n=t.dragEl,r=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var l=i||r;s();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function ui(){}function hi(){}ui.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=St(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:ci},K(ui,{pluginName:"revertOnSpill"}),hi.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable,n=i||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:ci},K(hi,{pluginName:"removeOnSpill"});Re.mount(new oi),Re.mount(hi,ui);function di(t,e,i){if(i>t.length)throw new RangeError(`newIndex (${i}) lies outside of array length (${t.length})`);const n=t[e];if(void 0===n)throw new ReferenceError("No item defined on provided oldIndex");const r=t.slice(0,e),o=t.slice(e+1),s=[...r,...o];return s.splice(i,0,n),s}function pi(t,e,i){function n(n){const r=n.id,[o,...s]=t;return r===o&&(0===s.length?n.children=di(n.children,e,i):n.children=n.children.map(pi(s,e,i))),n}return n}function fi(t,e,i,n){const r=JSON.parse(JSON.stringify(t));return 0===e.length?di(r,i,n):r.map(pi(e,i,n))}function mi(t,e,i){const n=".v-treeview",r=".v-treeview-node__children",o="data-parent-ids",s=".sortable-handle",a=[],l=Object(I["i"])(!1);let c=[];const u={animation:150,onUpdate:d};function h(t){a.push(t)}function d(e){const{oldDraggableIndex:i,newDraggableIndex:n,item:r}=e,l=r.querySelector(s);let c=l.getAttribute(o);c=""===c?[]:c.split(",");const u=fi(t.value,c,i,n);a.forEach(t=>t(u))}return Object(I["n"])([i,l],async([t,i])=>{if(t===[]||!1===i)return;await Object(I["f"])(),c.forEach(t=>t.destroy()),c=[];const o=e.value.querySelector(n),s=e.value.querySelectorAll(r),a=[o,...s];a.forEach(t=>{t&&c.push(new Re(t,u))})}),Object(I["g"])(async()=>{l.value=!0}),{onSortingChange:h}}var gi=function(t){return delete t.index,t},yi={props:{layers:Array},setup:function(t,e){var i=Object(I["i"])(null),n=Object(I["i"])([]),r=Object(I["l"])(t),o=r.layers,s=Object(I["a"])((function(){return V(o.value)})),a=Object(I["a"])((function(){return s.value.length>0})),l=H(),c=l.setSelectedIds,u=l.selectedIds,h=U(u),d=h.activeLegend,p=h.setActiveLegend,f=mi(o,i,n),m=f.onSortingChange,g=Object(I["a"])((function(){var t=L(o.value);return u.value.map((function(e){return R(t,"id",e)})).sort((function(t,e){return e.index-t.index})).map(gi)}));return m((function(t){return e.emit("layer-sorting-change",t)})),Object(I["n"])(d,(function(t){return e.emit("legend-change",t)})),Object(I["n"])(g,(function(t){return e.emit("active-layers-change",t)})),{root:i,openItems:n,layersAreProvided:a,activeLegend:d,setActiveLegend:p,setSelectedIds:c,layersWithParents:s}}},vi=yi,_i=(i("5fa6"),i("8336")),bi=i("132d"),xi=(i("fa9e"),i("0789")),wi=i("3206"),Si=i("a9ad"),Ti=i("58df"),Ci=i("80d2");const Oi=Object(Ti["a"])(Si["a"],Object(wi["a"])("treeview")),ki={activatable:Boolean,activeClass:{type:String,default:"v-treeview-node--active"},color:{type:String,default:"primary"},expandIcon:{type:String,default:"$subgroup"},indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},itemChildren:{type:String,default:"children"},itemDisabled:{type:String,default:"disabled"},itemKey:{type:String,default:"id"},itemText:{type:String,default:"name"},loadChildren:Function,loadingIcon:{type:String,default:"$loading"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"},openOnClick:Boolean,rounded:Boolean,selectable:Boolean,selectedColor:{type:String,default:"accent"},shaped:Boolean,transition:Boolean,selectionType:{type:String,default:"leaf",validator:t=>["leaf","independent"].includes(t)}},Ai=Oi.extend().extend({name:"v-treeview-node",inject:{treeview:{default:null}},props:{level:Number,item:{type:Object,default:()=>null},parentIsDisabled:Boolean,...ki},data:()=>({hasLoaded:!1,isActive:!1,isIndeterminate:!1,isLoading:!1,isOpen:!1,isSelected:!1}),computed:{disabled(){return Object(Ci["n"])(this.item,this.itemDisabled)||this.parentIsDisabled&&"leaf"===this.selectionType},key(){return Object(Ci["n"])(this.item,this.itemKey)},children(){const t=Object(Ci["n"])(this.item,this.itemChildren);return t&&t.filter(t=>!this.treeview.isExcluded(Object(Ci["n"])(t,this.itemKey)))},text(){return Object(Ci["n"])(this.item,this.itemText)},scopedProps(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren(){return!!this.children&&(!!this.children.length||!!this.loadChildren)}},created(){this.treeview.register(this)},beforeDestroy(){this.treeview.unregister(this)},methods:{checkChildren(){return new Promise(t=>{if(!this.children||this.children.length||!this.loadChildren||this.hasLoaded)return t();this.isLoading=!0,t(this.loadChildren(this.item))}).then(()=>{this.isLoading=!1,this.hasLoaded=!0})},open(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel(){const t=[];return this.$scopedSlots.label?t.push(this.$scopedSlots.label(this.scopedProps)):t.push(this.text),this.$createElement("div",{slot:"label",staticClass:"v-treeview-node__label"},t)},genPrependSlot(){return this.$scopedSlots.prepend?this.$createElement("div",{staticClass:"v-treeview-node__prepend"},this.$scopedSlots.prepend(this.scopedProps)):null},genAppendSlot(){return this.$scopedSlots.append?this.$createElement("div",{staticClass:"v-treeview-node__append"},this.$scopedSlots.append(this.scopedProps)):null},genContent(){const t=[this.genPrependSlot(),this.genLabel(),this.genAppendSlot()];return this.$createElement("div",{staticClass:"v-treeview-node__content"},t)},genToggle(){return this.$createElement(bi["a"],{staticClass:"v-treeview-node__toggle",class:{"v-treeview-node__toggle--open":this.isOpen,"v-treeview-node__toggle--loading":this.isLoading},slot:"prepend",on:{click:t=>{t.stopPropagation(),this.isLoading||this.checkChildren().then(()=>this.open())}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox(){return this.$createElement(bi["a"],{staticClass:"v-treeview-node__checkbox",props:{color:this.isSelected||this.isIndeterminate?this.selectedColor:void 0,disabled:this.disabled},on:{click:t=>{t.stopPropagation(),this.isLoading||this.checkChildren().then(()=>{this.$nextTick(()=>{this.isSelected=!this.isSelected,this.isIndeterminate=!1,this.treeview.updateSelected(this.key,this.isSelected),this.treeview.emitSelected()})})}}},[this.computedIcon])},genLevel(t){return Object(Ci["h"])(t).map(()=>this.$createElement("div",{staticClass:"v-treeview-node__level"}))},genNode(){const t=[this.genContent()];return this.selectable&&t.unshift(this.genCheckbox()),this.hasChildren?t.unshift(this.genToggle()):t.unshift(...this.genLevel(1)),t.unshift(...this.genLevel(this.level)),this.$createElement("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-treeview-node__root",class:{[this.activeClass]:this.isActive},on:{click:()=>{this.openOnClick&&this.hasChildren?this.checkChildren().then(this.open):this.activatable&&!this.disabled&&(this.isActive=!this.isActive,this.treeview.updateActive(this.key,this.isActive),this.treeview.emitActive())}}}),t)},genChild(t,e){return this.$createElement(Ai,{key:Object(Ci["n"])(t,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:t,selectable:this.selectable,selectedColor:this.selectedColor,color:this.color,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemDisabled:this.itemDisabled,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick,rounded:this.rounded,shaped:this.shaped,level:this.level+1,selectionType:this.selectionType,parentIsDisabled:e},scopedSlots:this.$scopedSlots})},genChildrenWrapper(){if(!this.isOpen||!this.children)return null;const t=[this.children.map(t=>this.genChild(t,this.disabled))];return this.$createElement("div",{staticClass:"v-treeview-node__children"},t)},genTransition(){return this.$createElement(xi["a"],[this.genChildrenWrapper()])}},render(t){const e=[this.genNode()];return this.transition?e.push(this.genTransition()):e.push(this.genChildrenWrapper()),t("div",{staticClass:"v-treeview-node",class:{"v-treeview-node--leaf":!this.hasChildren,"v-treeview-node--click":this.openOnClick,"v-treeview-node--disabled":this.disabled,"v-treeview-node--rounded":this.rounded,"v-treeview-node--shaped":this.shaped,"v-treeview-node--selected":this.isSelected},attrs:{"aria-expanded":String(this.isOpen)}},e)}});var Ii=Ai,Ei=i("7560"),Mi=i("d9bd");function Di(t,e,i){const n=Object(Ci["n"])(t,i);return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}function Pi(t,e,i,n,r,o,s){if(t(e,i,r))return!0;const a=Object(Ci["n"])(e,o);if(a){let e=!1;for(let l=0;l<a.length;l++)Pi(t,a[l],i,n,r,o,s)&&(e=!0);if(e)return!0}return s.add(Object(Ci["n"])(e,n)),!1}var Li=Object(Ti["a"])(Object(wi["b"])("treeview"),Ei["a"]).extend({name:"v-treeview",provide(){return{treeview:this}},props:{active:{type:Array,default:()=>[]},dense:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:()=>[]},multipleActive:Boolean,open:{type:Array,default:()=>[]},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,value:{type:Array,default:()=>[]},...ki},data:()=>({level:-1,activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}),computed:{excludedItems(){const t=new Set;if(!this.search)return t;for(let e=0;e<this.items.length;e++)Pi(this.filter||Di,this.items[e],this.search,this.itemKey,this.itemText,this.itemChildren,t);return t}},watch:{items:{handler(){const t=Object.keys(this.nodes).map(t=>Object(Ci["n"])(this.nodes[t].item,this.itemKey)),e=this.getKeys(this.items),i=Object(Ci["c"])(e,t);if(!i.length&&e.length<t.length)return;i.forEach(t=>delete this.nodes[t]);const n=[...this.selectedCache];this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),Object(Ci["j"])(n,[...this.selectedCache])||this.emitSelected()},deep:!0},active(t){this.handleNodeCacheWatcher(t,this.activeCache,this.updateActive,this.emitActive)},value(t){this.handleNodeCacheWatcher(t,this.selectedCache,this.updateSelected,this.emitSelected)},open(t){this.handleNodeCacheWatcher(t,this.openCache,this.updateOpen,this.emitOpen)}},created(){const t=t=>this.returnObject?Object(Ci["n"])(t,this.itemKey):t;this.buildTree(this.items);for(const e of this.value.map(t))this.updateSelected(e,!0,!0);for(const e of this.active.map(t))this.updateActive(e,!0)},mounted(){(this.$slots.prepend||this.$slots.append)&&Object(Mi["c"])("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach(t=>this.updateOpen(this.returnObject?Object(Ci["n"])(t,this.itemKey):t,!0)),this.emitOpen())},methods:{updateAll(t){Object.keys(this.nodes).forEach(e=>this.updateOpen(Object(Ci["n"])(this.nodes[e].item,this.itemKey),t)),this.emitOpen()},getKeys(t,e=[]){for(let i=0;i<t.length;i++){const n=Object(Ci["n"])(t[i],this.itemKey);e.push(n);const r=Object(Ci["n"])(t[i],this.itemChildren);r&&e.push(...this.getKeys(r))}return e},buildTree(t,e=null){for(let n=0;n<t.length;n++){var i;const r=t[n],o=Object(Ci["n"])(r,this.itemKey),s=null!=(i=Object(Ci["n"])(r,this.itemChildren))?i:[],a=this.nodes.hasOwnProperty(o)?this.nodes[o]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},l={vnode:a.vnode,parent:e,children:s.map(t=>Object(Ci["n"])(t,this.itemKey)),item:r};if(this.buildTree(s,o),!this.nodes.hasOwnProperty(o)&&null!==e&&this.nodes.hasOwnProperty(e)?l.isSelected=this.nodes[e].isSelected:(l.isSelected=a.isSelected,l.isIndeterminate=a.isIndeterminate),l.isActive=a.isActive,l.isOpen=a.isOpen,this.nodes[o]=l,s.length){const{isSelected:t,isIndeterminate:e}=this.calculateState(o,this.nodes);l.isSelected=t,l.isIndeterminate=e}!this.nodes[o].isSelected||"independent"!==this.selectionType&&0!==l.children.length||this.selectedCache.add(o),this.nodes[o].isActive&&this.activeCache.add(o),this.nodes[o].isOpen&&this.openCache.add(o),this.updateVnodeState(o)}},calculateState(t,e){const i=e[t].children,n=i.reduce((t,i)=>(t[0]+=+Boolean(e[i].isSelected),t[1]+=+Boolean(e[i].isIndeterminate),t),[0,0]),r=!!i.length&&n[0]===i.length,o=!r&&(n[0]>0||n[1]>0);return{isSelected:r,isIndeterminate:o}},emitOpen(){this.emitNodeCache("update:open",this.openCache)},emitSelected(){this.emitNodeCache("input",this.selectedCache)},emitActive(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache(t,e){this.$emit(t,this.returnObject?[...e].map(t=>this.nodes[t].item):[...e])},handleNodeCacheWatcher(t,e,i,n){t=this.returnObject?t.map(t=>Object(Ci["n"])(t,this.itemKey)):t;const r=[...e];Object(Ci["j"])(r,t)||(r.forEach(t=>i(t,!1)),t.forEach(t=>i(t,!0)),n())},getDescendants(t,e=[]){const i=this.nodes[t].children;e.push(...i);for(let n=0;n<i.length;n++)e=this.getDescendants(i[n],e);return e},getParents(t){let e=this.nodes[t].parent;const i=[];while(null!==e)i.push(e),e=this.nodes[e].parent;return i},register(t){const e=Object(Ci["n"])(t.item,this.itemKey);this.nodes[e].vnode=t,this.updateVnodeState(e)},unregister(t){const e=Object(Ci["n"])(t.item,this.itemKey);this.nodes[e]&&(this.nodes[e].vnode=null)},isParent(t){return this.nodes[t].children&&this.nodes[t].children.length},updateActive(t,e){if(!this.nodes.hasOwnProperty(t))return;this.multipleActive||this.activeCache.forEach(t=>{this.nodes[t].isActive=!1,this.updateVnodeState(t),this.activeCache.delete(t)});const i=this.nodes[t];i&&(e?this.activeCache.add(t):this.activeCache.delete(t),i.isActive=e,this.updateVnodeState(t))},updateSelected(t,e,i=!1){if(!this.nodes.hasOwnProperty(t))return;const n=new Map;if("independent"!==this.selectionType){for(const o of this.getDescendants(t))Object(Ci["n"])(this.nodes[o].item,this.itemDisabled)&&!i||(this.nodes[o].isSelected=e,this.nodes[o].isIndeterminate=!1,n.set(o,e));const r=this.calculateState(t,this.nodes);this.nodes[t].isSelected=e,this.nodes[t].isIndeterminate=r.isIndeterminate,n.set(t,e);for(const e of this.getParents(t)){const t=this.calculateState(e,this.nodes);this.nodes[e].isSelected=t.isSelected,this.nodes[e].isIndeterminate=t.isIndeterminate,n.set(e,t.isSelected)}}else this.nodes[t].isSelected=e,this.nodes[t].isIndeterminate=!1,n.set(t,e);for(const[r,o]of n.entries())this.updateVnodeState(r),"leaf"===this.selectionType&&this.isParent(r)||(!0===o?this.selectedCache.add(r):this.selectedCache.delete(r))},updateOpen(t,e){if(!this.nodes.hasOwnProperty(t))return;const i=this.nodes[t],n=Object(Ci["n"])(i.item,this.itemChildren);n&&!n.length&&i.vnode&&!i.vnode.hasLoaded?i.vnode.checkChildren().then(()=>this.updateOpen(t,e)):n&&n.length&&(i.isOpen=e,i.isOpen?this.openCache.add(t):this.openCache.delete(t),this.updateVnodeState(t))},updateVnodeState(t){const e=this.nodes[t];e&&e.vnode&&(e.vnode.isSelected=e.isSelected,e.vnode.isIndeterminate=e.isIndeterminate,e.vnode.isActive=e.isActive,e.vnode.isOpen=e.isOpen)},isExcluded(t){return!!this.search&&this.excludedItems.has(t)}},render(t){const e=this.items.length?this.items.filter(t=>!this.isExcluded(Object(Ci["n"])(t,this.itemKey))).map(t=>{const e=Ii.options.methods.genChild.bind(this);return e(t,Object(Ci["n"])(t,this.itemDisabled))}):this.$slots.default;return t("div",{staticClass:"v-treeview",class:{"v-treeview--hoverable":this.hoverable,"v-treeview--dense":this.dense,...this.themeClasses}},e)}}),zi=Object(a["a"])(vi,k,A,!1,null,null,null);zi.exports;c()(zi,{VBtn:_i["a"],VIcon:bi["a"],VTreeview:Li});var ji=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mapbox-map"},[i("v-mapbox",{staticClass:"mapbox-map__map",attrs:{accessToken:t.accessToken,mapStyle:t.mapboxStyle,center:t.center,zoom:t.zoom}},[t._t("default")],2)],1)},Bi=[],Ri=(i("a9e3"),i("2b0e")),Fi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("layers"),t._t("sources"),t._t("default")],2)},Ni=[],Vi=(i("159b"),i("e192")),$i=i.n(Vi);function Ui(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Gi(t,e,i){let n=Object.keys(i);n.forEach((i,n)=>{"mapStyle"===i&&(i="style");let r="set"+Ui(i),o=i;"style"===i&&(o="mapStyle"),t.$watch(o,(n,o)=>{e[r](n),t.$emit(i+":update",n)})})}function qi(t,e){let i=Object.entries(t),n={};i.forEach(([t,e])=>{void 0!==e&&null!==e&&null!==e.default&&void 0!==e.default&&(n[t]=e.default)});let r=Object.entries(e||{});r.forEach(([t,e])=>{null!==e&&void 0!==e&&(n[t]=e)});let o=n.mapStyle;return o&&(delete n.mapStyle,n.style=o),n}function Hi(t,e,i){for(var n=0;n<i.length;n++){const r="mb-"+i[n],o=i[n];e.on(o,e=>{t.$emit(r,e)})}}var Wi=["load","zoomstart","zoomend","zoom","styledata"],Zi={accessToken:{type:String,required:!0},container:{type:[HTMLElement,String]},minZoom:{type:Number},maxZoom:{type:Number},mapStyle:{type:[Object,String]},antialias:{type:Boolean,default:!0},preserveDrawingBuffer:{type:Boolean,default:!1},center:{type:[Object,Array]},zoom:{type:Number},bearing:{type:Number},pitch:{type:Number}},Xi={name:"v-mapbox",data:function(){return{map:null}},props:Zi,provide:function(){var t=this;return{getMap:function(){return t.map}}},methods:{addLayers:function(){var t=this;this.$children.forEach((function(e){e.deferredMountedTo(t.map)}))},resize:function(){this.map&&this.map.resize()}},mounted:function(){var t=this;$i.a.accessToken=this.accessToken;var e=qi(Zi,this.$props);e.container=this.$el,this.map=new $i.a.Map(e),Gi(this,this.map,e),this.$emit("mb-created",this.map),Hi(this,this.map,Wi),this.$on("mb-load",(function(){t.addLayers()})),this.$on("style:update",(function(){t.$once("mb-styledata",(function(){t.addLayers()}))}));var i=new ResizeObserver(this.resize);i.observe(this.$el),this.resizeObserver=i}},Yi=Xi,Ki=Object(a["a"])(Yi,Fi,Ni,!1,null,null,null),Ji=Ki.exports;function Qi(t){return null==t}var tn={name:"v-mapbox-layer",inject:["getMap"],render:()=>null,props:{options:{type:Object,default:()=>({})},before:{type:String,default:void 0},clickable:{type:Boolean,default:!1},opacity:{type:Number,required:!1,validator:t=>t>=0&&t<=1}},data:()=>({isInitialized:!1}),methods:{deferredMountedTo(){this.isInitialized||(this.renderLayer(),this.isInitialized=!0)},renderLayer(){this.removeLayer(),this.addLayer()},addLayer(){const t=this.getMap();if(t.addLayer(this.options,this.before),this.clickable){const e=this.options.id;t.on("click",e,this.clickFn),t.on("mouseenter",e,this.mouseEnterFn),t.on("mouseleave",e,this.mouseLeaveFn)}Qi(this.opacity)||this.setOpacity()},removeLayer(){const t=this.getMap();if(t){const e=this.options.id,i=t.getLayer(e);if(i){const n=i.source;t.removeLayer(e),n&&!t.getStyle().layers.some(({source:t})=>t===n)&&t.removeSource(n),this.clickable&&(t.off("click",e,this.clickFn),t.off("mouseenter",e,this.mouseEnterFn),t.off("mouseleave",e,this.mouseLeaveFn))}}},clickFn(t){this.$emit("click",t)},mouseEnterFn(){const t=this.getMap();t.getCanvas().style.cursor="pointer"},mouseLeaveFn(){const t=this.getMap();t.getCanvas().style.cursor=""},setOpacity(){const t=this.getMap(),{id:e,type:i}=this.options;t.setPaintProperty(e,i+"-opacity",this.opacity)}},mounted(){const t=this.getMap();t&&t.isStyleLoaded()&&(this.renderLayer(),this.isInitialized=!0)},destroyed(){this.removeLayer()},watch:{options:{deep:!0,handler(){this.renderLayer()}},opacity(){this.setOpacity()}}},en={name:"v-mapbox-source",render(){},data(){return{}},props:{options:{default:()=>({}),type:Object}},mounted(){},methods:{deferredMountedTo(t){let{id:e,...i}=this.options;t.addSource(e,i)}}},nn={name:"v-mapbox-geolocate-control",render(){},data(){return{control:null}},inject:["getMap"],props:{options:{default:()=>({}),type:Object},position:{type:String,required:!1}},beforeDestroy(){let t=this.getMap();this.control&&t.removeControl(this.control)},mounted(){let t=this.getMap();t&&t.loaded()&&this.addToMap(t)},methods:{deferredMountedTo(t){this.addToMap(t)},addToMap(t){let e={accessToken:$i.a.accessToken};e=Object.assign(e,this.options);let i=new $i.a.GeolocateControl(e);this.position?t.addControl(i,this.position):t.addControl(i),this.control=i}}},rn={name:"v-mapbox-navigation-control",render(){},data(){return{}},props:{options:{default:()=>({}),type:Object},position:{type:String,required:!1}},mounted(){},methods:{deferredMountedTo(t){let e=new $i.a.NavigationControl(this.options);this.position?t.addControl(e,this.position):t.addControl(e)}}},on={name:"v-mapbox-scale-control",render(){},data(){return{}},props:{options:{default:()=>({}),type:Object},position:{type:String,required:!1}},mounted(){},methods:{deferredMountedTo(t){let e=new $i.a.ScaleControl(this.options);this.position?t.addControl(e,this.position):t.addControl(e)}}},sn=i("885b"),an=i.n(sn),ln={name:"v-mapbox-geocoder",render(){},data(){return{}},props:{options:{default:()=>({}),type:Object},position:{type:String,required:!1}},mounted(){},methods:{deferredMountedTo(t){let e={mapboxgl:t,accessToken:$i.a.accessToken};e=Object.assign(e,this.options);let i=new an.a(e);this.position?t.addControl(i,this.position):t.addControl(i)}}};function cn(t,e){t.component("v-mapbox",Ji),t.component("v-mapbox-layer",tn),t.component("v-mapbox-source",en),t.component("v-mapbox-navigation-control",rn),t.component("v-mapbox-geolocate-control",nn),t.component("v-mapbox-scale-control",on),t.component("v-mapbox-geocoder",ln)}var un=cn;i("ac6d");Ri["a"].use(un);var hn=7,dn=52.1326,pn=5.2913,fn=[pn,dn],mn="mapbox://styles/mapbox/light-v9",gn={props:{accessToken:{type:String,required:!0},center:{type:Array,default:function(){return fn}},zoom:{type:Number,default:hn},mapboxStyle:{type:String,default:mn}}},yn=gn,vn=(i("7b38"),Object(a["a"])(yn,ji,Bi,!1,null,null,null)),_n=vn.exports,bn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-mapbox-layer",t._b({ref:"layer",attrs:{options:t.options}},"v-mapbox-layer",t.$attrs,!1))},xn=[],wn=i("72bf"),Sn=function({url:t,service:e,request:i,encode:n=!0,width:r=256,height:o=256,...s}){if(!e||!i)return;const a=Object(wn["stringify"])({service:e,request:i,width:r,height:o,...s},{encode:n,sort:!1});return`${t||Object({NODE_ENV:"production",VUE_APP_API_ENDPOINT:"http://localhost:5000",VUE_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiaW9taWMiLCJhIjoiY2thZ3g5NDJvMGF4eDJzcWI3NnpraTlybCJ9.2NLC1oDwtP6lBWIsAfEu1A",BASE_URL:"/"}).VUE_APP_GEOSERVER_BASE_URL}?${a}`},Tn=function({id:t,layer:e,tiles:i=[],tileSize:n=512,paint:r={},...o}){return{id:t,layer:e,type:"raster",source:{type:"raster",tiles:i,tileSize:n},paint:r,...o}},Cn=({url:t,id:e,layer:i,style:n="",paint:r={}})=>{const o=Sn({url:t,service:"WMS",request:"GetMap",layers:i,style:n,width:256,height:256,srs:"EPSG:3857",transparent:!0,bbox:"{bbox-epsg-3857}",format:"image/png",encode:!1});return Tn({id:e,layer:i,tiles:[o],tileSize:256,paint:r})},On={name:"mapbox-wms-layer",props:{layer:{type:Object,required:!0}},methods:{deferredMountedTo:function(t){this.$refs.layer.deferredMountedTo(t)}},computed:{options:function(){return Cn(this.layer)}}},kn=On,An=Object(a["a"])(kn,bn,xn,!1,null,null,null),In=(An.exports,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",[t._v("I'm the map layer controls component ;)")])}),En=[],Mn={},Dn=Object(a["a"])(Mn,In,En,!1,null,null,null),Pn=(Dn.exports,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{scrollable:"",persistent:"",fullscreen:t.$vuetify.breakpoint.xsOnly,"max-width":640},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("v-card",{staticClass:"d-flex flex-column",staticStyle:{"max-height":"100%",overflow:"hidden"}},[i("v-card-title",{staticClass:"pa-5"},[i("v-toolbar-title",[t._v(t._s(t.title))])],1),i("div",{staticClass:"px-5 flex-grow-1 overflow-y-auto",domProps:{innerHTML:t._s(t.body)}}),i("v-card-actions",[i("div",{staticClass:"pa-2",staticStyle:{width:"100%"}},[i("form",{attrs:{action:"","submit.prevent":""}},t._l(t.checkboxes,(function(e,n){return i("v-checkbox",{key:e,staticClass:"ma-0",attrs:{label:e,"hide-details":""},model:{value:t.accepted[n],callback:function(e){t.$set(t.accepted,n,e)},expression:"accepted[index]"}})})),1),i("div",{staticClass:"mt-2 d-flex"},[i("v-spacer"),i("v-btn",{attrs:{color:"primary",disabled:!t.allAccepted},on:{click:t.onAcceptClick}},[t._v(" "+t._s(t.buttonText)+" ")])],1)])])],1)],1)}),Ln=[],zn=(i("caad"),i("a15b"),"__legal_accepted"),jn=["session","local","none"],Bn={props:{title:{type:String,required:!0},body:{type:String,required:!0},checkboxes:{type:Array,required:!0},buttonText:{type:String,required:!0},storage:{type:String,default:"session",validator:function(t){var e=jn.includes(t);return e||console.warn("LegalDialog: 'mode' should be one of the following values: ".concat(jn.join(", "))),e}}},data:function(){return{show:!1,accepted:[]}},computed:{allAccepted:function(){return this.accepted.every((function(t){return t}))},storageMethod:function(){return"none"!==this.storage&&(jn.includes(this.storage)?"".concat(this.storage,"Storage"):null)}},mounted:function(){this.accepted=this.checkboxes.map((function(){return!1})),this.storageMethod?this.show=!JSON.parse(window[this.storageMethod].getItem(zn)):this.show=!0},methods:{onAcceptClick:function(){this.show=!1,this.$emit("accepted"),this.storageMethod&&window[this.storageMethod].setItem(zn,!0)}}},Rn=Bn,Fn=i("b0af"),Nn=i("99d9"),Vn=(i("6ca7"),i("ec29"),i("9d26")),$n=i("c37a"),Un=i("fe09"),Gn=Un["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...$n["a"].options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick(()=>this.inputIndeterminate=t)},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(Vn["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...e,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}}),qn=i("169a"),Hn=Object(a["a"])(Rn,Pn,Ln,!1,null,null,null);Hn.exports;c()(Hn,{VBtn:_i["a"],VCard:Fn["a"],VCardActions:Nn["a"],VCardTitle:Nn["c"],VCheckbox:Gn,VDialog:qn["a"],VSpacer:h["a"],VToolbarTitle:d["a"]})},"825a":function(t,e,i){var n=i("861d");t.exports=function(t){if(n(t))return t;throw TypeError(String(t)+" is not an object")}},8336:function(t,e,i){"use strict";i("86cc");var n=i("10d2"),r=(i("8d4f"),i("90a2")),o=i("a9ad"),s=i("80d2"),a=o["a"].extend({name:"v-progress-circular",directives:{intersect:r["a"]},props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:()=>({radius:20,isVisible:!0}),computed:{calculatedSize(){return Number(this.size)+(this.button?8:0)},circumference(){return 2*Math.PI*this.radius},classes(){return{"v-progress-circular--visible":this.isVisible,"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles(){return{height:Object(s["g"])(this.calculatedSize),width:Object(s["g"])(this.calculatedSize)}},svgStyles(){return{transform:`rotate(${Number(this.rotate)}deg)`}},viewBoxSize(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle(t,e){return this.$createElement("circle",{class:"v-progress-circular__"+t,attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":e}})},genSvg(){const t=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:`${this.viewBoxSize} ${this.viewBoxSize} ${2*this.viewBoxSize} ${2*this.viewBoxSize}`}},t)},genInfo(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)},onObserve(t,e,i){this.isVisible=i}},render(t){return t("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}}),l=a,c=i("4e82"),u=i("f2e7"),h=i("c995"),d=i("fe6c"),p=i("1c87"),f=i("af2b"),m=i("58df"),g=i("d9bd");const y=Object(m["a"])(n["a"],p["a"],d["a"],f["a"],Object(c["a"])("btnToggle"),Object(u["b"])("inputValue"));e["a"]=y.extend().extend({name:"v-btn",props:{activeClass:{type:String,default(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,plain:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,tile:Boolean,type:{type:String,default:"button"},value:null},data:()=>({proxyClass:"v-btn--active"}),computed:{classes(){return{"v-btn":!0,...p["a"].options.computed.classes.call(this),"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--disabled":this.disabled,"v-btn--is-elevated":this.isElevated,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--has-bg":this.hasBg,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--plain":this.plain,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top,...this.themeClasses,...this.groupClasses,...this.elevationClasses,...this.sizeableClasses}},computedElevation(){if(!this.disabled)return h["a"].options.computed.computedElevation.call(this)},computedRipple(){var t;const e=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!=(t=this.ripple)?t:e)},hasBg(){return!this.text&&!this.plain&&!this.outlined&&!this.icon},isElevated(){return Boolean(!this.icon&&!this.text&&!this.outlined&&!this.depressed&&!this.disabled&&!this.plain&&(null==this.elevation||Number(this.elevation)>0))},isRound(){return Boolean(this.icon||this.fab)},styles(){return{...this.measurableStyles}}},created(){const t=[["flat","text"],["outline","outlined"],["round","rounded"]];t.forEach(([t,e])=>{this.$attrs.hasOwnProperty(t)&&Object(g["a"])(t,e,this)})},methods:{click(t){!this.retainFocusOnClick&&!this.fab&&t.detail&&this.$el.blur(),this.$emit("click",t),this.btnToggle&&this.toggle()},genContent(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(l,{props:{indeterminate:!0,size:23,width:2}})])}},render(t){const e=[this.genContent(),this.loading&&this.genLoader()],{tag:i,data:n}=this.generateRouteLink(),r=this.hasBg?this.setBackgroundColor:this.setTextColor;return"button"===i&&(n.attrs.type=this.type,n.attrs.disabled=this.disabled),n.attrs.value=["string","number"].includes(typeof this.value)?this.value:JSON.stringify(this.value),t(i,this.disabled?n:r(this.color,n),e)}})},"83ab":function(t,e,i){var n=i("d039");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(t,e,i){"use strict";var n=i("d925"),r=i("e683");t.exports=function(t,e){return t&&!n(e)?r(t,e):e}},8418:function(t,e,i){"use strict";var n=i("a04b"),r=i("9bf2"),o=i("5c6c");t.exports=function(t,e,i){var s=n(e);s in t?r.f(t,s,o(0,i)):t[s]=i}},"848b":function(t,e,i){"use strict";var n=i("4a0c"),r={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){r[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}}));var o={},s=n.version.split(".");function a(t,e){for(var i=e?e.split("."):s,n=t.split("."),r=0;r<3;r++){if(i[r]>n[r])return!0;if(i[r]<n[r])return!1}return!1}function l(t,e,i){if("object"!==typeof t)throw new TypeError("options must be an object");var n=Object.keys(t),r=n.length;while(r-- >0){var o=n[r],s=e[o];if(s){var a=t[o],l=void 0===a||s(a,o,t);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==i)throw Error("Unknown option "+o)}}r.transitional=function(t,e,i){var r=e&&a(e);function s(t,e){return"[Axios v"+n.version+"] Transitional option '"+t+"'"+e+(i?". "+i:"")}return function(i,n,a){if(!1===t)throw new Error(s(n," has been removed in "+e));return r&&!o[n]&&(o[n]=!0,console.warn(s(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,n,a)}},t.exports={isOlderVersion:a,assertOptions:l,validators:r}},"84c9":function(t,e,i){},8547:function(t,e,i){"use strict";var n=i("2b0e"),r=i("80d2");e["a"]=n["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:r["j"]}}})},8582:function(t,e,i){"use strict";var n=i("1687"),r=i("401b"),o=n["c"],s=5e-5;function a(t){return t>s||t<-s}var l=[],c=[],u=n["b"](),h=Math.abs,d=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return a(this.rotation)||a(this.x)||a(this.y)||a(this.scaleX-1)||a(this.scaleY-1)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),i=this.transform;e||t?(i=i||n["b"](),e?this.getLocalTransform(i):o(i),t&&(e?n["e"](i,t,i):n["a"](i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&o(i)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(l);var i=l[0]<0?-1:1,r=l[1]<0?-1:1,o=((l[0]-i)*e+i)/l[0]||0,s=((l[1]-r)*e+r)/l[1]||0;t[0]*=o,t[1]*=o,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||n["b"](),n["d"](this.invTransform,t)},t.prototype.getComputedTransform=function(){var t=this,e=[];while(t)e.push(t),t=t.parent;while(t=e.pop())t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],n=Math.atan2(t[1],t[0]),r=Math.PI/2+n-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(r),e=Math.sqrt(e),this.skewX=r,this.skewY=0,this.rotation=-n,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=i,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(n["e"](c,t.invTransform,e),e=c);var i=this.originX,r=this.originY;(i||r)&&(u[4]=i,u[5]=r,n["e"](c,e,u),c[4]-=i,c[5]-=r,e=c),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&r["b"](i,i,n),i},t.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&r["b"](i,i,n),i},t.prototype.getLineScale=function(){var t=this.transform;return t&&h(t[0]-1)>1e-10&&h(t[3]-1)>1e-10?Math.sqrt(h(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){for(var e=this,i=0;i<p.length;i++){var n=p[i];e[n]=t[n]}},t.getLocalTransform=function(t,e){e=e||[];var i=t.originX||0,r=t.originY||0,o=t.scaleX,s=t.scaleY,a=t.rotation||0,l=t.x,c=t.y,u=t.skewX?Math.tan(t.skewX):0,h=t.skewY?Math.tan(-t.skewY):0;return i||r?(e[4]=-i*o-u*r*s,e[5]=-r*s-h*i*o):e[4]=e[5]=0,e[0]=o,e[3]=s,e[1]=h*o,e[2]=u*s,a&&n["f"](e,e,a),e[4]+=i+l,e[5]+=r+c,e},t.initDefaultProps=function(){var e=t.prototype;e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.originX=0,e.originY=0,e.skewX=0,e.skewY=0,e.rotation=0,e.globalScaleRatio=1}(),t}(),p=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"];e["a"]=d},"861c":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o}));var n=i("e0d3"),r=Object(n["l"])(),o=function(t,e,i,n){if(n){var o=r(n);o.dataIndex=i,o.dataType=e,o.seriesIndex=t,"group"===n.type&&n.traverse((function(n){var o=r(n);o.seriesIndex=t,o.dataIndex=i,o.dataType=e}))}}},"861d":function(t,e,i){var n=i("1626");t.exports=function(t){return"object"===typeof t?null!==t:n(t)}},8654:function(t,e,i){"use strict";i("4ff9");var n=i("c37a"),r=(i("e9b1"),i("7560")),o=i("58df"),s=Object(o["a"])(r["a"]).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render(t,e){const{props:i}=e,n=parseInt(i.max,10),o=parseInt(i.value,10),s=n?`${o} / ${n}`:String(i.value),a=n&&o>n;return t("div",{staticClass:"v-counter",class:{"error--text":a,...Object(r["b"])(e)}},s)}}),a=s,l=i("ba87"),c=i("90a2"),u=i("d9bd"),h=i("2b0e");function d(t){return h["a"].extend({name:"intersectable",mounted(){c["a"].inserted(this.$el,{name:"intersect",value:this.onObserve})},destroyed(){c["a"].unbind(this.$el)},methods:{onObserve(e,i,n){if(n)for(let r=0,o=t.onVisible.length;r<o;r++){const e=this[t.onVisible[r]];"function"!==typeof e?Object(u["c"])(t.onVisible[r]+" method is not available on the instance but referenced in intersectable mixin options"):e()}}}})}var p=i("297c"),f=i("38cb"),m=i("dc22"),g=i("5607"),y=i("dd89"),v=i("80d2");const _=Object(o["a"])(n["a"],d({onVisible:["onResize","tryAutofocus"]}),p["a"]),b=["color","file","time","date","datetime-local","week","month"];e["a"]=_.extend().extend({name:"v-text-field",directives:{resize:m["a"],ripple:g["a"]},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:"$clear"},counter:[Boolean,Number,String],counterValue:Function,filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,persistentPlaceholder:Boolean,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:()=>({badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}),computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--filled":this.filled,"v-text-field--is-booted":this.isBooted,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outlined":this.outlined,"v-text-field--placeholder":this.placeholder,"v-text-field--rounded":this.rounded,"v-text-field--shaped":this.shaped}},computedColor(){const t=f["a"].options.computed.computedColor.call(this);return this.soloInverted&&this.isFocused?this.color||"primary":t},computedCounterValue(){return"function"===typeof this.counterValue?this.counterValue(this.internalValue):[...(this.internalValue||"").toString()].length},hasCounter(){return!1!==this.counter&&null!=this.counter},hasDetails(){return n["a"].options.computed.hasDetails.call(this)||this.hasCounter},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("input",this.lazyValue)}},isDirty(){var t;return(null==(t=this.lazyValue)?void 0:t.toString().length)>0||this.badInput},isEnclosed(){return this.filled||this.isSolo||this.outlined},isLabelActive(){return this.isDirty||b.includes(this.type)},isSingle(){return this.isSolo||this.singleLine||this.fullWidth||this.filled&&!this.hasLabel},isSolo(){return this.solo||this.soloInverted},labelPosition(){let t=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(t-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:t,right:"auto"}:{left:"auto",right:t}},showLabel(){return this.hasLabel&&!(this.isSingle&&this.labelValue)},labelValue(){return this.isFocused||this.isLabelActive||this.persistentPlaceholder}},watch:{outlined:"setLabelWidth",label(){this.$nextTick(this.setLabelWidth)},prefix(){this.$nextTick(this.setPrefixWidth)},isFocused:"updateValue",value(t){this.lazyValue=t}},created(){this.$attrs.hasOwnProperty("box")&&Object(u["a"])("box","filled",this),this.$attrs.hasOwnProperty("browser-autocomplete")&&Object(u["a"])("browser-autocomplete","autocomplete",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&Object(u["c"])("shaped should be used with either filled or outlined",this)},mounted(){this.$watch(()=>this.labelValue,this.setLabelWidth),this.autofocus&&this.tryAutofocus(),requestAnimationFrame(()=>this.isBooted=!0)},methods:{focus(){this.onFocus()},blur(t){window.requestAnimationFrame(()=>{this.$refs.input&&this.$refs.input.blur()})},clearableCallback(){this.$refs.input&&this.$refs.input.focus(),this.$nextTick(()=>this.internalValue=null)},genAppendSlot(){const t=[];return this.$slots["append-outer"]?t.push(this.$slots["append-outer"]):this.appendOuterIcon&&t.push(this.genIcon("appendOuter")),this.genSlot("append","outer",t)},genPrependInnerSlot(){const t=[];return this.$slots["prepend-inner"]?t.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&t.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",t)},genIconSlot(){const t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","inner",t)},genInputSlot(){const t=n["a"].options.methods.genInputSlot.call(this),e=this.genPrependInnerSlot();return e&&(t.children=t.children||[],t.children.unshift(e)),t},genClearIcon(){return this.clearable?this.isDirty?this.genSlot("append","inner",[this.genIcon("clear",this.clearableCallback)]):this.genSlot("append","inner",[this.$createElement("div")]):null},genCounter(){var t,e,i;if(!this.hasCounter)return null;const n=!0===this.counter?this.attrs$.maxlength:this.counter,r={dark:this.dark,light:this.light,max:n,value:this.computedCounterValue};return null!=(t=null==(e=(i=this.$scopedSlots).counter)?void 0:e.call(i,{props:r}))?t:this.$createElement(a,{props:r})},genControl(){return n["a"].options.methods.genControl.call(this)},genDefaultSlot(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset(){return this.outlined?this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()]):null},genLabel(){if(!this.showLabel)return null;const t={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(l["a"],t,this.$slots.label||this.label)},genLegend(){const t=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,e=this.$createElement("span",{domProps:{innerHTML:"&#8203;"},staticClass:"notranslate"});return this.$createElement("legend",{style:{width:this.isSingle?void 0:Object(v["g"])(t)}},[e])},genInput(){const t=Object.assign({},this.listeners$);delete t.change;const{title:e,...i}=this.attrs$;return this.$createElement("input",{style:{},domProps:{value:"number"===this.type&&Object.is(this.lazyValue,-0)?"-0":this.lazyValue},attrs:{...i,autofocus:this.autofocus,disabled:this.isDisabled,id:this.computedId,placeholder:this.persistentPlaceholder||this.isFocused||!this.hasLabel?this.placeholder:void 0,readonly:this.isReadonly,type:this.type},on:Object.assign(t,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input",directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]})},genMessages(){if(!this.showDetails)return null;const t=n["a"].options.methods.genMessages.call(this),e=this.genCounter();return this.$createElement("div",{staticClass:"v-text-field__details"},[t,e])},genTextFieldSlot(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix(t){return this.$createElement("div",{class:"v-text-field__"+t,ref:t},this[t])},onBlur(t){this.isFocused=!1,t&&this.$nextTick(()=>this.$emit("blur",t))},onClick(){this.isFocused||this.isDisabled||!this.$refs.input||this.$refs.input.focus()},onFocus(t){if(!this.$refs.input)return;const e=Object(y["a"])(this.$el);return e?e.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,t&&this.$emit("focus",t))):void 0},onInput(t){const e=t.target;this.internalValue=e.value,this.badInput=e.validity&&e.validity.badInput},onKeyDown(t){t.keyCode===v["u"].enter&&this.lazyValue!==this.initialValue&&(this.initialValue=this.lazyValue,this.$emit("change",this.initialValue)),this.$emit("keydown",t)},onMouseDown(t){t.target!==this.$refs.input&&(t.preventDefault(),t.stopPropagation()),n["a"].options.methods.onMouseDown.call(this,t)},onMouseUp(t){this.hasMouseDown&&this.focus(),n["a"].options.methods.onMouseUp.call(this,t)},setLabelWidth(){this.outlined&&(this.labelWidth=this.$refs.label?Math.min(.75*this.$refs.label.scrollWidth+6,this.$el.offsetWidth-24):0)},setPrefixWidth(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth(){this.outlined&&this.$refs["prepend-inner"]&&(this.prependWidth=this.$refs["prepend-inner"].offsetWidth)},tryAutofocus(){if(!this.autofocus||"undefined"===typeof document||!this.$refs.input)return!1;const t=Object(y["a"])(this.$el);return!(!t||t.activeElement===this.$refs.input)&&(this.$refs.input.focus(),!0)},updateValue(t){this.hasColor=t,t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},onResize(){this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth()}}})},"86cc":function(t,e,i){},8728:function(t,e,i){"use strict";function n(t,e,i,n,r,o){if(o>e&&o>n||o<e&&o<n)return 0;if(n===e)return 0;var s=(o-e)/(n-e),a=n<e?1:-1;1!==s&&0!==s||(a=n<e?.5:-.5);var l=s*(i-t)+t;return l===r?1/0:l>r?a:0}i.d(e,"a",(function(){return n}))},"87b1":function(t,e,i){"use strict";var n=i("21a1"),r=i("cbe5"),o=i("4fac"),s=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),a=function(t){function e(e){return t.call(this,e)||this}return Object(n["a"])(e,t),e.prototype.getDefaultShape=function(){return new s},e.prototype.buildPath=function(t,e){o["a"](t,e,!0)},e}(r["b"]);a.prototype.type="polygon",e["a"]=a},8836:function(t,e,i){},"885b":function(t,e,i){"use strict";var n=i("062f"),r=i("f7fe"),o=i("53a8"),s=i("faa1").EventEmitter,a=i("4ac6"),l=i("d0a8"),c=i("2c50"),u=i("5a92"),h=i("ff9c"),d=i("e4ae");const p={FORWARD:0,LOCAL:1,REVERSE:2};function f(t){this._eventEmitter=new s,this.options=o({},this.options,t),this.inputString="",this.fresh=!0,this.lastSelected=null}f.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(t){return t.place_name},render:function(t){var e=t.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+e[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+e.splice(1,e.length).join(",")+"</div></div>"}},addTo:function(t){function e(t,e){if(!document.body.contains(e))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const i=t.onAdd();e.appendChild(i)}if(t._controlContainer)t.addControl(this);else if(t instanceof HTMLElement)e(this,t);else{if("string"!=typeof t)throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");{const i=document.querySelectorAll(t);if(0===i.length)throw new Error("Element ",t,"not found.");if(i.length>1)throw new Error("Geocoder can only be added to a single html element");e(this,i[0])}}},onAdd:function(t){if(t&&"string"!=typeof t&&(this._map=t),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=c(l({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new u(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var e=this.container=document.createElement("div");e.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var i=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",r(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(t){this.eventManager.keyevent(t,this)}.bind(this));var o=document.createElement("div");o.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var s=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(s),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),o.appendChild(this._clearEl),o.appendChild(this._loadingEl),e.appendChild(i),e.appendChild(this._inputEl),e.appendChild(o),this._typeahead=new n(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),e},createIcon:function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+t),i.setAttribute("viewBox","0 0 18 18"),i.setAttribute("xml:space","preserve"),i.setAttribute("width",18),i.setAttribute("height",18),"innerHTML"in i)i.innerHTML=e;else{var n=document.createElement("div");n.innerHTML="<svg>"+e.valueOf().toString()+"</svg>";var r=n.firstChild,o=r.firstChild;i.appendChild(o)}return i},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(t){var e=(t.clipboardData||window.clipboardData).getData("text");e.length>=this.options.minLength&&this._geocode(e)},_onKeyDown:function(t){var e=27,i=9;if(t.keyCode===e&&this.options.clearAndBlurOnEsc)return this._clear(t),this._inputEl.blur();var n=t.target&&t.target.shadowRoot?t.target.shadowRoot.activeElement:t.target,r=n?n.value:"";if(!r)return this.fresh=!0,t.keyCode!==i&&this.clear(t),this._clearEl.style.display="none";t.metaKey||-1!==[i,e,37,39,13,38,40].indexOf(t.keyCode)||n.value.length>=this.options.minLength&&this._geocode(n.value)},_showButton:function(){this._typeahead.selected&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(t){this.options.clearOnBlur&&this._clearOnBlur(t),this.options.collapsed&&this._collapse()},_onChange:function(){var t=this._typeahead.selected;if(t&&JSON.stringify(t)!==this.lastSelected){var e;if(this._clearEl.style.display="none",this.options.flyTo)if(t.properties&&a[t.properties.short_code])e=o({},this.options.flyTo),this._map&&this._map.fitBounds(a[t.properties.short_code].bbox,e);else if(t.bbox){var i=t.bbox;e=o({},this.options.flyTo),this._map&&this._map.fitBounds([[i[0],i[1]],[i[2],i[3]]],e)}else{var n={zoom:this.options.zoom};e=o({},n,this.options.flyTo),t.center?e.center=t.center:t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&(e.center=t.geometry.coordinates),this._map&&this._map.flyTo(e)}this.options.marker&&this._mapboxgl&&this._handleMarker(t),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(t),this._eventEmitter.emit("result",{result:t}),this.eventManager.select(t,this)}},_requestType:function(t,e){var i;const n=/^[ ]*(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/;return i=t.localGeocoderOnly?p.LOCAL:t.reverseGeocode&&n.test(e)?p.REVERSE:p.FORWARD,i},_setupConfig:function(t,e){const i=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],n=/[\s,]+/;var r=this,s=i.reduce((function(t,e){if(void 0===r.options[e]||null===r.options[e])return t;["countries","types","language"].indexOf(e)>-1?t[e]=r.options[e].split(n):t[e]=r.options[e];const i="number"===typeof r.options[e].longitude&&"number"===typeof r.options[e].latitude;if("proximity"===e&&i){const i=r.options[e].longitude,n=r.options[e].latitude;t[e]=[i,n]}return t}),{});switch(t){case p.REVERSE:var a=e.split(n).map((function(t){return parseFloat(t,10)})).reverse();!s.types||s.types[0],s=o(s,{query:a,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach((function(t){t in s&&delete s[t]}));break;case p.FORWARD:{const t=/^[ ]*(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)*[ ]*$/;t.test(e)&&(e=e.replace(/,/g," ")),s=o(s,{query:e})}break}return s},_geocode:function(t){this.inputString=t,this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:t});const e=this._requestType(this.options,t),i=this._setupConfig(e,t);var n;switch(e){case p.LOCAL:n=Promise.resolve();break;case p.FORWARD:n=this.geocoderService.forwardGeocode(i).send();break;case p.REVERSE:n=this.geocoderService.reverseGeocode(i).send();break}var r=this.options.localGeocoder&&this.options.localGeocoder(t)||[],o=[],s=null;return n.catch(function(t){s=t}.bind(this)).then(function(e){this._loadingEl.style.display="none";var n={};return e?"200"==e.statusCode&&(n=e.body,n.request=e.request,n.headers=e.headers):n={type:"FeatureCollection",features:[]},n.config=i,this.fresh&&(this.eventManager.start(this),this.fresh=!1),n.features=n.features?r.concat(n.features):r,this.options.externalGeocoder?(o=this.options.externalGeocoder(t,n.features)||[],o.then((function(t){return n.features=n.features?t.concat(n.features):t,n}),(function(){return n}))):n}.bind(this)).then(function(t){if(s)throw s;this.options.filter&&t.features.length&&(t.features=t.features.filter(this.options.filter)),t.features.length?(this._clearEl.style.display="block",this._eventEmitter.emit("results",t),this._typeahead.update(t.features)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",t))}.bind(this)).catch(function(t){this._loadingEl.style.display="none",r.length&&this.options.localGeocoder||o.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(r)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:r}),this._eventEmitter.emit("error",{error:t})}.bind(this)),n},_clear:function(t){t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(t){this._clear(t),this._inputEl.focus()},_clearOnBlur:function(t){var e=this;t.relatedTarget&&e._clear(t)},_onQueryResult:function(t){var e=t.body;if(e.features.length){var i=e.features[0];this._typeahead.selected=i,this._inputEl.value=i.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var t=this._map.getCenter().wrap();this.setProximity({longitude:t.lng,latitude:t.lat})}else this.setProximity(null)},_collapse:function(){this._inputEl.value||this._inputEl===document.activeElement||this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(t){return this._geocode(t).then(this._onQueryResult),this},_renderError:function(){var t="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(t)},_renderNoResults:function(){var t="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(t)},_renderMessage:function(t){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(t)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var t=this.options.language.split(",")[0],e=d.language(t),i=h.placeholder[e];if(i)return i}return"Search"},setInput:function(t){return this._inputEl.value=t,this._typeahead.selected=null,this._typeahead.clear(),t.length>=this.options.minLength&&this._geocode(t),this},setProximity:function(t){return this.options.proximity=t,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(t){return t&&"function"==typeof t&&(this._typeahead.render=t),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(t){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=t||this.options.language||e,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(t){return this.options.zoom=t,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(t){return this.options.flyTo=t,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(t){return this.placeholder=t||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(t){return this.options.bbox=t,this},getCountries:function(){return this.options.countries},setCountries:function(t){return this.options.countries=t,this},getTypes:function(){return this.options.types},setTypes:function(t){return this.options.types=t,this},getMinLength:function(){return this.options.minLength},setMinLength:function(t){return this.options.minLength=t,this._typeahead&&(this._typeahead.options.minLength=t),this},getLimit:function(){return this.options.limit},setLimit:function(t){return this.options.limit=t,this._typeahead&&(this._typeahead.options.limit=t),this},getFilter:function(){return this.options.filter},setFilter:function(t){return this.options.filter=t,this},setOrigin:function(t){return this.options.origin=t,this.geocoderService=c(l({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAutocomplete:function(t){return this.options.autocomplete=t,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(t){return this.options.fuzzyMatch=t,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(t){return this.options.routing=t,this},getRouting:function(){return this.options.routing},setWorldview:function(t){return this.options.worldview=t,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(t){if(this._map){this._removeMarker();var e={color:"#4668F2"},i=o({},e,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(i),t.center?this.mapMarker.setLngLat(t.center).addTo(this._map):t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&this.mapMarker.setLngLat(t.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(t,e){return this._eventEmitter.on(t,e),this},off:function(t,e){return this._eventEmitter.removeListener(t,e),this.eventManager.remove(),this}},t.exports=f},8860:function(t,e,i){"use strict";i("3ad0");var n=i("8dd9");e["a"]=n["a"].extend().extend({name:"v-list",provide(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:()=>({groups:[]}),computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine}}},methods:{register(t){this.groups.push(t)},unregister(t){const e=this.groups.findIndex(e=>e._uid===t._uid);e>-1&&this.groups.splice(e,1)},listClick(t){if(!this.expand)for(const e of this.groups)e.toggle(t)}},render(t){const e={staticClass:"v-list",class:this.classes,style:this.styles,attrs:{role:this.isInNav||this.isInMenu?void 0:"list",...this.attrs$}};return t(this.tag,this.setBackgroundColor(this.color,e),[this.$slots.default])}})},"88b3":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return a}));var n="\0__throttleOriginMethod",r="\0__throttleRate",o="\0__throttleType";function s(t,e,i){var n,r,o,s,a,l=0,c=0,u=null;function h(){c=(new Date).getTime(),u=null,t.apply(o,s||[])}e=e||0;var d=function(){for(var t=[],d=0;d<arguments.length;d++)t[d]=arguments[d];n=(new Date).getTime(),o=this,s=t;var p=a||e,f=a||i;a=null,r=n-(f?l:c)-p,clearTimeout(u),f?u=setTimeout(h,p):r>=0?h():u=setTimeout(h,-r),l=n};return d.clear=function(){u&&(clearTimeout(u),u=null)},d.debounceNextCall=function(t){a=t},d}function a(t,e,i,a){var l=t[e];if(l){var c=l[n]||l,u=l[o],h=l[r];if(h!==i||u!==a){if(null==i||!a)return t[e]=c;l=t[e]=s(c,i,"debounce"===a),l[n]=c,l[o]=a,l[r]=i}return l}}},8918:function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return l}));var n=i("6d8b"),r=i("625e"),o=Math.round(10*Math.random());function s(t){return[t||"",o++].join("_")}function a(t){var e={};t.registerSubTypeDefaulter=function(t,i){var n=Object(r["f"])(t);e[n.main]=i},t.determineSubType=function(i,n){var o=n.type;if(!o){var s=Object(r["f"])(i).main;t.hasSubTypes(i)&&e[s]&&(o=e[s](n))}return o}}function l(t,e){function i(t){var i={},s=[];return n["k"](t,(function(a){var l=r(i,a),c=l.originalDeps=e(a),u=o(c,t);l.entryCount=u.length,0===l.entryCount&&s.push(a),n["k"](u,(function(t){n["q"](l.predecessor,t)<0&&l.predecessor.push(t);var e=r(i,t);n["q"](e.successor,t)<0&&e.successor.push(a)}))})),{graph:i,noEntryList:s}}function r(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,e){var i=[];return n["k"](t,(function(t){n["q"](e,t)>=0&&i.push(t)})),i}t.topologicalTravel=function(t,e,r,o){if(t.length){var s=i(e),a=s.graph,l=s.noEntryList,c={};n["k"](t,(function(t){c[t]=!0}));while(l.length){var u=l.pop(),h=a[u],d=!!c[u];d&&(r.call(o,u,h.originalDeps.slice()),delete c[u]),n["k"](h.successor,d?f:p)}n["k"](c,(function(){var t="";throw new Error(t)}))}function p(t){a[t].entryCount--,0===a[t].entryCount&&l.push(t)}function f(t){c[t]=!0,p(t)}}}},8925:function(t,e,i){var n=i("1626"),r=i("c6cd"),o=Function.toString;n(r.inspectSource)||(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},"899c":function(t,e,i){},"8adc":function(t,e,i){},"8b0d":function(t,e,i){},"8cb5":function(t,e,i){"use strict";t.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},"8ce9":function(t,e,i){},"8d32":function(t,e,i){"use strict";var n=i("21a1"),r=i("cbe5"),o=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return t}(),s=function(t){function e(e){return t.call(this,e)||this}return Object(n["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){var i=e.cx,n=e.cy,r=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,a=e.clockwise,l=Math.cos(o),c=Math.sin(o);t.moveTo(l*r+i,c*r+n),t.arc(i,n,r,o,s,!a)},e}(r["b"]);s.prototype.type="arc",e["a"]=s},"8d4f":function(t,e,i){},"8da5":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c}));var n=i("80d2");const r=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],o=t=>t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055,s=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],a=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function l(t){const e=Array(3),i=o,s=r;for(let r=0;r<3;++r)e[r]=Math.round(255*Object(n["f"])(i(s[r][0]*t[0]+s[r][1]*t[1]+s[r][2]*t[2])));return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function c(t){const e=[0,0,0],i=a,n=s,r=i((t>>16&255)/255),o=i((t>>8&255)/255),l=i((t>>0&255)/255);for(let s=0;s<3;++s)e[s]=n[s][0]*r+n[s][1]*o+n[s][2]*l;return e}},"8dd9":function(t,e,i){"use strict";i("25a8");var n=i("7e2b"),r=i("a9ad"),o=i("c995"),s=i("24b2"),a=i("a236"),l=i("7560"),c=i("58df");e["a"]=Object(c["a"])(n["a"],r["a"],o["a"],s["a"],a["a"],l["a"]).extend({name:"v-sheet",props:{outlined:Boolean,shaped:Boolean,tag:{type:String,default:"div"}},computed:{classes(){return{"v-sheet":!0,"v-sheet--outlined":this.outlined,"v-sheet--shaped":this.shaped,...this.themeClasses,...this.elevationClasses,...this.roundedClasses}},styles(){return this.measurableStyles}},render(t){const e={class:this.classes,style:this.styles,on:this.listeners$};return t(this.tag,this.setBackgroundColor(this.color,e),this.$slots.default)}})},"8df4":function(t,e,i){"use strict";var n=i("7a77");function r(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new n(t),e(i.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t,e=new r((function(e){t=e}));return{token:e,cancel:t}},t.exports=r},"8e43":function(t,e,i){"use strict";var n=i("6d8b"),r=0,o=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++r}return t.createByAxisModel=function(e){var i=e.option,r=i.data,o=r&&Object(n["F"])(r,s);return new t({categories:o,needCollect:!o,deduplication:!1!==i.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!==typeof t&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=this._getOrCreateMap();return e=n.get(t),null==e&&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Object(n["g"])(this.categories))},t}();function s(t){return Object(n["z"])(t)&&null!=t.value?t.value:t+""}e["a"]=o},"8efc":function(t,e,i){},"8ff2":function(t,e,i){},"90a2":function(t,e,i){"use strict";function n(t,e){if("undefined"===typeof window||!("IntersectionObserver"in window))return;const i=e.modifiers||{},n=e.value,{handler:o,options:s}="object"===typeof n?n:{handler:n,options:{}},a=new IntersectionObserver((e=[],n)=>{if(!t._observe)return;const s=e.some(t=>t.isIntersecting);!o||i.quiet&&!t._observe.init||i.once&&!s&&t._observe.init||o(e,n,s),s&&i.once?r(t):t._observe.init=!0},s);t._observe={init:!1,observer:a},a.observe(t)}function r(t){t._observe&&(t._observe.observer.unobserve(t),delete t._observe)}const o={inserted:n,unbind:r};e["a"]=o},"90e3":function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},9112:function(t,e,i){var n=i("83ab"),r=i("9bf2"),o=i("5c6c");t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},9394:function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n=i("7fae"),r=i("6d8b"),o=i("76a5"),s=i("c7a2"),a=i("861c"),l=i("7837"),c=i("f934"),u=i("6cb7"),h=i("b12f"),d=i("eda2"),p=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode={type:"box",ignoreSize:!0},i}return Object(n["a"])(e,t),e.type="title",e.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(u["a"]),f=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Object(n["a"])(e,t),e.prototype.render=function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,u=t.getModel("textStyle"),h=t.getModel("subtextStyle"),p=t.get("textAlign"),f=r["M"](t.get("textBaseline"),t.get("textVerticalAlign")),m=new o["a"]({style:Object(l["a"])(u,{text:t.get("text"),fill:u.getTextColor()},{disableBox:!0}),z2:10}),g=m.getBoundingRect(),y=t.get("subtext"),v=new o["a"]({style:Object(l["a"])(h,{text:y,fill:h.getTextColor(),y:g.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_=t.get("link"),b=t.get("sublink"),x=t.get("triggerEvent",!0);m.silent=!_&&!x,v.silent=!b&&!x,_&&m.on("click",(function(){Object(d["i"])(_,"_"+t.get("target"))})),b&&v.on("click",(function(){Object(d["i"])(b,"_"+t.get("subtarget"))})),Object(a["a"])(m).eventData=Object(a["a"])(v).eventData=x?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(m),y&&n.add(v);var w=n.getBoundingRect(),S=t.getBoxLayoutParams();S.width=w.width,S.height=w.height;var T=Object(c["c"])(S,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));p||(p=t.get("left")||t.get("right"),"middle"===p&&(p="center"),"right"===p?T.x+=T.width:"center"===p&&(T.x+=T.width/2)),f||(f=t.get("top")||t.get("bottom"),"center"===f&&(f="middle"),"bottom"===f?T.y+=T.height:"middle"===f&&(T.y+=T.height/2),f=f||"top"),n.x=T.x,n.y=T.y,n.markRedraw();var C={align:p,verticalAlign:f};m.setStyle(C),v.setStyle(C),w=n.getBoundingRect();var O=T.margin,k=t.getItemStyle(["color","opacity"]);k.fill=t.get("backgroundColor");var A=new s["a"]({shape:{x:w.x-O[3],y:w.y-O[0],width:w.width+O[1]+O[3],height:w.height+O[0]+O[2],r:t.get("borderRadius")},style:k,subPixelOptimize:!0,silent:!0});n.add(A)}},e.type="title",e}(h["a"]);function m(t){t.registerComponentModel(p),t.registerComponentView(f)}},"94ca":function(t,e,i){var n=i("d039"),r=i("1626"),o=/#|\.prototype\./,s=function(t,e){var i=l[a(t)];return i==u||i!=c&&(r(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},"95ed":function(t,e,i){},"96cf":function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(D){l=function(t,e,i){return t[e]=i}}function c(t,e,i,n){var r=e&&e.prototype instanceof g?e:g,o=Object.create(r.prototype),s=new I(n||[]);return o._invoke=C(t,i,s),o}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(D){return{type:"throw",arg:D}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",f="completed",m={};function g(){}function y(){}function v(){}var _={};l(_,o,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(E([])));x&&x!==i&&n.call(x,o)&&(_=x);var w=v.prototype=g.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function i(r,o,s,a){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"===typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var r;function o(t,n){function o(){return new e((function(e,r){i(t,n,e,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function C(t,e,i){var n=h;return function(r,o){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw o;return M()}i.method=r,i.arg=o;while(1){var s=i.delegate;if(s){var a=O(s,i);if(a){if(a===m)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=p;var l=u(t,e,i);if("normal"===l.type){if(n=i.done?f:d,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=f,i.method="throw",i.arg=l.arg)}}}function O(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,O(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var i=t[o];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function i(){while(++r<t.length)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:M}}function M(){return{value:e,done:!0}}return y.prototype=v,l(w,"constructor",v),l(v,"constructor",y),y.displayName=l(v,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,a,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,i,n,r,o){void 0===o&&(o=Promise);var s=new T(c(e,i,n,r),o);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(w),l(w,a,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=E,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return a.type="throw",a.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),A(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;A(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:E(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=n}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},9850:function(t,e,i){"use strict";var n=i("1687"),r=i("dce8"),o=Math.min,s=Math.max,a=new r["a"],l=new r["a"],c=new r["a"],u=new r["a"],h=new r["a"],d=new r["a"],p=function(){function t(t,e,i,n){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}return t.prototype.union=function(t){var e=o(t.x,this.x),i=o(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=s(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=s(t.y+t.height,this.y+this.height)-i:this.height=t.height,this.x=e,this.y=i},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,r=t.height/e.height,o=n["b"]();return n["h"](o,o,[-e.x,-e.y]),n["g"](o,o,[i,r]),n["h"](o,o,[t.x,t.y]),o},t.prototype.intersect=function(e,i){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,o=n.x,s=n.x+n.width,a=n.y,l=n.y+n.height,c=e.x,u=e.x+e.width,p=e.y,f=e.y+e.height,m=!(s<c||u<o||l<p||f<a);if(i){var g=1/0,y=0,v=Math.abs(s-c),_=Math.abs(u-o),b=Math.abs(l-p),x=Math.abs(f-a),w=Math.min(v,_),S=Math.min(b,x);s<c||u<o?w>y&&(y=w,v<_?r["a"].set(d,-v,0):r["a"].set(d,_,0)):w<g&&(g=w,v<_?r["a"].set(h,v,0):r["a"].set(h,-_,0)),l<p||f<a?S>y&&(y=S,b<x?r["a"].set(d,0,-b):r["a"].set(d,0,x)):w<g&&(g=w,b<x?r["a"].set(h,0,b):r["a"].set(h,0,-x))}return i&&r["a"].copy(i,m?h:d),m},t.prototype.contain=function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,i,n){if(n){if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],h=n[3],d=n[4],p=n[5];return e.x=i.x*r+d,e.y=i.y*h+p,e.width=i.width*r,e.height=i.height*h,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}a.x=c.x=i.x,a.y=u.y=i.y,l.x=u.x=i.x+i.width,l.y=c.y=i.y+i.height,a.transform(n),u.transform(n),l.transform(n),c.transform(n),e.x=o(a.x,l.x,c.x,u.x),e.y=o(a.y,l.y,c.y,u.y);var f=s(a.x,l.x,c.x,u.x),m=s(a.y,l.y,c.y,u.y);e.width=f-e.x,e.height=m-e.y}else e!==i&&t.copy(e,i)},t}();e["a"]=p},"98b7":function(t,e,i){"use strict";var n;n="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},e["a"]=n},"99af":function(t,e,i){"use strict";var n=i("23e7"),r=i("d039"),o=i("e8b5"),s=i("861d"),a=i("7b0b"),l=i("50c4"),c=i("8418"),u=i("65f0"),h=i("1dde"),d=i("b622"),p=i("2d00"),f=d("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",y=p>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),v=h("concat"),_=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)},b=!y||!v;n({target:"Array",proto:!0,forced:b},{concat:function(t){var e,i,n,r,o,s=a(this),h=u(s,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?s:arguments[e],_(o)){if(r=l(o.length),d+r>m)throw TypeError(g);for(i=0;i<r;i++,d++)i in o&&c(h,d,o[i])}else{if(d>=m)throw TypeError(g);c(h,d++,o)}return h.length=d,h}})},"99d9":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return l}));var n=i("b0af"),r=i("80d2");const o=Object(r["i"])("v-card__actions"),s=Object(r["i"])("v-card__subtitle"),a=Object(r["i"])("v-card__text"),l=Object(r["i"])("v-card__title");n["a"]},"9a1f":function(t,e,i){var n=i("59ed"),r=i("825a"),o=i("35a1");t.exports=function(t,e){var i=arguments.length<2?o(t):e;if(n(i))return r(i.call(t));throw TypeError(String(t)+" is not iterable")}},"9bdd":function(t,e,i){var n=i("825a"),r=i("2a62");t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(s){r(t,"throw",s)}}},"9bf2":function(t,e,i){var n=i("83ab"),r=i("0cfb"),o=i("825a"),s=i("a04b"),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(o(t),e=s(e),o(i),r)try{return a(t,e,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},"9c54":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return l}));var n=i("80d2"),r=i("7e85"),o=i("56a4"),s=i("e516");const a=Object(n["i"])("v-stepper__header"),l=Object(n["i"])("v-stepper__items");r["a"],s["a"],o["a"]},"9cf9":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return s}));var n=Math.round;function r(t,e,i){if(e){var r=e.x1,o=e.x2,a=e.y1,l=e.y2;t.x1=r,t.x2=o,t.y1=a,t.y2=l;var c=i&&i.lineWidth;return c?(n(2*r)===n(2*o)&&(t.x1=t.x2=s(r,c,!0)),n(2*a)===n(2*l)&&(t.y1=t.y2=s(a,c,!0)),t):t}}function o(t,e,i){if(e){var n=e.x,r=e.y,o=e.width,a=e.height;t.x=n,t.y=r,t.width=o,t.height=a;var l=i&&i.lineWidth;return l?(t.x=s(n,l,!0),t.y=s(r,l,!0),t.width=Math.max(s(n+o,l,!1)-t.x,0===o?0:1),t.height=Math.max(s(r+a,l,!1)-t.y,0===a?0:1),t):t}}function s(t,e,i){if(!e)return t;var r=n(2*t);return(r+n(e))%2===0?r/2:(r+(i?1:-1))/2}},"9d26":function(t,e,i){"use strict";var n=i("132d");e["a"]=n["a"]},"9d65":function(t,e,i){"use strict";var n=i("d9bd"),r=i("2b0e");e["a"]=r["a"].extend().extend({name:"bootable",props:{eager:Boolean},data:()=>({isBooted:!1}),computed:{hasContent(){return this.isBooted||this.eager||this.isActive}},watch:{isActive(){this.isBooted=!0}},created(){"lazy"in this.$attrs&&Object(n["e"])("lazy",this)},methods:{showLazyContent(t){return this.hasContent&&t?t():[this.$createElement()]}}})},"9dc5":function(t,e,i){"use strict";var n=i("608e"),r=i("dbe1"),o=i("8cb5");function s(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");n(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||o.API_ORIGIN}s.prototype.createRequest=function(t){return new r(this,t)},t.exports=s},"9e29":function(t,e,i){},"9ed3":function(t,e,i){"use strict";var n=i("ae93").IteratorPrototype,r=i("7c73"),o=i("5c6c"),s=i("d44e"),a=i("3f8c"),l=function(){return this};t.exports=function(t,e,i){var c=e+" Iterator";return t.prototype=r(n,{next:o(1,i)}),s(t,c,!1,!0),a[c]=l,t}},"9fbc":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("6d8b");function r(t){return new o(t)}var o=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,i=this._upstream,r=t&&t.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var s,a=h(this._modBy),l=this._modDataCount||0,c=h(t&&t.modBy),u=t&&t.modDataCount||0;function h(t){return!(t>=1)&&(t=1),t}a===c&&l===u||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,s=this._doReset(r)),this._modBy=c,this._modDataCount=u;var d=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,f=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!r&&(s||p<f)){var m=this._progress;if(Object(n["s"])(m))for(var g=0;g<m.length;g++)this._doProgress(m[g],p,f,c,u);else this._doProgress(m,p,f,c,u)}this._dueIndex=f;var y=null!=this._settedOutputEnd?this._settedOutputEnd:f;0,this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,i,n,r){s.reset(e,i,n,r),this._callingProgress=t,this._callingProgress({start:e,end:i,count:i-e,next:s.next},this.context)},t.prototype._doReset=function(t){var e,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(i=e.forceFirstProgress,e=e.progress),Object(n["s"])(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),s=function(){var t,e,i,n,r,o={reset:function(l,c,u,h){e=l,t=c,i=u,n=h,r=Math.ceil(n/i),o.next=i>1&&n>0?a:s}};return o;function s(){return e<t?e++:null}function a(){var o=e%r*i+Math.ceil(e/r),s=e>=t?null:o<n?o:e;return e++,s}}()},a04b:function(t,e,i){var n=i("c04e"),r=i("d9b5");t.exports=function(t){var e=n(t,"string");return r(e)?e:String(e)}},a066:function(t,e,i){"use strict";var n=i("7119"),r=i("ef78"),o=i("8cb5"),s=i("72bc"),a={};function l(t){var e=a[t.id];e&&(e.abort(),delete a[t.id])}function c(t,e){return new n(t,{body:e.response,headers:s(e.getAllResponseHeaders()),statusCode:e.status})}function u(t){var e=t.total,i=t.loaded,n=100*i/e;return{total:e,transferred:i,percent:n}}function h(t,e){return new Promise((function(i,n){e.onprogress=function(e){t.emitter.emit(o.EVENT_PROGRESS_DOWNLOAD,u(e))};var s=t.file;s&&(e.upload.onprogress=function(e){t.emitter.emit(o.EVENT_PROGRESS_UPLOAD,u(e))}),e.onerror=function(t){n(t)},e.onabort=function(){var e=new r({request:t,type:o.ERROR_REQUEST_ABORTED});n(e)},e.onload=function(){if(delete a[t.id],e.status<200||e.status>=400){var o=new r({request:t,body:e.response,statusCode:e.status});n(o)}else i(e)};var l=t.body;"string"===typeof l?e.send(l):l?e.send(JSON.stringify(l)):s?e.send(s):e.send(),a[t.id]=e})).then((function(e){return c(t,e)}))}function d(t,e){var i=t.url(e),n=new window.XMLHttpRequest;return n.open(t.method,i),Object.keys(t.headers).forEach((function(e){n.setRequestHeader(e,t.headers[e])})),n}function p(t){return Promise.resolve().then((function(){var e=d(t,t.client.accessToken);return h(t,e)}))}t.exports={browserAbort:l,sendRequestXhr:h,browserSend:p,createRequestXhr:d}},a15a:function(t,e,i){"use strict";i.d(e,"a",(function(){return x})),i.d(e,"c",(function(){return w})),i.d(e,"b",(function(){return S}));var n=i("6d8b"),r=i("cbe5"),o=i("cb11"),s=i("c7a2"),a=i("d9fc"),l=i("2306"),c=i("9850"),u=i("e86a"),h=i("3842"),d=r["b"].extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+r,n+o),t.lineTo(i-r,n+o),t.closePath()}}),p=r["b"].extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+r,n),t.lineTo(i,n+o),t.lineTo(i-r,n),t.closePath()}}),f=r["b"].extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,r=e.width/5*3,o=Math.max(r,e.height),s=r/2,a=s*s/(o-s),l=n-o+s+a,c=Math.asin(a/s),u=Math.cos(c)*s,h=Math.sin(c),d=Math.cos(c),p=.6*s,f=.7*s;t.moveTo(i-u,l+a),t.arc(i,l,s,Math.PI-c,2*Math.PI+c),t.bezierCurveTo(i+u-h*p,l+a+d*p,i,n-f,i,n),t.bezierCurveTo(i,n-f,i-u+h*p,l+a+d*p,i-u,l+a),t.closePath()}}),m=r["b"].extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,r=e.x,o=e.y,s=n/3*2;t.moveTo(r,o),t.lineTo(r+s,o+i),t.lineTo(r,o+i/4*3),t.lineTo(r-s,o+i),t.lineTo(r,o),t.closePath()}}),g={line:o["a"],rect:s["a"],roundRect:s["a"],square:s["a"],circle:a["a"],diamond:p,pin:f,arrow:m,triangle:d},y={line:function(t,e,i,n,r){r.x1=t,r.y1=e+n/2,r.x2=t+i,r.y2=e+n/2},rect:function(t,e,i,n,r){r.x=t,r.y=e,r.width=i,r.height=n},roundRect:function(t,e,i,n,r){r.x=t,r.y=e,r.width=i,r.height=n,r.r=Math.min(i,n)/4},square:function(t,e,i,n,r){var o=Math.min(i,n);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.r=Math.min(i,n)/2},diamond:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.width=i,r.height=n},pin:function(t,e,i,n,r){r.x=t+i/2,r.y=e+n/2,r.width=i,r.height=n},arrow:function(t,e,i,n,r){r.x=t+i/2,r.y=e+n/2,r.width=i,r.height=n},triangle:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.width=i,r.height=n}},v={};Object(n["k"])(g,(function(t,e){v[e]=new t}));var _=r["b"].extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,i){var n=Object(u["d"])(t,e,i),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.position&&(n.y=i.y+.4*i.height),n},buildPath:function(t,e,i){var n=e.symbolType;if("none"!==n){var r=v[n];r||(n="rect",r=v[n]),y[n](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,i)}}});function b(t,e){if("image"!==this.type){var i=this.style;this.__isEmptyBrush?(i.stroke=t,i.fill=e||"#fff",i.lineWidth=2):"line"===this.shape.symbolType?i.stroke=t:i.fill=t,this.markRedraw()}}function x(t,e,i,n,r,o,s){var a,u=0===t.indexOf("empty");return u&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),a=0===t.indexOf("image://")?l["makeImage"](t.slice(8),new c["a"](e,i,n,r),s?"center":"cover"):0===t.indexOf("path://")?l["makePath"](t.slice(7),{},new c["a"](e,i,n,r),s?"center":"cover"):new _({shape:{symbolType:t,x:e,y:i,width:n,height:r}}),a.__isEmptyBrush=u,a.setColor=b,o&&a.setColor(o),a}function w(t){return Object(n["s"])(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function S(t,e){if(null!=t)return Object(n["s"])(t)||(t=[t,t]),[Object(h["l"])(t[0],e[0])||0,Object(h["l"])(Object(n["M"])(t[1],t[0]),e[1])||0]}},a15b:function(t,e,i){"use strict";var n=i("23e7"),r=i("44ad"),o=i("fc6a"),s=i("a640"),a=[].join,l=r!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},a236:function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend({name:"roundable",props:{rounded:[Boolean,String],tile:Boolean},computed:{roundedClasses(){const t=[],e="string"===typeof this.rounded?String(this.rounded):!0===this.rounded;if(this.tile)t.push("rounded-0");else if("string"===typeof e){const i=e.split(" ");for(const e of i)t.push("rounded-"+e)}else e&&t.push("rounded");return t.length>0?{[t.join(" ")]:!0}:{}}}})},a293:function(t,e,i){"use strict";var n=i("dd89");function r(){return!0}function o(t,e,i){if(!t||!1===s(t,i))return!1;const r=Object(n["a"])(e);if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&r.host===t.target)return!1;const o=("object"===typeof i.value&&i.value.include||(()=>[]))();return o.push(e),!o.some(e=>e.contains(t.target))}function s(t,e){const i="object"===typeof e.value&&e.value.closeConditional||r;return i(t)}function a(t,e,i){const n="function"===typeof i.value?i.value:i.value.handler;e._clickOutside.lastMousedownWasOutside&&o(t,e,i)&&setTimeout(()=>{s(t,i)&&n&&n(t)},0)}function l(t,e){const i=Object(n["a"])(t);e(document),i instanceof ShadowRoot&&e(i)}const c={inserted(t,e){const i=i=>a(i,t,e),n=i=>{t._clickOutside.lastMousedownWasOutside=o(i,t,e)};l(t,t=>{t.addEventListener("click",i,!0),t.addEventListener("mousedown",n,!0)}),t._clickOutside={lastMousedownWasOutside:!0,onClick:i,onMousedown:n}},unbind(t){t._clickOutside&&(l(t,e=>{e&&t._clickOutside&&(e.removeEventListener("click",t._clickOutside.onClick,!0),e.removeEventListener("mousedown",t._clickOutside.onMousedown,!0))}),delete t._clickOutside)}};e["a"]=c},a301:function(t,e,i){},a452:function(t,e,i){"use strict";var n=i("2b0e");function r(t="value",e="change"){return n["a"].extend({name:"proxyable",model:{prop:t,event:e},props:{[t]:{required:!1}},data(){return{internalLazyValue:this[t]}},computed:{internalValue:{get(){return this.internalLazyValue},set(t){t!==this.internalLazyValue&&(this.internalLazyValue=t,this.$emit(e,t))}}},watch:{[t](t){this.internalLazyValue=t}}})}const o=r();e["a"]=o},a4b4:function(t,e,i){var n=i("342f");t.exports=/web0s(?!.*chrome)/i.test(n)},a4d3:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),o=i("d066"),s=i("c430"),a=i("83ab"),l=i("4930"),c=i("d039"),u=i("5135"),h=i("e8b5"),d=i("1626"),p=i("861d"),f=i("d9b5"),m=i("825a"),g=i("7b0b"),y=i("fc6a"),v=i("a04b"),_=i("577e"),b=i("5c6c"),x=i("7c73"),w=i("df75"),S=i("241c"),T=i("057f"),C=i("7418"),O=i("06cf"),k=i("9bf2"),A=i("d1e7"),I=i("6eeb"),E=i("5692"),M=i("f772"),D=i("d012"),P=i("90e3"),L=i("b622"),z=i("e538"),j=i("746f"),B=i("d44e"),R=i("69f3"),F=i("b727").forEach,N=M("hidden"),V="Symbol",$="prototype",U=L("toPrimitive"),G=R.set,q=R.getterFor(V),H=Object[$],W=r.Symbol,Z=o("JSON","stringify"),X=O.f,Y=k.f,K=T.f,J=A.f,Q=E("symbols"),tt=E("op-symbols"),et=E("string-to-symbol-registry"),it=E("symbol-to-string-registry"),nt=E("wks"),rt=r.QObject,ot=!rt||!rt[$]||!rt[$].findChild,st=a&&c((function(){return 7!=x(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=X(H,e);n&&delete H[e],Y(t,e,i),n&&t!==H&&Y(H,e,n)}:Y,at=function(t,e){var i=Q[t]=x(W[$]);return G(i,{type:V,tag:t,description:e}),a||(i.description=e),i},lt=function(t,e,i){t===H&&lt(tt,e,i),m(t);var n=v(e);return m(i),u(Q,n)?(i.enumerable?(u(t,N)&&t[N][n]&&(t[N][n]=!1),i=x(i,{enumerable:b(0,!1)})):(u(t,N)||Y(t,N,b(1,{})),t[N][n]=!0),st(t,n,i)):Y(t,n,i)},ct=function(t,e){m(t);var i=y(e),n=w(i).concat(ft(i));return F(n,(function(e){a&&!ht.call(i,e)||lt(t,e,i[e])})),t},ut=function(t,e){return void 0===e?x(t):ct(x(t),e)},ht=function(t){var e=v(t),i=J.call(this,e);return!(this===H&&u(Q,e)&&!u(tt,e))&&(!(i||!u(this,e)||!u(Q,e)||u(this,N)&&this[N][e])||i)},dt=function(t,e){var i=y(t),n=v(e);if(i!==H||!u(Q,n)||u(tt,n)){var r=X(i,n);return!r||!u(Q,n)||u(i,N)&&i[N][n]||(r.enumerable=!0),r}},pt=function(t){var e=K(y(t)),i=[];return F(e,(function(t){u(Q,t)||u(D,t)||i.push(t)})),i},ft=function(t){var e=t===H,i=K(e?tt:y(t)),n=[];return F(i,(function(t){!u(Q,t)||e&&!u(H,t)||n.push(Q[t])})),n};if(l||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?_(arguments[0]):void 0,e=P(t),i=function(t){this===H&&i.call(tt,t),u(this,N)&&u(this[N],e)&&(this[N][e]=!1),st(this,e,b(1,t))};return a&&ot&&st(H,e,{configurable:!0,set:i}),at(e,t)},I(W[$],"toString",(function(){return q(this).tag})),I(W,"withoutSetter",(function(t){return at(P(t),t)})),A.f=ht,k.f=lt,O.f=dt,S.f=T.f=pt,C.f=ft,z.f=function(t){return at(L(t),t)},a&&(Y(W[$],"description",{configurable:!0,get:function(){return q(this).description}}),s||I(H,"propertyIsEnumerable",ht,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),F(w(nt),(function(t){j(t)})),n({target:V,stat:!0,forced:!l},{for:function(t){var e=_(t);if(u(et,e))return et[e];var i=W(e);return et[e]=i,it[i]=e,i},keyFor:function(t){if(!f(t))throw TypeError(t+" is not a symbol");if(u(it,t))return it[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!a},{create:ut,defineProperty:lt,defineProperties:ct,getOwnPropertyDescriptor:dt}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:pt,getOwnPropertySymbols:ft}),n({target:"Object",stat:!0,forced:c((function(){C.f(1)}))},{getOwnPropertySymbols:function(t){return C.f(g(t))}}),Z){var mt=!l||c((function(){var t=W();return"[null]"!=Z([t])||"{}"!=Z({a:t})||"{}"!=Z(Object(t))}));n({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,i){var n,r=[t],o=1;while(arguments.length>o)r.push(arguments[o++]);if(n=e,(p(e)||void 0!==t)&&!f(t))return h(e)||(e=function(t,e){if(d(n)&&(e=n.call(this,t,e)),!f(e))return e}),r[1]=e,Z.apply(null,r)}})}if(!W[$][U]){var gt=W[$].valueOf;I(W[$],U,(function(){return gt.apply(this,arguments)}))}B(W,V),D[N]=!0},a523:function(t,e,i){"use strict";i("20f6"),i("4b85");var n=i("2b0e");function r(t){return n["a"].extend({name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:i,data:n,children:r}){n.staticClass=`${t} ${n.staticClass||""}`.trim();const{attrs:o}=n;if(o){n.attrs={};const t=Object.keys(o).filter(t=>{if("slot"===t)return!1;const e=o[t];return t.startsWith("data-")?(n.attrs[t]=e,!1):e||"string"===typeof e});t.length&&(n.staticClass+=" "+t.join(" "))}return i.id&&(n.domProps=n.domProps||{},n.domProps.id=i.id),e(i.tag,n,r)}})}var o=i("d9f7");e["a"]=r("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:i,children:n}){let r;const{attrs:s}=i;return s&&(i.attrs={},r=Object.keys(s).filter(t=>{if("slot"===t)return!1;const e=s[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(i.domProps=i.domProps||{},i.domProps.id=e.id),t(e.tag,Object(o["a"])(i,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(r||[])}),n)}})},a62b:function(t,e,i){"use strict";var n=i("f2c0"),r=i("53a8"),o="value",s="\n  ",a={};function l(t){var e=Array.isArray(t),i=function(i){return e?t[i]:t};return function(n){var r=c(a.plainArray,n);if(r)return r;if(e&&n.length!==t.length)return"an array with "+t.length+" items";for(var o=0;o<n.length;o++)if(r=c(i(o),n[o]),r)return[o].concat(r)}}function c(t,e){if(null!=e||t.hasOwnProperty("__required")){var i=t(e);return i?Array.isArray(i)?i:[i]:void 0}}function u(t,e){var i=t.length,n=t[i-1],s=t.slice(0,i-1);return 0===s.length&&(s=[o]),e=r(e,{path:s}),"function"===typeof n?n(e):f(e,d(n))}function h(t){return t.length<2?t[0]:2===t.length?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t.slice(-1)}function d(t){return"must be "+p(t)+"."}function p(t){return/^an? /.test(t)?t:/^[aeiou]/i.test(t)?"an "+t:/^[a-z]/i.test(t)?"a "+t:t}function f(t,e){var i=m(t.path),n=t.path.join(".")+" "+e,r=i?"Item at position ":"";return r+n}function m(t){return"number"==typeof t[t.length-1]||"number"==typeof t[0]}function g(t){return Object.keys(t||{}).map((function(e){return{key:e,value:t[e]}}))}a.assert=function(t,e){return e=e||{},function(i){var n=c(t,i);if(n){var r=u(n,e);throw e.apiName&&(r=e.apiName+": "+r),new Error(r)}}},a.shape=function(t){var e=g(t);return function(t){var i,n,r=c(a.plainObject,t);if(r)return r;for(var l=[],h=0;h<e.length;h++)i=e[h].key,n=e[h].value,r=c(n,t[i]),r&&l.push([i].concat(r));return l.length<2?l[0]:function(t){l=l.map((function(e){var i=e[0],n=u(e,t).split("\n").join(s);return"- "+i+": "+n}));var e=t.path.join("."),i=e===o?"":" of "+e;return"The following properties"+i+" have invalid values:"+s+l.join(s)}}},a.strictShape=function(t){var e=a.shape(t);return function(i){var n=e(i);if(n)return n;var r=Object.keys(i).reduce((function(e,i){return void 0===t[i]&&e.push(i),e}),[]);return 0!==r.length?function(){return"The following keys are invalid: "+r.join(", ")}:void 0}},a.arrayOf=function(t){return l(t)},a.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return l(t)},a.required=function(t){function e(e){return null==e?function(t){return f(t,m(t.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return e.__required=!0,e},a.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(e){var i=t.map((function(t){return c(t,e)})).filter(Boolean);if(i.length===t.length)return i.every((function(t){return 1===t.length&&"string"===typeof t[0]}))?h(i.map((function(t){return t[0]}))):i.reduce((function(t,e){return e.length>t.length?e:t}))}},a.equal=function(t){return function(e){if(e!==t)return JSON.stringify(t)}},a.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),e=t.map((function(t){return a.equal(t)}));return a.oneOfType.apply(this,e)},a.range=function(t){var e=t[0],i=t[1];return function(t){var n=c(a.number,t);if(n||t<e||t>i)return"number between "+e+" & "+i+" (inclusive)"}},a.any=function(){},a.boolean=function(t){if("boolean"!==typeof t)return"boolean"},a.number=function(t){if("number"!==typeof t)return"number"},a.plainArray=function(t){if(!Array.isArray(t))return"array"},a.plainObject=function(t){if(!n(t))return"object"},a.string=function(t){if("string"!==typeof t)return"string"},a.func=function(t){if("function"!==typeof t)return"function"},a.validate=c,a.processMessage=u,t.exports=a},a62c:function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function o(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(t,e,i,n,o){if("function"!==typeof i)throw new TypeError("The listener must be a function");var a=new s(i,n||t,o),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],a]:t._events[l].push(a):(t._events[l]=a,t._eventsCount++),t}function l(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),c.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},c.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},c.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},c.prototype.emit=function(t,e,i,n,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var l,c,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,n),!0;case 5:return u.fn.call(u.context,e,i,n,o),!0;case 6:return u.fn.call(u.context,e,i,n,o,s),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,i);break;case 4:u[c].fn.call(u[c].context,e,i,n);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},c.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},c.prototype.removeListener=function(t,e,i,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return l(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||n&&!s.once||i&&s.context!==i||l(this,o);else{for(var a=0,c=[],u=s.length;a<u;a++)(s[a].fn!==e||n&&!s[a].once||i&&s[a].context!==i)&&c.push(s[a]);c.length?this._events[o]=1===c.length?c[0]:c:l(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&l(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c},a630:function(t,e,i){var n=i("23e7"),r=i("4df4"),o=i("1c7e"),s=!o((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:s},{from:r})},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},a79d:function(t,e,i){"use strict";var n=i("23e7"),r=i("c430"),o=i("fea9"),s=i("d039"),a=i("d066"),l=i("1626"),c=i("4840"),u=i("cdf9"),h=i("6eeb"),d=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));if(n({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(t){var e=c(this,a("Promise")),i=l(t);return this.then(i?function(i){return u(e,t()).then((function(){return i}))}:t,i?function(i){return u(e,t()).then((function(){throw i}))}:t)}}),!r&&l(o)){var p=a("Promise").prototype["finally"];o.prototype["finally"]!==p&&h(o.prototype,"finally",p,{unsafe:!0})}},a9ad:function(t,e,i){"use strict";var n=i("2b0e"),r=i("d9bd"),o=i("7bc6");e["a"]=n["a"].extend({name:"colorable",props:{color:String},methods:{setBackgroundColor(t,e={}){return"string"===typeof e.style?(Object(r["b"])("style must be an object",this),e):"string"===typeof e.class?(Object(r["b"])("class must be an object",this),e):(Object(o["d"])(t)?e.style={...e.style,"background-color":""+t,"border-color":""+t}:t&&(e.class={...e.class,[t]:!0}),e)},setTextColor(t,e={}){if("string"===typeof e.style)return Object(r["b"])("style must be an object",this),e;if("string"===typeof e.class)return Object(r["b"])("class must be an object",this),e;if(Object(o["d"])(t))e.style={...e.style,color:""+t,"caret-color":""+t};else if(t){const[i,n]=t.toString().trim().split(" ",2);e.class={...e.class,[i+"--text"]:!0},n&&(e.class["text--"+n]=!0)}return e}}})},a9e3:function(t,e,i){"use strict";var n=i("83ab"),r=i("da84"),o=i("94ca"),s=i("6eeb"),a=i("5135"),l=i("c6b6"),c=i("7156"),u=i("d9b5"),h=i("c04e"),d=i("d039"),p=i("7c73"),f=i("241c").f,m=i("06cf").f,g=i("9bf2").f,y=i("58a8").trim,v="Number",_=r[v],b=_.prototype,x=l(p(b))==v,w=function(t){if(u(t))throw TypeError("Cannot convert a Symbol value to a number");var e,i,n,r,o,s,a,l,c=h(t,"number");if("string"==typeof c&&c.length>2)if(c=y(c),e=c.charCodeAt(0),43===e||45===e){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(o=c.slice(2),s=o.length,a=0;a<s;a++)if(l=o.charCodeAt(a),l<48||l>r)return NaN;return parseInt(o,n)}return+c};if(o(v,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var S,T=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof T&&(x?d((function(){b.valueOf.call(i)})):l(i)!=v)?c(new _(w(e)),i,T):w(e)},C=n?f(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),O=0;C.length>O;O++)a(_,S=C[O])&&!a(T,S)&&g(T,S,m(_,S));T.prototype=b,b.constructor=T,s(r,v,T)}},ac6d:function(t,e,i){},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},adda:function(t,e,i){"use strict";i("8efc");var n=i("90a2"),r=(i("36a7"),i("24b2")),o=i("58df"),s=Object(o["a"])(r["a"]).extend({name:"v-responsive",props:{aspectRatio:[String,Number],contentClass:String},computed:{computedAspectRatio(){return Number(this.aspectRatio)},aspectStyle(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-responsive__content",class:this.contentClass},this.$slots.default)}},render(t){return t("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),a=s,l=i("7560"),c=i("d9f7"),u=i("d9bd");const h="undefined"!==typeof window&&"IntersectionObserver"in window;e["a"]=Object(o["a"])(a,l["a"]).extend({name:"v-img",directives:{intersect:n["a"]},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc(){return this.src&&"object"===typeof this.src?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];const t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push(`linear-gradient(${this.gradient})`),e&&t.push(`url("${e}")`);const i=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[i]):i}},watch:{src(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted(){this.init()},methods:{init(t,e,i){if(!h||i||this.eager){if(this.normalisedSrc.lazySrc){const t=new Image;t.src=this.normalisedSrc.lazySrc,this.pollForSize(t,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError(){this.hasError=!0,this.$emit("error",this.src)},getSrc(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage(){const t=new Image;this.image=t,t.onload=()=>{t.decode?t.decode().catch(t=>{Object(u["c"])("Failed to decode image, trying to render anyway\n\nsrc: "+this.normalisedSrc.src+(t.message?"\nOriginal error: "+t.message:""),this)}).then(this.onLoad):this.onLoad()},t.onerror=this.onError,this.hasError=!1,this.sizes&&(t.sizes=this.sizes),this.normalisedSrc.srcset&&(t.srcset=this.normalisedSrc.srcset),t.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(t),this.getSrc()},pollForSize(t,e=100){const i=()=>{const{naturalHeight:n,naturalWidth:r}=t;n||r?(this.naturalWidth=r,this.calculatedAspectRatio=r/n):t.complete||!this.isLoading||this.hasError||null==e||setTimeout(i,e)};i()},genContent(){const t=a.options.methods.genContent.call(this);return this.naturalWidth&&this._b(t.data,"div",{style:{width:this.naturalWidth+"px"}}),t},__genPlaceholder(){if(this.$slots.placeholder){const t=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},t):t[0]}}},render(t){const e=a.options.render.call(this,t),i=Object(c["a"])(e.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:h?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,i,e.children)}})},addb:function(t,e){var i=Math.floor,n=function(t,e){var s=t.length,a=i(s/2);return s<8?r(t,e):o(n(t.slice(0,a),e),n(t.slice(a),e),e)},r=function(t,e){var i,n,r=t.length,o=1;while(o<r){n=o,i=t[o];while(n&&e(t[n-1],i)>0)t[n]=t[--n];n!==o++&&(t[n]=i)}return t},o=function(t,e,i){var n=t.length,r=e.length,o=0,s=0,a=[];while(o<n||s<r)o<n&&s<r?a.push(i(t[o],e[s])<=0?t[o++]:e[s++]):a.push(o<n?t[o++]:e[s++]);return a};t.exports=n},ae69:function(t,e,i){"use strict";var n=i("21a1"),r=i("cbe5"),o=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),s=function(t){function e(e){return t.call(this,e)||this}return Object(n["a"])(e,t),e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){var i=.5522848,n=e.cx,r=e.cy,o=e.rx,s=e.ry,a=o*i,l=s*i;t.moveTo(n-o,r),t.bezierCurveTo(n-o,r-l,n-a,r-s,n,r-s),t.bezierCurveTo(n+a,r-s,n+o,r-l,n+o,r),t.bezierCurveTo(n+o,r+l,n+a,r+s,n,r+s),t.bezierCurveTo(n-a,r+s,n-o,r+l,n-o,r),t.closePath()},e}(r["b"]);s.prototype.type="ellipse",e["a"]=s},ae93:function(t,e,i){"use strict";var n,r,o,s=i("d039"),a=i("1626"),l=i("7c73"),c=i("e163"),u=i("6eeb"),h=i("b622"),d=i("c430"),p=h("iterator"),f=!1;[].keys&&(o=[].keys(),"next"in o?(r=c(c(o)),r!==Object.prototype&&(n=r)):f=!0);var m=void 0==n||s((function(){var t={};return n[p].call(t)!==t}));m?n={}:d&&(n=l(n)),a(n[p])||u(n,p,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},af2b:function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium(){return Boolean(!this.xSmall&&!this.small&&!this.large&&!this.xLarge)},sizeableClasses(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},af5c:function(t,e,i){"use strict";i.d(e,"a",(function(){return K}));var n=i("6679"),r=i("7fae"),o=i("6d8b"),s=i("2dc5"),a=i("2306"),l=i("76a5"),c=i("deab"),u=i("cd33"),h=i("607d"),d=i("88b3"),p=i("e0d3"),f=Object(p["l"])(),m=o["d"],g=o["c"],y=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,i,n){var r=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==r||this._lastStatus!==a){this._lastValue=r,this._lastStatus=a;var l=this._group,c=this._handle;if(!a||"hide"===a)return l&&l.hide(),void(c&&c.hide());l&&l.show(),c&&c.show();var u={};this.makeElOption(u,r,t,e,i);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=h;var d=this._moveAnimation=this.determineAnimation(t,e);if(l){var p=o["i"](v,e,d);this.updatePointerEl(l,u,p),this.updateLabelEl(l,u,p,e)}else l=this._group=new s["a"],this.createPointerEl(l,u,t,e),this.createLabelEl(l,u,t,e),i.getZr().add(l);w(l,e,!0),this._renderHandle(r)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var i=e.get("animation"),n=t.axis,r="category"===n.type,o=e.get("snap");if(!o&&!r)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(r&&n.getBandWidth()>s)return!0;if(o){var a=u["c"](t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/a>s}return!1}return!0===i},t.prototype.makeElOption=function(t,e,i,n,r){},t.prototype.createPointerEl=function(t,e,i,n){var r=e.pointer;if(r){var o=f(t).pointerEl=new a[r.type](m(e.pointer));t.add(o)}},t.prototype.createLabelEl=function(t,e,i,n){if(e.label){var r=f(t).labelEl=new l["a"](m(e.label));t.add(r),b(r,n)}},t.prototype.updatePointerEl=function(t,e,i){var n=f(t).pointerEl;n&&e.pointer&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,i,n){var r=f(t).labelEl;r&&(r.setStyle(e.label.style),i(r,{x:e.label.x,y:e.label.y}),b(r,n))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),r=this._handle,s=i.getModel("handle"),l=i.get("status");if(!s.get("show")||!l||"hide"===l)return r&&n.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=a["createIcon"](s.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){h["f"](t.event)},onmousedown:g(this._onHandleDragMove,this,0,0),drift:g(this._onHandleDragMove,this),ondragend:g(this._onHandleDragEnd,this)}),n.add(r)),w(r,i,!1),r.setStyle(s.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var c=s.get("size");o["s"](c)||(c=[c,c]),r.scaleX=c[0]/2,r.scaleY=c[1]/2,d["a"](this,"_doDispatchAxisPointer",s.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){v(this._axisPointerModel,!e&&this._moveAnimation,this._handle,x(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(x(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(x(n)),f(i).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}},t}();function v(t,e,i,n){_(f(i).lastProp,n)||(f(i).lastProp=n,e?c["f"](i,n,t):(i.stopAnimation(),i.attr(n)))}function _(t,e){if(o["z"](t)&&o["z"](e)){var i=!0;return o["k"](e,(function(e,n){i=i&&_(t[n],e)})),!!i}return t===e}function b(t,e){t[e.get(["label","show"])?"show":"hide"]()}function x(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function w(t,e,i){var n=e.get("z"),r=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=r&&(t.zlevel=r),t.silent=i)}))}var S=y,T=i("ff2e"),C=i("0156"),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["a"])(e,t),e.prototype.makeElOption=function(t,e,i,n,r){var o=i.axis,s=o.grid,a=n.get("type"),l=k(s,o).getOtherAxis(o).getGlobalExtent(),c=o.toGlobalCoord(o.dataToCoord(e,!0));if(a&&"none"!==a){var u=T["b"](n),h=A[a](o,c,l);h.style=u,t.graphicKey=h.type,t.pointer=h}var d=C["c"](s.model,i);T["a"](e,t,d,i,n,r)},e.prototype.getHandleTransform=function(t,e,i){var n=C["c"](e.axis.grid.model,e,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var r=T["c"](e.axis,t,n);return{x:r[0],y:r[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,i,n){var r=i.axis,o=r.grid,s=r.getGlobalExtent(!0),a=k(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,c=[t.x,t.y];c[l]+=e[l],c[l]=Math.min(s[1],c[l]),c[l]=Math.max(s[0],c[l]);var u=(a[1]+a[0])/2,h=[u,u];h[l]=c[l];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:h,tooltipOption:d[l]}},e}(S);function k(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var A={line:function(t,e,i){var n=T["e"]([e,i[0]],[e,i[1]],I(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,i){var n=Math.max(1,t.getBandWidth()),r=i[1]-i[0];return{type:"Rect",shape:T["f"]([e-n/2,i[0]],[n,r],I(t))}}};function I(t){return"x"===t.dim?0:1}var E=O,M=i("6cb7"),D=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Object(r["a"])(e,t),e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(M["a"]),P=D,L=i("17d6"),z=i("b12f"),j=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Object(r["a"])(e,t),e.prototype.render=function(t,e,i){var n=e.getComponent("tooltip"),r=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";L["a"]("axisPointer",i,(function(t,e,i){"none"!==r&&("leave"===t||r.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){L["b"]("axisPointer",e)},e.prototype.dispose=function(t,e){L["b"]("axisPointer",e)},e.type="axisPointer",e}(z["a"]),B=j,R=i("133d"),F=Object(p["l"])();function N(t,e,i){var n=t.currTrigger,r=[t.x,t.y],s=t,a=t.dispatchAction||Object(o["c"])(i.dispatchAction,i),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){Y(r)&&(r=Object(R["a"])({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},e).point);var c=Y(r),u=s.axesInfo,h=l.axesInfo,d="leave"===n||Y(r),p={},f={},m={list:[],map:{}},g={showPointer:Object(o["i"])(U,f),showTooltip:Object(o["i"])(G,m)};Object(o["k"])(l.coordSysMap,(function(t,e){var i=c||t.containPoint(r);Object(o["k"])(l.coordSysAxesInfo[e],(function(t,e){var n=t.axis,o=Z(u,t);if(!d&&i&&(!u||o)){var s=o&&o.value;null!=s||c||(s=n.pointToData(r)),null!=s&&V(t,s,g,!1,p)}}))}));var y={};return Object(o["k"])(h,(function(t,e){var i=t.linkGroup;i&&!f[e]&&Object(o["k"])(i.axesInfo,(function(e,n){var r=f[n];if(e!==t&&r){var o=r.value;i.mapper&&(o=t.axis.scale.parse(i.mapper(o,X(e),X(t)))),y[t.key]=o}}))})),Object(o["k"])(y,(function(t,e){V(h[e],t,g,!0,p)})),q(f,h,p),H(m,r,t,a),W(h,a,i),p}}function V(t,e,i,n,r){var s=t.axis;if(!s.scale.isBlank()&&s.containData(e))if(t.involveSeries){var a=$(e,t),l=a.payloadBatch,c=a.snapToValue;l[0]&&null==r.seriesIndex&&Object(o["m"])(r,l[0]),!n&&t.snap&&s.containData(c)&&null!=c&&(e=c),i.showPointer(t,e,l),i.showTooltip(t,a,c)}else i.showPointer(t,e)}function $(t,e){var i=e.axis,n=i.dim,r=t,s=[],a=Number.MAX_VALUE,l=-1;return Object(o["k"])(e.seriesModels,(function(e,c){var u,h,d=e.getData().mapDimensionsAll(n);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(d,t,i);h=p.dataIndices,u=p.nestestValue}else{if(h=e.getData().indicesOfNearest(d[0],t,"category"===i.type?.5:null),!h.length)return;u=e.getData().get(d[0],h[0])}if(null!=u&&isFinite(u)){var f=t-u,m=Math.abs(f);m<=a&&((m<a||f>=0&&l<0)&&(a=m,l=f,r=u,s.length=0),Object(o["k"])(h,(function(t){s.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:s,snapToValue:r}}function U(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function G(t,e,i,n){var r=i.payloadBatch,o=e.axis,s=o.model,a=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,c=u["e"](l),h=t.map[c];h||(h=t.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function q(t,e,i){var n=i.axesInfo=[];Object(o["k"])(e,(function(e,i){var r=e.axisPointerModel.option,o=t[i];o?(!e.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(r.status="hide"),"show"===r.status&&n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})}))}function H(t,e,i,n){if(!Y(e)&&t.list.length){var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}else n({type:"hideTip"})}function W(t,e,i){var n=i.getZr(),r="axisPointerLastHighlights",s=F(n)[r]||{},a=F(n)[r]={};Object(o["k"])(t,(function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&Object(o["k"])(i.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t}))}));var l=[],c=[];Object(o["k"])(s,(function(t,e){!a[e]&&c.push(t)})),Object(o["k"])(a,(function(t,e){!s[e]&&l.push(t)})),c.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:c}),l.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}function Z(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function X(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function Y(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function K(t){n["a"].registerAxisPointerClass("CartesianAxisPointer",E),t.registerComponentModel(P),t.registerComponentView(B),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Object(o["s"])(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Object(u["a"])(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},N)}},afdd:function(t,e,i){"use strict";var n=i("8336");e["a"]=n["a"]},b041:function(t,e,i){"use strict";var n=i("00ee"),r=i("f5df");t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},b0af:function(t,e,i){"use strict";i("615b");var n=i("10d2"),r=i("297c"),o=i("1c87"),s=i("58df");e["a"]=Object(s["a"])(r["a"],o["a"],n["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...o["a"].options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...n["a"].options.computed.classes.call(this)}},styles(){const t={...n["a"].options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=r["a"].options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:i}=this.generateRouteLink();return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}})},b0c0:function(t,e,i){var n=i("83ab"),r=i("5e77").EXISTS,o=i("9bf2").f,s=Function.prototype,a=s.toString,l=/^\s*function ([^ (]*)/,c="name";n&&!r&&o(s,c,{configurable:!0,get:function(){try{return a.call(this).match(l)[1]}catch(t){return""}}})},b12f:function(t,e,i){"use strict";var n=i("2dc5"),r=i("8918"),o=i("625e"),s=function(){function t(){this.group=new n["a"],this.uid=r["c"]("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,i,n){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,i,n){},t.prototype.updateLayout=function(t,e,i,n){},t.prototype.updateVisual=function(t,e,i,n){},t.prototype.blurSeries=function(t,e){},t}();o["b"](s),o["c"](s),e["a"]=s},b50d:function(t,e,i){"use strict";var n=i("c532"),r=i("467f"),o=i("7aac"),s=i("30b5"),a=i("83b9"),l=i("c345"),c=i("3934"),u=i("2d83");t.exports=function(t){return new Promise((function(e,i){var h=t.data,d=t.headers,p=t.responseType;n.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+g)}var y=a(t.baseURL,t.url);function v(){if(f){var n="getAllResponseHeaders"in f?l(f.getAllResponseHeaders()):null,o=p&&"text"!==p&&"json"!==p?f.response:f.responseText,s={data:o,status:f.status,statusText:f.statusText,headers:n,config:t,request:f};r(e,i,s),f=null}}if(f.open(t.method.toUpperCase(),s(y,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(i(u("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){i(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(u(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var _=(t.withCredentials||c(y))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;_&&(d[t.xsrfHeaderName]=_)}"setRequestHeader"in f&&n.forEach(d,(function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete d[e]:f.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),p&&"json"!==p&&(f.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),i(t),f=null)})),h||(h=null),f.send(h)}))}},b575:function(t,e,i){var n,r,o,s,a,l,c,u,h=i("da84"),d=i("06cf").f,p=i("2cf49").set,f=i("1cdc"),m=i("d4c3"),g=i("a4b4"),y=i("605d"),v=h.MutationObserver||h.WebKitMutationObserver,_=h.document,b=h.process,x=h.Promise,w=d(h,"queueMicrotask"),S=w&&w.value;S||(n=function(){var t,e;y&&(t=b.domain)&&t.exit();while(r){e=r.fn,r=r.next;try{e()}catch(i){throw r?s():o=void 0,i}}o=void 0,t&&t.enter()},f||y||g||!v||!_?!m&&x&&x.resolve?(c=x.resolve(void 0),c.constructor=x,u=c.then,s=function(){u.call(c,n)}):s=y?function(){b.nextTick(n)}:function(){p.call(h,n)}:(a=!0,l=_.createTextNode(""),new v(n).observe(l,{characterData:!0}),s=function(){l.data=a=!a})),t.exports=S||function(t){var e={fn:t,next:void 0};o&&(o.next=e),r||(r=e,s()),o=e}},b622:function(t,e,i){var n=i("da84"),r=i("5692"),o=i("5135"),s=i("90e3"),a=i("4930"),l=i("fdbf"),c=r("wks"),u=n.Symbol,h=l?u:u&&u.withoutSetter||s;t.exports=function(t){return o(c,t)&&(a||"string"==typeof c[t])||(a&&o(u,t)?c[t]=u[t]:c[t]=h("Symbol."+t)),c[t]}},b64b:function(t,e,i){var n=i("23e7"),r=i("7b0b"),o=i("df75"),s=i("d039"),a=s((function(){o(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(t){return o(r(t))}})},b727:function(t,e,i){var n=i("0366"),r=i("44ad"),o=i("7b0b"),s=i("50c4"),a=i("65f0"),l=[].push,c=function(t){var e=1==t,i=2==t,c=3==t,u=4==t,h=6==t,d=7==t,p=5==t||h;return function(f,m,g,y){for(var v,_,b=o(f),x=r(b),w=n(m,g,3),S=s(x.length),T=0,C=y||a,O=e?C(f,S):i||d?C(f,0):void 0;S>T;T++)if((p||T in x)&&(v=x[T],_=w(v,T,b),t))if(e)O[T]=_;else if(_)switch(t){case 3:return!0;case 5:return v;case 6:return T;case 2:l.call(O,v)}else switch(t){case 4:return!1;case 7:l.call(O,v)}return h?-1:c||u?u:O}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},b7d9:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return l}));var n=i("3842"),r=i("6d8b"),o=i("edae");function s(t,e){var i=e&&e.type;return"ordinal"===i?t:("time"===i&&"number"!==typeof t&&null!=t&&"-"!==t&&(t=+Object(n["k"])(t)),null==t||""===t?NaN:+t)}Object(r["g"])({number:function(t){return parseFloat(t)},time:function(t){return+Object(n["k"])(t)},trim:function(t){return"string"===typeof t?Object(r["Q"])(t):t}});var a={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},l=(function(){function t(t,e){if("number"!==typeof e){var i="";0,Object(o["c"])(i)}this._opFn=a[t],this._rvalFloat=Object(n["j"])(e)}t.prototype.evaluate=function(t){return"number"===typeof t?this._opFn(t,this._rvalFloat):this._opFn(Object(n["j"])(t),this._rvalFloat)}}(),function(){function t(t,e){var i="desc"===t;this._resultLT=i?1:-1,null==e&&(e=i?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var i=typeof t,r=typeof e,o="number"===i?t:Object(n["j"])(t),s="number"===r?e:Object(n["j"])(e),a=isNaN(o),l=isNaN(s);if(a&&(o=this._incomparable),l&&(s=this._incomparable),a&&l){var c="string"===i,u="string"===r;c&&(o=u?t:0),u&&(s=c?e:0)}return o<s?this._resultLT:o>s?-this._resultLT:0},t}());(function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Object(n["j"])(e)}t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var i=typeof t;i===this._rvalTypeof||"number"!==i&&"number"!==this._rvalTypeof||(e=Object(n["j"])(t)===this._rvalFloat)}return this._isEQ?e:!e}})()},b810:function(t,e,i){"use strict";var n=i("ce7e");e["a"]=n["a"]},b848:function(t,e,i){"use strict";var n=i("58df");function r(t){const e=[];for(let i=0;i<t.length;i++){const n=t[i];n.isActive&&n.isDependent?e.push(n):e.push(...r(n.$children))}return e}e["a"]=Object(n["a"])().extend({name:"dependent",data(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive(t){if(t)return;const e=this.getOpenDependents();for(let i=0;i<e.length;i++)e[i].isActive=!1}},methods:{getOpenDependents(){return this.closeDependents?r(this.$children):[]},getOpenDependentElements(){const t=[],e=this.getOpenDependents();for(let i=0;i<e.length;i++)t.push(...e[i].getClickableDependentElements());return t},getClickableDependentElements(){const t=[this.$el];return this.$refs.content&&t.push(this.$refs.content),this.overlay&&t.push(this.overlay.$el),t.push(...this.getOpenDependentElements()),t}}})},b974:function(t,e,i){"use strict";i("4ff9"),i("68dd");var n=i("34ef"),r=(i("ee6f"),i("480e")),o=i("4ad4"),s=i("16b7"),a=i("b848"),l=i("fe6c"),c=i("21be"),u=i("75eb"),h=i("58df"),d=i("80d2");const p=Object(h["a"])(c["a"],l["a"],o["a"],u["a"]);var f=p.extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,openOnClick:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:()=>({activatorNode:[],absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},relativeYOffset:0,hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}),computed:{computedLeft(){const t=this.dimensions.activator,e=this.dimensions.content,i=(!1!==this.attach?t.offsetLeft:t.left)||0,n=Math.max(t.width,e.width);let r=0;if(r+=this.left?i-(n-t.width):i,this.offsetX){const e=isNaN(Number(this.maxWidth))?t.width:Math.min(t.width,Number(this.maxWidth));r+=this.left?-e:t.width}return this.nudgeLeft&&(r-=parseInt(this.nudgeLeft)),this.nudgeRight&&(r+=parseInt(this.nudgeRight)),r},computedTop(){const t=this.dimensions.activator,e=this.dimensions.content;let i=0;return this.top&&(i+=t.height-e.height),!1!==this.attach?i+=t.offsetTop:i+=t.top+this.pageYOffset,this.offsetY&&(i+=this.top?-t.height:t.height),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),i},hasActivator(){return!!this.$slots.activator||!!this.$scopedSlots.activator||!!this.activator||!!this.inputActivator},absoluteYOffset(){return this.pageYOffset-this.relativeYOffset}},watch:{disabled(t){t&&this.callDeactivate()},isActive(t){this.disabled||(t?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount(){this.hasWindow="undefined"!==typeof window,this.hasWindow&&window.addEventListener("resize",this.updateDimensions,!1)},beforeDestroy(){this.hasWindow&&window.removeEventListener("resize",this.updateDimensions,!1)},methods:{absolutePosition(){return{offsetTop:0,offsetLeft:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate(){},calcLeft(t){return Object(d["g"])(!1!==this.attach?this.computedLeft:this.calcXOverflow(this.computedLeft,t))},calcTop(){return Object(d["g"])(!1!==this.attach?this.computedTop:this.calcYOverflow(this.computedTop))},calcXOverflow(t,e){const i=t+e-this.pageWidth+12;return t=(!this.left||this.right)&&i>0?Math.max(t-i,0):Math.max(t,12),t+this.getOffsetLeft()},calcYOverflow(t){const e=this.getInnerHeight(),i=this.absoluteYOffset+e,n=this.dimensions.activator,r=this.dimensions.content.height,o=t+r,s=i<o;return s&&this.offsetOverflow&&n.top>r?t=this.pageYOffset+(n.top-r):s&&!this.allowOverflow?t=i-r-12:t<this.absoluteYOffset&&!this.allowOverflow&&(t=this.absoluteYOffset+12),t<12?12:t},callActivate(){this.hasWindow&&this.activate()},callDeactivate(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed(){if(!1!==this.attach)return;let t=this.getActivator();while(t){if("fixed"===window.getComputedStyle(t).position)return void(this.activatorFixed=!0);t=t.offsetParent}this.activatorFixed=!1},deactivate(){},genActivatorListeners(){const t=o["a"].options.methods.genActivatorListeners.call(this),e=t.click;return t.click=t=>{this.openOnClick&&e&&e(t),this.absoluteX=t.clientX,this.absoluteY=t.clientY},t},getInnerHeight(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect(t){const e=t.getBoundingClientRect();return{top:Math.round(e.top),left:Math.round(e.left),bottom:Math.round(e.bottom),right:Math.round(e.right),width:Math.round(e.width),height:Math.round(e.height)}},measure(t){if(!t||!this.hasWindow)return null;const e=this.getRoundedBoundedClientRect(t);if(!1!==this.attach){const i=window.getComputedStyle(t);e.left=parseInt(i.marginLeft),e.top=parseInt(i.marginTop)}return e},sneakPeek(t){requestAnimationFrame(()=>{const e=this.$refs.content;e&&"none"===e.style.display?(e.style.display="inline-block",t(),e.style.display="none"):t()})},startTransition(){return new Promise(t=>requestAnimationFrame(()=>{this.isContentActive=this.hasJustFocused=this.isActive,t()}))},updateDimensions(){this.hasWindow="undefined"!==typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;const t={activator:{...this.dimensions.activator},content:{...this.dimensions.content}};if(!this.hasActivator||this.absolute)t.activator=this.absolutePosition();else{const e=this.getActivator();if(!e)return;t.activator=this.measure(e),t.activator.offsetLeft=e.offsetLeft,!1!==this.attach?t.activator.offsetTop=e.offsetTop:t.activator.offsetTop=0}this.sneakPeek(()=>{if(this.$refs.content){if(this.$refs.content.offsetParent){const e=this.getRoundedBoundedClientRect(this.$refs.content.offsetParent);this.relativeYOffset=window.pageYOffset+e.top,t.activator.top-=this.relativeYOffset,t.activator.left-=window.pageXOffset+e.left}t.content=this.measure(this.$refs.content)}this.dimensions=t})}}}),m=i("e4d3"),g=i("a236"),y=i("f2e7"),v=i("7560"),_=i("a293"),b=i("dc22"),x=i("d9bd"),w=i("7d8f");const S=Object(h["a"])(a["a"],s["a"],f,m["a"],g["a"],y["a"],v["a"]);var T=S.extend({name:"v-menu",directives:{ClickOutside:_["a"],Resize:b["a"]},provide(){return{isInMenu:!0,theme:this.theme}},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile(){return this.tiles[this.listIndex]},calculatedLeft(){const t=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?Object(d["g"])(this.calcXOverflow(this.calcLeftAuto(),t))||"0":this.calcLeft(t)||"0"},calculatedMaxHeight(){const t=this.auto?"200px":Object(d["g"])(this.maxHeight);return t||"0"},calculatedMaxWidth(){return Object(d["g"])(this.maxWidth)||"0"},calculatedMinWidth(){if(this.minWidth)return Object(d["g"])(this.minWidth)||"0";const t=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),e=isNaN(parseInt(this.calculatedMaxWidth))?t:parseInt(this.calculatedMaxWidth);return Object(d["g"])(Math.min(e,t))||"0"},calculatedTop(){const t=this.auto?Object(d["g"])(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return t||"0"},hasClickableTiles(){return Boolean(this.tiles.find(t=>t.tabIndex>-1))},styles(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive(t){t||(this.listIndex=-1)},isContentActive(t){this.hasJustFocused=t},listIndex(t,e){if(t in this.tiles){const e=this.tiles[t];e.classList.add("v-list-item--highlighted");const i=this.$refs.content.scrollTop,n=this.$refs.content.clientHeight;i>e.offsetTop-8?Object(w["b"])(e.offsetTop-e.clientHeight,{appOffset:!1,duration:300,container:this.$refs.content}):i+n<e.offsetTop+e.clientHeight+8&&Object(w["b"])(e.offsetTop-n+2*e.clientHeight,{appOffset:!1,duration:300,container:this.$refs.content})}e in this.tiles&&this.tiles[e].classList.remove("v-list-item--highlighted")}},created(){this.$attrs.hasOwnProperty("full-width")&&Object(x["e"])("full-width",this)},mounted(){this.isActive&&this.callActivate()},methods:{activate(){this.updateDimensions(),requestAnimationFrame(()=>{this.startTransition().then(()=>{this.$refs.content&&(this.calculatedTopAuto=this.calcTopAuto(),this.auto&&(this.$refs.content.scrollTop=this.calcScrollPosition()))})})},calcScrollPosition(){const t=this.$refs.content,e=t.querySelector(".v-list-item--active"),i=t.scrollHeight-t.offsetHeight;return e?Math.min(i,Math.max(0,e.offsetTop-t.offsetHeight/2+e.offsetHeight/2)):t.scrollTop},calcLeftAuto(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto(){const t=this.$refs.content,e=t.querySelector(".v-list-item--active");if(e||(this.selectedIndex=null),this.offsetY||!e)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(e);const i=e.offsetTop-this.calcScrollPosition(),n=t.querySelector(".v-list-item").offsetTop;return this.computedTop-i-n-1},changeListIndex(t){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(t.keyCode!==d["u"].tab){if(t.keyCode===d["u"].down)this.nextTile();else if(t.keyCode===d["u"].up)this.prevTile();else if(t.keyCode===d["u"].end)this.lastTile();else if(t.keyCode===d["u"].home)this.firstTile();else{if(t.keyCode!==d["u"].enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}t.preventDefault()}else this.isActive=!1},closeConditional(t){const e=t.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(e)},genActivatorAttributes(){const t=o["a"].options.methods.genActivatorAttributes.call(this);return this.activeTile&&this.activeTile.id?{...t,"aria-activedescendant":this.activeTile.id}:t},genActivatorListeners(){const t=f.options.methods.genActivatorListeners.call(this);return this.disableKeys||(t.keydown=this.onKeyDown),t},genTransition(){const t=this.genContent();return this.transition?this.$createElement("transition",{props:{name:this.transition}},[t]):t},genDirectives(){const t=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&t.push({name:"click-outside",value:{handler:()=>{this.isActive=!1},closeConditional:this.closeConditional,include:()=>[this.$el,...this.getOpenDependentElements()]}}),t},genContent(){const t={attrs:{...this.getScopeIdAttrs(),role:"role"in this.$attrs?this.$attrs.role:"menu"},staticClass:"v-menu__content",class:{...this.rootThemeClasses,...this.roundedClasses,"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive,[this.contentClass.trim()]:!0},style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:t=>{const e=t.target;e.getAttribute("disabled")||this.closeOnContentClick&&(this.isActive=!1)},keydown:this.onKeyDown}};return this.$listeners.scroll&&(t.on=t.on||{},t.on.scroll=this.$listeners.scroll),!this.disabled&&this.openOnHover&&(t.on=t.on||{},t.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(t.on=t.on||{},t.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",t,this.getContentSlot())},getTiles(){this.$refs.content&&(this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item")))},mouseEnterHandler(){this.runDelay("open",()=>{this.hasJustFocused||(this.hasJustFocused=!0)})},mouseLeaveHandler(t){this.runDelay("close",()=>{this.$refs.content.contains(t.relatedTarget)||requestAnimationFrame(()=>{this.isActive=!1,this.callDeactivate()})})},nextTile(){const t=this.tiles[this.listIndex+1];if(!t){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===t.tabIndex&&this.nextTile()},prevTile(){const t=this.tiles[this.listIndex-1];if(!t){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===t.tabIndex&&this.prevTile()},lastTile(){const t=this.tiles[this.tiles.length-1];t&&(this.listIndex=this.tiles.length-1,-1===t.tabIndex&&this.prevTile())},firstTile(){const t=this.tiles[0];t&&(this.listIndex=0,-1===t.tabIndex&&this.nextTile())},onKeyDown(t){if(t.keyCode===d["u"].esc){setTimeout(()=>{this.isActive=!1});const t=this.getActivator();this.$nextTick(()=>t&&t.focus())}else!this.isActive&&[d["u"].up,d["u"].down].includes(t.keyCode)&&(this.isActive=!0);this.$nextTick(()=>this.changeListIndex(t))},onResize(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render(t){const e={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return t("div",e,[!this.activator&&this.genActivator(),this.showLazyContent(()=>[this.$createElement(r["a"],{props:{root:!0,light:this.light,dark:this.dark}},[this.genTransition()])])])}}),C=T,O=(i("cf36"),i("5607")),k=i("2b0e"),A=i("132d"),I=i("a9ad"),E=i("d9f7"),M=k["a"].extend({name:"v-simple-checkbox",functional:!0,directives:{ripple:O["a"]},props:{...I["a"].options.props,...v["a"].options.props,disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}},render(t,{props:e,data:i,listeners:n}){const r=[];let o=e.offIcon;if(e.indeterminate?o=e.indeterminateIcon:e.value&&(o=e.onIcon),r.push(t(A["a"],I["a"].options.methods.setTextColor(e.value&&e.color,{props:{disabled:e.disabled,dark:e.dark,light:e.light}}),o)),e.ripple&&!e.disabled){const i=t("div",I["a"].options.methods.setTextColor(e.color,{staticClass:"v-input--selection-controls__ripple",directives:[{name:"ripple",value:{center:!0}}]}));r.push(i)}return t("div",Object(E["a"])(i,{class:{"v-simple-checkbox":!0,"v-simple-checkbox--disabled":e.disabled},on:{click:t=>{t.stopPropagation(),i.on&&i.on.input&&!e.disabled&&Object(d["B"])(i.on.input).forEach(t=>t(!e.value))}}}),[t("div",{staticClass:"v-input--selection-controls__input"},r)])}}),D=i("b810"),P=(i("0bc6"),Object(h["a"])(v["a"]).extend({name:"v-subheader",props:{inset:Boolean},render(t){return t("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})),L=P,z=i("da13"),j=i("1800"),B=i("5d23"),R=i("8860"),F=Object(h["a"])(I["a"],v["a"]).extend({name:"v-select-list",directives:{ripple:O["a"]},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:()=>[]}},computed:{parsedItems(){return this.selectedItems.map(t=>this.getValue(t))},tileActiveClass(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile(){const t={attrs:{role:void 0},on:{mousedown:t=>t.preventDefault()}};return this.$createElement(z["a"],t,[this.genTileContent(this.noDataText)])}},methods:{genAction(t,e){return this.$createElement(j["a"],[this.$createElement(M,{props:{color:this.color,value:e,ripple:!1},on:{input:()=>this.$emit("select",t)}})])},genDivider(t){return this.$createElement(D["a"],{props:t})},genFilteredText(t){if(t=t||"",!this.searchInput||this.noFilter)return Object(d["k"])(t);const{start:e,middle:i,end:n}=this.getMaskedCharacters(t);return`${Object(d["k"])(e)}${this.genHighlight(i)}${Object(d["k"])(n)}`},genHeader(t){return this.$createElement(L,{props:t},t.header)},genHighlight(t){return`<span class="v-list-item__mask">${Object(d["k"])(t)}</span>`},getMaskedCharacters(t){const e=(this.searchInput||"").toString().toLocaleLowerCase(),i=t.toLocaleLowerCase().indexOf(e);if(i<0)return{start:t,middle:"",end:""};const n=t.slice(0,i),r=t.slice(i,i+e.length),o=t.slice(i+e.length);return{start:n,middle:r,end:o}},genTile({item:t,index:e,disabled:i=null,value:n=!1}){n||(n=this.hasItem(t)),t===Object(t)&&(i=null!==i?i:this.getDisabled(t));const r={attrs:{"aria-selected":String(n),id:`list-item-${this._uid}-${e}`,role:"option"},on:{mousedown:t=>{t.preventDefault()},click:()=>i||this.$emit("select",t)},props:{activeClass:this.tileActiveClass,disabled:i,ripple:!0,inputValue:n}};if(!this.$scopedSlots.item)return this.$createElement(z["a"],r,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(t,n):null,this.genTileContent(t,e)]);const o=this,s=this.$scopedSlots.item({parent:o,item:t,attrs:{...r.attrs,...r.props},on:r.on});return this.needsTile(s)?this.$createElement(z["a"],r,s):s},genTileContent(t,e=0){const i=this.genFilteredText(this.getText(t));return this.$createElement(B["a"],[this.$createElement(B["b"],{domProps:{innerHTML:i}})])},hasItem(t){return this.parsedItems.indexOf(this.getValue(t))>-1},needsTile(t){return 1!==t.length||null==t[0].componentOptions||"v-list-item"!==t[0].componentOptions.Ctor.options.name},getDisabled(t){return Boolean(Object(d["o"])(t,this.itemDisabled,!1))},getText(t){return String(Object(d["o"])(t,this.itemText,t))},getValue(t){return Object(d["o"])(t,this.itemValue,this.getText(t))}},render(){const t=[],e=this.items.length;for(let i=0;i<e;i++){const e=this.items[i];this.hideSelected&&this.hasItem(e)||(null==e?t.push(this.genTile({item:e,index:i})):e.header?t.push(this.genHeader(e)):e.divider?t.push(this.genDivider(e)):t.push(this.genTile({item:e,index:i})))}return t.length||t.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&t.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&t.push(this.$slots["append-item"]),this.$createElement(R["a"],{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},t)}}),N=i("c37a"),V=i("8654"),$=i("8547"),U=k["a"].extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}});const G={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},q=Object(h["a"])(V["a"],$["a"],a["a"],U);e["a"]=q.extend().extend({name:"v-select",directives:{ClickOutside:_["a"]},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:()=>G},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes(){return{...V["a"].options.computed.classes.call(this),"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple}},computedItems(){return this.allItems},computedOwns(){return"list-"+this._uid},computedCounterValue(){const t=this.multiple?this.selectedItems:(this.getText(this.selectedItems[0])||"").toString();return"function"===typeof this.counterValue?this.counterValue(t):t.length},directives(){return this.isFocused?[{name:"click-outside",value:{handler:this.blur,closeConditional:this.closeConditional,include:()=>this.getOpenDependentElements()}}]:void 0},dynamicHeight(){return"auto"},hasChips(){return this.chips||this.smallChips},hasSlot(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty(){return this.selectedItems.length>0},listData(){const t=this.$vnode&&this.$vnode.context.$options._scopeId,e=t?{[t]:!0}:{};return{attrs:{...e,id:this.computedOwns},props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&Object(x["b"])("assert: staticList should not be called if slots are used"),this.$createElement(F,this.listData)},virtualizedItems(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:()=>!0,$_menuProps(){let t="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(t)&&(t=t.reduce((t,e)=>(t[e.trim()]=!0,t),{})),{...G,eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:t.offsetY?1:0,...t}}},watch:{internalValue(t){this.initialValue=t,this.setSelectedItems()},isMenuActive(t){window.setTimeout(()=>this.onMenuActiveChange(t))},items:{immediate:!0,handler(t){this.cacheItems&&this.$nextTick(()=>{this.cachedItems=this.filterDuplicates(this.cachedItems.concat(t))}),this.setSelectedItems()}}},methods:{blur(t){V["a"].options.methods.blur.call(this,t),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1,this.setMenuIndex(-1)},activateMenu(){this.isInteractive&&!this.isMenuActive&&(this.isMenuActive=!0)},clearableCallback(){this.setValue(this.multiple?[]:null),this.setMenuIndex(-1),this.$nextTick(()=>this.$refs.input&&this.$refs.input.focus()),this.openOnClear&&(this.isMenuActive=!0)},closeConditional(t){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(t.target))&&this.$el&&!this.$el.contains(t.target)&&t.target!==this.$el},filterDuplicates(t){const e=new Map;for(let i=0;i<t.length;++i){const n=t[i];if(n.header||n.divider){e.set(n,n);continue}const r=this.getValue(n);!e.has(r)&&e.set(r,n)}return Array.from(e.values())},findExistingIndex(t){const e=this.getValue(t);return(this.internalValue||[]).findIndex(t=>this.valueComparator(this.getValue(t),e))},getContent(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection(t,e){const i=this.isDisabled||this.getDisabled(t),r=!i&&this.isInteractive;return this.$createElement(n["a"],{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&r,disabled:i,inputValue:e===this.selectedIndex,small:this.smallChips},on:{click:t=>{r&&(t.stopPropagation(),this.selectedIndex=e)},"click:close":()=>this.onChipInput(t)},key:JSON.stringify(this.getValue(t))},this.getText(t))},genCommaSelection(t,e,i){const n=e===this.selectedIndex&&this.computedColor,r=this.isDisabled||this.getDisabled(t);return this.$createElement("div",this.setTextColor(n,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":r},key:JSON.stringify(this.getValue(t))}),`${this.getText(t)}${i?"":", "}`)},genDefaultSlot(){const t=this.genSelections(),e=this.genInput();return Array.isArray(t)?t.push(e):(t.children=t.children||[],t.children.push(e)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,t,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon(t,e,i){const n=N["a"].options.methods.genIcon.call(this,t,e,i);return"append"===t&&(n.children[0].data=Object(E["a"])(n.children[0].data,{attrs:{tabindex:n.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),n},genInput(){const t=V["a"].options.methods.genInput.call(this);return delete t.data.attrs.name,t.data=Object(E["a"])(t.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.isReadonly),"aria-activedescendant":Object(d["n"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(d["n"])(t.data,"attrs.autocomplete","off"),placeholder:this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?void 0:this.placeholder},on:{keypress:this.onKeyPress}}),t},genHiddenInput(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot(){const t=V["a"].options.methods.genInputSlot.call(this);return t.data.attrs={...t.data.attrs,role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns},t},genList(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot(){const t=["prepend-item","no-data","append-item"].filter(t=>this.$slots[t]).map(t=>this.$createElement("template",{slot:t},this.$slots[t]));return this.$createElement(F,{...this.listData},t)},genMenu(){const t=this.$_menuProps;return t.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?t.attach=this.$el:t.attach=this.attach,this.$createElement(C,{attrs:{role:void 0},props:t,on:{input:t=>{this.isMenuActive=t,this.isFocused=t},scroll:this.onScroll},ref:"menu"},[this.genList()])},genSelections(){let t=this.selectedItems.length;const e=new Array(t);let i;i=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(t--)e[t]=i(this.selectedItems[t],t,t===e.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},e)},genSlotSelection(t,e){return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:t,index:e,select:t=>{t.stopPropagation(),this.selectedIndex=e},selected:e===this.selectedIndex,disabled:!this.isInteractive})},getMenuIndex(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled(t){return Object(d["o"])(t,this.itemDisabled,!1)},getText(t){return Object(d["o"])(t,this.itemText,t)},getValue(t){return Object(d["o"])(t,this.itemValue,this.getText(t))},onBlur(t){t&&this.$emit("blur",t)},onChipInput(t){this.multiple?this.selectItem(t):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick(t){this.isInteractive&&(this.isAppendInner(t.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",t))},onEscDown(t){t.preventDefault(),this.isMenuActive&&(t.stopPropagation(),this.isMenuActive=!1)},onKeyPress(t){if(this.multiple||!this.isInteractive||this.disableLookup)return;const e=1e3,i=performance.now();i-this.keyboardLookupLastTime>e&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=t.key.toLowerCase(),this.keyboardLookupLastTime=i;const n=this.allItems.findIndex(t=>{const e=(this.getText(t)||"").toString();return e.toLowerCase().startsWith(this.keyboardLookupPrefix)}),r=this.allItems[n];-1!==n&&(this.lastItem=Math.max(this.lastItem,n+5),this.setValue(this.returnObject?r:this.getValue(r)),this.$nextTick(()=>this.$refs.menu.getTiles()),setTimeout(()=>this.setMenuIndex(n)))},onKeyDown(t){if(this.isReadonly&&t.keyCode!==d["u"].tab)return;const e=t.keyCode,i=this.$refs.menu;return this.$emit("keydown",t),i?(this.isMenuActive&&e!==d["u"].tab&&this.$nextTick(()=>{i.changeListIndex(t),this.$emit("update:list-index",i.listIndex)}),[d["u"].enter,d["u"].space].includes(e)&&this.activateMenu(),!this.isMenuActive&&[d["u"].up,d["u"].down,d["u"].home,d["u"].end].includes(e)?this.onUpDown(t):e===d["u"].esc?this.onEscDown(t):e===d["u"].tab?this.onTabDown(t):e===d["u"].space?this.onSpaceDown(t):void 0):void 0},onMenuActiveChange(t){if(this.multiple&&!t||this.getMenuIndex()>-1)return;const e=this.$refs.menu;if(e&&this.isDirty){this.$refs.menu.getTiles();for(let t=0;t<e.tiles.length;t++)if("true"===e.tiles[t].getAttribute("aria-selected")){this.setMenuIndex(t);break}}},onMouseUp(t){this.hasMouseDown&&3!==t.which&&this.isInteractive&&this.isAppendInner(t.target)&&this.$nextTick(()=>this.isMenuActive=!this.isMenuActive),V["a"].options.methods.onMouseUp.call(this,t)},onScroll(){if(this.isMenuActive){if(this.lastItem>this.computedItems.length)return;const t=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;t&&(this.lastItem+=20)}else requestAnimationFrame(()=>this.getContent().scrollTop=0)},onSpaceDown(t){t.preventDefault()},onTabDown(t){const e=this.$refs.menu;if(!e)return;const i=e.activeTile;!this.multiple&&i&&this.isMenuActive?(t.preventDefault(),t.stopPropagation(),i.click()):this.blur(t)},onUpDown(t){const e=this.$refs.menu;if(!e)return;if(t.preventDefault(),this.multiple)return this.activateMenu();const i=t.keyCode;e.isBooted=!0,window.requestAnimationFrame(()=>{if(e.getTiles(),!e.hasClickableTiles)return this.activateMenu();switch(i){case d["u"].up:e.prevTile();break;case d["u"].down:e.nextTile();break;case d["u"].home:e.firstTile();break;case d["u"].end:e.lastTile();break}this.selectItem(this.allItems[this.getMenuIndex()])})},selectItem(t){if(this.multiple){const e=(this.internalValue||[]).slice(),i=this.findExistingIndex(t);if(-1!==i?e.splice(i,1):e.push(t),this.setValue(e.map(t=>this.returnObject?t:this.getValue(t))),this.$nextTick(()=>{this.$refs.menu&&this.$refs.menu.updateDimensions()}),this.hideSelected)this.setMenuIndex(-1);else{const e=this.allItems.indexOf(t);~e&&(this.$nextTick(()=>this.$refs.menu.getTiles()),setTimeout(()=>this.setMenuIndex(e)))}}else this.setValue(this.returnObject?t:this.getValue(t)),this.isMenuActive=!1},setMenuIndex(t){this.$refs.menu&&(this.$refs.menu.listIndex=t)},setSelectedItems(){const t=[],e=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue];for(const i of e){const e=this.allItems.findIndex(t=>this.valueComparator(this.getValue(t),this.getValue(i)));e>-1&&t.push(this.allItems[e])}this.selectedItems=t},setValue(t){this.valueComparator(t,this.internalValue)||(this.internalValue=t,this.$emit("change",t))},isAppendInner(t){const e=this.$refs["append-inner"];return e&&(e===t||e.contains(t))}}})},ba0d:function(t,e,i){"use strict";i("9e29");var n=i("c37a"),r=i("0789"),o=i("58df"),s=i("297c"),a=i("a293"),l=i("80d2"),c=i("d9bd");e["a"]=Object(o["a"])(n["a"],s["a"]).extend({name:"v-slider",directives:{ClickOutside:a["a"]},mixins:[s["a"]],props:{disabled:Boolean,inverseLabel:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>"boolean"===typeof t||"always"===t},thumbSize:{type:[Number,String],default:32},tickLabels:{type:Array,default:()=>[]},ticks:{type:[Boolean,String],default:!1,validator:t=>"boolean"===typeof t||"always"===t},tickSize:{type:[Number,String],default:2},trackColor:String,trackFillColor:String,value:[Number,String],vertical:Boolean},data:()=>({app:null,oldValue:null,thumbPressed:!1,mouseTimeout:-1,isFocused:!1,isActive:!1,noClick:!1,startOffset:0}),computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-input__slider":!0,"v-input__slider--vertical":this.vertical,"v-input__slider--inverse-label":this.inverseLabel}},internalValue:{get(){return this.lazyValue},set(t){t=isNaN(t)?this.minValue:t;const e=this.roundValue(Math.min(Math.max(t,this.minValue),this.maxValue));e!==this.lazyValue&&(this.lazyValue=e,this.$emit("input",e))}},trackTransition(){return this.thumbPressed?this.showTicks||this.stepNumeric?"0.1s cubic-bezier(0.25, 0.8, 0.5, 1)":"none":""},minValue(){return parseFloat(this.min)},maxValue(){return parseFloat(this.max)},stepNumeric(){return this.step>0?parseFloat(this.step):0},inputWidth(){const t=(this.roundValue(this.internalValue)-this.minValue)/(this.maxValue-this.minValue)*100;return isNaN(t)?0:t},trackFillStyles(){const t=this.vertical?"bottom":"left",e=this.vertical?"top":"right",i=this.vertical?"height":"width",n=this.$vuetify.rtl?"auto":"0",r=this.$vuetify.rtl?"0":"auto",o=this.isDisabled?`calc(${this.inputWidth}% - 10px)`:this.inputWidth+"%";return{transition:this.trackTransition,[t]:n,[e]:r,[i]:o}},trackStyles(){const t=this.vertical?this.$vuetify.rtl?"bottom":"top":this.$vuetify.rtl?"left":"right",e=this.vertical?"height":"width",i="0px",n=this.isDisabled?`calc(${100-this.inputWidth}% - 10px)`:`calc(${100-this.inputWidth}%)`;return{transition:this.trackTransition,[t]:i,[e]:n}},showTicks(){return this.tickLabels.length>0||!(this.isDisabled||!this.stepNumeric||!this.ticks)},numTicks(){return Math.ceil((this.maxValue-this.minValue)/this.stepNumeric)},showThumbLabel(){return!this.isDisabled&&!(!this.thumbLabel&&!this.$scopedSlots["thumb-label"])},computedTrackColor(){if(!this.isDisabled)return this.trackColor?this.trackColor:this.isDark?this.validationState:this.validationState||"primary lighten-3"},computedTrackFillColor(){if(!this.isDisabled)return this.trackFillColor?this.trackFillColor:this.validationState||this.computedColor},computedThumbColor(){return this.thumbColor?this.thumbColor:this.validationState||this.computedColor}},watch:{min(t){const e=parseFloat(t);e>this.internalValue&&this.$emit("input",e)},max(t){const e=parseFloat(t);e<this.internalValue&&this.$emit("input",e)},value:{handler(t){this.internalValue=t}}},beforeMount(){this.internalValue=this.value},mounted(){this.app=document.querySelector("[data-app]")||Object(c["c"])("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot(){const t=[this.genLabel()],e=this.genSlider();return this.inverseLabel?t.unshift(e):t.push(e),t.push(this.genProgress()),t},genSlider(){return this.$createElement("div",{class:{"v-slider":!0,"v-slider--horizontal":!this.vertical,"v-slider--vertical":this.vertical,"v-slider--focused":this.isFocused,"v-slider--active":this.isActive,"v-slider--disabled":this.isDisabled,"v-slider--readonly":this.isReadonly,...this.themeClasses},directives:[{name:"click-outside",value:this.onBlur}],on:{click:this.onSliderClick,mousedown:this.onSliderMouseDown,touchstart:this.onSliderMouseDown}},this.genChildren())},genChildren(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isActive,this.isFocused,this.onFocus,this.onBlur)]},genInput(){return this.$createElement("input",{attrs:{value:this.internalValue,id:this.computedId,disabled:!0,readonly:!0,tabindex:-1,...this.$attrs}})},genTrackContainer(){const t=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedTrackFillColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},t)},genSteps(){if(!this.step||!this.showTicks)return null;const t=parseFloat(this.tickSize),e=Object(l["h"])(this.numTicks+1),i=this.vertical?"bottom":this.$vuetify.rtl?"right":"left",n=this.vertical?this.$vuetify.rtl?"left":"right":"top";this.vertical&&e.reverse();const r=e.map(e=>{const r=[];this.tickLabels[e]&&r.push(this.$createElement("div",{staticClass:"v-slider__tick-label"},this.tickLabels[e]));const o=e*(100/this.numTicks),s=this.$vuetify.rtl?100-this.inputWidth<o:o<this.inputWidth;return this.$createElement("span",{key:e,staticClass:"v-slider__tick",class:{"v-slider__tick--filled":s},style:{width:t+"px",height:t+"px",[i]:`calc(${o}% - ${t/2}px)`,[n]:`calc(50% - ${t/2}px)`}},r)});return this.$createElement("div",{staticClass:"v-slider__ticks-container",class:{"v-slider__ticks-container--always-show":"always"===this.ticks||this.tickLabels.length>0}},r)},genThumbContainer(t,e,i,n,r,o,s="thumb"){const a=[this.genThumb()],l=this.genThumbLabelContent(t);return this.showThumbLabel&&a.push(this.genThumbLabel(l)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{ref:s,key:s,staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--active":i,"v-slider__thumb-container--focused":n,"v-slider__thumb-container--show-label":this.showThumbLabel},style:this.getThumbContainerStyles(e),attrs:{role:"slider",tabindex:this.isDisabled?-1:this.$attrs.tabindex?this.$attrs.tabindex:0,"aria-label":this.$attrs["aria-label"]||this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue,"aria-readonly":String(this.isReadonly),"aria-orientation":this.vertical?"vertical":"horizontal"},on:{focus:r,blur:o,keydown:this.onKeyDown}}),a)},genThumbLabelContent(t){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:t}):[this.$createElement("span",[String(t)])]},genThumbLabel(t){const e=Object(l["g"])(this.thumbSize),i=this.vertical?`translateY(20%) translateY(${Number(this.thumbSize)/3-1}px) translateX(55%) rotate(135deg)`:"translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)";return this.$createElement(r["d"],{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label-container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:e,width:e,transform:i}}),[this.$createElement("div",t)])])])},genThumb(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},getThumbContainerStyles(t){const e=this.vertical?"top":"left";let i=this.$vuetify.rtl?100-t:t;return i=this.vertical?100-i:i,{transition:this.trackTransition,[e]:i+"%"}},onSliderMouseDown(t){var e;if(t.preventDefault(),this.oldValue=this.internalValue,this.isActive=!0,null!=(e=t.target)&&e.matches(".v-slider__thumb-container, .v-slider__thumb-container *")){this.thumbPressed=!0;const e=t.target.getBoundingClientRect(),i="touches"in t?t.touches[0]:t;this.startOffset=this.vertical?i.clientY-(e.top+e.height/2):i.clientX-(e.left+e.width/2)}else this.startOffset=0,window.clearTimeout(this.mouseTimeout),this.mouseTimeout=window.setTimeout(()=>{this.thumbPressed=!0},300);const i=!l["y"]||{passive:!0,capture:!0},n=!!l["y"]&&{passive:!0},r="touches"in t;this.onMouseMove(t),this.app.addEventListener(r?"touchmove":"mousemove",this.onMouseMove,n),Object(l["a"])(this.app,r?"touchend":"mouseup",this.onSliderMouseUp,i),this.$emit("start",this.internalValue)},onSliderMouseUp(t){t.stopPropagation(),window.clearTimeout(this.mouseTimeout),this.thumbPressed=!1;const e=!!l["y"]&&{passive:!0};this.app.removeEventListener("touchmove",this.onMouseMove,e),this.app.removeEventListener("mousemove",this.onMouseMove,e),this.$emit("mouseup",t),this.$emit("end",this.internalValue),Object(l["j"])(this.oldValue,this.internalValue)||(this.$emit("change",this.internalValue),this.noClick=!0),this.isActive=!1},onMouseMove(t){"mousemove"===t.type&&(this.thumbPressed=!0),this.internalValue=this.parseMouseMove(t)},onKeyDown(t){if(!this.isInteractive)return;const e=this.parseKeyDown(t,this.internalValue);null==e||e<this.minValue||e>this.maxValue||(this.internalValue=e,this.$emit("change",e))},onSliderClick(t){if(this.noClick)return void(this.noClick=!1);const e=this.$refs.thumb;e.focus(),this.onMouseMove(t),this.$emit("change",this.internalValue)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},parseMouseMove(t){const e=this.vertical?"top":"left",i=this.vertical?"height":"width",n=this.vertical?"clientY":"clientX",{[e]:r,[i]:o}=this.$refs.track.getBoundingClientRect(),s="touches"in t?t.touches[0][n]:t[n];let a=Math.min(Math.max((s-r-this.startOffset)/o,0),1)||0;return this.vertical&&(a=1-a),this.$vuetify.rtl&&(a=1-a),parseFloat(this.min)+a*(this.maxValue-this.minValue)},parseKeyDown(t,e){if(!this.isInteractive)return;const{pageup:i,pagedown:n,end:r,home:o,left:s,right:a,down:c,up:u}=l["u"];if(![i,n,r,o,s,a,c,u].includes(t.keyCode))return;t.preventDefault();const h=this.stepNumeric||1,d=(this.maxValue-this.minValue)/h;if([s,a,c,u].includes(t.keyCode)){const i=this.$vuetify.rtl?[s,u]:[a,u],n=i.includes(t.keyCode)?1:-1,r=t.shiftKey?3:t.ctrlKey?2:1;e+=n*h*r}else if(t.keyCode===o)e=this.minValue;else if(t.keyCode===r)e=this.maxValue;else{const i=t.keyCode===n?1:-1;e-=i*h*(d>100?d/10:10)}return e},roundValue(t){if(!this.stepNumeric)return t;const e=this.step.toString().trim(),i=e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0,n=this.minValue%this.stepNumeric,r=Math.round((t-n)/this.stepNumeric)*this.stepNumeric+n;return parseFloat(Math.min(r,this.maxValue).toFixed(i))}}})},ba87:function(t,e,i){"use strict";i("1b2c");var n=i("a9ad"),r=i("7560"),o=i("58df"),s=i("80d2"),a=Object(o["a"])(r["a"]).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render(t,e){const{children:i,listeners:o,props:a}=e,l={staticClass:"v-label",class:{"v-label--active":a.value,"v-label--is-disabled":a.disabled,...Object(r["b"])(e)},attrs:{for:a.for,"aria-hidden":!a.for},on:o,style:{left:Object(s["g"])(a.left),right:Object(s["g"])(a.right),position:a.absolute?"absolute":"relative"},ref:"label"};return t("label",n["a"].options.methods.setTextColor(a.focused&&a.color,l),i)}});e["a"]=a},bc3a:function(t,e,i){t.exports=i("cee4")},bd0c:function(t,e,i){},c04e:function(t,e,i){var n=i("861d"),r=i("d9b5"),o=i("dc4a"),s=i("485a"),a=i("b622"),l=a("toPrimitive");t.exports=function(t,e){if(!n(t)||r(t))return t;var i,a=o(t,l);if(a){if(void 0===e&&(e="default"),i=a.call(t,e),!n(i)||r(i))return i;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},c345:function(t,e,i){"use strict";var n=i("c532"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,o,s={};return t?(n.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),i=n.trim(t.substr(o+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([i]):s[e]?s[e]+", "+i:i}})),s):s}},c37a:function(t,e,i){"use strict";i("d191");var n=i("9d26"),r=i("ba87"),o=(i("8ff2"),i("a9ad")),s=i("7560"),a=i("58df"),l=i("80d2"),c=Object(a["a"])(o["a"],s["a"]).extend({name:"v-messages",props:{value:{type:Array,default:()=>[]}},methods:{genChildren(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage(t,e){return this.$createElement("div",{staticClass:"v-messages__message",key:e},Object(l["p"])(this,"default",{message:t,key:e})||[t])}},render(t){return t("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}}),u=c,h=i("7e2b"),d=i("38cb"),p=i("d9f7");const f=Object(a["a"])(h["a"],d["a"]);var m=f.extend().extend({name:"v-input",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:""},dense:Boolean,height:[Number,String],hideDetails:[Boolean,String],hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes(){return{"v-input--has-state":this.hasState,"v-input--hide-details":!this.showDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.isDisabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&null!=this.loading,"v-input--is-readonly":this.isReadonly,"v-input--dense":this.dense,...this.themeClasses}},computedId(){return this.id||"input-"+this._uid},hasDetails(){return this.messagesToDisplay.length>0},hasHint(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel(){return!(!this.$slots.label&&!this.label)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit(this.$_modelEvent,t)}},isDirty(){return!!this.lazyValue},isLabelActive(){return this.isDirty},messagesToDisplay(){return this.hasHint?[this.hint]:this.hasMessages?this.validations.map(t=>{if("string"===typeof t)return t;const e=t(this.internalValue);return"string"===typeof e?e:""}).filter(t=>""!==t):[]},showDetails(){return!1===this.hideDetails||"auto"===this.hideDetails&&this.hasDetails}},watch:{value(t){this.lazyValue=t}},beforeCreate(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl(){return this.$createElement("div",{staticClass:"v-input__control",attrs:{title:this.attrs$.title}},[this.genInputSlot(),this.genMessages()])},genDefaultSlot(){return[this.genLabel(),this.$slots.default]},genIcon(t,e,i={}){const r=this[t+"Icon"],o="click:"+Object(l["t"])(t),s=!(!this.listeners$[o]&&!e),a=Object(p["a"])({attrs:{"aria-label":s?Object(l["t"])(t).split("-")[0]+" icon":void 0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,light:this.light},on:s?{click:t=>{t.preventDefault(),t.stopPropagation(),this.$emit(o,t),e&&e(t)},mouseup:t=>{t.preventDefault(),t.stopPropagation()}}:void 0},i);return this.$createElement("div",{staticClass:"v-input__icon",class:t?"v-input__icon--"+Object(l["t"])(t):void 0},[this.$createElement(n["a"],a,r)])},genInputSlot(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:Object(l["g"])(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel(){return this.hasLabel?this.$createElement(r["a"],{props:{color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages(){return this.showDetails?this.$createElement(u,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.messagesToDisplay},attrs:{role:this.hasMessages?"alert":null},scopedSlots:{default:t=>Object(l["p"])(this,"message",t)}}):null},genSlot(t,e,i){if(!i.length)return null;const n=`${t}-${e}`;return this.$createElement("div",{staticClass:"v-input__"+n,ref:n},i)},genPrependSlot(){const t=[];return this.$slots.prepend?t.push(this.$slots.prepend):this.prependIcon&&t.push(this.genIcon("prepend")),this.genSlot("prepend","outer",t)},genAppendSlot(){const t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","outer",t)},onClick(t){this.$emit("click",t)},onMouseDown(t){this.hasMouseDown=!0,this.$emit("mousedown",t)},onMouseUp(t){this.hasMouseDown=!1,this.$emit("mouseup",t)}},render(t){return t("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),this.genContent())}});e["a"]=m},c401:function(t,e,i){"use strict";var n=i("c532"),r=i("2444");t.exports=function(t,e,i){var o=this||r;return n.forEach(i,(function(i){t=i.call(o,t,e)})),t}},c430:function(t,e){t.exports=!1},c532:function(t,e,i){"use strict";var n=i("1d2b"),r=Object.prototype.toString;function o(t){return"[object Array]"===r.call(t)}function s(t){return"undefined"===typeof t}function a(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function l(t){return"[object ArrayBuffer]"===r.call(t)}function c(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function h(t){return"string"===typeof t}function d(t){return"number"===typeof t}function p(t){return null!==t&&"object"===typeof t}function f(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function m(t){return"[object Date]"===r.call(t)}function g(t){return"[object File]"===r.call(t)}function y(t){return"[object Blob]"===r.call(t)}function v(t){return"[object Function]"===r.call(t)}function _(t){return p(t)&&v(t.pipe)}function b(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function x(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function w(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function T(){var t={};function e(e,i){f(t[i])&&f(e)?t[i]=T(t[i],e):f(e)?t[i]=T({},e):o(e)?t[i]=e.slice():t[i]=e}for(var i=0,n=arguments.length;i<n;i++)S(arguments[i],e);return t}function C(t,e,i){return S(e,(function(e,r){t[r]=i&&"function"===typeof e?n(e,i):e})),t}function O(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}t.exports={isArray:o,isArrayBuffer:l,isBuffer:a,isFormData:c,isArrayBufferView:u,isString:h,isNumber:d,isObject:p,isPlainObject:f,isUndefined:s,isDate:m,isFile:g,isBlob:y,isFunction:v,isStream:_,isURLSearchParams:b,isStandardBrowserEnv:w,forEach:S,merge:T,extend:C,trim:x,stripBOM:O}},c6b6:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},c6cd:function(t,e,i){var n=i("da84"),r=i("ce4e"),o="__core-js_shared__",s=n[o]||r(o,{});t.exports=s},c7a2:function(t,e,i){"use strict";var n=i("21a1"),r=i("cbe5");function o(t,e){var i,n,r,o,s,a=e.x,l=e.y,c=e.width,u=e.height,h=e.r;c<0&&(a+=c,c=-c),u<0&&(l+=u,u=-u),"number"===typeof h?i=n=r=o=h:h instanceof Array?1===h.length?i=n=r=o=h[0]:2===h.length?(i=r=h[0],n=o=h[1]):3===h.length?(i=h[0],n=o=h[1],r=h[2]):(i=h[0],n=h[1],r=h[2],o=h[3]):i=n=r=o=0,i+n>c&&(s=i+n,i*=c/s,n*=c/s),r+o>c&&(s=r+o,r*=c/s,o*=c/s),n+r>u&&(s=n+r,n*=u/s,r*=u/s),i+o>u&&(s=i+o,i*=u/s,o*=u/s),t.moveTo(a+i,l),t.lineTo(a+c-n,l),0!==n&&t.arc(a+c-n,l+n,n,-Math.PI/2,0),t.lineTo(a+c,l+u-r),0!==r&&t.arc(a+c-r,l+u-r,r,0,Math.PI/2),t.lineTo(a+o,l+u),0!==o&&t.arc(a+o,l+u-o,o,Math.PI/2,Math.PI),t.lineTo(a,l+i),0!==i&&t.arc(a+i,l+i,i,Math.PI,1.5*Math.PI)}var s=i("9cf9"),a=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),l={},c=function(t){function e(e){return t.call(this,e)||this}return Object(n["a"])(e,t),e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){var i,n,r,a;if(this.subPixelOptimize){var c=Object(s["c"])(l,e,this.style);i=c.x,n=c.y,r=c.width,a=c.height,c.r=e.r,e=c}else i=e.x,n=e.y,r=e.width,a=e.height;e.r?o(t,e):t.rect(i,n,r,a)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(r["b"]);c.prototype.type="rect";e["a"]=c},c865:function(t,e,i){"use strict";var n=i("0789"),r=i("9d26"),o=i("a9ad"),s=i("3206"),a=i("5607"),l=i("80d2"),c=i("58df");const u=Object(c["a"])(o["a"],Object(s["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel"));e["a"]=u.extend().extend({name:"v-expansion-panel-header",directives:{ripple:a["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:()=>({hasMousedown:!1}),computed:{classes(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive(){return this.expansionPanel.isActive},isDisabled(){return this.expansionPanel.isDisabled},isReadonly(){return this.expansionPanel.isReadonly}},created(){this.expansionPanel.registerHeader(this)},beforeDestroy(){this.expansionPanel.unregisterHeader()},methods:{onClick(t){this.$emit("click",t)},genIcon(){const t=Object(l["p"])(this,"actions")||[this.$createElement(r["a"],this.expandIcon)];return this.$createElement(n["c"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render(t){return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.$listeners,click:this.onClick,mousedown:()=>this.hasMousedown=!0,mouseup:()=>this.hasMousedown=!1}}),[Object(l["p"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},c8af:function(t,e,i){"use strict";var n=i("c532");t.exports=function(t,e){n.forEach(t,(function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])}))}},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},c995:function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation(){return this.elevation},elevationClasses(){const t=this.computedElevation;return null==t||isNaN(parseInt(t))?{}:{["elevation-"+this.elevation]:!0}}}})},ca80:function(t,e,i){"use strict";var n=i("dce8"),r=[0,0],o=[0,0],s=new n["a"],a=new n["a"],l=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new n["a"];for(i=0;i<2;i++)this._axes[i]=new n["a"];t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var i=this._corners,r=this._axes,o=t.x,s=t.y,a=o+t.width,l=s+t.height;if(i[0].set(o,s),i[1].set(a,s),i[2].set(a,l),i[3].set(o,l),e)for(var c=0;c<4;c++)i[c].transform(e);n["a"].sub(r[0],i[1],i[0]),n["a"].sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize();for(c=0;c<2;c++)this._origin[c]=r[c].dot(i[0])},t.prototype.intersect=function(t,e){var i=!0,r=!e;return s.set(1/0,1/0),a.set(0,0),!this._intersectCheckOneSide(this,t,s,a,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(t,this,s,a,r,-1)&&(i=!1,r)||r||n["a"].copy(e,i?s:a),i},t.prototype._intersectCheckOneSide=function(t,e,i,s,a,l){for(var c=!0,u=0;u<2;u++){var h=this._axes[u];if(this._getProjMinMaxOnAxis(u,t._corners,r),this._getProjMinMaxOnAxis(u,e._corners,o),r[1]<o[0]||r[0]>o[1]){if(c=!1,a)return c;var d=Math.abs(o[0]-r[1]),p=Math.abs(r[0]-o[1]);Math.min(d,p)>s.len()&&(d<p?n["a"].scale(s,h,-d*l):n["a"].scale(s,h,p*l))}else if(i){d=Math.abs(o[0]-r[1]),p=Math.abs(r[0]-o[1]);Math.min(d,p)<i.len()&&(d<p?n["a"].scale(i,h,d*l):n["a"].scale(i,h,-p*l))}}return c},t.prototype._getProjMinMaxOnAxis=function(t,e,i){for(var n=this._axes[t],r=this._origin,o=e[0].dot(n)+r[t],s=o,a=o,l=1;l<e.length;l++){var c=e[l].dot(n)+r[t];s=Math.min(c,s),a=Math.max(c,a)}i[0]=s,i[1]=a},t}();e["a"]=l},ca84:function(t,e,i){var n=i("5135"),r=i("fc6a"),o=i("4d64").indexOf,s=i("d012");t.exports=function(t,e){var i,a=r(t),l=0,c=[];for(i in a)!n(s,i)&&n(a,i)&&c.push(i);while(e.length>l)n(a,i=e[l++])&&(~o(c,i)||c.push(i));return c}},caad:function(t,e,i){"use strict";var n=i("23e7"),r=i("4d64").includes,o=i("44d2");n({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cb11:function(t,e,i){"use strict";var n=i("21a1"),r=i("cbe5"),o=i("9cf9"),s={},a=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),l=function(t){function e(e){return t.call(this,e)||this}return Object(n["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){var i,n,r,a;if(this.subPixelOptimize){var l=Object(o["b"])(s,e,this.style);i=l.x1,n=l.y1,r=l.x2,a=l.y2}else i=e.x1,n=e.y1,r=e.x2,a=e.y2;var c=e.percent;0!==c&&(t.moveTo(i,n),c<1&&(r=i*(1-c)+r*c,a=n*(1-c)+a*c),t.lineTo(r,a))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(r["b"]);l.prototype.type="line",e["a"]=l},cbe5:function(t,e,i){"use strict";i.d(e,"a",(function(){return D}));var n=i("21a1"),r=i("19eb"),o=i("20c8");function s(t,e,i,n,r,o,s){if(0===r)return!1;var a=r,l=0,c=t;if(s>e+a&&s>n+a||s<e-a&&s<n-a||o>t+a&&o>i+a||o<t-a&&o<i-a)return!1;if(t===i)return Math.abs(o-t)<=a/2;l=(e-n)/(t-i),c=(t*n-i*e)/(t-i);var u=l*o-s+c,h=u*u/(l*l+1);return h<=a/2*a/2}var a=i("4a3f");function l(t,e,i,n,r,o,s,l,c,u,h){if(0===c)return!1;var d=c;if(h>e+d&&h>n+d&&h>o+d&&h>l+d||h<e-d&&h<n-d&&h<o-d&&h<l-d||u>t+d&&u>i+d&&u>r+d&&u>s+d||u<t-d&&u<i-d&&u<r-d&&u<s-d)return!1;var p=a["e"](t,e,i,n,r,o,s,l,u,h,null);return p<=d/2}function c(t,e,i,n,r,o,s,l,c){if(0===s)return!1;var u=s;if(c>e+u&&c>n+u&&c>o+u||c<e-u&&c<n-u&&c<o-u||l>t+u&&l>i+u&&l>r+u||l<t-u&&l<i-u&&l<r-u)return!1;var h=Object(a["l"])(t,e,i,n,r,o,l,c,null);return h<=u/2}var u=2*Math.PI;function h(t){return t%=u,t<0&&(t+=u),t}var d=2*Math.PI;function p(t,e,i,n,r,o,s,a,l){if(0===s)return!1;var c=s;a-=t,l-=e;var u=Math.sqrt(a*a+l*l);if(u-c>i||u+c<i)return!1;if(Math.abs(n-r)%d<1e-4)return!0;if(o){var p=n;n=h(r),r=h(p)}else n=h(n),r=h(r);n>r&&(r+=d);var f=Math.atan2(l,a);return f<0&&(f+=d),f>=n&&f<=r||f+d>=n&&f+d<=r}var f=i("8728"),m=o["a"].CMD,g=2*Math.PI,y=1e-4;function v(t,e){return Math.abs(t-e)<y}var _=[-1,-1,-1],b=[-1,-1];function x(){var t=b[0];b[0]=b[1],b[1]=t}function w(t,e,i,n,r,o,s,l,c,u){if(u>e&&u>n&&u>o&&u>l||u<e&&u<n&&u<o&&u<l)return 0;var h=a["f"](e,n,o,l,u,_);if(0===h)return 0;for(var d=0,p=-1,f=void 0,m=void 0,g=0;g<h;g++){var y=_[g],v=0===y||1===y?.5:1,w=a["a"](t,i,r,s,y);w<c||(p<0&&(p=a["c"](e,n,o,l,b),b[1]<b[0]&&p>1&&x(),f=a["a"](e,n,o,l,b[0]),p>1&&(m=a["a"](e,n,o,l,b[1]))),2===p?y<b[0]?d+=f<e?v:-v:y<b[1]?d+=m<f?v:-v:d+=l<m?v:-v:y<b[0]?d+=f<e?v:-v:d+=l<f?v:-v)}return d}function S(t,e,i,n,r,o,s,l){if(l>e&&l>n&&l>o||l<e&&l<n&&l<o)return 0;var c=a["m"](e,n,o,l,_);if(0===c)return 0;var u=a["j"](e,n,o);if(u>=0&&u<=1){for(var h=0,d=a["h"](e,n,o,u),p=0;p<c;p++){var f=0===_[p]||1===_[p]?.5:1,m=a["h"](t,i,r,_[p]);m<s||(_[p]<u?h+=d<e?f:-f:h+=o<d?f:-f)}return h}f=0===_[0]||1===_[0]?.5:1,m=a["h"](t,i,r,_[0]);return m<s?0:o<e?f:-f}function T(t,e,i,n,r,o,s,a){if(a-=e,a>i||a<-i)return 0;var l=Math.sqrt(i*i-a*a);_[0]=-l,_[1]=l;var c=Math.abs(n-r);if(c<1e-4)return 0;if(c>=g-1e-4){n=0,r=g;var u=o?1:-1;return s>=_[0]+t&&s<=_[1]+t?u:0}if(n>r){var h=n;n=r,r=h}n<0&&(n+=g,r+=g);for(var d=0,p=0;p<2;p++){var f=_[p];if(f+t>s){var m=Math.atan2(a,f);u=o?1:-1;m<0&&(m=g+m),(m>=n&&m<=r||m+g>=n&&m+g<=r)&&(m>Math.PI/2&&m<1.5*Math.PI&&(u=-u),d+=u)}}return d}function C(t,e,i,n,r){for(var o,a,u=t.data,h=t.len(),d=0,g=0,y=0,_=0,b=0,x=0;x<h;){var C=u[x++],O=1===x;switch(C===m.M&&x>1&&(i||(d+=Object(f["a"])(g,y,_,b,n,r))),O&&(g=u[x],y=u[x+1],_=g,b=y),C){case m.M:_=u[x++],b=u[x++],g=_,y=b;break;case m.L:if(i){if(s(g,y,u[x],u[x+1],e,n,r))return!0}else d+=Object(f["a"])(g,y,u[x],u[x+1],n,r)||0;g=u[x++],y=u[x++];break;case m.C:if(i){if(l(g,y,u[x++],u[x++],u[x++],u[x++],u[x],u[x+1],e,n,r))return!0}else d+=w(g,y,u[x++],u[x++],u[x++],u[x++],u[x],u[x+1],n,r)||0;g=u[x++],y=u[x++];break;case m.Q:if(i){if(c(g,y,u[x++],u[x++],u[x],u[x+1],e,n,r))return!0}else d+=S(g,y,u[x++],u[x++],u[x],u[x+1],n,r)||0;g=u[x++],y=u[x++];break;case m.A:var k=u[x++],A=u[x++],I=u[x++],E=u[x++],M=u[x++],D=u[x++];x+=1;var P=!!(1-u[x++]);o=Math.cos(M)*I+k,a=Math.sin(M)*E+A,O?(_=o,b=a):d+=Object(f["a"])(g,y,o,a,n,r);var L=(n-k)*E/I+k;if(i){if(p(k,A,E,M,M+D,P,e,L,r))return!0}else d+=T(k,A,E,M,M+D,P,L,r);g=Math.cos(M+D)*I+k,y=Math.sin(M+D)*E+A;break;case m.R:_=g=u[x++],b=y=u[x++];var z=u[x++],j=u[x++];if(o=_+z,a=b+j,i){if(s(_,b,o,b,e,n,r)||s(o,b,o,a,e,n,r)||s(o,a,_,a,e,n,r)||s(_,a,_,b,e,n,r))return!0}else d+=Object(f["a"])(o,b,o,a,n,r),d+=Object(f["a"])(_,a,_,b,n,r);break;case m.Z:if(i){if(s(g,y,_,b,e,n,r))return!0}else d+=Object(f["a"])(g,y,_,b,n,r);g=_,y=b;break}}return i||v(y,b)||(d+=Object(f["a"])(g,y,_,b,n,r)||0),0!==d}function O(t,e,i){return C(t,0,!1,e,i)}function k(t,e,i,n){return C(t,e,!0,i,n)}var A=i("6d8b"),I=i("41ef"),E=i("2cf4"),M=i("4bc4"),D=Object(A["j"])({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},r["b"]),P={style:Object(A["j"])({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},r["a"].style)},L=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],z=function(t){function e(e){return t.call(this,e)||this}return Object(n["a"])(e,t),e.prototype.update=function(){var i=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(t){i.buildPath(t,i.shape)}),r.silent=!0;var o=r.style;for(var s in n)o[s]!==n[s]&&(o[s]=n[s]);o.fill=n.fill?n.decal:null,o.decal=null,o.shadowColor=null,n.strokeFirst&&(o.stroke=null);for(var a=0;a<L.length;++a)r[L[a]]=this[L[a]];r.__dirty|=M["a"]}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var i=Object(A["D"])(e);this.shape=this.getDefaultShape();var n=this.getDefaultStyle();n&&this.useStyle(n);for(var r=0;r<i.length;r++){var o=i[r],s=e[o];"style"===o?this.style?Object(A["m"])(this.style,s):this.useStyle(s):"shape"===o?Object(A["m"])(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(Object(A["A"])(t)){var e=Object(I["c"])(t,0);return e>.5?E["a"]:e>.2?E["c"]:E["d"]}if(t)return E["d"]}return E["a"]},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(Object(A["A"])(e)){var i=this.__zr,n=!(!i||!i.isDarkMode()),r=Object(I["c"])(t,0)<E["b"];if(n===r)return e}},e.prototype.buildPath=function(t,e,i){},e.prototype.pathUpdated=function(){this.__dirty&=~M["b"]},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new o["a"](!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,e=t.fill;return null!=e&&"none"!==e},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,i=!t;if(i){var n=!1;this.path||(n=!0,this.createPathProxy());var r=this.path;(n||this.__dirty&M["b"])&&(r.beginPath(),this.buildPath(r,this.shape,!1),this.pathUpdated()),t=r.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){o.copy(t);var s=e.strokeNoScale?this.getLineScale():1,a=e.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;a=Math.max(a,null==l?4:l)}s>1e-10&&(o.width+=a/s,o.height+=a/s,o.x-=a/s/2,o.y-=a/s/2)}return o}return t},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),r=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var o=this.path;if(this.hasStroke()){var s=r.lineWidth,a=r.strokeNoScale?this.getLineScale():1;if(a>1e-10&&(this.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),k(o,s/a,t,e)))return!0}if(this.hasFill())return O(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=M["b"],this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,i){"shape"===e?this.setShape(i):t.prototype.attrKV.call(this,e,i)},e.prototype.setShape=function(t,e){var i=this.shape;return i||(i=this.shape={}),"string"===typeof t?i[t]=e:Object(A["m"])(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&M["b"])},e.prototype.createStyle=function(t){return Object(A["h"])(D,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.shape&&!i.shape&&(i.shape=Object(A["m"])({},this.shape))},e.prototype._applyStateObj=function(e,i,n,r,o,s){t.prototype._applyStateObj.call(this,e,i,n,r,o,s);var a,l=!(i&&r);if(i&&i.shape?o?r?a=i.shape:(a=Object(A["m"])({},n.shape),Object(A["m"])(a,i.shape)):(a=Object(A["m"])({},r?this.shape:n.shape),Object(A["m"])(a,i.shape)):l&&(a=n.shape),a)if(o){this.shape=Object(A["m"])({},this.shape);for(var c={},u=Object(A["D"])(a),h=0;h<u.length;h++){var d=u[h];"object"===typeof a[d]?this.shape[d]=a[d]:c[d]=a[d]}this._transitionState(e,{shape:c},s)}else this.shape=a,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var i,n=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return P},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(e){function i(i){var n=e.call(this,i)||this;return t.init&&t.init.call(n,i),n}return Object(n["a"])(i,e),i.prototype.getDefaultStyle=function(){return Object(A["d"])(t.style)},i.prototype.getDefaultShape=function(){return Object(A["d"])(t.shape)},i}(e);for(var r in t)"function"===typeof t[r]&&(i.prototype[r]=t[r]);return i},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=M["a"]|M["c"]|M["b"]}(),e}(r["c"]);e["b"]=z},cc12:function(t,e,i){var n=i("da84"),r=i("861d"),o=n.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},cc20:function(t,e,i){"use strict";i("8adc");var n=i("58df"),r=i("0789"),o=i("9d26"),s=i("a9ad"),a=i("4e82"),l=i("7560"),c=i("f2e7"),u=i("1c87"),h=i("af2b"),d=i("d9bd");e["a"]=Object(n["a"])(s["a"],h["a"],u["a"],l["a"],Object(a["a"])("chipGroup"),Object(c["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...u["a"].options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(u["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created(){const t=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];t.forEach(([t,e])=>{this.$attrs.hasOwnProperty(t)&&Object(d["a"])(t,e,this)})},methods:{click(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter(){const t=[];return this.isActive&&t.push(this.$createElement(o["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(r["b"],t)},genClose(){return this.$createElement(o["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:t=>{t.stopPropagation(),t.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(t){const e=[this.genContent()];let{tag:i,data:n}=this.generateRouteLink();n.attrs={...n.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:n.attrs.tabindex},n.directives.push({name:"show",value:this.active}),n=this.setBackgroundColor(this.color,n);const r=this.textColor||this.outlined&&this.color;return t(i,this.setTextColor(r,n),e)}})},cca6:function(t,e,i){var n=i("23e7"),r=i("60da");n({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},cccd:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("e0d3");function r(){var t=Object(n["l"])();return function(e){var i=t(e),n=e.pipelineContext,r=!!i.large,o=!!i.progressiveRender,s=i.large=!(!n||!n.large),a=i.progressiveRender=!(!n||!n.progressiveRender);return!(r===s&&o===a)&&"reset"}}},cd33:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return d})),i.d(e,"d",(function(){return p})),i.d(e,"e",(function(){return m}));var n=i("4319"),r=i("6d8b");function o(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return s(i,t,e),i.seriesInvolved&&l(i,t),i}function s(t,e,i){var n=e.getComponent("tooltip"),o=e.getComponent("axisPointer"),s=o.get("link",!0)||[],l=[];Object(r["k"])(i.getCoordinateSystems(),(function(i){if(i.axisPointerEnabled){var u=m(i.model),h=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=i;var d=i.model,p=d.getModel("tooltip",n);if(Object(r["k"])(i.getAxes(),Object(r["i"])(_,!1,null)),i.getTooltipAxes&&n&&p.get("show")){var g="axis"===p.get("trigger"),y="cross"===p.get(["axisPointer","type"]),v=i.getTooltipAxes(p.get(["axisPointer","axis"]));(g||y)&&Object(r["k"])(v.baseAxes,Object(r["i"])(_,!y||"cross",g)),y&&Object(r["k"])(v.otherAxes,Object(r["i"])(_,"cross",!1))}}function _(n,r,u){var d=u.model.getModel("axisPointer",o),g=d.get("show");if(g&&("auto"!==g||n||f(d))){null==r&&(r=d.get("triggerTooltip")),d=n?a(u,p,o,e,n,r):d;var y=d.get("snap"),v=m(u.model),_=r||y||"category"===u.type,b=t.axesInfo[v]={key:v,axis:u,coordSys:i,axisPointerModel:d,triggerTooltip:r,involveSeries:_,snap:y,useHandle:f(d),seriesModels:[],linkGroup:null};h[v]=b,t.seriesInvolved=t.seriesInvolved||_;var x=c(s,u);if(null!=x){var w=l[x]||(l[x]={axesInfo:{}});w.axesInfo[v]=b,w.mapper=s[x].mapper,b.linkGroup=w}}}}))}function a(t,e,i,o,s,a){var l=e.getModel("axisPointer"),c=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};Object(r["k"])(c,(function(t){u[t]=Object(r["d"])(l.get(t))})),u.snap="category"!==t.type&&!!a,"cross"===l.get("type")&&(u.type="line");var h=u.label||(u.label={});if(null==h.show&&(h.show=!1),"cross"===s){var d=l.get(["label","show"]);if(h.show=null==d||d,!a){var p=u.lineStyle=l.get("crossStyle");p&&Object(r["j"])(h,p.textStyle)}}return t.model.getModel("axisPointer",new n["a"](u,i,o))}function l(t,e){e.eachSeries((function(e){var i=e.coordinateSystem,n=e.get(["tooltip","trigger"],!0),o=e.get(["tooltip","show"],!0);i&&"none"!==n&&!1!==n&&"item"!==n&&!1!==o&&!1!==e.get(["axisPointer","show"],!0)&&Object(r["k"])(t.coordSysAxesInfo[m(i.model)],(function(t){var n=t.axis;i.getAxis(n.dim)===n&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}function c(t,e){for(var i=e.model,n=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(u(o[n+"AxisId"],i.id)||u(o[n+"AxisIndex"],i.componentIndex)||u(o[n+"AxisName"],i.name))return r}}function u(t,e){return"all"===t||Object(r["s"])(t)&&Object(r["q"])(t,e)>=0||t===e}function h(t){var e=d(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,r=i.option,o=i.get("status"),s=i.get("value");null!=s&&(s=n.parse(s));var a=f(i);null==o&&(r.status=a?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==s||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),r.value=s,a&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function d(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[m(t)]}function p(t){var e=d(t);return e&&e.axisPointerModel}function f(t){return!!t.get(["handle","show"])}function m(t){return t.type+"||"+t.id}},cd55:function(t,e,i){"use strict";var n=i("4e82"),r=i("3206"),o=i("80d2"),s=i("58df");e["a"]=Object(s["a"])(Object(n["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(r["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data(){return{content:null,header:null,nextIsActive:!1}},computed:{classes(){return{"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled,...this.groupClasses}},isDisabled(){return this.expansionPanels.disabled||this.disabled},isReadonly(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent(t){this.content=t},unregisterContent(){this.content=null},registerHeader(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader(){this.header=null},onClick(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle(){this.$nextTick(()=>this.$emit("change"))}},render(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(o["p"])(this))}})},cdf9:function(t,e,i){var n=i("825a"),r=i("861d"),o=i("f069");t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t),s=i.resolve;return s(e),i.promise}},ce4e:function(t,e,i){var n=i("da84");t.exports=function(t,e){try{Object.defineProperty(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},ce6b:function(t,e,i){},ce7e:function(t,e,i){"use strict";i("8ce9");var n=i("7560");e["a"]=n["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}})},cee4:function(t,e,i){"use strict";var n=i("c532"),r=i("1d2b"),o=i("0a06"),s=i("4a7b"),a=i("2444");function l(t){var e=new o(t),i=r(o.prototype.request,e);return n.extend(i,o.prototype,e),n.extend(i,e),i}var c=l(a);c.Axios=o,c.create=function(t){return l(s(c.defaults,t))},c.Cancel=i("7a77"),c.CancelToken=i("8df4"),c.isCancel=i("2e67"),c.all=function(t){return Promise.all(t)},c.spread=i("0df6"),c.isAxiosError=i("5f02"),t.exports=c,t.exports.default=c},cf36:function(t,e,i){},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,i){var n=i("da84"),r=i("1626"),o=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t]):n[t]&&n[t][e]}},d0a8:function(t,e,i){"use strict";var n=i("297cd");t.exports=n},d0ce:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("6d8b"),o=i("b7d9"),s=i("ec6f"),a="undefined",l=typeof Uint32Array===a?Array:Uint32Array,c=typeof Uint16Array===a?Array:Uint16Array,u=typeof Int32Array===a?Array:Int32Array,h=typeof Float64Array===a?Array:Float64Array,d={float:h,int:u,ordinal:Array,number:Array,time:h};function p(t){return t>65535?l:c}function f(){return[1/0,-1/0]}function m(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function g(t,e,i,n,r){var o=d[i||"float"];if(r){var s=t[e],a=s&&s.length;if(a!==n){for(var l=new o(n),c=0;c<a;c++)l[c]=s[c];t[e]=l}}else t[e]=new o(n)}var y=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Object(r["g"])()}return t.prototype.initData=function(t,e,i){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var o=t.getSource(),a=this.defaultDimValueGetter=n[o.sourceFormat];this._dimValueGetter=i||a,this._rawExtent=[];Object(s["f"])(o);this._dimensions=Object(r["F"])(e,(function(t){return{type:t.type,property:t.property}})),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,e){var i=this._calcDimNameToIdx,n=this._dimensions,r=i.get(t);if(null!=r){if(n[r].type===e)return r}else r=n.length;return n[r]={type:e},i.set(t,r),this._chunks[r]=new d[e||"float"](this._rawCount),this._rawExtent[r]=f(),r},t.prototype.collectOrdinalMeta=function(t,e){var i=this._chunks[t],n=this._dimensions[t],r=this._rawExtent,o=n.ordinalOffset||0,s=i.length;0===o&&(r[t]=f());for(var a=r[t],l=o;l<s;l++){var c=i[l]=e.parseAndCollect(i[l]);a[0]=Math.min(c,a[0]),a[1]=Math.max(c,a[1])}n.ordinalMeta=e,n.ordinalOffset=s,n.type="ordinal"},t.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],i=e.ordinalMeta;return i},t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},t.prototype.appendData=function(t){var e=this._provider,i=this.count();e.appendData(t);var n=e.count();return e.persistent||(n+=i),i<n&&this._initDataFromProvider(i,n,!0),[i,n]},t.prototype.appendValues=function(t,e){for(var i=this._chunks,r=this._dimensions,o=r.length,s=this._rawExtent,a=this.count(),l=a+Math.max(t.length,e||0),c=0;c<o;c++){var u=r[c];g(i,c,u.type,l,!0)}for(var h=[],d=a;d<l;d++)for(var p=d-a,f=0;f<o;f++){u=r[f];var m=n.arrayRows.call(this,t[p]||h,u.property,p,f);i[f][d]=m;var y=s[f];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}return this._rawCount=this._count=l,{start:a,end:l}},t.prototype._initDataFromProvider=function(t,e,i){for(var n=this._provider,o=this._chunks,s=this._dimensions,a=s.length,l=this._rawExtent,c=Object(r["F"])(s,(function(t){return t.property})),u=0;u<a;u++){var h=s[u];l[u]||(l[u]=f()),g(o,u,h.type,e,i)}if(n.fillStorage)n.fillStorage(t,e,o,l);else for(var d=[],p=t;p<e;p++){d=n.getItem(p,d);for(var m=0;m<a;m++){var y=o[m],v=this._dimValueGetter(d,c[m],p,m);y[p]=v;var _=l[m];v<_[0]&&(_[0]=v),v>_[1]&&(_[1]=v)}}!n.persistent&&n.clean&&n.clean(),this._rawCount=this._count=e,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._chunks[t];return i?i[this.getRawIndex(e)]:NaN},t.prototype.getValues=function(t,e){var i=[],n=[];if(null==e){e=t,t=[];for(var r=0;r<this._dimensions.length;r++)n.push(r)}else n=t;r=0;for(var o=n.length;r<o;r++)i.push(this.get(n[r],e));return i},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._chunks[t];return i?i[e]:NaN},t.prototype.getSum=function(t){var e=this._chunks[t],i=0;if(e)for(var n=0,r=this.count();n<r;n++){var o=this.get(t,n);isNaN(o)||(i+=o)}return i},t.prototype.getMedian=function(t){var e=[];this.each([t],(function(t){isNaN(t)||e.push(t)}));var i=e.sort((function(t,e){return t-e})),n=this.count();return 0===n?0:n%2===1?i[(n-1)/2]:(i[n/2]+i[n/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;var n=0,r=this._count-1;while(n<=r){var o=(n+r)/2|0;if(e[o]<t)n=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,i){var n=this._chunks,r=n[t],o=[];if(!r)return o;null==i&&(i=1/0);for(var s=1/0,a=-1,l=0,c=0,u=this.count();c<u;c++){var h=this.getRawIndex(c),d=e-r[h],p=Math.abs(d);p<=i&&((p<s||p===s&&d>=0&&a<0)&&(s=p,a=d,l=0),d===a&&(o[l++]=c))}return o.length=l,o},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=e.constructor,n=this._count;if(i===Array){t=new i(n);for(var r=0;r<n;r++)t[r]=e[r]}else t=new i(e.buffer,0,n)}else{i=p(this._rawCount);t=new i(this.count());for(r=0;r<t.length;r++)t[r]=r}return t},t.prototype.filter=function(t,e){if(!this._count)return this;for(var i=this.clone(),n=i.count(),r=p(i._rawCount),o=new r(n),s=[],a=t.length,l=0,c=t[0],u=i._chunks,h=0;h<n;h++){var d=void 0,f=i.getRawIndex(h);if(0===a)d=e(h);else if(1===a){var m=u[c][f];d=e(m,h)}else{for(var g=0;g<a;g++)s[g]=u[t[g]][f];s[g]=h,d=e.apply(null,s)}d&&(o[l++]=f)}return l<n&&(i._indices=o),i._count=l,i._extent=[],i._updateGetRawIdx(),i},t.prototype.selectRange=function(t){var e=this.clone(),i=e._count;if(!i)return this;var n=Object(r["D"])(t),o=n.length;if(!o)return this;var s=e.count(),a=p(e._rawCount),l=new a(s),c=0,u=n[0],h=t[u][0],d=t[u][1],f=e._chunks,m=!1;if(!e._indices){var g=0;if(1===o){for(var y=f[n[0]],v=0;v<i;v++){var _=y[v];(_>=h&&_<=d||isNaN(_))&&(l[c++]=g),g++}m=!0}else if(2===o){y=f[n[0]];var b=f[n[1]],x=t[n[1]][0],w=t[n[1]][1];for(v=0;v<i;v++){_=y[v];var S=b[v];(_>=h&&_<=d||isNaN(_))&&(S>=x&&S<=w||isNaN(S))&&(l[c++]=g),g++}m=!0}}if(!m)if(1===o)for(v=0;v<s;v++){var T=e.getRawIndex(v);_=f[n[0]][T];(_>=h&&_<=d||isNaN(_))&&(l[c++]=T)}else for(v=0;v<s;v++){for(var C=!0,O=(T=e.getRawIndex(v),0);O<o;O++){var k=n[O];_=f[k][T];(_<t[k][0]||_>t[k][1])&&(C=!1)}C&&(l[c++]=e.getRawIndex(v))}return c<s&&(e._indices=l),e._count=c,e._extent=[],e._updateGetRawIdx(),e},t.prototype.map=function(t,e){var i=this.clone(t);return this._updateDims(i,t,e),i},t.prototype.modify=function(t,e){this._updateDims(this,t,e)},t.prototype._updateDims=function(t,e,i){for(var n=t._chunks,r=[],o=e.length,s=t.count(),a=[],l=t._rawExtent,c=0;c<e.length;c++)l[e[c]]=f();for(var u=0;u<s;u++){for(var h=t.getRawIndex(u),d=0;d<o;d++)a[d]=n[e[d]][h];a[o]=u;var p=i&&i.apply(null,a);if(null!=p){"object"!==typeof p&&(r[0]=p,p=r);for(c=0;c<p.length;c++){var m=e[c],g=p[c],y=l[m],v=n[m];v&&(v[h]=g),g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}}},t.prototype.lttbDownSample=function(t,e){var i,n,r,o=this.clone([t],!0),s=o._chunks,a=s[t],l=this.count(),c=0,u=Math.floor(1/e),h=this.getRawIndex(0),d=new(p(this._rawCount))(Math.ceil(l/u)+2);d[c++]=h;for(var f=1;f<l-1;f+=u){for(var m=Math.min(f+u,l-1),g=Math.min(f+2*u,l),y=(g+m)/2,v=0,_=m;_<g;_++){var b=this.getRawIndex(_),x=a[b];isNaN(x)||(v+=x)}v/=g-m;var w=f,S=Math.min(f+u,l),T=f-1,C=a[h];i=-1,r=w;for(_=w;_<S;_++){b=this.getRawIndex(_),x=a[b];isNaN(x)||(n=Math.abs((T-y)*(x-C)-(T-_)*(v-C)),n>i&&(i=n,r=b))}d[c++]=r,h=r}return d[c++]=this.getRawIndex(l-1),o._count=c,o._indices=d,o.getRawIndex=this._getRawIdx,o},t.prototype.downSample=function(t,e,i,n){for(var r=this.clone([t],!0),o=r._chunks,s=[],a=Math.floor(1/e),l=o[t],c=this.count(),u=r._rawExtent[t]=f(),h=new(p(this._rawCount))(Math.ceil(c/a)),d=0,m=0;m<c;m+=a){a>c-m&&(a=c-m,s.length=a);for(var g=0;g<a;g++){var y=this.getRawIndex(m+g);s[g]=l[y]}var v=i(s),_=this.getRawIndex(Math.min(m+n(s,v)||0,c-1));l[_]=v,v<u[0]&&(u[0]=v),v>u[1]&&(u[1]=v),h[d++]=_}return r._count=d,r._indices=h,r._updateGetRawIdx(),r},t.prototype.each=function(t,e){if(this._count)for(var i=t.length,n=this._chunks,r=0,o=this.count();r<o;r++){var s=this.getRawIndex(r);switch(i){case 0:e(r);break;case 1:e(n[t[0]][s],r);break;case 2:e(n[t[0]][s],n[t[1]][s],r);break;default:for(var a=0,l=[];a<i;a++)l[a]=n[t[a]][s];l[a]=r,e.apply(null,l)}}},t.prototype.getDataExtent=function(t){var e=this._chunks[t],i=f();if(!e)return i;var n,r=this.count(),o=!this._indices;if(o)return this._rawExtent[t].slice();if(n=this._extent[t],n)return n.slice();n=i;for(var s=n[0],a=n[1],l=0;l<r;l++){var c=this.getRawIndex(l),u=e[c];u<s&&(s=u),u>a&&(a=u)}return n=[s,a],this._extent[t]=n,n},t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var i=[],n=this._chunks,r=0;r<n.length;r++)i.push(n[r][e]);return i},t.prototype.clone=function(e,i){var n=new t,o=this._chunks,s=e&&Object(r["K"])(e,(function(t,e){return t[e]=!0,t}),{});if(s)for(var a=0;a<o.length;a++)n._chunks[a]=s[a]?m(o[a]):o[a];else n._chunks=o;return this._copyCommonProps(n),i||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Object(r["d"])(this._extent),t._rawExtent=Object(r["d"])(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var i=this._indices.length;e=new t(i);for(var n=0;n<i;n++)e[n]=this._indices[n]}else e=new t(this._indices);return e}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,e,i,n){return Object(o["b"])(t[n],this._dimensions[n])}n={arrayRows:t,objectRows:function(t,e,i,n){return Object(o["b"])(t[e],this._dimensions[n])},keyedColumns:t,original:function(t,e,i,n){var r=t&&(null==t.value?t:t.value);return Object(o["b"])(r instanceof Array?r[n]:r,this._dimensions[n])},typedArray:function(t,e,i,n){return t[n]}}}(),t}();e["b"]=y},d10f:function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend({name:"ssr-bootable",data:()=>({isBooted:!1}),mounted(){window.requestAnimationFrame(()=>{this.$el.setAttribute("data-booted","true"),this.isBooted=!0})}})},d191:function(t,e,i){},d1e7:function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},d28b:function(t,e,i){var n=i("746f");n("iterator")},d2bb:function(t,e,i){var n=i("825a"),r=i("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(i,[]),e=i instanceof Array}catch(o){}return function(i,o){return n(i),r(o),e?t.call(i,o):i.__proto__=o,i}}():void 0)},d3b7:function(t,e,i){var n=i("00ee"),r=i("6eeb"),o=i("b041");n||r(Object.prototype,"toString",o,{unsafe:!0})},d409:function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return m}));var n=i("5e76"),r=i("6d8b"),o=i("e86a"),s=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function a(t,e,i,n,r){if(!e)return"";var o=(t+"").split("\n");r=l(e,i,n,r);for(var s=0,a=o.length;s<a;s++)o[s]=c(o[s],r);return o.join("\n")}function l(t,e,i,n){n=n||{};var s=Object(r["m"])({},n);s.font=e,i=Object(r["M"])(i,"..."),s.maxIterations=Object(r["M"])(n.maxIterations,2);var a=s.minChar=Object(r["M"])(n.minChar,0);s.cnCharWidth=Object(o["g"])("国",e);var l=s.ascCharWidth=Object(o["g"])("a",e);s.placeholder=Object(r["M"])(n.placeholder,"");for(var c=t=Math.max(0,t-1),u=0;u<a&&c>=l;u++)c-=l;var h=Object(o["g"])(i,e);return h>c&&(i="",h=0),c=t-h,s.ellipsis=i,s.ellipsisWidth=h,s.contentWidth=c,s.containerWidth=t,s}function c(t,e){var i=e.containerWidth,n=e.font,r=e.contentWidth;if(!i)return"";var s=Object(o["g"])(t,n);if(s<=i)return t;for(var a=0;;a++){if(s<=r||a>=e.maxIterations){t+=e.ellipsis;break}var l=0===a?u(t,r,e.ascCharWidth,e.cnCharWidth):s>0?Math.floor(t.length*r/s):0;t=t.substr(0,l),s=Object(o["g"])(t,n)}return""===t&&(t=e.placeholder),t}function u(t,e,i,n){for(var r=0,o=0,s=t.length;o<s&&r<e;o++){var a=t.charCodeAt(o);r+=0<=a&&a<=127?i:n}return o}function h(t,e){null!=t&&(t+="");var i,n=e.overflow,s=e.padding,a=e.font,u="truncate"===n,h=Object(o["f"])(a),d=Object(r["M"])(e.lineHeight,h),p="truncate"===e.lineOverflow,f=e.width;i=null!=f&&"break"===n||"breakAll"===n?t?b(t,e.font,f,"breakAll"===n,0).lines:[]:t?t.split("\n"):[];var m=i.length*d,g=Object(r["M"])(e.height,m);if(m>g&&p){var y=Math.floor(g/d);i=i.slice(0,y)}var v=g,_=f;if(s&&(v+=s[0]+s[2],null!=_&&(_+=s[1]+s[3])),t&&u&&null!=_)for(var x=l(f,a,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),w=0;w<i.length;w++)i[w]=c(i[w],x);if(null==f){var S=0;for(w=0;w<i.length;w++)S=Math.max(Object(o["g"])(i[w],a),S);f=S}return{lines:i,height:g,outerHeight:v,lineHeight:d,calculatedLineHeight:h,contentHeight:m,width:f}}var d=function(){function t(){}return t}(),p=function(){function t(t){this.tokens=[],t&&(this.tokens=t)}return t}(),f=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function m(t,e){var i=new f;if(null!=t&&(t+=""),!t)return i;var l,c=e.width,u=e.height,h=e.overflow,d="break"!==h&&"breakAll"!==h||null==c?null:{width:c,accumWidth:0,breakAll:"breakAll"===h},p=s.lastIndex=0;while(null!=(l=s.exec(t))){var m=l.index;m>p&&g(i,t.substring(p,m),e,d),g(i,l[2],e,d,l[1]),p=s.lastIndex}p<t.length&&g(i,t.substring(p,t.length),e,d);var y=[],v=0,_=0,b=e.padding,x="truncate"===h,w="truncate"===e.lineOverflow;function S(t,e,i){t.width=e,t.lineHeight=i,v+=i,_=Math.max(_,e)}t:for(var T=0;T<i.lines.length;T++){for(var C=i.lines[T],O=0,k=0,A=0;A<C.tokens.length;A++){var I=C.tokens[A],E=I.styleName&&e.rich[I.styleName]||{},M=I.textPadding=E.padding,D=M?M[1]+M[3]:0,P=I.font=E.font||e.font;I.contentHeight=Object(o["f"])(P);var L=Object(r["M"])(E.height,I.contentHeight);if(I.innerHeight=L,M&&(L+=M[0]+M[2]),I.height=L,I.lineHeight=Object(r["N"])(E.lineHeight,e.lineHeight,L),I.align=E&&E.align||e.align,I.verticalAlign=E&&E.verticalAlign||"middle",w&&null!=u&&v+I.lineHeight>u){A>0?(C.tokens=C.tokens.slice(0,A),S(C,k,O),i.lines=i.lines.slice(0,T+1)):i.lines=i.lines.slice(0,T);break t}var z=E.width,j=null==z||"auto"===z;if("string"===typeof z&&"%"===z.charAt(z.length-1))I.percentWidth=z,y.push(I),I.contentWidth=Object(o["g"])(I.text,P);else{if(j){var B=E.backgroundColor,R=B&&B.image;R&&(R=n["b"](R),n["c"](R)&&(I.width=Math.max(I.width,R.width*L/R.height)))}var F=x&&null!=c?c-k:null;null!=F&&F<I.width?!j||F<D?(I.text="",I.width=I.contentWidth=0):(I.text=a(I.text,F-D,P,e.ellipsis,{minChar:e.truncateMinChar}),I.width=I.contentWidth=Object(o["g"])(I.text,P)):I.contentWidth=Object(o["g"])(I.text,P)}I.width+=D,k+=I.width,E&&(O=Math.max(O,I.lineHeight))}S(C,k,O)}i.outerWidth=i.width=Object(r["M"])(c,_),i.outerHeight=i.height=Object(r["M"])(u,v),i.contentHeight=v,i.contentWidth=_,b&&(i.outerWidth+=b[1]+b[3],i.outerHeight+=b[0]+b[2]);for(T=0;T<y.length;T++){I=y[T];var N=I.percentWidth;I.width=parseInt(N,10)/100*i.width}return i}function g(t,e,i,n,r){var s,a,l=""===e,c=r&&i.rich[r]||{},u=t.lines,h=c.font||i.font,f=!1;if(n){var m=c.padding,g=m?m[1]+m[3]:0;if(null!=c.width&&"auto"!==c.width){var y=Object(o["h"])(c.width,n.width)+g;u.length>0&&y+n.accumWidth>n.width&&(s=e.split("\n"),f=!0),n.accumWidth=y}else{var v=b(e,h,n.width,n.breakAll,n.accumWidth);n.accumWidth=v.accumWidth+g,a=v.linesWidths,s=v.lines}}else s=e.split("\n");for(var _=0;_<s.length;_++){var x=s[_],w=new d;if(w.styleName=r,w.text=x,w.isLineHolder=!x&&!l,"number"===typeof c.width?w.width=c.width:w.width=a?a[_]:Object(o["g"])(x,h),_||f)u.push(new p([w]));else{var S=(u[u.length-1]||(u[0]=new p)).tokens,T=S.length;1===T&&S[0].isLineHolder?S[0]=w:(x||!T||l)&&S.push(w)}}}function y(t){var e=t.charCodeAt(0);return e>=33&&e<=255}var v=Object(r["K"])(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function _(t){return!y(t)||!!v[t]}function b(t,e,i,n,r){for(var s=[],a=[],l="",c="",u=0,h=0,d=0;d<t.length;d++){var p=t.charAt(d);if("\n"!==p){var f=Object(o["g"])(p,e),m=!n&&!_(p);(s.length?h+f>i:r+h+f>i)?h?(l||c)&&(m?(l||(l=c,c="",u=0,h=u),s.push(l),a.push(h-u),c+=p,u+=f,l="",h=u):(c&&(l+=c,h+=u,c="",u=0),s.push(l),a.push(h),l=p,h=f)):m?(s.push(c),a.push(u),c=p,u=f):(s.push(p),a.push(f)):(h+=f,m?(c+=p,u+=f):(c&&(l+=c,c="",u=0),l+=p))}else c&&(l+=c,h+=u),s.push(l),a.push(h),l="",c="",u=0,h=0}return s.length||l||(l=t,c="",u=0),c&&(l+=c),l&&(s.push(l),a.push(h)),1===s.length&&(h+=r),{accumWidth:h,lines:s,linesWidths:a}}},d44e:function(t,e,i){var n=i("9bf2").f,r=i("5135"),o=i("b622"),s=o("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},d498:function(t,e,i){"use strict";var n=i("21a1"),r=i("cbe5"),o=i("4fac"),s=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),a=function(t){function e(e){return t.call(this,e)||this}return Object(n["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new s},e.prototype.buildPath=function(t,e){o["a"](t,e,!1)},e}(r["b"]);a.prototype.type="polyline",e["a"]=a},d4c3:function(t,e,i){var n=i("342f"),r=i("da84");t.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==r.Pebble},d51b:function(t,e,i){"use strict";var n=function(){function t(t){this.value=t}return t}(),r=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new n(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),o=function(){function t(t){this._list=new r,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var i=this._list,r=this._map,o=null;if(null==r[t]){var s=i.len(),a=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}a?a.value=e:a=new n(e),a.key=t,i.insertEntry(a),r[t]=a}return o},t.prototype.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();e["a"]=o},d5b7:function(t,e,i){"use strict";var n=i("8582"),r=i("06ad"),o=i("9850"),s=i("6fd3"),a=i("e86a"),l=i("6d8b"),c=i("2cf4"),u=i("41ef"),h=i("22d1"),d=i("4bc4"),p="__zr_normal__",f=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],m={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},g={},y=new o["a"](0,0,0,0),v=function(){function t(t){this.id=Object(l["o"])(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,n=i.local,r=e.innerTransformable,o=void 0,s=void 0,l=!1;r.parent=n?this:null;var c=!1;if(r.copyTransform(e),null!=i.position){var u=y;i.layoutRect?u.copy(i.layoutRect):u.copy(this.getBoundingRect()),n||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(g,i,u):Object(a["d"])(g,i,u),r.x=g.x,r.y=g.y,o=g.align,s=g.verticalAlign;var h=i.origin;if(h&&null!=i.rotation){var p=void 0,f=void 0;"center"===h?(p=.5*u.width,f=.5*u.height):(p=Object(a["h"])(h[0],u.width),f=Object(a["h"])(h[1],u.height)),c=!0,r.originX=-r.x+p+(n?0:u.x),r.originY=-r.y+f+(n?0:u.y)}}null!=i.rotation&&(r.rotation=i.rotation);var m=i.offset;m&&(r.x+=m[0],r.y+=m[1],c||(r.originX=-m[0],r.originY=-m[1]));var v=null==i.inside?"string"===typeof i.position&&i.position.indexOf("inside")>=0:i.inside,_=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),b=void 0,x=void 0,w=void 0;v&&this.canBeInsideText()?(b=i.insideFill,x=i.insideStroke,null!=b&&"auto"!==b||(b=this.getInsideTextFill()),null!=x&&"auto"!==x||(x=this.getInsideTextStroke(b),w=!0)):(b=i.outsideFill,x=i.outsideStroke,null!=b&&"auto"!==b||(b=this.getOutsideFill()),null!=x&&"auto"!==x||(x=this.getOutsideStroke(b),w=!0)),b=b||"#000",b===_.fill&&x===_.stroke&&w===_.autoStroke&&o===_.align&&s===_.verticalAlign||(l=!0,_.fill=b,_.stroke=x,_.autoStroke=w,_.align=o,_.verticalAlign=s,e.setDefaultTextStyle(_)),e.__dirty|=d["a"],l&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?c["d"]:c["a"]},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i="string"===typeof e&&Object(u["d"])(e);i||(i=[255,255,255,1]);for(var n=i[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)i[o]=i[o]*n+(r?0:255)*(1-n);return i[3]=1,Object(u["e"])(i,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},Object(l["m"])(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"===typeof t)this.attrKV(t,e);else if(Object(l["z"])(t))for(var i=t,n=Object(l["D"])(i),r=0;r<n.length;r++){var o=n[r];this.attrKV(o,t[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var n=this.animators[i],r=n.__fromStateTransition;if(!r||r===p){var o=n.targetName,s=o?e[o]:e;n.saveFinalToTarget(s)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,f)},t.prototype._savePrimaryToNormal=function(t,e,i){for(var n=0;n<i.length;n++){var r=i[n];null==t[r]||r in e||(e[r]=this[r])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(p,!1,t)},t.prototype.useState=function(t,e,i,n){var r=t===p,o=this.hasState();if(o||!r){var s=this.currentStates,a=this.stateTransition;if(!(Object(l["q"])(s,t)>=0)||!e&&1!==s.length){var c;if(this.stateProxy&&!r&&(c=this.stateProxy(t)),c||(c=this.states&&this.states[t]),c||r){r||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||n);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,c,this._normalState,e,!i&&!this.__inHover&&a&&a.duration>0,a);var h=this._textContent,f=this._textGuide;return h&&h.useState(t,e,i,u),f&&f.useState(t,e,i,u),r?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~d["a"]),c}Object(l["E"])("State "+t+" not exists.")}}},t.prototype.useStates=function(t,e,i){if(t.length){var n=[],r=this.currentStates,o=t.length,s=o===r.length;if(s)for(var a=0;a<o;a++)if(t[a]!==r[a]){s=!1;break}if(s)return;for(a=0;a<o;a++){var l=t[a],c=void 0;this.stateProxy&&(c=this.stateProxy(l,t)),c||(c=this.states[l]),c&&n.push(c)}var u=n[o-1],h=!!(u&&u.hoverLayer||i);h&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(n),f=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(t.join(","),p,this._normalState,!1,!e&&!this.__inHover&&f&&f.duration>0,f);var m=this._textContent,g=this._textGuide;m&&m.useStates(t,e,h),g&&g.useStates(t,e,h),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~d["a"])}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=Object(l["q"])(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},t.prototype.replaceState=function(t,e,i){var n=this.currentStates.slice(),r=Object(l["q"])(n,t),o=Object(l["q"])(n,e)>=0;r>=0?o?n.splice(r,1):n[r]=e:i&&!o&&n.push(e),this.useStates(n)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,i={},n=0;n<t.length;n++){var r=t[n];Object(l["m"])(i,r),r.textConfig&&(e=e||{},Object(l["m"])(e,r.textConfig))}return e&&(i.textConfig=e),i},t.prototype._applyStateObj=function(t,e,i,n,r,o){var s=!(e&&n);e&&e.textConfig?(this.textConfig=Object(l["m"])({},n?this.textConfig:i.textConfig),Object(l["m"])(this.textConfig,e.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var a={},c=!1,u=0;u<f.length;u++){var h=f[u],d=r&&m[h];e&&null!=e[h]?d?(c=!0,a[h]=e[h]):this[h]=e[h]:s&&null!=i[h]&&(d?(c=!0,a[h]=i[h]):this[h]=i[h])}if(!r)for(u=0;u<this.animators.length;u++){var p=this.animators[u],g=p.targetName;p.__changeFinalValue(g?(e||i)[g]:e||i)}c&&this._transitionState(t,a,o)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.innerTransformable=new n["a"],this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Object(l["m"])(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=d["a"];var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e){var i=t?this[t]:this;if(i){var n=new r["b"](i,e);return this.addAnimator(n,t),n}Object(l["E"])('Property "'+t+'" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var i=this.__zr,n=this;t.during((function(){n.updateDuringAnimation(e)})).done((function(){var e=n.animators,i=Object(l["q"])(e,t);i>=0&&e.splice(i,1)})),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var i=this.animators,n=i.length,r=[],o=0;o<n;o++){var s=i[o];t&&t!==s.scope?r.push(s):s.stop(e)}return this.animators=r,this},t.prototype.animateTo=function(t,e,i){_(this,t,e,i)},t.prototype.animateFrom=function(t,e,i){_(this,t,e,i,!0)},t.prototype._transitionState=function(t,e,i,n){for(var r=_(this,e,i,n),o=0;o<r.length;o++)r[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=d["a"];var i={};function n(t,e,n){i[t+e+n]||(console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+n+"' instead"),i[t+e+n]=!0)}function r(t,i,r,o){function s(t,e){Object.defineProperty(e,0,{get:function(){return t[r]},set:function(e){t[r]=e}}),Object.defineProperty(e,1,{get:function(){return t[o]},set:function(e){t[o]=e}})}Object.defineProperty(e,t,{get:function(){if(n(t,r,o),!this[i]){var e=this[i]=[];s(this,e)}return this[i]},set:function(e){n(t,r,o),this[r]=e[0],this[o]=e[1],this[i]=e,s(this,e)}})}Object.defineProperty&&(!h["a"].browser.ie||h["a"].browser.version>8)&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();function _(t,e,i,n,r){i=i||{};var o=[];S(t,"",t,e,i,n,o,r);var s=o.length,a=!1,l=i.done,c=i.aborted,u=function(){a=!0,s--,s<=0&&(a?l&&l():c&&c())},h=function(){s--,s<=0&&(a?l&&l():c&&c())};s||l&&l(),o.length>0&&i.during&&o[0].during((function(t,e){i.during(e)}));for(var d=0;d<o.length;d++){var p=o[d];u&&p.done(u),h&&p.aborted(h),p.start(i.easing,i.force)}return o}function b(t,e,i){for(var n=0;n<i;n++)t[n]=e[n]}function x(t){return Object(l["t"])(t[0])}function w(t,e,i){if(Object(l["t"])(e[i]))if(Object(l["t"])(t[i])||(t[i]=[]),Object(l["C"])(e[i])){var n=e[i].length;t[i].length!==n&&(t[i]=new e[i].constructor(n),b(t[i],e[i],n))}else{var r=e[i],o=t[i],s=r.length;if(x(r))for(var a=r[0].length,c=0;c<s;c++)o[c]?b(o[c],r[c],a):o[c]=Array.prototype.slice.call(r[c]);else b(o,r,s);o.length=r.length}else t[i]=e[i]}function S(t,e,i,n,o,s,a,c){for(var u=[],h=[],d=Object(l["D"])(n),p=o.duration,f=o.delay,m=o.additive,g=o.setToFinal,y=!Object(l["z"])(s),v=0;v<d.length;v++){var _=d[v];if(null!=i[_]&&null!=n[_]&&(y||s[_]))if(Object(l["z"])(n[_])&&!Object(l["t"])(n[_])){if(e){c||(i[_]=n[_],t.updateDuringAnimation(e));continue}S(t,_,i[_],n[_],o,s&&s[_],a,c)}else u.push(_),h.push(_);else c||(i[_]=n[_],t.updateDuringAnimation(e),h.push(_))}var b=u.length;if(b>0||o.force&&!a.length){for(var x=t.animators,T=[],C=0;C<x.length;C++)x[C].targetName===e&&T.push(x[C]);if(!m&&T.length)for(C=0;C<T.length;C++){var O=T[C].stopTracks(h);if(O){var k=Object(l["q"])(x,T[C]);x.splice(k,1)}}var A=void 0,I=void 0,E=void 0;if(c){I={},g&&(A={});for(C=0;C<b;C++){_=u[C];I[_]=i[_],g?A[_]=n[_]:i[_]=n[_]}}else if(g){E={};for(C=0;C<b;C++){_=u[C];E[_]=Object(r["a"])(i[_]),w(i,n,_)}}var M=new r["b"](i,!1,m?T:null);M.targetName=e,o.scope&&(M.scope=o.scope),g&&A&&M.whenWithKeys(0,A,u),E&&M.whenWithKeys(0,E,u),M.whenWithKeys(null==p?500:p,c?I:n,u).delay(f||0),t.addAnimator(M,e),a.push(M)}}Object(l["H"])(v,s["a"]),Object(l["H"])(v,n["a"]),e["a"]=v},d81d:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").map,o=i("1dde"),s=o("map");n({target:"Array",proto:!0,forced:!s},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},d8b6:function(t,e,i){"use strict";i("ce6b")},d925:function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},d998:function(t,e,i){var n=i("342f");t.exports=/MSIE|Trident/.test(n)},d9b5:function(t,e,i){var n=i("1626"),r=i("d066"),o=i("fdbf");t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return n(e)&&Object(t)instanceof e}},d9bd:function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return s})),i.d(e,"d",(function(){return a})),i.d(e,"a",(function(){return l})),i.d(e,"e",(function(){return c}));var n=i("f309");function r(t,e,i){if(!n["a"].config.silent){if(i&&(e={_isVue:!0,$parent:i,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return"[Vuetify] "+t+(e?p(e):"")}}function o(t,e,i){const n=r(t,e,i);null!=n&&console.warn(n)}function s(t,e,i){const n=r(t,e,i);null!=n&&console.error(n)}function a(t,e,i,n){o(`[UPGRADE] '${t}' is deprecated, use '${e}' instead.`,i,n)}function l(t,e,i,n){s(`[BREAKING] '${t}' has been removed, use '${e}' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide`,i,n)}function c(t,e,i){o(`[REMOVED] '${t}' has been removed. You can safely omit it.`,e,i)}const u=/(?:^|[-_])(\w)/g,h=t=>t.replace(u,t=>t.toUpperCase()).replace(/[-_]/g,"");function d(t,e){if(t.$root===t)return"<Root>";const i="function"===typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t||{};let n=i.name||i._componentTag;const r=i.__file;if(!n&&r){const t=r.match(/([^/\\]+)\.vue$/);n=t&&t[1]}return(n?`<${h(n)}>`:"<Anonymous>")+(r&&!1!==e?" at "+r:"")}function p(t){if(t._isVue&&t.$parent){const e=[];let i=0;while(t){if(e.length>0){const n=e[e.length-1];if(n.constructor===t.constructor){i++,t=t.$parent;continue}i>0&&(e[e.length-1]=[n,i],i=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map((t,e)=>`${0===e?"---\x3e ":" ".repeat(5+2*e)}${Array.isArray(t)?`${d(t[0])}... (${t[1]} recursive calls)`:d(t)}`).join("\n")}return`\n\n(found in ${d(t)})`}},d9f7:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"b",(function(){return c}));var n=i("80d2");const r={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function o(t){const e={};for(const i of t.split(r.styleList)){let[t,o]=i.split(r.styleProp);t=t.trim(),t&&("string"===typeof o&&(o=o.trim()),e[Object(n["d"])(t)]=o)}return e}function s(){const t={};let e,i=arguments.length;while(i--)for(e of Object.keys(arguments[i]))switch(e){case"class":case"directives":arguments[i][e]&&(t[e]=l(t[e],arguments[i][e]));break;case"style":arguments[i][e]&&(t[e]=a(t[e],arguments[i][e]));break;case"staticClass":if(!arguments[i][e])break;void 0===t[e]&&(t[e]=""),t[e]&&(t[e]+=" "),t[e]+=arguments[i][e].trim();break;case"on":case"nativeOn":arguments[i][e]&&(t[e]=c(t[e],arguments[i][e]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[i][e])break;t[e]||(t[e]={}),t[e]={...arguments[i][e],...t[e]};break;default:t[e]||(t[e]=arguments[i][e])}return t}function a(t,e){return t?e?(t=Object(n["B"])("string"===typeof t?o(t):t),t.concat("string"===typeof e?o(e):e)):t:e}function l(t,e){return e?t&&t?Object(n["B"])(t).concat(e):e:t}function c(...t){if(!t[0])return t[1];if(!t[1])return t[0];const e={};for(let i=2;i--;){const n=t[i];for(const t in n)n[t]&&(e[t]?e[t]=[].concat(n[t],e[t]):e[t]=n[t])}return e}},d9fc:function(t,e,i){"use strict";var n=i("21a1"),r=i("cbe5"),o=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),s=function(t){function e(e){return t.call(this,e)||this}return Object(n["a"])(e,t),e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(r["b"]);s.prototype.type="circle",e["a"]=s},da13:function(t,e,i){"use strict";i("61d2");var n=i("a9ad"),r=i("1c87"),o=i("4e82"),s=i("7560"),a=i("f2e7"),l=i("5607"),c=i("80d2"),u=i("d9bd"),h=i("58df");const d=Object(h["a"])(n["a"],r["a"],s["a"],Object(o["a"])("listItemGroup"),Object(a["b"])("inputValue"));e["a"]=d.extend().extend({name:"v-list-item",directives:{Ripple:l["a"]},inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},inheritAttrs:!1,props:{activeClass:{type:String,default(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:()=>({proxyClass:"v-list-item--active"}),computed:{classes(){return{"v-list-item":!0,...r["a"].options.computed.classes.call(this),"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine,...this.themeClasses}},isClickable(){return Boolean(r["a"].options.computed.isClickable.call(this)||this.listItemGroup)}},created(){this.$attrs.hasOwnProperty("avatar")&&Object(u["e"])("avatar",this)},methods:{click(t){t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()},genAttrs(){const t={"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1,...this.$attrs};return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(t.role="option",t["aria-selected"]=String(this.isActive)):this.isInMenu?(t.role=this.isClickable?"menuitem":void 0,t.id=t.id||"list-item-"+this._uid):this.isInList&&(t.role="listitem")),t}},render(t){let{tag:e,data:i}=this.generateRouteLink();i.attrs={...i.attrs,...this.genAttrs()},i[this.to?"nativeOn":"on"]={...i[this.to?"nativeOn":"on"],keydown:t=>{t.keyCode===c["u"].enter&&this.click(t),this.$emit("keydown",t)}},this.inactive&&(e="div"),this.inactive&&this.to&&(i.on=i.nativeOn,delete i.nativeOn);const n=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return t(e,this.setTextColor(this.color,i),n)}})},da84:function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},db42:function(t,e,i){},dbb4:function(t,e,i){var n=i("23e7"),r=i("83ab"),o=i("56ef"),s=i("fc6a"),a=i("06cf"),l=i("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,i,n=s(t),r=a.f,c=o(n),u={},h=0;while(c.length>h)i=r(n,e=c[h++]),void 0!==i&&l(u,e,i);return u}})},dbe1:function(t,e,i){"use strict";var n=i("608e"),r=i("53a8"),o=i("a62c"),s=i("774a"),a=i("8cb5"),l=1;function c(t,e){if(!t)throw new Error("MapiRequest requires a client");if(!e||!e.path||!e.method)throw new Error("MapiRequest requires an options object with path and method properties");var i={};e.body&&(i["content-type"]="application/json");var n=r(i,e.headers),s=Object.keys(n).reduce((function(t,e){return t[e.toLowerCase()]=n[e],t}),{});this.id=l++,this._options=e,this.emitter=new o,this.client=t,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=e.path,this.method=e.method,this.origin=e.origin||t.origin,this.query=e.query||{},this.params=e.params||{},this.body=e.body||null,this.file=e.file||null,this.encoding=e.encoding||"utf8",this.sendFileAs=e.sendFileAs||null,this.headers=s}c.prototype.url=function(t){var e=s.prependOrigin(this.path,this.origin);e=s.appendQueryObject(e,this.query);var i=this.params,o=null==t?this.client.accessToken:t;if(o){e=s.appendQueryParam(e,"access_token",o);var a=n(o).user;i=r({ownerId:a},i)}return e=s.interpolateRouteParams(e,i),e},c.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then((function(e){return t.response=e,t.emitter.emit(a.EVENT_RESPONSE,e),e}),(function(e){throw t.error=e,t.emitter.emit(a.EVENT_ERROR,e),e}))},c.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},c.prototype.eachPage=function(t){var e=this;function i(i){function n(){delete e._nextPageRequest;var t=i.nextPage();t&&(e._nextPageRequest=t,r(t))}t(null,i,n)}function n(e){t(e,null,(function(){}))}function r(t){t.send().then(i,n)}r(this)},c.prototype.clone=function(){return this._extend()},c.prototype._extend=function(t){var e=r(this._options,t);return new c(this.client,e)},t.exports=c},dc22:function(t,e,i){"use strict";function n(t,e){const i=e.value,n=e.options||{passive:!0};window.addEventListener("resize",i,n),t._onResize={callback:i,options:n},e.modifiers&&e.modifiers.quiet||i()}function r(t){if(!t._onResize)return;const{callback:e,options:i}=t._onResize;window.removeEventListener("resize",e,i),delete t._onResize}const o={inserted:n,unbind:r};e["a"]=o},dc4a:function(t,e,i){var n=i("59ed");t.exports=function(t,e){var i=t[e];return null==i?void 0:n(i)}},dce8:function(t,e,i){"use strict";var n=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,i){t.x=e,t.y=i},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},t.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},t.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},t.scaleAndAdd=function(t,e,i,n){t.x=e.x+i.x*n,t.y=e.y+i.y*n},t.lerp=function(t,e,i,n){var r=1-n;t.x=r*e.x+n*i.x,t.y=r*e.y+n*i.y},t}();e["a"]=n},dd4f:function(t,e,i){"use strict";var n=i("21a1"),r=i("19eb"),o=i("e86a"),s=i("cbe5"),a=i("6d8b"),l=Object(a["j"])({strokeFirst:!0,font:o["a"],x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},s["a"]),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["a"])(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,e=t.fill;return null!=e&&"none"!==e},e.prototype.createStyle=function(t){return Object(a["h"])(l,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var i=Object(o["e"])(e,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var n=t.lineWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(r["c"]);c.prototype.type="tspan",e["a"]=c},dd89:function(t,e,i){"use strict";function n(t){if("function"!==typeof t.getRootNode){while(t.parentNode)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}i.d(e,"a",(function(){return n}))},ddb0:function(t,e,i){var n=i("da84"),r=i("fdbc"),o=i("785a"),s=i("e260"),a=i("9112"),l=i("b622"),c=l("iterator"),u=l("toStringTag"),h=s.values,d=function(t,e){if(t){if(t[c]!==h)try{a(t,c,h)}catch(n){t[c]=h}if(t[u]||a(t,u,e),r[e])for(var i in s)if(t[i]!==s[i])try{a(t,i,s[i])}catch(n){t[i]=s[i]}}};for(var p in r)d(n[p]&&n[p].prototype,p);d(o,"DOMTokenList")},dded:function(t,e,i){"use strict";var n=i("21a1"),r=i("42e5"),o=function(t){function e(e,i,n,r,o){var s=t.call(this,r)||this;return s.x=null==e?.5:e,s.y=null==i?.5:i,s.r=null==n?.5:n,s.type="radial",s.global=o||!1,s}return Object(n["a"])(e,t),e}(r["a"]);e["a"]=o},deab:function(t,e,i){"use strict";i.d(e,"f",(function(){return l})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return p})),i.d(e,"e",(function(){return f}));var n=i("6d8b"),r=i("e0d3"),o=Object(r["l"])();function s(t,e,i,r,o){var s;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();s=a&&a.animation}var l=e&&e.isAnimationEnabled(),c="update"===t;if(l){var u=void 0,h=void 0,d=void 0;r?(u=Object(n["M"])(r.duration,200),h=Object(n["M"])(r.easing,"cubicOut"),d=0):(u=e.getShallow(c?"animationDurationUpdate":"animationDuration"),h=e.getShallow(c?"animationEasingUpdate":"animationEasing"),d=e.getShallow(c?"animationDelayUpdate":"animationDelay")),s&&(null!=s.duration&&(u=s.duration),null!=s.easing&&(h=s.easing),null!=s.delay&&(d=s.delay)),"function"===typeof d&&(d=d(i,o)),"function"===typeof u&&(u=u(i));var p={duration:u||0,delay:d,easing:h};return p}return null}function a(t,e,i,r,o,a,l){var c,u=!1;"function"===typeof o?(l=a,a=o,o=null):Object(n["z"])(o)&&(a=o.cb,l=o.during,u=o.isFrom,c=o.removeOpt,o=o.dataIndex);var h="remove"===t;h||e.stopAnimation("remove");var d=s(t,r,o,h?c||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,o):null);if(d&&d.duration>0){var p=d.duration,f=d.delay,m=d.easing,g={duration:p,delay:f||0,easing:m,done:a,force:!!a||!!l,setToFinal:!h,scope:t,during:l};u?e.animateFrom(i,g):e.animateTo(i,g)}else e.stopAnimation(),!u&&e.attr(i),l&&l(1),a&&a()}function l(t,e,i,n,r,o){a("update",t,e,i,n,r,o)}function c(t,e,i,n,r,o){a("init",t,e,i,n,r,o)}function u(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var i=t.animators[e];if("remove"===i.scope)return!0}return!1}function h(t,e,i,n,r,o){u(t)||a("remove",t,e,i,n,r,o)}function d(t,e,i,n){t.removeTextContent(),t.removeTextGuideLine(),h(t,{style:{opacity:0}},e,i,n)}function p(t,e,i){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||d(t,e,i,n)})):d(t,e,i,n)}function f(t){o(t).oldStyle=t.style}},df75:function(t,e,i){var n=i("ca84"),r=i("7839");t.exports=Object.keys||function(t){return n(t,r)}},df7c:function(t,e,i){(function(t){function i(t,e){for(var i=0,n=t.length-1;n>=0;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t){"string"!==typeof t&&(t+="");var e,i=0,n=-1,r=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!r){i=e+1;break}}else-1===n&&(r=!1,n=e+1);return-1===n?"":t.slice(i,n)}function r(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}e.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=i(r(e.split("/"),(function(t){return!!t})),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),s="/"===o(t,-1);return t=i(r(t.split("/"),(function(t){return!!t})),!n).join("/"),t||n||(t="."),t&&s&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,i){function n(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var i=t.length-1;i>=0;i--)if(""!==t[i])break;return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var r=n(t.split("/")),o=n(i.split("/")),s=Math.min(r.length,o.length),a=s,l=0;l<s;l++)if(r[l]!==o[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,n=-1,r=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!r){n=o;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var i=n(t);return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,i=0,n=-1,r=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===n&&(r=!1,n=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!r){i=s+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===i+1?"":t.slice(e,n)};var o="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,i("4362"))},df86:function(t,e,i){},e01a:function(t,e,i){"use strict";var n=i("23e7"),r=i("83ab"),o=i("da84"),s=i("5135"),a=i("1626"),l=i("861d"),c=i("9bf2").f,u=i("e893"),h=o.Symbol;if(r&&a(h)&&(!("description"in h.prototype)||void 0!==h().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new h(t):void 0===t?h():h(t);return""===t&&(d[e]=!0),e};u(p,h);var f=p.prototype=h.prototype;f.constructor=p;var m=f.toString,g="Symbol(test)"==String(h("test")),y=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=l(this)?this.valueOf():this,e=m.call(t);if(s(d,t))return"";var i=g?e.slice(7,-1):e.replace(y,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:p})}},e0d3:function(t,e,i){"use strict";i.d(e,"n",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"b",(function(){return h})),i.d(e,"f",(function(){return d})),i.d(e,"j",(function(){return p})),i.d(e,"m",(function(){return f})),i.d(e,"c",(function(){return S})),i.d(e,"k",(function(){return T})),i.d(e,"i",(function(){return C})),i.d(e,"t",(function(){return O})),i.d(e,"q",(function(){return A})),i.d(e,"l",(function(){return I})),i.d(e,"o",(function(){return M})),i.d(e,"p",(function(){return D})),i.d(e,"a",(function(){return P})),i.d(e,"r",(function(){return L})),i.d(e,"s",(function(){return z})),i.d(e,"e",(function(){return j})),i.d(e,"g",(function(){return B})),i.d(e,"h",(function(){return R}));var n=i("6d8b"),r=i("22d1"),o=i("3842"),s=i("06ad"),a="series\0",l="\0_ec_\0";function c(t){return t instanceof Array?t:null==t?[]:[t]}function u(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,r=i.length;n<r;n++){var o=i[n];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var h=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function d(t){return!Object(n["z"])(t)||Object(n["s"])(t)||t instanceof Date?t:t.value}function p(t){return Object(n["z"])(t)&&!(t instanceof Array)}function f(t,e,i){var r="normalMerge"===i,o="replaceMerge"===i,s="replaceAll"===i;t=t||[],e=(e||[]).slice();var a=Object(n["g"])();Object(n["k"])(e,(function(t,i){Object(n["z"])(t)||(e[i]=null)}));var l=m(t,a,i);return(r||o)&&g(l,t,a,e),r&&y(l,e),r||o?v(l,e,o):s&&_(l,e),b(l),l}function m(t,e,i){var n=[];if("replaceAll"===i)return n;for(var r=0;r<t.length;r++){var o=t[r];o&&null!=o.id&&e.set(o.id,r),n.push({existing:"replaceMerge"===i||C(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return n}function g(t,e,i,r){Object(n["k"])(r,(function(o,s){if(o&&null!=o.id){var a=w(o.id),l=i.get(a);if(null!=l){var c=t[l];Object(n["b"])(!c.newOption,'Duplicated option on id "'+a+'".'),c.newOption=o,c.existing=e[l],r[s]=null}}}))}function y(t,e){Object(n["k"])(e,(function(i,n){if(i&&null!=i.name)for(var r=0;r<t.length;r++){var o=t[r].existing;if(!t[r].newOption&&o&&(null==o.id||null==i.id)&&!C(i)&&!C(o)&&x("name",o,i))return t[r].newOption=i,void(e[n]=null)}}))}function v(t,e,i){Object(n["k"])(e,(function(e){if(e){var n,r=0;while((n=t[r])&&(n.newOption||C(n.existing)||n.existing&&null!=e.id&&!x("id",e,n.existing)))r++;n?(n.newOption=e,n.brandNew=i):t.push({newOption:e,brandNew:i,existing:null,keyInfo:null}),r++}}))}function _(t,e){Object(n["k"])(e,(function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))}function b(t){var e=Object(n["g"])();Object(n["k"])(t,(function(t){var i=t.existing;i&&e.set(i.id,t)})),Object(n["k"])(t,(function(t){var i=t.newOption;Object(n["b"])(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})})),Object(n["k"])(t,(function(t,i){var r=t.existing,o=t.newOption,s=t.keyInfo;if(Object(n["z"])(o)){if(s.name=null!=o.name?w(o.name):r?r.name:a+i,r)s.id=w(r.id);else if(null!=o.id)s.id=w(o.id);else{var l=0;do{s.id="\0"+s.name+"\0"+l++}while(e.get(s.id))}e.set(s.id,t)}}))}function x(t,e,i){var n=S(e[t],null),r=S(i[t],null);return null!=n&&null!=r&&n===r}function w(t){return S(t,"")}function S(t,e){if(null==t)return e;var i=typeof t;return"string"===i?t:"number"===i||Object(n["B"])(t)?t+"":e}function T(t){var e=t.name;return!(!e||!e.indexOf(a))}function C(t){return t&&null!=t.id&&0===w(t.id).indexOf(l)}function O(t,e,i){Object(n["k"])(t,(function(t){var r=t.newOption;Object(n["z"])(r)&&(t.keyInfo.mainType=e,t.keyInfo.subType=k(e,r,t.existing,i))}))}function k(t,e,i,n){var r=e.type?e.type:i?i.subType:n.determineSubType(t,e);return r}function A(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?Object(n["s"])(e.dataIndex)?Object(n["F"])(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?Object(n["s"])(e.name)?Object(n["F"])(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function I(){var t="__ec_inner_"+E++;return function(e){return e[t]||(e[t]={})}}var E=Object(o["e"])();function M(t,e,i){var n=D(e,i),r=n.mainTypeSpecified,o=n.queryOptionMap,s=n.others,a=s,l=i?i.defaultMainType:null;return!r&&l&&o.set(l,{}),o.each((function(e,n){var r=L(t,n,e,{useDefault:l===n,enableAll:!i||null==i.enableAll||i.enableAll,enableNone:!i||null==i.enableNone||i.enableNone});a[n+"Models"]=r.models,a[n+"Model"]=r.models[0]})),a}function D(t,e){var i;if(Object(n["A"])(t)){var r={};r[t+"Index"]=0,i=r}else i=t;var o=Object(n["g"])(),s={},a=!1;return Object(n["k"])(i,(function(t,i){if("dataIndex"!==i&&"dataIndexInside"!==i){var r=i.match(/^(\w+)(Index|Id|Name)$/)||[],l=r[1],c=(r[2]||"").toLowerCase();if(l&&c&&!(e&&e.includeMainTypes&&Object(n["q"])(e.includeMainTypes,l)<0)){a=a||!!l;var u=o.get(l)||o.set(l,{});u[c]=t}}else s[i]=t})),{mainTypeSpecified:a,queryOptionMap:o,others:s}}var P={useDefault:!0,enableAll:!1,enableNone:!1};function L(t,e,i,r){r=r||P;var o=i.index,s=i.id,a=i.name,l={models:null,specified:null!=o||null!=s||null!=a};if(!l.specified){var c=void 0;return l.models=r.useDefault&&(c=t.getComponent(e))?[c]:[],l}return"none"===o||!1===o?(Object(n["b"])(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):("all"===o&&(Object(n["b"])(r.enableAll,'`"all"` is not a valid value on index option.'),o=s=a=null),l.models=t.queryComponents({mainType:e,index:o,id:s,name:a}),l)}function z(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i}function j(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function B(t){return"auto"===t?r["a"].domSupported?"html":"richText":t||"html"}function R(t,e,i,n,r){var a=null==e||"auto"===e;if(null==n)return n;if("number"===typeof n){var l=Object(s["c"])(i||0,n,r);return Object(o["o"])(l,a?Math.max(Object(o["d"])(i||0),Object(o["d"])(n)):e)}if("string"===typeof n)return r<1?i:n;for(var c=[],u=i,h=n,d=Math.max(u?u.length:0,h.length),p=0;p<d;++p){var f=t.getDimensionInfo(p);if(f&&"ordinal"===f.type)c[p]=(r<1&&u?u:h)[p];else{var m=u&&u[p]?u[p]:0,g=h[p];l=Object(s["c"])(m,g,r);c[p]=Object(o["o"])(l,a?Math.max(Object(o["d"])(m),Object(o["d"])(g)):e)}}return c}},e163:function(t,e,i){var n=i("5135"),r=i("1626"),o=i("7b0b"),s=i("f772"),a=i("e177"),l=s("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){var e=o(t);if(n(e,l))return e[l];var i=e.constructor;return r(i)&&e instanceof i?i.prototype:e instanceof Object?c:null}},e177:function(t,e,i){var n=i("d039");t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e192:function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){"use strict";var t,e,i;function n(n,r){if(t)if(e){var o="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/api/#transpiling-v2'); }; var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk); self.onerror = null;",s={};t(s),i=r(s),"undefined"!==typeof window&&(i.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=r;else t=r}n(["exports"],(function(t){var e="2.4.1",i=n;function n(t,e,i,n){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=i,this.p2y=n}n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var i,n,r,o,s;for(void 0===e&&(e=1e-6),r=t,s=0;s<8;s++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var a=this.sampleCurveDerivativeX(r);if(Math.abs(a)<1e-6)break;r-=o/a}if((r=t)<(i=0))return i;if(r>(n=1))return n;for(;i<n;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?i=r:n=r,r=.5*(n-i)+i}return r},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var r=o;function o(t,e){this.x=t,this.y=e}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=i*this.x+e*this.y;return this.x=e*this.x-i*this.y,this.y=n,this},_rotateAround:function(t,e){var i=Math.cos(t),n=Math.sin(t),r=e.y+n*(this.x-e.x)+i*(this.y-e.y);return this.x=e.x+i*(this.x-e.x)-n*(this.y-e.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var s="undefined"!=typeof self?self:{};const a=Math.pow(2,53)-1,l=Math.PI/180,c=180/Math.PI;function u(t){return t*l}const h=[[0,0],[1,0],[1,1],[0,1]];function d(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)}function p(t,e,n,r){const o=new i(t,e,n,r);return function(t){return o.solve(t)}}const f=p(.25,.1,.25,1);function m(t,e,i){return Math.min(i,Math.max(e,t))}function g(t,e,i){const n=i-e,r=((t-e)%n+n)%n+e;return r===e?i:r}function y(t,e,i){if(!t.length)return i(null,[]);let n=t.length;const r=new Array(t.length);let o=null;t.forEach((t,s)=>{e(t,(t,e)=>{t&&(o=t),r[s]=e,0==--n&&i(o,r)})})}function v(t){const e=[];for(const i in t)e.push(t[i]);return e}function _(t,...e){for(const i of e)for(const e in i)t[e]=i[e];return t}let b=1;function x(){return b++}function w(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function S(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function T(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function C(t,e){t.forEach(t=>{e[t]&&(e[t]=e[t].bind(e))})}function O(t,e){return-1!==t.indexOf(e,t.length-e.length)}function k(t,e,i){const n={};for(const r in t)n[r]=e.call(i||this,t[r],r,t);return n}function A(t,e,i){const n={};for(const r in t)e.call(i||this,t[r],r,t)&&(n[r]=t[r]);return n}function I(t){return Array.isArray(t)?t.map(I):"object"==typeof t&&t?k(t,I):t}const E={};function M(t){E[t]||("undefined"!=typeof console&&console.warn(t),E[t]=!0)}function D(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}function P(t){let e=0;for(let i,n,r=0,o=t.length,s=o-1;r<o;s=r++)i=t[r],n=t[s],e+=(n.x-i.x)*(i.y+n.y);return e}function L(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function z(t){const e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(t,i,n,r)=>{const o=n||r;return e[i]=!o||o.toLowerCase(),""}),e["max-age"]){const t=parseInt(e["max-age"],10);isNaN(t)?delete e["max-age"]:e["max-age"]=t}return e}let j,B,R,F=null;function N(t){if(null==F){const e=t.navigator?t.navigator.userAgent:null;F=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return F}function V(t){try{const e=s[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}const $={now:()=>void 0!==R?R:s.performance.now(),setNow(t){R=t},restoreNow(){R=void 0},frame(t){const e=s.requestAnimationFrame(t);return{cancel:()=>s.cancelAnimationFrame(e)}},getImageData(t,e=0){const i=s.document.createElement("canvas"),n=i.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return i.width=t.width,i.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:t=>(j||(j=s.document.createElement("a")),j.href=t,j.href),get devicePixelRatio(){return s.devicePixelRatio},get prefersReducedMotion(){return!!s.matchMedia&&(null==B&&(B=s.matchMedia("(prefers-reduced-motion: reduce)")),B.matches)}};let U;const G={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==U){const t=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{U=null!=Object({NODE_ENV:"production",VUE_APP_API_ENDPOINT:"http://localhost:5000",VUE_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiaW9taWMiLCJhIjoiY2thZ3g5NDJvMGF4eDJzcWI3NnpraTlybCJ9.2NLC1oDwtP6lBWIsAfEu1A",BASE_URL:"/"}).API_URL_REGEX?new RegExp(Object({NODE_ENV:"production",VUE_APP_API_ENDPOINT:"http://localhost:5000",VUE_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiaW9taWMiLCJhIjoiY2thZ3g5NDJvMGF4eDJzcWI3NnpraTlybCJ9.2NLC1oDwtP6lBWIsAfEu1A",BASE_URL:"/"}).API_URL_REGEX):t}catch(e){U=t}}return U},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},q={supported:!1,testSupport:function(t){!Z&&W&&(X?Y(t):H=t)}};let H,W,Z=!1,X=!1;function Y(t){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,W),t.isContextLost())return;q.supported=!0}catch(t){}t.deleteTexture(e),Z=!0}s.document&&(W=s.document.createElement("img"),W.onload=function(){H&&Y(H),H=null,X=!0},W.onerror=function(){Z=!0,H=null},W.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const K="01",J="NO_ACCESS_TOKEN";function Q(t){return 0===t.indexOf("mapbox:")}function tt(t){return G.API_URL_REGEX.test(t)}const et=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function it(t){const e=t.match(et);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function nt(t){const e=t.params.length?"?"+t.params.join("&"):"";return`${t.protocol}://${t.authority}${t.path}${e}`}function rt(t){if(!t)return null;const e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(s.atob(e[1]).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(t){return null}}class ot{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(t){const e=rt(G.ACCESS_TOKEN);let i="";return i=e&&e.u?s.btoa(encodeURIComponent(e.u).replace(/%([0-9A-F]{2})/g,(t,e)=>String.fromCharCode(Number("0x"+e)))):G.ACCESS_TOKEN||"",t?`mapbox.eventData.${t}:${i}`:"mapbox.eventData:"+i}fetchEventData(){const t=V("localStorage"),e=this.getStorageKey(),i=this.getStorageKey("uuid");if(t)try{const t=s.localStorage.getItem(e);t&&(this.eventData=JSON.parse(t));const n=s.localStorage.getItem(i);n&&(this.anonId=n)}catch(t){M("Unable to read from LocalStorage")}}saveEventData(){const t=V("localStorage"),e=this.getStorageKey(),i=this.getStorageKey("uuid");if(t)try{s.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&s.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){M("Unable to write to LocalStorage")}}processRequests(t){}postEvent(t,i,n,r){if(!G.EVENTS_URL)return;const o=it(G.EVENTS_URL);o.params.push("access_token="+(r||G.ACCESS_TOKEN||""));const s={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:e,skuId:K,userId:this.anonId},a=i?_(s,i):s,l={url:nt(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([a])};this.pendingRequest=Ot(l,t=>{this.pendingRequest=null,n(t),this.saveEventData(),this.processRequests(r)})}queueRequest(t,e){this.queue.push(t),this.processRequests(e)}}const st=new class extends ot{constructor(t){super("appUserTurnstile"),this._customAccessToken=t}postTurnstileEvent(t,e){G.EVENTS_URL&&G.ACCESS_TOKEN&&Array.isArray(t)&&t.some(t=>Q(t)||tt(t))&&this.queueRequest(Date.now(),e)}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=rt(G.ACCESS_TOKEN),i=e?e.u:G.ACCESS_TOKEN;let n=i!==this.eventData.tokenU;T(this.anonId)||(this.anonId=w(),n=!0);const r=this.queue.shift();if(this.eventData.lastSuccess){const t=new Date(this.eventData.lastSuccess),e=new Date(r),i=(r-this.eventData.lastSuccess)/864e5;n=n||i>=1||i<-1||t.getDate()!==e.getDate()}else n=!0;if(!n)return this.processRequests();this.postEvent(r,{"enabled.telemetry":!1},t=>{t||(this.eventData.lastSuccess=r,this.eventData.tokenU=i)},t)}},at=st.postTurnstileEvent.bind(st),lt=new class extends ot{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(t,e,i,n){this.skuToken=e,this.errorCb=n,G.EVENTS_URL&&(i||G.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},i):this.errorCb(new Error(J)))}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),T(this.anonId)||(this.anonId=w()),this.postEvent(i,{skuToken:this.skuToken},t=>{t?this.errorCb(t):e&&(this.success[e]=!0)},t))}},ct=lt.postMapLoadEvent.bind(lt),ut=new class extends ot{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(t,e,i,n){if(!G.API_URL||!G.SESSION_PATH)return;const r=it(G.API_URL+G.SESSION_PATH);r.params.push("sku="+(e||"")),r.params.push("access_token="+(n||G.ACCESS_TOKEN||""));const o={url:nt(r),headers:{"Content-Type":"text/plain"}};this.pendingRequest=kt(o,t=>{this.pendingRequest=null,i(t),this.saveEventData(),this.processRequests(n)})}getSessionAPI(t,e,i,n){this.skuToken=e,this.errorCb=n,G.SESSION_PATH&&G.API_URL&&(i||G.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},i):this.errorCb(new Error(J)))}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||this.getSession(i,this.skuToken,t=>{t?this.errorCb(t):e&&(this.success[e]=!0)},t)}},ht=ut.getSessionAPI.bind(ut),dt=new Set,pt="mapbox-tiles";let ft,mt,gt=500,yt=50;function vt(){s.caches&&!ft&&(ft=s.caches.open(pt))}function _t(t){const e=t.indexOf("?");return e<0?t:t.slice(0,e)}let bt=1/0;const xt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(xt);class wt extends Error{constructor(t,e,i){401===e&&tt(i)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(t),this.status=e,this.url=i}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const St=L()?()=>self.worker&&self.worker.referrer:()=>("blob:"===s.location.protocol?s.parent:s).location.href,Tt=function(t,e){if(!(/^file:/.test(i=t.url)||/^file:/.test(St())&&!/^\w+:/.test(i))){if(s.fetch&&s.Request&&s.AbortController&&s.Request.prototype.hasOwnProperty("signal"))return function(t,e){const i=new s.AbortController,n=new s.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:St(),signal:i.signal});let r=!1,o=!1;const a=(l=n.url).indexOf("sku=")>0&&tt(l);var l;"json"===t.type&&n.headers.set("Accept","application/json");const c=(i,r,l)=>{if(o)return;if(i&&"SecurityError"!==i.message&&M(i),r&&l)return u(r);const c=Date.now();s.fetch(n).then(i=>{if(i.ok){const t=a?i.clone():null;return u(i,t,c)}return e(new wt(i.statusText,i.status,t.url))}).catch(t=>{20!==t.code&&e(new Error(t.message))})},u=(i,a,l)=>{("arrayBuffer"===t.type?i.arrayBuffer():"json"===t.type?i.json():i.text()).then(t=>{o||(a&&l&&function(t,e,i){if(vt(),!ft)return;const n={status:e.status,statusText:e.statusText,headers:new s.Headers};e.headers.forEach((t,e)=>n.headers.set(e,t));const r=z(e.headers.get("Cache-Control")||"");r["no-store"]||(r["max-age"]&&n.headers.set("Expires",new Date(i+1e3*r["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-i<42e4||function(t,e){if(void 0===mt)try{new Response(new ReadableStream),mt=!0}catch(t){mt=!1}mt?e(t.body):t.blob().then(e)}(e,e=>{const i=new s.Response(e,n);vt(),ft&&ft.then(e=>e.put(_t(t.url),i)).catch(t=>M(t.message))}))}(n,a,l),r=!0,e(null,t,i.headers.get("Cache-Control"),i.headers.get("Expires")))}).catch(t=>{o||e(new Error(t.message))})};return a?function(t,e){if(vt(),!ft)return e(null);const i=_t(t.url);ft.then(t=>{t.match(i).then(n=>{const r=function(t){if(!t)return!1;const e=new Date(t.headers.get("Expires")||0),i=z(t.headers.get("Cache-Control")||"");return e>Date.now()&&!i["no-cache"]}(n);t.delete(i),r&&t.put(i,n.clone()),e(null,n,r)}).catch(e)}).catch(e)}(n,c):c(null,null),{cancel:()=>{o=!0,r||i.abort()}}}(t,e);if(L()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var i;return function(t,e){const i=new s.XMLHttpRequest;i.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(i.responseType="arraybuffer");for(const n in t.headers)i.setRequestHeader(n,t.headers[n]);return"json"===t.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===t.credentials,i.onerror=()=>{e(new Error(i.statusText))},i.onload=()=>{if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){let n=i.response;if("json"===t.type)try{n=JSON.parse(i.response)}catch(t){return e(t)}e(null,n,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else e(new wt(i.statusText,i.status,t.url))},i.send(t.body),{cancel:()=>i.abort()}}(t,e)},Ct=function(t,e){return Tt(_(t,{type:"arrayBuffer"}),e)},Ot=function(t,e){return Tt(_(t,{method:"POST"}),e)},kt=function(t,e){return Tt(_(t,{method:"GET"}),e)};function At(t){const e=s.document.createElement("a");return e.href=t,e.protocol===s.document.location.protocol&&e.host===s.document.location.host}const It="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Et,Mt;Et=[],Mt=0;const Dt=function(t,e){if(q.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),Mt>=G.MAX_PARALLEL_IMAGE_REQUESTS){const i={requestParameters:t,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return Et.push(i),i}Mt++;let i=!1;const n=()=>{if(!i)for(i=!0,Mt--;Et.length&&Mt<G.MAX_PARALLEL_IMAGE_REQUESTS;){const t=Et.shift(),{requestParameters:e,callback:i,cancelled:n}=t;n||(t.cancel=Dt(e,i).cancel)}},r=Ct(t,(t,i,r,o)=>{n(),t?e(t):i&&(s.createImageBitmap?function(t,e){const i=new s.Blob([new Uint8Array(t)],{type:"image/png"});s.createImageBitmap(i).then(t=>{e(null,t)}).catch(t=>{e(new Error(`Could not load image because of ${t.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(i,(t,i)=>e(t,i,r,o)):function(t,e){const i=new s.Image,n=s.URL;i.onload=()=>{e(null,i),n.revokeObjectURL(i.src),i.onload=null,s.requestAnimationFrame(()=>{i.src=It})},i.onerror=()=>e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const r=new s.Blob([new Uint8Array(t)],{type:"image/png"});i.src=t.byteLength?n.createObjectURL(r):It}(i,(t,i)=>e(t,i,r,o)))});return{cancel:()=>{r.cancel(),n()}}};function Pt(t,e,i){i[t]&&-1!==i[t].indexOf(e)||(i[t]=i[t]||[],i[t].push(e))}function Lt(t,e,i){if(i&&i[t]){const n=i[t].indexOf(e);-1!==n&&i[t].splice(n,1)}}class zt{constructor(t,e={}){_(this,e),this.type=t}}class jt extends zt{constructor(t,e={}){super("error",_({error:t},e))}}class Bt{on(t,e){return this._listeners=this._listeners||{},Pt(t,e,this._listeners),this}off(t,e){return Lt(t,e,this._listeners),Lt(t,e,this._oneTimeListeners),this}once(t,e){return e?(this._oneTimeListeners=this._oneTimeListeners||{},Pt(t,e,this._oneTimeListeners),this):new Promise(e=>this.once(t,e))}fire(t,e){"string"==typeof t&&(t=new zt(t,e||{}));const i=t.type;if(this.listens(i)){t.target=this;const e=this._listeners&&this._listeners[i]?this._listeners[i].slice():[];for(const i of e)i.call(this,t);const n=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[];for(const o of n)Lt(i,o,this._oneTimeListeners),o.call(this,t);const r=this._eventedParent;r&&(_(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(t))}else t instanceof jt&&console.error(t.error);return this}listens(t){return!!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}var Rt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class Ft{constructor(t,e,i,n){this.message=(t?t+": ":"")+i,n&&(this.identifier=n),null!=e&&e.__line__&&(this.line=e.__line__)}}function Nt(t){const e=t.value;return e?[new Ft(t.key,e,"constants have been deprecated as of v8")]:[]}function Vt(t,...e){for(const i of e)for(const e in i)t[e]=i[e];return t}function $t(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Ut(t){if(Array.isArray(t))return t.map(Ut);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const i in t)e[i]=Ut(t[i]);return e}return $t(t)}class Gt extends Error{constructor(t,e){super(e),this.message=e,this.key=t}}class qt{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[i,n]of e)this.bindings[i]=n}concat(t){return new qt(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const Ht={kind:"null"},Wt={kind:"number"},Zt={kind:"string"},Xt={kind:"boolean"},Yt={kind:"color"},Kt={kind:"object"},Jt={kind:"value"},Qt={kind:"collator"},te={kind:"formatted"},ee={kind:"resolvedImage"};function ie(t,e){return{kind:"array",itemType:t,N:e}}function ne(t){if("array"===t.kind){const e=ne(t.itemType);return"number"==typeof t.N?`array<${e}, ${t.N}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}const re=[Ht,Wt,Zt,Xt,Yt,te,Kt,ie(Jt),ee];function oe(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!oe(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(const t of re)if(!oe(t,e))return null}return`Expected ${ne(t)} but found ${ne(e)} instead.`}function se(t,e){return e.some(e=>e.kind===t.kind)}function ae(t,e){return e.some(e=>"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t)}function le(t){var e={exports:{}};return t(e,e.exports),e.exports}var ce=le((function(t,e){var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return n("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function s(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}try{e.parseCSSColor=function(t){var e,a=t.replace(/ /g,"").toLowerCase();if(a in i)return i[a].slice();if("#"===a[0])return 4===a.length?(e=parseInt(a.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===a.length&&(e=parseInt(a.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=a.indexOf("("),c=a.indexOf(")");if(-1!==l&&c+1===a.length){var u=a.substr(0,l),h=a.substr(l+1,c-(l+1)).split(","),d=1;switch(u){case"rgba":if(4!==h.length)return null;d=o(h.pop());case"rgb":return 3!==h.length?null:[r(h[0]),r(h[1]),r(h[2]),d];case"hsla":if(4!==h.length)return null;d=o(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,f=o(h[1]),m=o(h[2]),g=m<=.5?m*(f+1):m+f-m*f,y=2*m-g;return[n(255*s(y,g,p+1/3)),n(255*s(y,g,p)),n(255*s(y,g,p-1/3)),d];default:return null}}return null}}catch(t){}}));class ue{constructor(t,e,i,n=1){this.r=t,this.g=e,this.b=i,this.a=n}static parse(t){if(!t)return;if(t instanceof ue)return t;if("string"!=typeof t)return;const e=ce.parseCSSColor(t);return e?new ue(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]):void 0}toString(){const[t,e,i,n]=this.toArray();return`rgba(${Math.round(t)},${Math.round(e)},${Math.round(i)},${n})`}toArray(){const{r:t,g:e,b:i,a:n}=this;return 0===n?[0,0,0,0]:[255*t/n,255*e/n,255*i/n,n]}}ue.black=new ue(0,0,0,1),ue.white=new ue(1,1,1,1),ue.transparent=new ue(0,0,0,0),ue.red=new ue(1,0,0,1),ue.blue=new ue(0,0,1,1);class he{constructor(t,e,i){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class de{constructor(t,e,i,n,r){this.text=t,this.image=e,this.scale=i,this.fontStack=n,this.textColor=r}}class pe{constructor(t){this.sections=t}static fromString(t){return new pe([new de(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(t=>0!==t.text.length||t.image&&0!==t.image.name.length)}static factory(t){return t instanceof pe?t:pe.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const e of this.sections){if(e.image){t.push(["image",e.image.name]);continue}t.push(e.text);const i={};e.fontStack&&(i["text-font"]=["literal",e.fontStack.split(",")]),e.scale&&(i["font-scale"]=e.scale),e.textColor&&(i["text-color"]=["rgba"].concat(e.textColor.toArray())),t.push(i)}return t}}class fe{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new fe({name:t,available:!1}):null}serialize(){return["image",this.name]}}function me(t,e,i,n){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[t,e,i,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[t,e,i,n]:[t,e,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ge(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof ue)return!0;if(t instanceof he)return!0;if(t instanceof pe)return!0;if(t instanceof fe)return!0;if(Array.isArray(t)){for(const e of t)if(!ge(e))return!1;return!0}if("object"==typeof t){for(const e in t)if(!ge(t[e]))return!1;return!0}return!1}function ye(t){if(null===t)return Ht;if("string"==typeof t)return Zt;if("boolean"==typeof t)return Xt;if("number"==typeof t)return Wt;if(t instanceof ue)return Yt;if(t instanceof he)return Qt;if(t instanceof pe)return te;if(t instanceof fe)return ee;if(Array.isArray(t)){const e=t.length;let i;for(const n of t){const t=ye(n);if(i){if(i===t)continue;i=Jt;break}i=t}return ie(i||Jt,e)}return Kt}function ve(t){const e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof ue||t instanceof pe||t instanceof fe?t.toString():JSON.stringify(t)}class _e{constructor(t,e){this.type=t,this.value=e}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!ge(t[1]))return e.error("invalid value");const i=t[1];let n=ye(i);const r=e.expectedType;return"array"!==n.kind||0!==n.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(n=r),new _e(n,i)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ue?["rgba"].concat(this.value.toArray()):this.value instanceof pe?this.value.serialize():this.value}}class be{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}const xe={string:Zt,number:Wt,boolean:Xt,object:Kt};class we{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let i,n=1;const r=t[0];if("array"===r){let r,o;if(t.length>2){const i=t[1];if("string"!=typeof i||!(i in xe)||"object"===i)return e.error('The item type argument of "array" must be one of string, number, boolean',1);r=xe[i],n++}else r=Jt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);o=t[2],n++}i=ie(r,o)}else i=xe[r];const o=[];for(;n<t.length;n++){const i=e.parse(t[n],n,Jt);if(!i)return null;o.push(i)}return new we(i,o)}evaluate(t){for(let e=0;e<this.args.length;e++){const i=this.args[e].evaluate(t);if(!oe(this.type,ye(i)))return i;if(e===this.args.length-1)throw new be(`Expected value to be of type ${ne(this.type)}, but found ${ne(ye(i))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,e=[t.kind];if("array"===t.kind){const i=t.itemType;if("string"===i.kind||"number"===i.kind||"boolean"===i.kind){e.push(i.kind);const n=t.N;("number"==typeof n||this.args.length>1)&&e.push(n)}}return e.concat(this.args.map(t=>t.serialize()))}}class Se{constructor(t){this.type=te,this.sections=t}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const i=t[1];if(!Array.isArray(i)&&"object"==typeof i)return e.error("First argument must be an image or text section.");const n=[];let r=!1;for(let o=1;o<=t.length-1;++o){const i=t[o];if(r&&"object"==typeof i&&!Array.isArray(i)){r=!1;let t=null;if(i["font-scale"]&&(t=e.parse(i["font-scale"],1,Wt),!t))return null;let o=null;if(i["text-font"]&&(o=e.parse(i["text-font"],1,ie(Zt)),!o))return null;let s=null;if(i["text-color"]&&(s=e.parse(i["text-color"],1,Yt),!s))return null;const a=n[n.length-1];a.scale=t,a.font=o,a.textColor=s}else{const i=e.parse(t[o],1,Jt);if(!i)return null;const s=i.type.kind;if("string"!==s&&"value"!==s&&"null"!==s&&"resolvedImage"!==s)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,n.push({content:i,scale:null,font:null,textColor:null})}}return new Se(n)}evaluate(t){return new pe(this.sections.map(e=>{const i=e.content.evaluate(t);return ye(i)===ee?new de("",i,null,null,null):new de(ve(i),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)}))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const e of this.sections){t.push(e.content.serialize());const i={};e.scale&&(i["font-scale"]=e.scale.serialize()),e.font&&(i["text-font"]=e.font.serialize()),e.textColor&&(i["text-color"]=e.textColor.serialize()),t.push(i)}return t}}class Te{constructor(t){this.type=ee,this.input=t}static parse(t,e){if(2!==t.length)return e.error("Expected two arguments.");const i=e.parse(t[1],1,Zt);return i?new Te(i):e.error("No image name provided.")}evaluate(t){const e=this.input.evaluate(t),i=fe.fromString(e);return i&&t.availableImages&&(i.available=t.availableImages.indexOf(e)>-1),i}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ce={"to-boolean":Xt,"to-color":Yt,"to-number":Wt,"to-string":Zt};class Oe{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const i=t[0];if(("to-boolean"===i||"to-string"===i)&&2!==t.length)return e.error("Expected one argument.");const n=Ce[i],r=[];for(let o=1;o<t.length;o++){const i=e.parse(t[o],o,Jt);if(!i)return null;r.push(i)}return new Oe(n,r)}evaluate(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){let e,i;for(const n of this.args){if(e=n.evaluate(t),i=null,e instanceof ue)return e;if("string"==typeof e){const i=t.parseColor(e);if(i)return i}else if(Array.isArray(e)&&(i=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:me(e[0],e[1],e[2],e[3]),!i))return new ue(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new be(i||`Could not parse color from value '${"string"==typeof e?e:String(JSON.stringify(e))}'`)}if("number"===this.type.kind){let e=null;for(const i of this.args){if(e=i.evaluate(t),null===e)return 0;const n=Number(e);if(!isNaN(n))return n}throw new be(`Could not convert ${JSON.stringify(e)} to number.`)}return"formatted"===this.type.kind?pe.fromString(ve(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?fe.fromString(ve(this.args[0].evaluate(t))):ve(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Se([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Te(this.args[0]).serialize();const t=["to-"+this.type.kind];return this.eachChild(e=>{t.push(e.serialize())}),t}}const ke=["Unknown","Point","LineString","Polygon"];class Ae{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?ke[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=ue.parse(t)),e}}class Ie{constructor(t,e,i,n){this.name=t,this.type=e,this._evaluate=i,this.args=n}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,e){const i=t[0],n=Ie.definitions[i];if(!n)return e.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(n)?n[0]:n.type,o=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,s=o.filter(([e])=>!Array.isArray(e)||e.length===t.length-1);let a=null;for(const[l,c]of s){a=new Je(e.registry,e.path,null,e.scope);const n=[];let o=!1;for(let e=1;e<t.length;e++){const i=t[e],r=Array.isArray(l)?l[e-1]:l.type,s=a.parse(i,1+n.length,r);if(!s){o=!0;break}n.push(s)}if(!o)if(Array.isArray(l)&&l.length!==n.length)a.error(`Expected ${l.length} arguments, but found ${n.length} instead.`);else{for(let t=0;t<n.length;t++){const e=Array.isArray(l)?l[t]:l.type,i=n[t];a.concat(t+1).checkSubtype(e,i.type)}if(0===a.errors.length)return new Ie(i,r,c,n)}}if(1===s.length)e.errors.push(...a.errors);else{const i=(s.length?s:o).map(([t])=>{return e=t,Array.isArray(e)?`(${e.map(ne).join(", ")})`:`(${ne(e.type)}...)`;var e}).join(" | "),n=[];for(let r=1;r<t.length;r++){const i=e.parse(t[r],1+n.length);if(!i)return null;n.push(ne(i.type))}e.error(`Expected arguments of type ${i}, but found (${n.join(", ")}) instead.`)}return null}static register(t,e){Ie.definitions=e;for(const i in e)t[i]=Ie}}class Ee{constructor(t,e,i){this.type=Qt,this.locale=i,this.caseSensitive=t,this.diacriticSensitive=e}static parse(t,e){if(2!==t.length)return e.error("Expected one argument.");const i=t[1];if("object"!=typeof i||Array.isArray(i))return e.error("Collator options argument must be an object.");const n=e.parse(void 0!==i["case-sensitive"]&&i["case-sensitive"],1,Xt);if(!n)return null;const r=e.parse(void 0!==i["diacritic-sensitive"]&&i["diacritic-sensitive"],1,Xt);if(!r)return null;let o=null;return i.locale&&(o=e.parse(i.locale,1,Zt),!o)?null:new Ee(n,r,o)}evaluate(t){return new he(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const Me=8192;function De(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function Pe(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Le(t,e){const i=(180+t[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,r=Math.pow(2,e.z);return[Math.round(i*r*Me),Math.round(n*r*Me)]}function ze(t,e,i){const n=t[0]-e[0],r=t[1]-e[1],o=t[0]-i[0],s=t[1]-i[1];return n*s-o*r==0&&n*o<=0&&r*s<=0}function je(t,e){let i=!1;for(let s=0,a=e.length;s<a;s++){const a=e[s];for(let e=0,s=a.length;e<s-1;e++){if(ze(t,a[e],a[e+1]))return!1;(r=a[e])[1]>(n=t)[1]!=(o=a[e+1])[1]>n[1]&&n[0]<(o[0]-r[0])*(n[1]-r[1])/(o[1]-r[1])+r[0]&&(i=!i)}}var n,r,o;return i}function Be(t,e){for(let i=0;i<e.length;i++)if(je(t,e[i]))return!0;return!1}function Re(t,e,i,n){const r=n[0]-i[0],o=n[1]-i[1],s=(t[0]-i[0])*o-r*(t[1]-i[1]),a=(e[0]-i[0])*o-r*(e[1]-i[1]);return s>0&&a<0||s<0&&a>0}function Fe(t,e,i){for(const c of i)for(let i=0;i<c.length-1;++i)if(0!=(a=[(s=c[i+1])[0]-(o=c[i])[0],s[1]-o[1]])[0]*(l=[(r=e)[0]-(n=t)[0],r[1]-n[1]])[1]-a[1]*l[0]&&Re(n,r,o,s)&&Re(o,s,n,r))return!0;var n,r,o,s,a,l;return!1}function Ne(t,e){for(let i=0;i<t.length;++i)if(!je(t[i],e))return!1;for(let i=0;i<t.length-1;++i)if(Fe(t[i],t[i+1],e))return!1;return!0}function Ve(t,e){for(let i=0;i<e.length;i++)if(Ne(t,e[i]))return!0;return!1}function $e(t,e,i){const n=[];for(let r=0;r<t.length;r++){const o=[];for(let n=0;n<t[r].length;n++){const s=Le(t[r][n],i);De(e,s),o.push(s)}n.push(o)}return n}function Ue(t,e,i){const n=[];for(let r=0;r<t.length;r++){const o=$e(t[r],e,i);n.push(o)}return n}function Ge(t,e,i,n){if(t[0]<i[0]||t[0]>i[2]){const e=.5*n;let r=t[0]-i[0]>e?-n:i[0]-t[0]>e?n:0;0===r&&(r=t[0]-i[2]>e?-n:i[2]-t[0]>e?n:0),t[0]+=r}De(e,t)}function qe(t,e,i,n){const r=Math.pow(2,n.z)*Me,o=[n.x*Me,n.y*Me],s=[];for(const a of t)for(const t of a){const n=[t.x+o[0],t.y+o[1]];Ge(n,e,i,r),s.push(n)}return s}function He(t,e,i,n){const r=Math.pow(2,n.z)*Me,o=[n.x*Me,n.y*Me],s=[];for(const l of t){const t=[];for(const i of l){const n=[i.x+o[0],i.y+o[1]];De(e,n),t.push(n)}s.push(t)}if(e[2]-e[0]<=r/2){(a=e)[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(const t of s)for(const n of t)Ge(n,e,i,r)}var a;return s}class We{constructor(t,e){this.type=Xt,this.geojson=t,this.geometries=e}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(ge(t[1])){const e=t[1];if("FeatureCollection"===e.type)for(let t=0;t<e.features.length;++t){const i=e.features[t].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new We(e,e.features[t].geometry)}else if("Feature"===e.type){const t=e.geometry.type;if("Polygon"===t||"MultiPolygon"===t)return new We(e,e.geometry)}else if("Polygon"===e.type||"MultiPolygon"===e.type)return new We(e,e)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){const i=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){const o=$e(e.coordinates,n,r),s=qe(t.geometry(),i,n,r);if(!Pe(i,n))return!1;for(const t of s)if(!je(t,o))return!1}if("MultiPolygon"===e.type){const o=Ue(e.coordinates,n,r),s=qe(t.geometry(),i,n,r);if(!Pe(i,n))return!1;for(const t of s)if(!Be(t,o))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){const i=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){const o=$e(e.coordinates,n,r),s=He(t.geometry(),i,n,r);if(!Pe(i,n))return!1;for(const t of s)if(!Ne(t,o))return!1}if("MultiPolygon"===e.type){const o=Ue(e.coordinates,n,r),s=He(t.geometry(),i,n,r);if(!Pe(i,n))return!1;for(const t of s)if(!Ve(t,o))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function Ze(t){if(t instanceof Ie){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof We)return!1;let e=!0;return t.eachChild(t=>{e&&!Ze(t)&&(e=!1)}),e}function Xe(t){if(t instanceof Ie&&"feature-state"===t.name)return!1;let e=!0;return t.eachChild(t=>{e&&!Xe(t)&&(e=!1)}),e}function Ye(t,e){if(t instanceof Ie&&e.indexOf(t.name)>=0)return!1;let i=!0;return t.eachChild(t=>{i&&!Ye(t,e)&&(i=!1)}),i}class Ke{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e}static parse(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");const i=t[1];return e.scope.has(i)?new Ke(i,e.scope.get(i)):e.error(`Unknown variable "${i}". Make sure "${i}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Je{constructor(t,e=[],i,n=new qt,r=[]){this.registry=t,this.path=e,this.key=e.map(t=>`[${t}]`).join(""),this.scope=n,this.errors=r,this.expectedType=i}parse(t,e,i,n,r={}){return e?this.concat(e,i,n)._parse(t,r):this._parse(t,r)}_parse(t,e){function i(t,e,i){return"assert"===i?new we(e,[t]):"coerce"===i?new Oe(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=t[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[n];if(r){let n=r.parse(t,this);if(!n)return null;if(this.expectedType){const t=this.expectedType,r=n.type;if("string"!==t.kind&&"number"!==t.kind&&"boolean"!==t.kind&&"object"!==t.kind&&"array"!==t.kind||"value"!==r.kind)if("color"!==t.kind&&"formatted"!==t.kind&&"resolvedImage"!==t.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(t,r))return null}else n=i(n,t,e.typeAnnotation||"coerce");else n=i(n,t,e.typeAnnotation||"assert")}if(!(n instanceof _e)&&"resolvedImage"!==n.type.kind&&Qe(n)){const e=new Ae;try{n=new _e(n.type,n.evaluate(e))}catch(t){return this.error(t.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,e,i){const n="number"==typeof t?this.path.concat(t):this.path,r=i?this.scope.concat(i):this.scope;return new Je(this.registry,n,e||null,r,this.errors)}error(t,...e){const i=`${this.key}${e.map(t=>`[${t}]`).join("")}`;this.errors.push(new Gt(i,t))}checkSubtype(t,e){const i=oe(t,e);return i&&this.error(i),i}}function Qe(t){if(t instanceof Ke)return Qe(t.boundExpression);if(t instanceof Ie&&"error"===t.name)return!1;if(t instanceof Ee)return!1;if(t instanceof We)return!1;const e=t instanceof Oe||t instanceof we;let i=!0;return t.eachChild(t=>{i=e?i&&Qe(t):i&&t instanceof _e}),!!i&&Ze(t)&&Ye(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}function ti(t,e){const i=t.length-1;let n,r,o=0,s=i,a=0;for(;o<=s;)if(a=Math.floor((o+s)/2),n=t[a],r=t[a+1],n<=e){if(a===i||e<r)return a;o=a+1}else{if(!(n>e))throw new be("Input is not a number.");s=a-1}return 0}class ei{constructor(t,e,i){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[n,r]of i)this.labels.push(n),this.outputs.push(r)}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");const i=e.parse(t[1],1,Wt);if(!i)return null;const n=[];let r=null;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(let o=1;o<t.length;o+=2){const i=1===o?-1/0:t[o],s=t[o+1],a=o,l=o+1;if("number"!=typeof i)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',a);if(n.length&&n[n.length-1][0]>=i)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',a);const c=e.parse(s,l,r);if(!c)return null;r=r||c.type,n.push([i,c])}return new ei(r,i,n)}evaluate(t){const e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);const r=e.length;return n>=e[r-1]?i[r-1].evaluate(t):i[ti(e,n)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}function ii(t,e,i){return t*(1-i)+e*i}var ni=Object.freeze({__proto__:null,number:ii,color:function(t,e,i){return new ue(ii(t.r,e.r,i),ii(t.g,e.g,i),ii(t.b,e.b,i),ii(t.a,e.a,i))},array:function(t,e,i){return t.map((t,n)=>ii(t,e[n],i))}});const ri=.95047,oi=1.08883,si=4/29,ai=6/29,li=3*ai*ai,ci=Math.PI/180,ui=180/Math.PI;function hi(t){return t>.008856451679035631?Math.pow(t,1/3):t/li+si}function di(t){return t>ai?t*t*t:li*(t-si)}function pi(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function fi(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function mi(t){const e=fi(t.r),i=fi(t.g),n=fi(t.b),r=hi((.4124564*e+.3575761*i+.1804375*n)/ri),o=hi((.2126729*e+.7151522*i+.072175*n)/1);return{l:116*o-16,a:500*(r-o),b:200*(o-hi((.0193339*e+.119192*i+.9503041*n)/oi)),alpha:t.a}}function gi(t){let e=(t.l+16)/116,i=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=1*di(e),i=ri*di(i),n=oi*di(n),new ue(pi(3.2404542*i-1.5371385*e-.4985314*n),pi(-.969266*i+1.8760108*e+.041556*n),pi(.0556434*i-.2040259*e+1.0572252*n),t.alpha)}function yi(t,e,i){const n=e-t;return t+i*(n>180||n<-180?n-360*Math.round(n/360):n)}const vi={forward:mi,reverse:gi,interpolate:function(t,e,i){return{l:ii(t.l,e.l,i),a:ii(t.a,e.a,i),b:ii(t.b,e.b,i),alpha:ii(t.alpha,e.alpha,i)}}},_i={forward:function(t){const{l:e,a:i,b:n}=mi(t),r=Math.atan2(n,i)*ui;return{h:r<0?r+360:r,c:Math.sqrt(i*i+n*n),l:e,alpha:t.a}},reverse:function(t){const e=t.h*ci,i=t.c;return gi({l:t.l,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:t.alpha})},interpolate:function(t,e,i){return{h:yi(t.h,e.h,i),c:ii(t.c,e.c,i),l:ii(t.l,e.l,i),alpha:ii(t.alpha,e.alpha,i)}}};var bi=Object.freeze({__proto__:null,lab:vi,hcl:_i});class xi{constructor(t,e,i,n,r){this.type=t,this.operator=e,this.interpolation=i,this.input=n,this.labels=[],this.outputs=[];for(const[o,s]of r)this.labels.push(o),this.outputs.push(s)}static interpolationFactor(t,e,n,r){let o=0;if("exponential"===t.name)o=wi(e,t.base,n,r);else if("linear"===t.name)o=wi(e,1,n,r);else if("cubic-bezier"===t.name){const s=t.controlPoints;o=new i(s[0],s[1],s[2],s[3]).solve(wi(e,1,n,r))}return o}static parse(t,e){let[i,n,r,...o]=t;if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const t=n[1];if("number"!=typeof t)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:t}}else{if("cubic-bezier"!==n[0])return e.error("Unknown interpolation type "+String(n[0]),1,0);{const t=n.slice(1);if(4!==t.length||t.some(t=>"number"!=typeof t||t<0||t>1))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:t}}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(r=e.parse(r,2,Wt),!r)return null;const s=[];let a=null;"interpolate-hcl"===i||"interpolate-lab"===i?a=Yt:e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType);for(let l=0;l<o.length;l+=2){const t=o[l],i=o[l+1],n=l+3,r=l+4;if("number"!=typeof t)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',n);if(s.length&&s[s.length-1][0]>=t)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',n);const c=e.parse(i,r,a);if(!c)return null;a=a||c.type,s.push([t,c])}return"number"===a.kind||"color"===a.kind||"array"===a.kind&&"number"===a.itemType.kind&&"number"==typeof a.N?new xi(a,i,n,r,s):e.error(`Type ${ne(a)} is not interpolatable.`)}evaluate(t){const e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);const r=e.length;if(n>=e[r-1])return i[r-1].evaluate(t);const o=ti(e,n),s=xi.interpolationFactor(this.interpolation,n,e[o],e[o+1]),a=i[o].evaluate(t),l=i[o+1].evaluate(t);return"interpolate"===this.operator?ni[this.type.kind.toLowerCase()](a,l,s):"interpolate-hcl"===this.operator?_i.reverse(_i.interpolate(_i.forward(a),_i.forward(l),s)):vi.reverse(vi.interpolate(vi.forward(a),vi.forward(l),s))}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const e=[this.operator,t,this.input.serialize()];for(let i=0;i<this.labels.length;i++)e.push(this.labels[i],this.outputs[i].serialize());return e}}function wi(t,e,i,n){const r=n-i,o=t-i;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}class Si{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expectected at least one argument.");let i=null;const n=e.expectedType;n&&"value"!==n.kind&&(i=n);const r=[];for(const s of t.slice(1)){const t=e.parse(s,1+r.length,i,void 0,{typeAnnotation:"omit"});if(!t)return null;i=i||t.type,r.push(t)}const o=n&&r.some(t=>oe(n,t.type));return new Si(o?Jt:i,r)}evaluate(t){let e,i=null,n=0;for(const r of this.args)if(n++,i=r.evaluate(t),i&&i instanceof fe&&!i.available&&(e||(e=i.name),i=null,n===this.args.length&&(i=e)),null!==i)break;return i}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(e=>{t.push(e.serialize())}),t}}class Ti{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result)}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const i=[];for(let r=1;r<t.length-1;r+=2){const n=t[r];if("string"!=typeof n)return e.error(`Expected string, but found ${typeof n} instead.`,r);if(/[^a-zA-Z0-9_]/.test(n))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=e.parse(t[r+1],r+1);if(!o)return null;i.push([n,o])}const n=e.parse(t[t.length-1],t.length-1,e.expectedType,i);return n?new Ti(i,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[e,i]of this.bindings)t.push(e,i.serialize());return t.push(this.result.serialize()),t}}class Ci{constructor(t,e,i){this.type=t,this.index=e,this.input=i}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,Wt),n=e.parse(t[2],2,ie(e.expectedType||Jt));return i&&n?new Ci(n.type.itemType,i,n):null}evaluate(t){const e=this.index.evaluate(t),i=this.input.evaluate(t);if(e<0)throw new be(`Array index out of bounds: ${e} < 0.`);if(e>=i.length)throw new be(`Array index out of bounds: ${e} > ${i.length-1}.`);if(e!==Math.floor(e))throw new be(`Array index must be an integer, but found ${e} instead.`);return i[e]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Oi{constructor(t,e){this.type=Xt,this.needle=t,this.haystack=e}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,Jt),n=e.parse(t[2],2,Jt);return i&&n?se(i.type,[Xt,Zt,Wt,Ht,Jt])?new Oi(i,n):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${ne(i.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!i)return!1;if(!ae(e,["boolean","string","number","null"]))throw new be(`Expected first argument to be of type boolean, string, number or null, but found ${ne(ye(e))} instead.`);if(!ae(i,["string","array"]))throw new be(`Expected second argument to be of type array or string, but found ${ne(ye(i))} instead.`);return i.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class ki{constructor(t,e,i){this.type=Wt,this.needle=t,this.haystack=e,this.fromIndex=i}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,Jt),n=e.parse(t[2],2,Jt);if(!i||!n)return null;if(!se(i.type,[Xt,Zt,Wt,Ht,Jt]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${ne(i.type)} instead`);if(4===t.length){const r=e.parse(t[3],3,Wt);return r?new ki(i,n,r):null}return new ki(i,n)}evaluate(t){const e=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!ae(e,["boolean","string","number","null"]))throw new be(`Expected first argument to be of type boolean, string, number or null, but found ${ne(ye(e))} instead.`);if(!ae(i,["string","array"]))throw new be(`Expected second argument to be of type array or string, but found ${ne(ye(i))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(t);return i.indexOf(e,n)}return i.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Ai{constructor(t,e,i,n,r,o){this.inputType=t,this.type=e,this.input=i,this.cases=n,this.outputs=r,this.otherwise=o}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error("Expected an even number of arguments.");let i,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);const r={},o=[];for(let l=2;l<t.length-1;l+=2){let s=t[l];const a=t[l+1];Array.isArray(s)||(s=[s]);const c=e.concat(l);if(0===s.length)return c.error("Expected at least one branch label.");for(const t of s){if("number"!=typeof t&&"string"!=typeof t)return c.error("Branch labels must be numbers or strings.");if("number"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof t&&Math.floor(t)!==t)return c.error("Numeric branch labels must be integer values.");if(i){if(c.checkSubtype(i,ye(t)))return null}else i=ye(t);if(void 0!==r[String(t)])return c.error("Branch labels must be unique.");r[String(t)]=o.length}const u=e.parse(a,l,n);if(!u)return null;n=n||u.type,o.push(u)}const s=e.parse(t[1],1,Jt);if(!s)return null;const a=e.parse(t[t.length-1],t.length-1,n);return a?"value"!==s.type.kind&&e.concat(1).checkSubtype(i,s.type)?null:new Ai(i,n,s,r,o,a):null}evaluate(t){const e=this.input.evaluate(t);return(ye(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],e=Object.keys(this.cases).sort(),i=[],n={};for(const o of e){const t=n[this.cases[o]];void 0===t?(n[this.cases[o]]=i.length,i.push([this.cases[o],[o]])):i[t][1].push(o)}const r=t=>"number"===this.inputType.kind?Number(t):t;for(const[o,s]of i)t.push(1===s.length?r(s[0]):s.map(r)),t.push(this.outputs[o].serialize());return t.push(this.otherwise.serialize()),t}}class Ii{constructor(t,e,i){this.type=t,this.branches=e,this.otherwise=i}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error("Expected an odd number of arguments.");let i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);const n=[];for(let o=1;o<t.length-1;o+=2){const r=e.parse(t[o],o,Xt);if(!r)return null;const s=e.parse(t[o+1],o+1,i);if(!s)return null;n.push([r,s]),i=i||s.type}const r=e.parse(t[t.length-1],t.length-1,i);return r?new Ii(i,n,r):null}evaluate(t){for(const[e,i]of this.branches)if(e.evaluate(t))return i.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,i]of this.branches)t(e),t(i);t(this.otherwise)}outputDefined(){return this.branches.every(([t,e])=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(e=>{t.push(e.serialize())}),t}}class Ei{constructor(t,e,i,n){this.type=t,this.input=e,this.beginIndex=i,this.endIndex=n}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const i=e.parse(t[1],1,Jt),n=e.parse(t[2],2,Wt);if(!i||!n)return null;if(!se(i.type,[ie(Jt),Zt,Jt]))return e.error(`Expected first argument to be of type array or string, but found ${ne(i.type)} instead`);if(4===t.length){const r=e.parse(t[3],3,Wt);return r?new Ei(i.type,i,n,r):null}return new Ei(i.type,i,n)}evaluate(t){const e=this.input.evaluate(t),i=this.beginIndex.evaluate(t);if(!ae(e,["string","array"]))throw new be(`Expected first argument to be of type array or string, but found ${ne(ye(e))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(t);return e.slice(i,n)}return e.slice(i)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Mi(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function Di(t,e,i,n){return 0===n.compare(e,i)}function Pi(t,e,i){const n="=="!==t&&"!="!==t;return class r{constructor(t,e,i){this.type=Xt,this.lhs=t,this.rhs=e,this.collator=i,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");const i=t[0];let o=e.parse(t[1],1,Jt);if(!o)return null;if(!Mi(i,o.type))return e.concat(1).error(`"${i}" comparisons are not supported for type '${ne(o.type)}'.`);let s=e.parse(t[2],2,Jt);if(!s)return null;if(!Mi(i,s.type))return e.concat(2).error(`"${i}" comparisons are not supported for type '${ne(s.type)}'.`);if(o.type.kind!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return e.error(`Cannot compare types '${ne(o.type)}' and '${ne(s.type)}'.`);n&&("value"===o.type.kind&&"value"!==s.type.kind?o=new we(s.type,[o]):"value"!==o.type.kind&&"value"===s.type.kind&&(s=new we(o.type,[s])));let a=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return e.error("Cannot use collator to compare non-string types.");if(a=e.parse(t[3],3,Qt),!a)return null}return new r(o,s,a)}evaluate(r){const o=this.lhs.evaluate(r),s=this.rhs.evaluate(r);if(n&&this.hasUntypedArgument){const e=ye(o),i=ye(s);if(e.kind!==i.kind||"string"!==e.kind&&"number"!==e.kind)throw new be(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${e.kind}, ${i.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const t=ye(o),i=ye(s);if("string"!==t.kind||"string"!==i.kind)return e(r,o,s)}return this.collator?i(r,o,s,this.collator.evaluate(r)):e(r,o,s)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)}outputDefined(){return!0}serialize(){const e=[t];return this.eachChild(t=>{e.push(t.serialize())}),e}}}const Li=Pi("==",(function(t,e,i){return e===i}),Di),zi=Pi("!=",(function(t,e,i){return e!==i}),(function(t,e,i,n){return!Di(0,e,i,n)})),ji=Pi("<",(function(t,e,i){return e<i}),(function(t,e,i,n){return n.compare(e,i)<0})),Bi=Pi(">",(function(t,e,i){return e>i}),(function(t,e,i,n){return n.compare(e,i)>0})),Ri=Pi("<=",(function(t,e,i){return e<=i}),(function(t,e,i,n){return n.compare(e,i)<=0})),Fi=Pi(">=",(function(t,e,i){return e>=i}),(function(t,e,i,n){return n.compare(e,i)>=0}));class Ni{constructor(t,e,i,n,r){this.type=Zt,this.number=t,this.locale=e,this.currency=i,this.minFractionDigits=n,this.maxFractionDigits=r}static parse(t,e){if(3!==t.length)return e.error("Expected two arguments.");const i=e.parse(t[1],1,Wt);if(!i)return null;const n=t[2];if("object"!=typeof n||Array.isArray(n))return e.error("NumberFormat options argument must be an object.");let r=null;if(n.locale&&(r=e.parse(n.locale,1,Zt),!r))return null;let o=null;if(n.currency&&(o=e.parse(n.currency,1,Zt),!o))return null;let s=null;if(n["min-fraction-digits"]&&(s=e.parse(n["min-fraction-digits"],1,Wt),!s))return null;let a=null;return n["max-fraction-digits"]&&(a=e.parse(n["max-fraction-digits"],1,Wt),!a)?null:new Ni(i,r,o,s,a)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class Vi{constructor(t){this.type=Wt,this.input=t}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const i=e.parse(t[1],1);return i?"array"!==i.type.kind&&"string"!==i.type.kind&&"value"!==i.type.kind?e.error(`Expected argument of type string or array, but found ${ne(i.type)} instead.`):new Vi(i):null}evaluate(t){const e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new be(`Expected value to be of type string or array, but found ${ne(ye(e))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(e=>{t.push(e.serialize())}),t}}const $i={"==":Li,"!=":zi,">":Bi,"<":ji,">=":Fi,"<=":Ri,array:we,at:Ci,boolean:we,case:Ii,coalesce:Si,collator:Ee,format:Se,image:Te,in:Oi,"index-of":ki,interpolate:xi,"interpolate-hcl":xi,"interpolate-lab":xi,length:Vi,let:Ti,literal:_e,match:Ai,number:we,"number-format":Ni,object:we,slice:Ei,step:ei,string:we,"to-boolean":Oe,"to-color":Oe,"to-number":Oe,"to-string":Oe,var:Ke,within:We};function Ui(t,[e,i,n,r]){e=e.evaluate(t),i=i.evaluate(t),n=n.evaluate(t);const o=r?r.evaluate(t):1,s=me(e,i,n,o);if(s)throw new be(s);return new ue(e/255*o,i/255*o,n/255*o,o)}function Gi(t,e){return t in e}function qi(t,e){const i=e[t];return void 0===i?null:i}function Hi(t){return{type:t}}function Wi(t){return{result:"success",value:t}}function Zi(t){return{result:"error",value:t}}function Xi(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Yi(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Ki(t){return!!t.expression&&t.expression.interpolated}function Ji(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Qi(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function tn(t){return t}function en(t,e){const i="color"===e.type,n=t.stops&&"object"==typeof t.stops[0][0],r=n||!(n||void 0!==t.property),o=t.type||(Ki(e)?"exponential":"interval");if(i&&((t=Vt({},t)).stops&&(t.stops=t.stops.map(t=>[t[0],ue.parse(t[1])])),t.default=ue.parse(t.default?t.default:e.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!bi[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);let s,a,l;if("exponential"===o)s=sn;else if("interval"===o)s=on;else if("categorical"===o){s=rn,a=Object.create(null);for(const e of t.stops)a[e[0]]=e[1];l=typeof t.stops[0][0]}else{if("identity"!==o)throw new Error(`Unknown function type "${o}"`);s=an}if(n){const i={},n=[];for(let e=0;e<t.stops.length;e++){const r=t.stops[e],o=r[0].zoom;void 0===i[o]&&(i[o]={zoom:o,type:t.type,property:t.property,default:t.default,stops:[]},n.push(o)),i[o].stops.push([r[0].value,r[1]])}const r=[];for(const t of n)r.push([i[t].zoom,en(i[t],e)]);const o={name:"linear"};return{kind:"composite",interpolationType:o,interpolationFactor:xi.interpolationFactor.bind(void 0,o),zoomStops:r.map(t=>t[0]),evaluate:({zoom:i},n)=>sn({stops:r,base:t.base},e,i).evaluate(i,n)}}if(r){const i="exponential"===o?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:i,interpolationFactor:xi.interpolationFactor.bind(void 0,i),zoomStops:t.stops.map(t=>t[0]),evaluate:({zoom:i})=>s(t,e,i,a,l)}}return{kind:"source",evaluate(i,n){const r=n&&n.properties?n.properties[t.property]:void 0;return void 0===r?nn(t.default,e.default):s(t,e,r,a,l)}}}function nn(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function rn(t,e,i,n,r){return nn(typeof i===r?n[i]:void 0,t.default,e.default)}function on(t,e,i){if("number"!==Ji(i))return nn(t.default,e.default);const n=t.stops.length;if(1===n)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[n-1][0])return t.stops[n-1][1];const r=ti(t.stops.map(t=>t[0]),i);return t.stops[r][1]}function sn(t,e,i){const n=void 0!==t.base?t.base:1;if("number"!==Ji(i))return nn(t.default,e.default);const r=t.stops.length;if(1===r)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[r-1][0])return t.stops[r-1][1];const o=ti(t.stops.map(t=>t[0]),i),s=function(t,e,i,n){const r=n-i,o=t-i;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}(i,n,t.stops[o][0],t.stops[o+1][0]),a=t.stops[o][1],l=t.stops[o+1][1];let c=ni[e.type]||tn;if(t.colorSpace&&"rgb"!==t.colorSpace){const e=bi[t.colorSpace];c=(t,i)=>e.reverse(e.interpolate(e.forward(t),e.forward(i),s))}return"function"==typeof a.evaluate?{evaluate(...t){const e=a.evaluate.apply(void 0,t),i=l.evaluate.apply(void 0,t);if(void 0!==e&&void 0!==i)return c(e,i,s)}}:c(a,l,s)}function an(t,e,i){return"color"===e.type?i=ue.parse(i):"formatted"===e.type?i=pe.fromString(i.toString()):"resolvedImage"===e.type?i=fe.fromString(i.toString()):Ji(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),nn(i,t.default,e.default)}Ie.register($i,{error:[{kind:"error"},[Zt],(t,[e])=>{throw new be(e.evaluate(t))}],typeof:[Zt,[Jt],(t,[e])=>ne(ye(e.evaluate(t)))],"to-rgba":[ie(Wt,4),[Yt],(t,[e])=>e.evaluate(t).toArray()],rgb:[Yt,[Wt,Wt,Wt],Ui],rgba:[Yt,[Wt,Wt,Wt,Wt],Ui],has:{type:Xt,overloads:[[[Zt],(t,[e])=>Gi(e.evaluate(t),t.properties())],[[Zt,Kt],(t,[e,i])=>Gi(e.evaluate(t),i.evaluate(t))]]},get:{type:Jt,overloads:[[[Zt],(t,[e])=>qi(e.evaluate(t),t.properties())],[[Zt,Kt],(t,[e,i])=>qi(e.evaluate(t),i.evaluate(t))]]},"feature-state":[Jt,[Zt],(t,[e])=>qi(e.evaluate(t),t.featureState||{})],properties:[Kt,[],t=>t.properties()],"geometry-type":[Zt,[],t=>t.geometryType()],id:[Jt,[],t=>t.id()],zoom:[Wt,[],t=>t.globals.zoom],"heatmap-density":[Wt,[],t=>t.globals.heatmapDensity||0],"line-progress":[Wt,[],t=>t.globals.lineProgress||0],"sky-radial-progress":[Wt,[],t=>t.globals.skyRadialProgress||0],accumulated:[Jt,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],"+":[Wt,Hi(Wt),(t,e)=>{let i=0;for(const n of e)i+=n.evaluate(t);return i}],"*":[Wt,Hi(Wt),(t,e)=>{let i=1;for(const n of e)i*=n.evaluate(t);return i}],"-":{type:Wt,overloads:[[[Wt,Wt],(t,[e,i])=>e.evaluate(t)-i.evaluate(t)],[[Wt],(t,[e])=>-e.evaluate(t)]]},"/":[Wt,[Wt,Wt],(t,[e,i])=>e.evaluate(t)/i.evaluate(t)],"%":[Wt,[Wt,Wt],(t,[e,i])=>e.evaluate(t)%i.evaluate(t)],ln2:[Wt,[],()=>Math.LN2],pi:[Wt,[],()=>Math.PI],e:[Wt,[],()=>Math.E],"^":[Wt,[Wt,Wt],(t,[e,i])=>Math.pow(e.evaluate(t),i.evaluate(t))],sqrt:[Wt,[Wt],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[Wt,[Wt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[Wt,[Wt],(t,[e])=>Math.log(e.evaluate(t))],log2:[Wt,[Wt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[Wt,[Wt],(t,[e])=>Math.sin(e.evaluate(t))],cos:[Wt,[Wt],(t,[e])=>Math.cos(e.evaluate(t))],tan:[Wt,[Wt],(t,[e])=>Math.tan(e.evaluate(t))],asin:[Wt,[Wt],(t,[e])=>Math.asin(e.evaluate(t))],acos:[Wt,[Wt],(t,[e])=>Math.acos(e.evaluate(t))],atan:[Wt,[Wt],(t,[e])=>Math.atan(e.evaluate(t))],min:[Wt,Hi(Wt),(t,e)=>Math.min(...e.map(e=>e.evaluate(t)))],max:[Wt,Hi(Wt),(t,e)=>Math.max(...e.map(e=>e.evaluate(t)))],abs:[Wt,[Wt],(t,[e])=>Math.abs(e.evaluate(t))],round:[Wt,[Wt],(t,[e])=>{const i=e.evaluate(t);return i<0?-Math.round(-i):Math.round(i)}],floor:[Wt,[Wt],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[Wt,[Wt],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[Xt,[Zt,Jt],(t,[e,i])=>t.properties()[e.value]===i.value],"filter-id-==":[Xt,[Jt],(t,[e])=>t.id()===e.value],"filter-type-==":[Xt,[Zt],(t,[e])=>t.geometryType()===e.value],"filter-<":[Xt,[Zt,Jt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n<r}],"filter-id-<":[Xt,[Jt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i<n}],"filter->":[Xt,[Zt,Jt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n>r}],"filter-id->":[Xt,[Jt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i>n}],"filter-<=":[Xt,[Zt,Jt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n<=r}],"filter-id-<=":[Xt,[Jt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i<=n}],"filter->=":[Xt,[Zt,Jt],(t,[e,i])=>{const n=t.properties()[e.value],r=i.value;return typeof n==typeof r&&n>=r}],"filter-id->=":[Xt,[Jt],(t,[e])=>{const i=t.id(),n=e.value;return typeof i==typeof n&&i>=n}],"filter-has":[Xt,[Jt],(t,[e])=>e.value in t.properties()],"filter-has-id":[Xt,[],t=>null!==t.id()&&void 0!==t.id()],"filter-type-in":[Xt,[ie(Zt)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[Xt,[ie(Jt)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[Xt,[Zt,ie(Jt)],(t,[e,i])=>i.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[Xt,[Zt,ie(Jt)],(t,[e,i])=>function(t,e,i,n){for(;i<=n;){const r=i+n>>1;if(e[r]===t)return!0;e[r]>t?n=r-1:i=r+1}return!1}(t.properties()[e.value],i.value,0,i.value.length-1)],all:{type:Xt,overloads:[[[Xt,Xt],(t,[e,i])=>e.evaluate(t)&&i.evaluate(t)],[Hi(Xt),(t,e)=>{for(const i of e)if(!i.evaluate(t))return!1;return!0}]]},any:{type:Xt,overloads:[[[Xt,Xt],(t,[e,i])=>e.evaluate(t)||i.evaluate(t)],[Hi(Xt),(t,e)=>{for(const i of e)if(i.evaluate(t))return!0;return!1}]]},"!":[Xt,[Xt],(t,[e])=>!e.evaluate(t)],"is-supported-script":[Xt,[Zt],(t,[e])=>{const i=t.globals&&t.globals.isSupportedScript;return!i||i(e.evaluate(t))}],upcase:[Zt,[Zt],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[Zt,[Zt],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[Zt,Hi(Jt),(t,e)=>e.map(e=>ve(e.evaluate(t))).join("")],"resolved-locale":[Zt,[Qt],(t,[e])=>e.evaluate(t).resolvedLocale()]});class ln{constructor(t,e){this.expression=t,this._warningHistory={},this._evaluator=new Ae,this._defaultValue=e?function(t){return"color"===t.type&&Qi(t.default)?new ue(0,0,0,0):"color"===t.type?ue.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null}evaluateWithoutErrorHandling(t,e,i,n,r,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=i,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(t,e,i,n,r,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=i||null,this._evaluator.canonical=n,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null;try{const t=this.expression.evaluate(this._evaluator);if(null==t||"number"==typeof t&&t!=t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new be(`Expected value to be one of ${Object.keys(this._enumValues).map(t=>JSON.stringify(t)).join(", ")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function cn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in $i}function un(t,e){const i=new Je($i,[],e?function(t){const e={color:Yt,string:Zt,number:Wt,enum:Zt,boolean:Xt,formatted:te,resolvedImage:ee};return"array"===t.type?ie(e[t.value]||Jt,t.length):e[t.type]}(e):void 0),n=i.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return n?Wi(new ln(n,e)):Zi(i.errors)}class hn{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Xe(e.expression)}evaluateWithoutErrorHandling(t,e,i,n,r,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i,n,r,o)}evaluate(t,e,i,n,r,o){return this._styleExpression.evaluate(t,e,i,n,r,o)}}class dn{constructor(t,e,i,n){this.kind=t,this.zoomStops=i,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Xe(e.expression),this.interpolationType=n}evaluateWithoutErrorHandling(t,e,i,n,r,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,i,n,r,o)}evaluate(t,e,i,n,r,o){return this._styleExpression.evaluate(t,e,i,n,r,o)}interpolationFactor(t,e,i){return this.interpolationType?xi.interpolationFactor(this.interpolationType,t,e,i):0}}function pn(t,e){if("error"===(t=un(t,e)).result)return t;const i=t.value.expression,n=Ze(i);if(!n&&!Xi(e))return Zi([new Gt("","data expressions not supported")]);const r=Ye(i,["zoom"]);if(!r&&!Yi(e))return Zi([new Gt("","zoom expressions not supported")]);const o=mn(i);return o||r?o instanceof Gt?Zi([o]):o instanceof xi&&!Ki(e)?Zi([new Gt("",'"interpolate" expressions cannot be used with this property')]):Wi(o?new dn(n?"camera":"composite",t.value,o.labels,o instanceof xi?o.interpolation:void 0):new hn(n?"constant":"source",t.value)):Zi([new Gt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class fn{constructor(t,e){this._parameters=t,this._specification=e,Vt(this,en(this._parameters,this._specification))}static deserialize(t){return new fn(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function mn(t){let e=null;if(t instanceof Ti)e=mn(t.result);else if(t instanceof Si){for(const i of t.args)if(e=mn(i),e)break}else(t instanceof ei||t instanceof xi)&&t.input instanceof Ie&&"zoom"===t.input.name&&(e=t);return e instanceof Gt||t.eachChild(t=>{const i=mn(t);i instanceof Gt?e=i:!e&&i?e=new Gt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&i&&e!==i&&(e=new Gt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function gn(t){const e=t.key,i=t.value,n=t.valueSpec||{},r=t.objectElementValidators||{},o=t.style,s=t.styleSpec;let a=[];const l=Ji(i);if("object"!==l)return[new Ft(e,i,`object expected, ${l} found`)];for(const c in i){const t=c.split(".")[0],l=n[t]||n["*"];let u;if(r[t])u=r[t];else if(n[t])u=qn;else if(r["*"])u=r["*"];else{if(!n["*"]){a.push(new Ft(e,i[c],`unknown property "${c}"`));continue}u=qn}a=a.concat(u({key:(e?e+".":e)+c,value:i[c],valueSpec:l,style:o,styleSpec:s,object:i,objectKey:c},i))}for(const c in n)r[c]||n[c].required&&void 0===n[c].default&&void 0===i[c]&&a.push(new Ft(e,i,`missing required property "${c}"`));return a}function yn(t){const e=t.value,i=t.valueSpec,n=t.style,r=t.styleSpec,o=t.key,s=t.arrayElementValidator||qn;if("array"!==Ji(e))return[new Ft(o,e,`array expected, ${Ji(e)} found`)];if(i.length&&e.length!==i.length)return[new Ft(o,e,`array length ${i.length} expected, length ${e.length} found`)];if(i["min-length"]&&e.length<i["min-length"])return[new Ft(o,e,`array length at least ${i["min-length"]} expected, length ${e.length} found`)];let a={type:i.value,values:i.values,minimum:i.minimum,maximum:i.maximum};r.$version<7&&(a.function=i.function),"object"===Ji(i.value)&&(a=i.value);let l=[];for(let c=0;c<e.length;c++)l=l.concat(s({array:e,arrayIndex:c,value:e[c],valueSpec:a,style:n,styleSpec:r,key:`${o}[${c}]`}));return l}function vn(t){const e=t.key,i=t.value,n=t.valueSpec;let r=Ji(i);if("number"===r&&i!=i&&(r="NaN"),"number"!==r)return[new Ft(e,i,`number expected, ${r} found`)];if("minimum"in n){let r=n.minimum;if("array"===Ji(n.minimum)&&(r=n.minimum[t.arrayIndex]),i<r)return[new Ft(e,i,`${i} is less than the minimum value ${r}`)]}if("maximum"in n){let r=n.maximum;if("array"===Ji(n.maximum)&&(r=n.maximum[t.arrayIndex]),i>r)return[new Ft(e,i,`${i} is greater than the maximum value ${r}`)]}return[]}function _n(t){const e=t.valueSpec,i=$t(t.value.type);let n,r,o,s={};const a="categorical"!==i&&void 0===t.value.property,l=!a,c="array"===Ji(t.value.stops)&&"array"===Ji(t.value.stops[0])&&"object"===Ji(t.value.stops[0][0]),u=gn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===i)return[new Ft(t.key,t.value,'identity function may not have a "stops" property')];let e=[];const n=t.value;return e=e.concat(yn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===Ji(n)&&0===n.length&&e.push(new Ft(t.key,n,"array must have at least one stop")),e},default:function(t){return qn({key:t.key,value:t.value,valueSpec:e,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===i&&a&&u.push(new Ft(t.key,t.value,'missing required property "property"')),"identity"===i||t.value.stops||u.push(new Ft(t.key,t.value,'missing required property "stops"')),"exponential"===i&&t.valueSpec.expression&&!Ki(t.valueSpec)&&u.push(new Ft(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!Xi(t.valueSpec)?u.push(new Ft(t.key,t.value,"property functions not supported")):a&&!Yi(t.valueSpec)&&u.push(new Ft(t.key,t.value,"zoom functions not supported"))),"categorical"!==i&&!c||void 0!==t.value.property||u.push(new Ft(t.key,t.value,'"property" property is required')),u;function h(t){let i=[];const n=t.value,a=t.key;if("array"!==Ji(n))return[new Ft(a,n,`array expected, ${Ji(n)} found`)];if(2!==n.length)return[new Ft(a,n,`array length 2 expected, length ${n.length} found`)];if(c){if("object"!==Ji(n[0]))return[new Ft(a,n,`object expected, ${Ji(n[0])} found`)];if(void 0===n[0].zoom)return[new Ft(a,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new Ft(a,n,"object stop key must have value")];if(o&&o>$t(n[0].zoom))return[new Ft(a,n[0].zoom,"stop zoom values must appear in ascending order")];$t(n[0].zoom)!==o&&(o=$t(n[0].zoom),r=void 0,s={}),i=i.concat(gn({key:a+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:vn,value:d}}))}else i=i.concat(d({key:a+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},n));return cn(Ut(n[1]))?i.concat([new Ft(a+"[1]",n[1],"expressions are not allowed in function stops.")]):i.concat(qn({key:a+"[1]",value:n[1],valueSpec:e,style:t.style,styleSpec:t.styleSpec}))}function d(t,o){const a=Ji(t.value),l=$t(t.value),c=null!==t.value?t.value:o;if(n){if(a!==n)return[new Ft(t.key,c,`${a} stop domain type must match previous stop domain type ${n}`)]}else n=a;if("number"!==a&&"string"!==a&&"boolean"!==a)return[new Ft(t.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==a&&"categorical"!==i){let n=`number expected, ${a} found`;return Xi(e)&&void 0===i&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ft(t.key,c,n)]}return"categorical"!==i||"number"!==a||isFinite(l)&&Math.floor(l)===l?"categorical"!==i&&"number"===a&&void 0!==r&&l<r?[new Ft(t.key,c,"stop domain values must appear in ascending order")]:(r=l,"categorical"===i&&l in s?[new Ft(t.key,c,"stop domain values must be unique")]:(s[l]=!0,[])):[new Ft(t.key,c,"integer expected, found "+l)]}}function bn(t){const e=("property"===t.expressionContext?pn:un)(Ut(t.value),t.valueSpec);if("error"===e.result)return e.value.map(e=>new Ft(`${t.key}${e.key}`,t.value,e.message));const i=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!i.outputDefined())return[new Ft(t.key,t.value,`Invalid data expression for "${t.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Xe(i))return[new Ft(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Xe(i))return[new Ft(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Ye(i,["zoom","feature-state"]))return[new Ft(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Ze(i))return[new Ft(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function xn(t){const e=t.key,i=t.value,n=t.valueSpec,r=[];return Array.isArray(n.values)?-1===n.values.indexOf($t(i))&&r.push(new Ft(e,i,`expected one of [${n.values.join(", ")}], ${JSON.stringify(i)} found`)):-1===Object.keys(n.values).indexOf($t(i))&&r.push(new Ft(e,i,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(i)} found`)),r}function wn(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const e of t.slice(1))if(!wn(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}const Sn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Tn(t){if(null==t)return{filter:()=>!0,needGeometry:!1};wn(t)||(t=kn(t));const e=un(t,Sn);if("error"===e.result)throw new Error(e.value.map(t=>`${t.key}: ${t.message}`).join(", "));return{filter:(t,i,n)=>e.value.evaluate(t,i,{},n),needGeometry:On(t)}}function Cn(t,e){return t<e?-1:t>e?1:0}function On(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let e=1;e<t.length;e++)if(On(t[e]))return!0;return!1}function kn(t){if(!t)return!0;const e=t[0];return t.length<=1?"any"!==e:"=="===e?An(t[1],t[2],"=="):"!="===e?Mn(An(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?An(t[1],t[2],e):"any"===e?(i=t.slice(1),["any"].concat(i.map(kn))):"all"===e?["all"].concat(t.slice(1).map(kn)):"none"===e?["all"].concat(t.slice(1).map(kn).map(Mn)):"in"===e?In(t[1],t.slice(2)):"!in"===e?Mn(In(t[1],t.slice(2))):"has"===e?En(t[1]):"!has"===e?Mn(En(t[1])):"within"!==e||t;var i}function An(t,e,i){switch(t){case"$type":return["filter-type-"+i,e];case"$id":return["filter-id-"+i,e];default:return["filter-"+i,t,e]}}function In(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",t,["literal",e.sort(Cn)]]:["filter-in-small",t,["literal",e]]}}function En(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Mn(t){return["!",t]}function Dn(t){return wn(Ut(t.value))?bn(Vt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Pn(t)}function Pn(t){const e=t.value,i=t.key;if("array"!==Ji(e))return[new Ft(i,e,`array expected, ${Ji(e)} found`)];const n=t.styleSpec;let r,o=[];if(e.length<1)return[new Ft(i,e,"filter array must have at least 1 element")];switch(o=o.concat(xn({key:i+"[0]",value:e[0],valueSpec:n.filter_operator,style:t.style,styleSpec:t.styleSpec})),$t(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===$t(e[1])&&o.push(new Ft(i,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":3!==e.length&&o.push(new Ft(i,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(r=Ji(e[1]),"string"!==r&&o.push(new Ft(i+"[1]",e[1],`string expected, ${r} found`)));for(let s=2;s<e.length;s++)r=Ji(e[s]),"$type"===$t(e[1])?o=o.concat(xn({key:`${i}[${s}]`,value:e[s],valueSpec:n.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&o.push(new Ft(`${i}[${s}]`,e[s],`string, number, or boolean expected, ${r} found`));break;case"any":case"all":case"none":for(let n=1;n<e.length;n++)o=o.concat(Pn({key:`${i}[${n}]`,value:e[n],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":r=Ji(e[1]),2!==e.length?o.push(new Ft(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):"string"!==r&&o.push(new Ft(i+"[1]",e[1],`string expected, ${r} found`));break;case"within":r=Ji(e[1]),2!==e.length?o.push(new Ft(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):"object"!==r&&o.push(new Ft(i+"[1]",e[1],`object expected, ${r} found`))}return o}function Ln(t,e){const i=t.key,n=t.style,r=t.styleSpec,o=t.value,s=t.objectKey,a=r[`${e}_${t.layerType}`];if(!a)return[];const l=s.match(/^(.*)-transition$/);if("paint"===e&&l&&a[l[1]]&&a[l[1]].transition)return qn({key:i,value:o,valueSpec:r.transition,style:n,styleSpec:r});const c=t.valueSpec||a[s];if(!c)return[new Ft(i,o,`unknown property "${s}"`)];let u;if("string"===Ji(o)&&Xi(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new Ft(i,o,`"${s}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const h=[];return"symbol"===t.layerType&&("text-field"===s&&n&&!n.glyphs&&h.push(new Ft(i,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===s&&Qi(Ut(o))&&"identity"===$t(o.type)&&h.push(new Ft(i,o,'"text-font" does not support identity functions'))),h.concat(qn({key:t.key,value:o,valueSpec:c,style:n,styleSpec:r,expressionContext:"property",propertyType:e,propertyKey:s}))}function zn(t){return Ln(t,"paint")}function jn(t){return Ln(t,"layout")}function Bn(t){let e=[];const i=t.value,n=t.key,r=t.style,o=t.styleSpec;i.type||i.ref||e.push(new Ft(n,i,'either "type" or "ref" is required'));let s=$t(i.type);const a=$t(i.ref);if(i.id){const o=$t(i.id);for(let s=0;s<t.arrayIndex;s++){const t=r.layers[s];$t(t.id)===o&&e.push(new Ft(n,i.id,`duplicate layer id "${i.id}", previously used at line ${t.id.__line__}`))}}if("ref"in i){let t;["type","source","source-layer","filter","layout"].forEach(t=>{t in i&&e.push(new Ft(n,i[t],`"${t}" is prohibited for ref layers`))}),r.layers.forEach(e=>{$t(e.id)===a&&(t=e)}),t?t.ref?e.push(new Ft(n,i.ref,"ref cannot reference another ref layer")):s=$t(t.type):e.push(new Ft(n,i.ref,`ref layer "${a}" not found`))}else if("background"!==s&&"sky"!==s)if(i.source){const t=r.sources&&r.sources[i.source],o=t&&$t(t.type);t?"vector"===o&&"raster"===s?e.push(new Ft(n,i.source,`layer "${i.id}" requires a raster source`)):"raster"===o&&"raster"!==s?e.push(new Ft(n,i.source,`layer "${i.id}" requires a vector source`)):"vector"!==o||i["source-layer"]?"raster-dem"===o&&"hillshade"!==s?e.push(new Ft(n,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!i.paint||!i.paint["line-gradient"]||"geojson"===o&&t.lineMetrics||e.push(new Ft(n,i,`layer "${i.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new Ft(n,i,`layer "${i.id}" must specify a "source-layer"`)):e.push(new Ft(n,i.source,`source "${i.source}" not found`))}else e.push(new Ft(n,i,'missing required property "source"'));return e=e.concat(gn({key:n,value:i,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":()=>[],type:()=>qn({key:n+".type",value:i.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:i,objectKey:"type"}),filter:Dn,layout:t=>gn({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":t=>jn(Vt({layerType:s},t))}}),paint:t=>gn({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":t=>zn(Vt({layerType:s},t))}})}})),e}function Rn(t){const e=t.value,i=t.key,n=Ji(e);return"string"!==n?[new Ft(i,e,`string expected, ${n} found`)]:[]}const Fn={promoteId:function({key:t,value:e}){if("string"===Ji(e))return Rn({key:t,value:e});{const i=[];for(const n in e)i.push(...Rn({key:`${t}.${n}`,value:e[n]}));return i}}};function Nn(t){const e=t.value,i=t.key,n=t.styleSpec,r=t.style;if(!e.type)return[new Ft(i,e,'"type" is required')];const o=$t(e.type);let s;switch(o){case"vector":case"raster":case"raster-dem":return s=gn({key:i,value:e,valueSpec:n["source_"+o.replace("-","_")],style:t.style,styleSpec:n,objectElementValidators:Fn}),s;case"geojson":if(s=gn({key:i,value:e,valueSpec:n.source_geojson,style:r,styleSpec:n,objectElementValidators:Fn}),e.cluster)for(const t in e.clusterProperties){const[n,r]=e.clusterProperties[t],o="string"==typeof n?[n,["accumulated"],["get",t]]:n;s.push(...bn({key:`${i}.${t}.map`,value:r,expressionContext:"cluster-map"})),s.push(...bn({key:`${i}.${t}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return s;case"video":return gn({key:i,value:e,valueSpec:n.source_video,style:r,styleSpec:n});case"image":return gn({key:i,value:e,valueSpec:n.source_image,style:r,styleSpec:n});case"canvas":return[new Ft(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return xn({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:n})}}function Vn(t){const e=t.value,i=t.styleSpec,n=i.light,r=t.style;let o=[];const s=Ji(e);if(void 0===e)return o;if("object"!==s)return o=o.concat([new Ft("light",e,`object expected, ${s} found`)]),o;for(const a in e){const t=a.match(/^(.*)-transition$/);o=o.concat(t&&n[t[1]]&&n[t[1]].transition?qn({key:a,value:e[a],valueSpec:i.transition,style:r,styleSpec:i}):n[a]?qn({key:a,value:e[a],valueSpec:n[a],style:r,styleSpec:i}):[new Ft(a,e[a],`unknown property "${a}"`)])}return o}function $n(t){const e=t.value,i=t.key,n=t.style,r=t.styleSpec,o=r.terrain;let s=[];const a=Ji(e);if(void 0===e)return s;if("object"!==a)return s=s.concat([new Ft("terrain",e,`object expected, ${a} found`)]),s;for(const l in e){const t=l.match(/^(.*)-transition$/);s=s.concat(t&&o[t[1]]&&o[t[1]].transition?qn({key:l,value:e[l],valueSpec:r.transition,style:n,styleSpec:r}):o[l]?qn({key:l,value:e[l],valueSpec:o[l],style:n,styleSpec:r}):[new Ft(l,e[l],`unknown property "${l}"`)])}if(e.source){const t=n.sources&&n.sources[e.source],r=t&&$t(t.type);t?"raster-dem"!==r&&s.push(new Ft(i,e.source,`terrain cannot be used with a source of type ${r}, it only be used with a "raster-dem" source type`)):s.push(new Ft(i,e.source,`source "${e.source}" not found`))}else s.push(new Ft(i,e,'terrain is missing required property "source"'));return s}function Un(t){const e=t.value,i=t.style,n=t.styleSpec,r=n.fog;let o=[];const s=Ji(e);if(void 0===e)return o;if("object"!==s)return o=o.concat([new Ft("fog",e,`object expected, ${s} found`)]),o;for(const a in e){const t=a.match(/^(.*)-transition$/);o=o.concat(t&&r[t[1]]&&r[t[1]].transition?qn({key:a,value:e[a],valueSpec:n.transition,style:i,styleSpec:n}):r[a]?qn({key:a,value:e[a],valueSpec:r[a],style:i,styleSpec:n}):[new Ft(a,e[a],`unknown property "${a}"`)])}return o}const Gn={"*":()=>[],array:yn,boolean:function(t){const e=t.value,i=t.key,n=Ji(e);return"boolean"!==n?[new Ft(i,e,`boolean expected, ${n} found`)]:[]},number:vn,color:function(t){const e=t.key,i=t.value,n=Ji(i);return"string"!==n?[new Ft(e,i,`color expected, ${n} found`)]:null===ce.parseCSSColor(i)?[new Ft(e,i,`color expected, "${i}" found`)]:[]},constants:Nt,enum:xn,filter:Dn,function:_n,layer:Bn,object:gn,source:Nn,light:Vn,terrain:$n,fog:Un,string:Rn,formatted:function(t){return 0===Rn(t).length?[]:bn(t)},resolvedImage:function(t){return 0===Rn(t).length?[]:bn(t)}};function qn(t){const e=t.value,i=t.valueSpec,n=t.styleSpec;return i.expression&&Qi($t(e))?_n(t):i.expression&&cn(Ut(e))?bn(t):i.type&&Gn[i.type]?Gn[i.type](t):gn(Vt({},t,{valueSpec:i.type?n[i.type]:i}))}function Hn(t){const e=t.value,i=t.key,n=Rn(t);return n.length||(-1===e.indexOf("{fontstack}")&&n.push(new Ft(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&n.push(new Ft(i,e,'"glyphs" url must include a "{range}" token'))),n}function Wn(t,e=Rt){let i=[];return i=i.concat(qn({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Hn,"*":()=>[]}})),t.constants&&(i=i.concat(Nt({key:"constants",value:t.constants,style:t,styleSpec:e}))),Zn(i)}function Zn(t){return[].concat(t).sort((t,e)=>t.line-e.line)}function Xn(t){return function(...e){return Zn(t.apply(this,e))}}Wn.source=Xn(Nn),Wn.light=Xn(Vn),Wn.terrain=Xn($n),Wn.fog=Xn(Un),Wn.layer=Xn(Bn),Wn.filter=Xn(Dn),Wn.paintProperty=Xn(zn),Wn.layoutProperty=Xn(jn);const Yn=Wn,Kn=Yn.light,Jn=Yn.fog,Qn=Yn.paintProperty,tr=Yn.layoutProperty;function er(t,e){let i=!1;if(e&&e.length)for(const n of e)t.fire(new jt(new Error(n.message))),i=!0;return i}var ir=nr;function nr(t,e,i){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var r=new Int32Array(this.arrayBuffer);t=r[0],this.d=(e=r[1])+2*(i=r[2]);for(var o=0;o<this.d*this.d;o++){var s=r[3+o],a=r[3+o+1];n.push(s===a?null:r.subarray(s,a))}var l=r[3+n.length+1];this.keys=r.subarray(r[3+n.length],l),this.bboxes=r.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var u=i/e*t;this.min=-u,this.max=t+u}nr.prototype.insert=function(t,e,i,n,r){this._forEachCell(e,i,n,r,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)},nr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},nr.prototype._insertCell=function(t,e,i,n,r,o){this.cells[r].push(o)},nr.prototype.query=function(t,e,i,n,r){var o=this.min,s=this.max;if(t<=o&&e<=o&&s<=i&&s<=n&&!r)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(t,e,i,n,this._queryCell,a,{},r),a},nr.prototype._queryCell=function(t,e,i,n,r,o,s,a){var l=this.cells[r];if(null!==l)for(var c=this.keys,u=this.bboxes,h=0;h<l.length;h++){var d=l[h];if(void 0===s[d]){var p=4*d;(a?a(u[p+0],u[p+1],u[p+2],u[p+3]):t<=u[p+2]&&e<=u[p+3]&&i>=u[p+0]&&n>=u[p+1])?(s[d]=!0,o.push(c[d])):s[d]=!1}}},nr.prototype._forEachCell=function(t,e,i,n,r,o,s,a){for(var l=this._convertToCellCoord(t),c=this._convertToCellCoord(e),u=this._convertToCellCoord(i),h=this._convertToCellCoord(n),d=l;d<=u;d++)for(var p=c;p<=h;p++){var f=this.d*p+d;if((!a||a(this._convertFromCellCoord(d),this._convertFromCellCoord(p),this._convertFromCellCoord(d+1),this._convertFromCellCoord(p+1)))&&r.call(this,t,e,i,n,f,o,s,a))return}},nr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},nr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},nr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,i=0,n=0;n<this.cells.length;n++)i+=this.cells[n].length;var r=new Int32Array(e+i+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var o=e,s=0;s<t.length;s++){var a=t[s];r[3+s]=o,r.set(a,o),o+=a.length}return r[3+t.length]=o,r.set(this.keys,o),r[3+t.length+1]=o+=this.keys.length,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer};const{ImageData:rr,ImageBitmap:or}=s,sr={};function ar(t,e,i={}){Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),sr[t]={klass:e,omit:i.omit||[],shallow:i.shallow||[]}}ar("Object",Object),ir.serialize=function(t,e){const i=t.toArrayBuffer();return e&&e.push(i),{buffer:i}},ir.deserialize=function(t){return new ir(t.buffer)},ar("Grid",ir),ar("Color",ue),ar("Error",Error),ar("ResolvedImage",fe),ar("StylePropertyFunction",fn),ar("StyleExpression",ln,{omit:["_evaluator"]}),ar("ZoomDependentExpression",dn),ar("ZoomConstantExpression",hn),ar("CompoundExpression",Ie,{omit:["_evaluate"]});for(const Dd in $i)$i[Dd]._classRegistryKey||ar("Expression_"+Dd,$i[Dd]);function lr(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function cr(t){return or&&t instanceof or}function ur(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(lr(t)||cr(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){const i=t;return e&&e.push(i.buffer),i}if(t instanceof rr)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){const i=[];for(const n of t)i.push(ur(n,e));return i}if("object"==typeof t){const i=t.constructor,n=i._classRegistryKey;if(!n)throw new Error("can't serialize object of unregistered class");const r=i.serialize?i.serialize(t,e):{};if(!i.serialize){for(const i in t){if(!t.hasOwnProperty(i))continue;if(sr[n].omit.indexOf(i)>=0)continue;const o=t[i];r[i]=sr[n].shallow.indexOf(i)>=0?o:ur(o,e)}t instanceof Error&&(r.message=t.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(r.$name=n),r}throw new Error("can't serialize object of type "+typeof t)}function hr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||lr(t)||cr(t)||ArrayBuffer.isView(t)||t instanceof rr)return t;if(Array.isArray(t))return t.map(hr);if("object"==typeof t){const e=t.$name||"Object",{klass:i}=sr[e];if(!i)throw new Error("can't deserialize unregistered class "+e);if(i.deserialize)return i.deserialize(t);const n=Object.create(i.prototype);for(const r of Object.keys(t)){if("$name"===r)continue;const i=t[r];n[r]=sr[e].shallow.indexOf(r)>=0?i:hr(i)}return n}throw new Error("can't deserialize object of type "+typeof t)}class dr{constructor(){this.first=!0}update(t,e){const i=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=i,!0))}}const pr=t=>t>=1536&&t<=1791,fr=t=>t>=1872&&t<=1919,mr=t=>t>=2208&&t<=2303,gr=t=>t>=11904&&t<=12031,yr=t=>t>=12032&&t<=12255,vr=t=>t>=12272&&t<=12287,_r=t=>t>=12288&&t<=12351,br=t=>t>=12352&&t<=12447,xr=t=>t>=12448&&t<=12543,wr=t=>t>=12544&&t<=12591,Sr=t=>t>=12704&&t<=12735,Tr=t=>t>=12736&&t<=12783,Cr=t=>t>=12784&&t<=12799,Or=t=>t>=12800&&t<=13055,kr=t=>t>=13056&&t<=13311,Ar=t=>t>=13312&&t<=19903,Ir=t=>t>=19968&&t<=40959,Er=t=>t>=40960&&t<=42127,Mr=t=>t>=42128&&t<=42191,Dr=t=>t>=44032&&t<=55215,Pr=t=>t>=63744&&t<=64255,Lr=t=>t>=64336&&t<=65023,zr=t=>t>=65040&&t<=65055,jr=t=>t>=65072&&t<=65103,Br=t=>t>=65104&&t<=65135,Rr=t=>t>=65136&&t<=65279,Fr=t=>t>=65280&&t<=65519;function Nr(t){for(const e of t)if(Ur(e.charCodeAt(0)))return!0;return!1}function Vr(t){for(const e of t)if(!$r(e.charCodeAt(0)))return!1;return!0}function $r(t){return!(pr(t)||fr(t)||mr(t)||Lr(t)||Rr(t))}function Ur(t){return!(746!==t&&747!==t&&(t<4352||!(Sr(t)||wr(t)||jr(t)&&!(t>=65097&&t<=65103)||Pr(t)||kr(t)||gr(t)||Tr(t)||!(!_r(t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||Ar(t)||Ir(t)||Or(t)||(t=>t>=12592&&t<=12687)(t)||(t=>t>=43360&&t<=43391)(t)||(t=>t>=55216&&t<=55295)(t)||(t=>t>=4352&&t<=4607)(t)||Dr(t)||br(t)||vr(t)||(t=>t>=12688&&t<=12703)(t)||yr(t)||Cr(t)||xr(t)&&12540!==t||!(!Fr(t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Br(t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||(t=>t>=5120&&t<=5759)(t)||(t=>t>=6320&&t<=6399)(t)||zr(t)||(t=>t>=19904&&t<=19967)(t)||Er(t)||Mr(t))))}function Gr(t){return!(Ur(t)||function(t){return!!((t=>t>=128&&t<=255)(t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||(t=>t>=8192&&t<=8303)(t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||(t=>t>=8448&&t<=8527)(t)||(t=>t>=8528&&t<=8591)(t)||(t=>t>=8960&&t<=9215)(t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||(t=>t>=9216&&t<=9279)(t)&&9251!==t||(t=>t>=9280&&t<=9311)(t)||(t=>t>=9312&&t<=9471)(t)||(t=>t>=9632&&t<=9727)(t)||(t=>t>=9728&&t<=9983)(t)&&!(t>=9754&&t<=9759)||(t=>t>=11008&&t<=11263)(t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||_r(t)||xr(t)||(t=>t>=57344&&t<=63743)(t)||jr(t)||Br(t)||Fr(t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function qr(t){return t>=1424&&t<=2303||Lr(t)||Rr(t)}function Hr(t,e){return!(!e&&qr(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||(t=>t>=6016&&t<=6143)(t))}function Wr(t){for(const e of t)if(qr(e.charCodeAt(0)))return!0;return!1}const Zr="deferred",Xr="loading",Yr="loaded";let Kr=null,Jr="unavailable",Qr=null;const to=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(Jr="error"),Kr&&Kr(t)};function eo(){io.fire(new zt("pluginStateChange",{pluginStatus:Jr,pluginURL:Qr}))}const io=new Bt,no=function(){return Jr},ro=function(){if(Jr!==Zr||!Qr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Jr=Xr,eo(),Qr&&Ct({url:Qr},t=>{t?to(t):(Jr=Yr,eo())})},oo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Jr===Yr||null!=oo.applyArabicShaping,isLoading:()=>Jr===Xr,setState(t){Jr=t.pluginStatus,Qr=t.pluginURL},isParsed:()=>null!=oo.applyArabicShaping&&null!=oo.processBidirectionalText&&null!=oo.processStyledBidirectionalText,getPluginURL:()=>Qr};class so{constructor(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new dr,this.transition={})}isSupportedScript(t){return function(t,e){for(const i of t)if(!Hr(i.charCodeAt(0),e))return!1;return!0}(t,oo.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,e=t-Math.floor(t),i=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*i}:{fromScale:.5,toScale:1,t:1-(1-i)*e}}}class ao{constructor(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Qi(t))return new fn(t,e);if(cn(t)){const i=pn(t,e);if("error"===i.result)throw new Error(i.value.map(t=>`${t.key}: ${t.message}`).join(", "));return i.value}{let i=t;return"string"==typeof t&&"color"===e.type&&(i=ue.parse(t)),{kind:"constant",evaluate:()=>i}}}(void 0===e?t.specification.default:e,t.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(t,e,i){return this.property.possiblyEvaluate(this,t,e,i)}}class lo{constructor(t){this.property=t,this.value=new ao(t,void 0)}transitioned(t,e){return new uo(this.property,this.value,e,_({},t.transition,this.transition),t.now)}untransitioned(){return new uo(this.property,this.value,null,{},0)}}class co{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return I(this._values[t].value.value)}setValue(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new lo(this._values[t].property)),this._values[t].value=new ao(this._values[t].property,null===e?void 0:I(e))}getTransition(t){return I(this._values[t].transition)}setTransition(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new lo(this._values[t].property)),this._values[t].transition=I(e)||void 0}serialize(){const t={};for(const e of Object.keys(this._values)){const i=this.getValue(e);void 0!==i&&(t[e]=i);const n=this.getTransition(e);void 0!==n&&(t[e+"-transition"]=n)}return t}transitioned(t,e){const i=new ho(this._properties);for(const n of Object.keys(this._values))i._values[n]=this._values[n].transitioned(t,e._values[n]);return i}untransitioned(){const t=new ho(this._properties);for(const e of Object.keys(this._values))t._values[e]=this._values[e].untransitioned();return t}}class uo{constructor(t,e,i,n,r){const o=n.delay||0,s=n.duration||0;r=r||0,this.property=t,this.value=e,this.begin=r+o,this.end=this.begin+s,t.specification.transition&&(n.delay||n.duration)&&(this.prior=i)}possiblyEvaluate(t,e,i){const n=t.now||0,r=this.value.possiblyEvaluate(t,e,i),o=this.prior;if(o){if(n>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(n<this.begin)return o.possiblyEvaluate(t,e,i);{const s=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,i),r,d(s))}}return r}}class ho{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,e,i){const n=new mo(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].possiblyEvaluate(t,e,i);return n}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class po{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}getValue(t){return I(this._values[t].value)}setValue(t,e){this._values[t]=new ao(this._values[t].property,null===e?void 0:I(e))}serialize(){const t={};for(const e of Object.keys(this._values)){const i=this.getValue(e);void 0!==i&&(t[e]=i)}return t}possiblyEvaluate(t,e,i){const n=new mo(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].possiblyEvaluate(t,e,i);return n}}class fo{constructor(t,e,i){this.property=t,this.value=e,this.parameters=i}isConstant(){return"constant"===this.value.kind}constantOr(t){return"constant"===this.value.kind?this.value.value:t}evaluate(t,e,i,n){return this.property.evaluate(this.value,this.parameters,t,e,i,n)}}class mo{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class go{constructor(t){this.specification=t}possiblyEvaluate(t,e){return t.expression.evaluate(e)}interpolate(t,e,i){const n=ni[this.specification.type];return n?n(t,e,i):t}}class yo{constructor(t,e){this.specification=t,this.overrides=e}possiblyEvaluate(t,e,i,n){return new fo(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},i,n)}:t.expression,e)}interpolate(t,e,i){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new fo(this,{kind:"constant",value:void 0},t.parameters);const n=ni[this.specification.type];return n?new fo(this,{kind:"constant",value:n(t.value.value,e.value.value,i)},t.parameters):t}evaluate(t,e,i,n,r,o){return"constant"===t.kind?t.value:t.evaluate(e,i,n,r,o)}}class vo extends yo{possiblyEvaluate(t,e,i,n){if(void 0===t.value)return new fo(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){const r=t.expression.evaluate(e,null,{},i,n),o="resolvedImage"===t.property.specification.type&&"string"!=typeof r?r.name:r,s=this._calculate(o,o,o,e);return new fo(this,{kind:"constant",value:s},e)}if("camera"===t.expression.kind){const i=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new fo(this,{kind:"constant",value:i},e)}return new fo(this,t.expression,e)}evaluate(t,e,i,n,r,o){if("source"===t.kind){const s=t.evaluate(e,i,n,r,o);return this._calculate(s,s,s,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},i,n),t.evaluate({zoom:Math.floor(e.zoom)},i,n),t.evaluate({zoom:Math.floor(e.zoom)+1},i,n),e):t.value}_calculate(t,e,i,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e,other:i}:{from:i,to:e,other:t}}interpolate(t){return t}}class _o{constructor(t){this.specification=t}possiblyEvaluate(t,e,i,n){if(void 0!==t.value){if("constant"===t.expression.kind){const r=t.expression.evaluate(e,null,{},i,n);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate(new so(Math.floor(e.zoom-1),e)),t.expression.evaluate(new so(Math.floor(e.zoom),e)),t.expression.evaluate(new so(Math.floor(e.zoom+1),e)),e)}}_calculate(t,e,i,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:i,to:e}}interpolate(t){return t}}class bo{constructor(t){this.specification=t}possiblyEvaluate(t,e,i,n){return!!t.expression.evaluate(e,null,{},i,n)}interpolate(){return!1}}class xo{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const e in t){const i=t[e];i.specification.overridable&&this.overridableProperties.push(e);const n=this.defaultPropertyValues[e]=new ao(i,void 0),r=this.defaultTransitionablePropertyValues[e]=new lo(i);this.defaultTransitioningPropertyValues[e]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=n.possiblyEvaluate({})}}}function wo(t,e){return 256*(t=m(Math.floor(t),0,255))+m(Math.floor(e),0,255)}ar("DataDrivenProperty",yo),ar("DataConstantProperty",go),ar("CrossFadedDataDrivenProperty",vo),ar("CrossFadedProperty",_o),ar("ColorRampProperty",bo);const So={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class To{constructor(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Co{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Oo(t,e=1){let i=0,n=0;return{members:t.map(t=>{const r=So[t.type].BYTES_PER_ELEMENT,o=i=ko(i,Math.max(e,r)),s=t.components||1;return n=Math.max(n,r),i+=r*s,{name:t.name,type:t.type,components:s,offset:o}}),size:ko(i,Math.max(n,e)),alignment:e}}function ko(t,e){return Math.ceil(t/e)*e}class Ao extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e){const i=this.length;return this.resize(i+1),this.emplace(i,t,e)}emplace(t,e,i){const n=2*t;return this.int16[n+0]=e,this.int16[n+1]=i,t}}Ao.prototype.bytesPerElement=4,ar("StructArrayLayout2i4",Ao);class Io extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const o=4*t;return this.int16[o+0]=e,this.int16[o+1]=i,this.int16[o+2]=n,this.int16[o+3]=r,t}}Io.prototype.bytesPerElement=8,ar("StructArrayLayout4i8",Io);class Eo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,i,n,r,o,s)}emplace(t,e,i,n,r,o,s,a){const l=6*t,c=12*t,u=3*t;return this.int16[l+0]=e,this.int16[l+1]=i,this.uint8[c+4]=n,this.uint8[c+5]=r,this.uint8[c+6]=o,this.uint8[c+7]=s,this.float32[u+2]=a,t}}Eo.prototype.bytesPerElement=12,ar("StructArrayLayout2i4ub1f12",Eo);class Mo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e){const i=this.length;return this.resize(i+1),this.emplace(i,t,e)}emplace(t,e,i){const n=2*t;return this.float32[n+0]=e,this.float32[n+1]=i,t}}Mo.prototype.bytesPerElement=8,ar("StructArrayLayout2f8",Mo);class Do extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,o,s,a,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,t,e,i,n,r,o,s,a,l,c)}emplace(t,e,i,n,r,o,s,a,l,c,u){const h=10*t;return this.uint16[h+0]=e,this.uint16[h+1]=i,this.uint16[h+2]=n,this.uint16[h+3]=r,this.uint16[h+4]=o,this.uint16[h+5]=s,this.uint16[h+6]=a,this.uint16[h+7]=l,this.uint16[h+8]=c,this.uint16[h+9]=u,t}}Do.prototype.bytesPerElement=20,ar("StructArrayLayout10ui20",Do);class Po extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,o,s,a){const l=this.length;return this.resize(l+1),this.emplace(l,t,e,i,n,r,o,s,a)}emplace(t,e,i,n,r,o,s,a,l){const c=8*t;return this.uint16[c+0]=e,this.uint16[c+1]=i,this.uint16[c+2]=n,this.uint16[c+3]=r,this.uint16[c+4]=o,this.uint16[c+5]=s,this.uint16[c+6]=a,this.uint16[c+7]=l,t}}Po.prototype.bytesPerElement=16,ar("StructArrayLayout8ui16",Po);class Lo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,o,s,a,l,c,u,h){const d=this.length;return this.resize(d+1),this.emplace(d,t,e,i,n,r,o,s,a,l,c,u,h)}emplace(t,e,i,n,r,o,s,a,l,c,u,h,d){const p=12*t;return this.int16[p+0]=e,this.int16[p+1]=i,this.int16[p+2]=n,this.int16[p+3]=r,this.uint16[p+4]=o,this.uint16[p+5]=s,this.uint16[p+6]=a,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=h,this.int16[p+11]=d,t}}Lo.prototype.bytesPerElement=24,ar("StructArrayLayout4i4ui4i24",Lo);class zo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=3*t;return this.float32[r+0]=e,this.float32[r+1]=i,this.float32[r+2]=n,t}}zo.prototype.bytesPerElement=12,ar("StructArrayLayout3f12",zo);class jo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint32[1*t+0]=e,t}}jo.prototype.bytesPerElement=4,ar("StructArrayLayout1ul4",jo);class Bo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,o,s,a,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,t,e,i,n,r,o,s,a,l,c)}emplace(t,e,i,n,r,o,s,a,l,c,u){const h=16*t,d=8*t;return this.int16[h+0]=e,this.int16[h+1]=i,this.float32[d+1]=n,this.float32[d+2]=r,this.float32[d+3]=o,this.float32[d+4]=s,this.int16[h+10]=a,this.uint32[d+6]=l,this.uint16[h+14]=c,this.uint16[h+15]=u,t}}Bo.prototype.bytesPerElement=32,ar("StructArrayLayout2i4f1i1ul2ui32",Bo);class Ro extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,o){const s=this.length;return this.resize(s+1),this.emplace(s,t,e,i,n,r,o)}emplace(t,e,i,n,r,o,s){const a=6*t;return this.int16[a+0]=e,this.int16[a+1]=i,this.int16[a+2]=n,this.int16[a+3]=r,this.int16[a+4]=o,this.int16[a+5]=s,t}}Ro.prototype.bytesPerElement=12,ar("StructArrayLayout2i2i2i12",Ro);class Fo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,i,n,r)}emplace(t,e,i,n,r,o){const s=4*t,a=8*t;return this.float32[s+0]=e,this.float32[s+1]=i,this.float32[s+2]=n,this.int16[a+6]=r,this.int16[a+7]=o,t}}Fo.prototype.bytesPerElement=16,ar("StructArrayLayout2f1f2i16",Fo);class No extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const o=12*t,s=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=i,this.float32[s+1]=n,this.float32[s+2]=r,t}}No.prototype.bytesPerElement=12,ar("StructArrayLayout2ub2f12",No);class Vo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=3*t;return this.uint16[r+0]=e,this.uint16[r+1]=i,this.uint16[r+2]=n,t}}Vo.prototype.bytesPerElement=6,ar("StructArrayLayout3ui6",Vo);class $o extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m,g,y){const v=this.length;return this.resize(v+1),this.emplace(v,t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m,g,y)}emplace(t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m,g,y,v){const _=13*t,b=26*t,x=52*t;return this.float32[_+0]=e,this.float32[_+1]=i,this.uint16[b+4]=n,this.uint16[b+5]=r,this.uint32[_+3]=o,this.uint32[_+4]=s,this.uint32[_+5]=a,this.uint16[b+12]=l,this.uint16[b+13]=c,this.uint16[b+14]=u,this.float32[_+8]=h,this.float32[_+9]=d,this.uint8[x+40]=p,this.uint8[x+41]=f,this.uint8[x+42]=m,this.uint32[_+11]=g,this.int16[b+24]=y,this.uint8[x+50]=v,t}}$o.prototype.bytesPerElement=52,ar("StructArrayLayout2f2ui3ul3ui2f3ub1ul1i1ub52",$o);class Uo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,T,C,O){const k=this.length;return this.resize(k+1),this.emplace(k,t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,T,C,O)}emplace(t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,T,C,O,k){const A=17*t,I=34*t;return this.float32[A+0]=e,this.float32[A+1]=i,this.int16[I+4]=n,this.int16[I+5]=r,this.int16[I+6]=o,this.int16[I+7]=s,this.int16[I+8]=a,this.int16[I+9]=l,this.uint16[I+10]=c,this.uint16[I+11]=u,this.uint16[I+12]=h,this.uint16[I+13]=d,this.uint16[I+14]=p,this.uint16[I+15]=f,this.uint16[I+16]=m,this.uint16[I+17]=g,this.uint16[I+18]=y,this.uint16[I+19]=v,this.uint16[I+20]=_,this.uint16[I+21]=b,this.uint16[I+22]=x,this.uint16[I+23]=w,this.uint16[I+24]=S,this.uint32[A+13]=T,this.float32[A+14]=C,this.float32[A+15]=O,this.float32[A+16]=k,t}}Uo.prototype.bytesPerElement=68,ar("StructArrayLayout2f6i15ui1ul3f68",Uo);class Go extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.float32[1*t+0]=e,t}}Go.prototype.bytesPerElement=4,ar("StructArrayLayout1f4",Go);class qo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,i){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,i)}emplace(t,e,i,n){const r=3*t;return this.int16[r+0]=e,this.int16[r+1]=i,this.int16[r+2]=n,t}}qo.prototype.bytesPerElement=6,ar("StructArrayLayout3i6",qo);class Ho extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const o=6*t;return this.uint32[3*t+0]=e,this.uint16[o+2]=i,this.uint16[o+3]=n,this.uint16[o+4]=r,t}}Ho.prototype.bytesPerElement=12,ar("StructArrayLayout1ul3ui12",Ho);class Wo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e){const i=this.length;return this.resize(i+1),this.emplace(i,t,e)}emplace(t,e,i){const n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=i,t}}Wo.prototype.bytesPerElement=4,ar("StructArrayLayout2ui4",Wo);class Zo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint16[1*t+0]=e,t}}Zo.prototype.bytesPerElement=2,ar("StructArrayLayout1ui2",Zo);class Xo extends Co{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,i,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,i,n)}emplace(t,e,i,n,r){const o=4*t;return this.float32[o+0]=e,this.float32[o+1]=i,this.float32[o+2]=n,this.float32[o+3]=r,t}}Xo.prototype.bytesPerElement=16,ar("StructArrayLayout4f16",Xo);class Yo extends To{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.float32[this._pos4+1]}get y1(){return this._structArray.float32[this._pos4+2]}get x2(){return this._structArray.float32[this._pos4+3]}get y2(){return this._structArray.float32[this._pos4+4]}get padding(){return this._structArray.int16[this._pos2+10]}get featureIndex(){return this._structArray.uint32[this._pos4+6]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+14]}get bucketIndex(){return this._structArray.uint16[this._pos2+15]}get anchorPoint(){return new r(this.anchorPointX,this.anchorPointY)}}Yo.prototype.size=32;class Ko extends Bo{get(t){return new Yo(this,t)}}ar("CollisionBoxArray",Ko);class Jo extends To{get anchorX(){return this._structArray.float32[this._pos4+0]}get anchorY(){return this._structArray.float32[this._pos4+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+4]}get numGlyphs(){return this._structArray.uint16[this._pos2+5]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineStartIndex(){return this._structArray.uint32[this._pos4+4]}get lineLength(){return this._structArray.uint32[this._pos4+5]}get segment(){return this._structArray.uint16[this._pos2+12]}get lowerSize(){return this._structArray.uint16[this._pos2+13]}get upperSize(){return this._structArray.uint16[this._pos2+14]}get lineOffsetX(){return this._structArray.float32[this._pos4+8]}get lineOffsetY(){return this._structArray.float32[this._pos4+9]}get writingMode(){return this._structArray.uint8[this._pos1+40]}get placedOrientation(){return this._structArray.uint8[this._pos1+41]}set placedOrientation(t){this._structArray.uint8[this._pos1+41]=t}get hidden(){return this._structArray.uint8[this._pos1+42]}set hidden(t){this._structArray.uint8[this._pos1+42]=t}get crossTileID(){return this._structArray.uint32[this._pos4+11]}set crossTileID(t){this._structArray.uint32[this._pos4+11]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+24]}get flipState(){return this._structArray.uint8[this._pos1+50]}set flipState(t){this._structArray.uint8[this._pos1+50]=t}}Jo.prototype.size=52;class Qo extends $o{get(t){return new Jo(this,t)}}ar("PlacedSymbolArray",Qo);class ts extends To{get anchorX(){return this._structArray.float32[this._pos4+0]}get anchorY(){return this._structArray.float32[this._pos4+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+8]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+9]}get key(){return this._structArray.uint16[this._pos2+10]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get featureIndex(){return this._structArray.uint16[this._pos2+19]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+21]}get numIconVertices(){return this._structArray.uint16[this._pos2+22]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+23]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+24]}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}ts.prototype.size=68;class es extends Uo{get(t){return new ts(this,t)}}ar("SymbolInstanceArray",es);class is extends Go{getoffsetX(t){return this.float32[1*t+0]}}ar("GlyphOffsetArray",is);class ns extends qo{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}ar("SymbolLineVertexArray",ns);class rs extends To{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}rs.prototype.size=12;class os extends Ho{get(t){return new rs(this,t)}}ar("FeatureIndexArray",os);class ss extends To{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}ss.prototype.size=4;class as extends Wo{get(t){return new ss(this,t)}}ar("FillExtrusionCentroidArray",as);const ls=Oo([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),cs=Oo([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var us=le((function(t){t.exports=function(t,e){var i,n,r,o,s,a,l,c;for(n=t.length-(i=3&t.length),r=e,s=3432918353,a=461845907,c=0;c<n;)l=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,r=27492+(65535&(o=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,i){case 3:l^=(255&t.charCodeAt(c+2))<<16;case 2:l^=(255&t.charCodeAt(c+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(c)))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*a+(((l>>>16)*a&65535)<<16)&4294967295}return r^=t.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}})),hs=le((function(t){t.exports=function(t,e){for(var i,n=t.length,r=e^n,o=0;n>=4;)i=1540483477*(65535&(i=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(i>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&t.charCodeAt(o+2))<<16;case 2:r^=(255&t.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}})),ds=us,ps=hs;ds.murmur3=us,ds.murmur2=ps;class fs{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,e,i,n){this.ids.push(ms(t)),this.positions.push(e,i,n)}getPositions(t){const e=ms(t);let i=0,n=this.ids.length-1;for(;i<n;){const t=i+n>>1;this.ids[t]>=e?n=t:i=t+1}const r=[];for(;this.ids[i]===e;)r.push({index:this.positions[3*i],start:this.positions[3*i+1],end:this.positions[3*i+2]}),i++;return r}static serialize(t,e){const i=new Float64Array(t.ids),n=new Uint32Array(t.positions);return gs(i,n,0,i.length-1),e&&e.push(i.buffer,n.buffer),{ids:i,positions:n}}static deserialize(t){const e=new fs;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e}}function ms(t){const e=+t;return!isNaN(e)&&e<=a?e:ds(String(t))}function gs(t,e,i,n){for(;i<n;){const r=t[i+n>>1];let o=i-1,s=n+1;for(;;){do{o++}while(t[o]<r);do{s--}while(t[s]>r);if(o>=s)break;ys(t,o,s),ys(e,3*o,3*s),ys(e,3*o+1,3*s+1),ys(e,3*o+2,3*s+2)}s-i<n-s?(gs(t,e,i,s),i=s+1):(gs(t,e,s+1,n),n=s)}}function ys(t,e,i){const n=t[e];t[e]=t[i],t[i]=n}ar("FeaturePositionMap",fs);class vs{constructor(t,e){this.gl=t.gl,this.location=e}}class _s extends vs{constructor(t,e){super(t,e),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class bs extends vs{constructor(t,e){super(t,e),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class xs extends vs{constructor(t,e){super(t,e),this.current=ue.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const ws=new Float32Array(16),Ss=new Float32Array(9);function Ts(t){return[wo(255*t.r,255*t.g),wo(255*t.b,255*t.a)]}class Cs{constructor(t,e,i){this.value=t,this.uniformNames=e.map(t=>"u_"+t),this.type=i}setUniform(t,e,i){t.set(i.constantOr(this.value))}getBinding(t,e,i){return"color"===this.type?new xs(t,e):new _s(t,e)}}class Os{constructor(t,e){this.uniformNames=e.map(t=>"u_"+t),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tl.concat(e.br),this.patternTo=t.tl.concat(t.br)}setUniform(t,e,i,n){const r="u_pattern_to"===n||"u_dash_to"===n?this.patternTo:"u_pattern_from"===n||"u_dash_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;r&&t.set(r)}getBinding(t,e,i){return"u_pattern_from"===i||"u_pattern_to"===i||"u_dash_from"===i||"u_dash_to"===i?new bs(t,e):new _s(t,e)}}class ks{constructor(t,e,i,n){this.expression=t,this.type=i,this.maxValue=0,this.paintVertexAttributes=e.map(t=>({name:"a_"+t,type:"Float32",components:"color"===i?2:1,offset:0})),this.paintVertexArray=new n}populatePaintArray(t,e,i,n,r){const o=this.paintVertexArray.length,s=this.expression.evaluate(new so(0),e,{},n,[],r);this.paintVertexArray.resize(t),this._setPaintValue(o,t,s)}updatePaintArray(t,e,i,n){const r=this.expression.evaluate({zoom:0},i,n);this._setPaintValue(t,e,r)}_setPaintValue(t,e,i){if("color"===this.type){const n=Ts(i);for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,n[0],n[1])}else{for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,i);this.maxValue=Math.max(this.maxValue,Math.abs(i))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class As{constructor(t,e,i,n,r,o){this.expression=t,this.uniformNames=e.map(t=>`u_${t}_t`),this.type=i,this.useIntegerZoom=n,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=e.map(t=>({name:"a_"+t,type:"Float32",components:"color"===i?4:2,offset:0})),this.paintVertexArray=new o}populatePaintArray(t,e,i,n,r){const o=this.expression.evaluate(new so(this.zoom),e,{},n,[],r),s=this.expression.evaluate(new so(this.zoom+1),e,{},n,[],r),a=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(a,t,o,s)}updatePaintArray(t,e,i,n){const r=this.expression.evaluate({zoom:this.zoom},i,n),o=this.expression.evaluate({zoom:this.zoom+1},i,n);this._setPaintValue(t,e,r,o)}_setPaintValue(t,e,i,n){if("color"===this.type){const r=Ts(i),o=Ts(n);for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,r[0],r[1],o[0],o[1])}else{for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,i,n);this.maxValue=Math.max(this.maxValue,Math.abs(i),Math.abs(n))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,e){const i=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,n=m(this.expression.interpolationFactor(i,this.zoom,this.zoom+1),0,1);t.set(n)}getBinding(t,e,i){return new _s(t,e)}}class Is{constructor(t,e,i,n,r,o,s){this.expression=t,this.type=i,this.useIntegerZoom=n,this.zoom=r,this.layerId=s,this.paintVertexAttributes=("array"===i?cs:ls).members;for(let a=0;a<e.length;++a);this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o}populatePaintArray(t,e,i){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(n,t,e.patterns&&e.patterns[this.layerId],i)}updatePaintArray(t,e,i,n,r){this._setPaintValues(t,e,i.patterns&&i.patterns[this.layerId],r)}_setPaintValues(t,e,i,n){if(!n||!i)return;const{min:r,mid:o,max:s}=i,a=n[r],l=n[o],c=n[s];if(a&&l&&c)for(let u=t;u<e;u++)this._setPaintValue(this.zoomInPaintVertexArray,u,l,a),this._setPaintValue(this.zoomOutPaintVertexArray,u,l,c)}_setPaintValue(t,e,i,n){t.emplace(e,i.tl[0],i.tl[1],i.br[0],i.br[1],n.tl[0],n.tl[1],n.br[0],n.br[1],i.pixelRatio,n.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Es{constructor(t,e,i=(()=>!0)){this.binders={},this._buffers=[];const n=[];for(const r in t.paint._values){if(!i(r))continue;const o=t.paint.get(r);if(!(o instanceof fo&&Xi(o.property.specification)))continue;const s=Ps(r,t.type),a=o.value,l=o.property.specification.type,c=o.property.useIntegerZoom,u=o.property.specification["property-type"],h="cross-faded"===u||"cross-faded-data-driven"===u,d="line-dasharray"===String(r)&&"constant"!==t.layout.get("line-cap").value.kind;if("constant"!==a.kind||d)if("source"===a.kind||d||h){const i=js(r,l,"source");this.binders[r]=h?new Is(a,s,l,c,e,i,t.id):new ks(a,s,l,i),n.push("/a_"+r)}else{const t=js(r,l,"composite");this.binders[r]=new As(a,s,l,c,e,t),n.push("/z_"+r)}else this.binders[r]=h?new Os(a.value,s):new Cs(a.value,s,l),n.push("/u_"+r)}this.cacheKey=n.sort().join("")}getMaxValue(t){const e=this.binders[t];return e instanceof ks||e instanceof As?e.maxValue:0}populatePaintArrays(t,e,i,n,r){for(const o in this.binders){const s=this.binders[o];(s instanceof ks||s instanceof As||s instanceof Is)&&s.populatePaintArray(t,e,i,n,r)}}setConstantPatternPositions(t,e){for(const i in this.binders){const n=this.binders[i];n instanceof Os&&n.setConstantPatternPositions(t,e)}}updatePaintArrays(t,e,i,n,r){let o=!1;for(const s in t){const a=e.getPositions(s);for(const e of a){const a=i.feature(e.index);for(const i in this.binders){const l=this.binders[i];if((l instanceof ks||l instanceof As||l instanceof Is)&&!0===l.expression.isStateDependent){const c=n.paint.get(i);l.expression=c.value,l.updatePaintArray(e.start,e.end,a,t[s],r),o=!0}}}}return o}defines(){const t=[];for(const e in this.binders){const i=this.binders[e];(i instanceof Cs||i instanceof Os)&&t.push(...i.uniformNames.map(t=>"#define HAS_UNIFORM_"+t))}return t}getBinderAttributes(){const t=[];for(const e in this.binders){const i=this.binders[e];if(i instanceof ks||i instanceof As||i instanceof Is)for(let e=0;e<i.paintVertexAttributes.length;e++)t.push(i.paintVertexAttributes[e].name)}return t}getBinderUniforms(){const t=[];for(const e in this.binders){const i=this.binders[e];if(i instanceof Cs||i instanceof Os||i instanceof As)for(const e of i.uniformNames)t.push(e)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,e){const i=[];for(const n in this.binders){const r=this.binders[n];if(r instanceof Cs||r instanceof Os||r instanceof As)for(const o of r.uniformNames)if(e[o]){const s=r.getBinding(t,e[o],o);i.push({name:o,property:n,binding:s})}}return i}setUniforms(t,e,i,n){for(const{name:r,property:o,binding:s}of e)this.binders[o].setUniform(s,n,i.get(o),r)}updatePaintBuffers(t){this._buffers=[];for(const e in this.binders){const i=this.binders[e];if(t&&i instanceof Is){const e=2===t.fromScale?i.zoomInPaintVertexBuffer:i.zoomOutPaintVertexBuffer;e&&this._buffers.push(e)}else(i instanceof ks||i instanceof As)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(t){for(const e in this.binders){const i=this.binders[e];(i instanceof ks||i instanceof As||i instanceof Is)&&i.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const e=this.binders[t];(e instanceof ks||e instanceof As||e instanceof Is)&&e.destroy()}}}class Ms{constructor(t,e,i=(()=>!0)){this.programConfigurations={};for(const n of t)this.programConfigurations[n.id]=new Es(n,e,i);this.needsUpload=!1,this._featureMap=new fs,this._bufferOffset=0}populatePaintArrays(t,e,i,n,r,o){for(const s in this.programConfigurations)this.programConfigurations[s].populatePaintArrays(t,e,n,r,o);void 0!==e.id&&this._featureMap.add(e.id,i,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,e,i,n){for(const r of i)this.needsUpload=this.programConfigurations[r.id].updatePaintArrays(t,this._featureMap,e,r,n)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}const Ds={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function Ps(t,e){return Ds[t]||[t.replace(e+"-","").replace(/-/g,"_")]}const Ls={"line-pattern":{source:Do,composite:Do},"fill-pattern":{source:Do,composite:Do},"fill-extrusion-pattern":{source:Do,composite:Do},"line-dasharray":{source:Po,composite:Po}},zs={color:{source:Mo,composite:Xo},number:{source:Go,composite:Mo}};function js(t,e,i){const n=Ls[t];return n&&n[i]||zs[e][i]}ar("ConstantBinder",Cs),ar("CrossFadedConstantBinder",Os),ar("SourceExpressionBinder",ks),ar("CrossFadedCompositeBinder",Is),ar("CompositeExpressionBinder",As),ar("ProgramConfiguration",Es,{omit:["_buffers"]}),ar("ProgramConfigurationSet",Ms);const Bs="-transition";class Rs extends Bt{constructor(t,e){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==t.type&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&"sky"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),e.layout&&(this._unevaluatedLayout=new po(e.layout)),e.paint)){this._transitionablePaint=new co(e.paint);for(const e in t.paint)this.setPaintProperty(e,t.paint[e],{validate:!1});for(const e in t.layout)this.setLayoutProperty(e,t.layout[e],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new mo(e.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,e,i={}){null!=e&&this._validate(tr,`layers.${this.id}.layout.${t}`,t,e,i)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)}getPaintProperty(t){return O(t,Bs)?this._transitionablePaint.getTransition(t.slice(0,-Bs.length)):this._transitionablePaint.getValue(t)}setPaintProperty(t,e,i={}){if(null!=e&&this._validate(Qn,`layers.${this.id}.paint.${t}`,t,e,i))return!1;if(O(t,Bs))return this._transitionablePaint.setTransition(t.slice(0,-Bs.length),e||void 0),!1;{const i=this._transitionablePaint._values[t],n="cross-faded-data-driven"===i.property.specification["property-type"],r=i.value.isDataDriven(),o=i.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);const s=this._transitionablePaint._values[t].value;return s.isDataDriven()||r||n||this._handleOverridablePaintPropertyUpdate(t,o,s)}}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getProgramConfiguration(t){return null}_handleOverridablePaintPropertyUpdate(t,e,i){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),A(t,(t,e)=>!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length))}_validate(t,e,i,n,r={}){return(!r||!1!==r.validate)&&er(this,t.call(Yn,{key:e,layerType:this.type,objectKey:i,value:n,styleSpec:Rt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const e=this.paint.get(t);if(e instanceof fo&&Xi(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1}}const Fs=Oo([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ns}=Fs;class Vs{constructor(t=[]){this.segments=t}prepareSegment(t,e,i,n){let r=this.segments[this.segments.length-1];return t>Vs.MAX_VERTEX_ARRAY_LENGTH&&M(`Max vertices per segment is ${Vs.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!r||r.vertexLength+t>Vs.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==n)&&(r={vertexOffset:e.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},void 0!==n&&(r.sortKey=n),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const t of this.segments)for(const e in t.vaos)t.vaos[e].destroy()}static simpleSegment(t,e,i,n){return new Vs([{vertexOffset:t,primitiveOffset:e,vertexLength:i,primitiveLength:n,vaos:{},sortKey:0}])}}Vs.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ar("SegmentVector",Vs);var $s=8192;const Us=Math.pow(2,14)-1,Gs=-Us-1;function qs(t){const e=$s/t.extent,i=t.loadGeometry();for(let n=0;n<i.length;n++){const t=i[n];for(let i=0;i<t.length;i++){const n=t[i],r=Math.round(n.x*e),o=Math.round(n.y*e);n.x=m(r,Gs,Us),n.y=m(o,Gs,Us),(r<n.x||r>n.x+1||o<n.y||o>n.y+1)&&M("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return i}function Hs(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?qs(t):[]}}function Ws(t,e,i,n,r){t.emplaceBack(2*e+(n+1)/2,2*i+(r+1)/2)}class Zs{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(t=>t.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ao,this.indexArray=new Vo,this.segments=new Vs,this.programConfigurations=new Ms(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(t=>t.isStateDependent()).map(t=>t.id)}populate(t,e,i){const n=this.layers[0],r=[];let o=null;"circle"===n.type&&(o=n.layout.get("circle-sort-key"));for(const{feature:s,id:a,index:l,sourceLayerIndex:c}of t){const t=this.layers[0]._featureFilter.needGeometry,e=Hs(s,t);if(!this.layers[0]._featureFilter.filter(new so(this.zoom),e,i))continue;const n=o?o.evaluate(e,{},i):void 0,u={id:a,properties:s.properties,type:s.type,sourceLayerIndex:c,index:l,geometry:t?e.geometry:qs(s),patterns:{},sortKey:n};r.push(u)}o&&r.sort((t,e)=>t.sortKey-e.sortKey);for(const s of r){const{geometry:n,index:r,sourceLayerIndex:o}=s,a=t[r].feature;this.addFeature(s,n,r,i),e.featureIndex.insert(a,n,r,o,this.index)}}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ns),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,e,i,n){for(const r of e)for(const e of r){const i=e.x,n=e.y;if(i<0||i>=$s||n<0||n>=$s)continue;const r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),o=r.vertexLength;Ws(this.layoutVertexArray,i,n,-1,-1),Ws(this.layoutVertexArray,i,n,1,-1),Ws(this.layoutVertexArray,i,n,1,1),Ws(this.layoutVertexArray,i,n,-1,1),this.indexArray.emplaceBack(o,o+1,o+2),this.indexArray.emplaceBack(o,o+3,o+2),r.vertexLength+=4,r.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,{},n)}}function Xs(t,e){for(let i=0;i<t.length;i++)if(ra(e,t[i]))return!0;for(let i=0;i<e.length;i++)if(ra(t,e[i]))return!0;return!!Qs(t,e)}function Ys(t,e,i){return!!ra(t,e)||!!ea(e,t,i)}function Ks(t,e){if(1===t.length)return na(e,t[0]);for(let i=0;i<e.length;i++){const n=e[i];for(let e=0;e<n.length;e++)if(ra(t,n[e]))return!0}for(let i=0;i<t.length;i++)if(na(e,t[i]))return!0;for(let i=0;i<e.length;i++)if(Qs(t,e[i]))return!0;return!1}function Js(t,e,i){if(t.length>1){if(Qs(t,e))return!0;for(let n=0;n<e.length;n++)if(ea(e[n],t,i))return!0}for(let n=0;n<t.length;n++)if(ea(t[n],e,i))return!0;return!1}function Qs(t,e){if(0===t.length||0===e.length)return!1;for(let i=0;i<t.length-1;i++){const n=t[i],r=t[i+1];for(let t=0;t<e.length-1;t++)if(ta(n,r,e[t],e[t+1]))return!0}return!1}function ta(t,e,i,n){return D(t,i,n)!==D(e,i,n)&&D(t,e,i)!==D(t,e,n)}function ea(t,e,i){const n=i*i;if(1===e.length)return t.distSqr(e[0])<n;for(let r=1;r<e.length;r++)if(ia(t,e[r-1],e[r])<n)return!0;return!1}function ia(t,e,i){const n=e.distSqr(i);if(0===n)return t.distSqr(e);const r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return t.distSqr(r<0?e:r>1?i:i.sub(e)._mult(r)._add(e))}function na(t,e){let i,n,r,o=!1;for(let s=0;s<t.length;s++){i=t[s];for(let t=0,s=i.length-1;t<i.length;s=t++)n=i[t],r=i[s],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(o=!o)}return o}function ra(t,e){let i=!1;for(let n=0,r=t.length-1;n<t.length;r=n++){const o=t[n],s=t[r];o.y>e.y!=s.y>e.y&&e.x<(s.x-o.x)*(e.y-o.y)/(s.y-o.y)+o.x&&(i=!i)}return i}function oa(t,e,i,n,o){for(const r of t)if(e<=r.x&&i<=r.y&&n>=r.x&&o>=r.y)return!0;const s=[new r(e,i),new r(e,o),new r(n,o),new r(n,i)];if(t.length>2)for(const r of s)if(ra(t,r))return!0;for(let r=0;r<t.length-1;r++)if(sa(t[r],t[r+1],s))return!0;return!1}function sa(t,e,i){const n=i[0],r=i[2];if(t.x<n.x&&e.x<n.x||t.x>r.x&&e.x>r.x||t.y<n.y&&e.y<n.y||t.y>r.y&&e.y>r.y)return!1;const o=D(t,e,i[0]);return o!==D(t,e,i[1])||o!==D(t,e,i[2])||o!==D(t,e,i[3])}function aa(t,e,i){const n=e.paint.get(t).value;return"constant"===n.kind?n.value:i.programConfigurations.get(e.id).getMaxValue(t)}function la(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ca(t,e,i,n,o){if(!e[0]&&!e[1])return t;const s=r.convert(e)._mult(o);"viewport"===i&&s._rotate(-n);const a=[];for(let r=0;r<t.length;r++)a.push(t[r].sub(s));return a}function ua(t,e,i,n){const o=r.convert(t)._mult(n);return"viewport"===e&&o._rotate(-i),o}ar("CircleBucket",Zs,{omit:["layers"]});const ha=new xo({"circle-sort-key":new yo(Rt.layout_circle["circle-sort-key"])});var da={paint:new xo({"circle-radius":new yo(Rt.paint_circle["circle-radius"]),"circle-color":new yo(Rt.paint_circle["circle-color"]),"circle-blur":new yo(Rt.paint_circle["circle-blur"]),"circle-opacity":new yo(Rt.paint_circle["circle-opacity"]),"circle-translate":new go(Rt.paint_circle["circle-translate"]),"circle-translate-anchor":new go(Rt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new go(Rt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new go(Rt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yo(Rt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yo(Rt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yo(Rt.paint_circle["circle-stroke-opacity"])}),layout:ha},pa="undefined"!=typeof Float32Array?Float32Array:Array;function fa(){var t=new pa(9);return pa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function ma(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ga(t,e,i){var n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],v=e[15],_=i[0],b=i[1],x=i[2],w=i[3];return t[0]=_*n+b*a+x*h+w*m,t[1]=_*r+b*l+x*d+w*g,t[2]=_*o+b*c+x*p+w*y,t[3]=_*s+b*u+x*f+w*v,t[4]=(_=i[4])*n+(b=i[5])*a+(x=i[6])*h+(w=i[7])*m,t[5]=_*r+b*l+x*d+w*g,t[6]=_*o+b*c+x*p+w*y,t[7]=_*s+b*u+x*f+w*v,t[8]=(_=i[8])*n+(b=i[9])*a+(x=i[10])*h+(w=i[11])*m,t[9]=_*r+b*l+x*d+w*g,t[10]=_*o+b*c+x*p+w*y,t[11]=_*s+b*u+x*f+w*v,t[12]=(_=i[12])*n+(b=i[13])*a+(x=i[14])*h+(w=i[15])*m,t[13]=_*r+b*l+x*d+w*g,t[14]=_*o+b*c+x*p+w*y,t[15]=_*s+b*u+x*f+w*v,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var ya=ga;function va(){var t=new pa(3);return pa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function _a(t){return Math.hypot(t[0],t[1],t[2])}function ba(t,e,i){var n=new pa(3);return n[0]=t,n[1]=e,n[2]=i,n}function xa(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function wa(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function Sa(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t}function Ta(t,e){var i=e[0],n=e[1],r=e[2],o=i*i+n*n+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function Ca(t,e,i){var n=i[0],r=i[1],o=i[2],s=e[0],a=e[1],l=e[2],c=r*l-o*a,u=o*s-n*l,h=n*a-r*s,d=r*h-o*u,p=o*c-n*h,f=n*u-r*c,m=2*i[3];return u*=m,h*=m,p*=2,f*=2,t[0]=s+(c*=m)+(d*=2),t[1]=a+u+p,t[2]=l+h+f,t}var Oa,ka=xa,Aa=wa,Ia=_a;function Ea(t,e,i){var n=e[0],r=e[1],o=e[2],s=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*o+i[12]*s,t[1]=i[1]*n+i[5]*r+i[9]*o+i[13]*s,t[2]=i[2]*n+i[6]*r+i[10]*o+i[14]*s,t[3]=i[3]*n+i[7]*r+i[11]*o+i[15]*s,t}function Ma(){var t=new pa(4);return pa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Da(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Pa(t,e,i){i*=.5;var n=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(i),l=Math.cos(i);return t[0]=n*l+s*a,t[1]=r*l+o*a,t[2]=o*l-r*a,t[3]=s*l-n*a,t}function La(t,e,i){const n=Ea([],[t.x,t.y,e,1],i);return new r(n[0]/n[3],n[1]/n[3])}va(),Oa=new pa(4),pa!=Float32Array&&(Oa[0]=0,Oa[1]=0,Oa[2]=0,Oa[3]=0),va(),ba(1,0,0),ba(0,1,0),Ma(),Ma(),fa();const za=ba(0,0,0),ja=ba(0,0,1);function Ba(t,e){const i=va();return za[2]=e,t.intersectsPlane(za,ja,i),new r(i[0],i[1])}class Ra extends Zs{}function Fa(t,{width:e,height:i},n,r){if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==e*i*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(e*i*n);return t.width=e,t.height=i,t.data=r,t}function Na(t,{width:e,height:i},n){if(e===t.width&&i===t.height)return;const r=Fa({},{width:e,height:i},n);Va(t,r,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,e),height:Math.min(t.height,i)},n),t.width=e,t.height=i,t.data=r.data}function Va(t,e,i,n,r,o){if(0===r.width||0===r.height)return e;if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const s=t.data,a=e.data;for(let l=0;l<r.height;l++){const c=((i.y+l)*t.width+i.x)*o,u=((n.y+l)*e.width+n.x)*o;for(let t=0;t<r.width*o;t++)a[u+t]=s[c+t]}return e}ar("HeatmapBucket",Ra,{omit:["layers"]});class $a{constructor(t,e){Fa(this,t,1,e)}resize(t){Na(this,t,1)}clone(){return new $a({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,i,n,r){Va(t,e,i,n,r,1)}}class Ua{constructor(t,e){Fa(this,t,4,e)}resize(t){Na(this,t,4)}replace(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new Ua({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,i,n,r){Va(t,e,i,n,r,4)}}ar("AlphaImage",$a),ar("RGBAImage",Ua);var Ga={paint:new xo({"heatmap-radius":new yo(Rt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yo(Rt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new go(Rt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bo(Rt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new go(Rt.paint_heatmap["heatmap-opacity"])})};function qa(t){const e={},i=t.resolution||256,n=t.clips?t.clips.length:1,r=t.image||new Ua({width:i,height:n}),o=(i,n,o)=>{e[t.evaluationKey]=o;const s=t.expression.evaluate(e);r.data[i+n+0]=Math.floor(255*s.r/s.a),r.data[i+n+1]=Math.floor(255*s.g/s.a),r.data[i+n+2]=Math.floor(255*s.b/s.a),r.data[i+n+3]=Math.floor(255*s.a)};if(t.clips)for(let s=0,a=0;s<n;++s,a+=4*i)for(let e=0,n=0;e<i;e++,n+=4){const r=e/(i-1),{start:l,end:c}=t.clips[s];o(a,n,l*(1-r)+c*r)}else for(let s=0,a=0;s<i;s++,a+=4)o(0,a,s/(i-1));return r}var Ha={paint:new xo({"hillshade-illumination-direction":new go(Rt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new go(Rt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new go(Rt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new go(Rt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new go(Rt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new go(Rt.paint_hillshade["hillshade-accent-color"])})};const Wa=Oo([{name:"a_pos",components:2,type:"Int16"}],4),{members:Za}=Wa;var Xa=Ka,Ya=Ka;function Ka(t,e,i){i=i||2;var n,r,o,s,a,l,c,u=e&&e.length,h=u?e[0]*i:t.length,d=Ja(t,0,h,i,!0),p=[];if(!d||d.next===d.prev)return p;if(u&&(d=function(t,e,i,n){var r,o,s,a=[];for(r=0,o=e.length;r<o;r++)(s=Ja(t,e[r]*n,r<o-1?e[r+1]*n:t.length,n,!1))===s.next&&(s.steiner=!0),a.push(cl(s));for(a.sort(ol),r=0;r<a.length;r++)sl(a[r],i),i=Qa(i,i.next);return i}(t,e,d,i)),t.length>80*i){n=o=t[0],r=s=t[1];for(var f=i;f<h;f+=i)(a=t[f])<n&&(n=a),(l=t[f+1])<r&&(r=l),a>o&&(o=a),l>s&&(s=l);c=0!==(c=Math.max(o-n,s-r))?1/c:0}return tl(d,p,i,n,r,c),p}function Ja(t,e,i,n,r){var o,s;if(r===wl(t,e,i,n)>0)for(o=e;o<i;o+=n)s=_l(o,t[o],t[o+1],s);else for(o=i-n;o>=e;o-=n)s=_l(o,t[o],t[o+1],s);return s&&pl(s,s.next)&&(bl(s),s=s.next),s}function Qa(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!pl(n,n.next)&&0!==dl(n.prev,n,n.next))n=n.next;else{if(bl(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function tl(t,e,i,n,r,o,s){if(t){!s&&o&&function(t,e,i,n){var r=t;do{null===r.z&&(r.z=ll(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,o,s,a,l,c=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,n=i,a=0,e=0;e<c&&(a++,n=n.nextZ);e++);for(l=c;a>0||l>0&&n;)0!==a&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=n}o.nextZ=null,c*=2}while(s>1)}(r)}(t,n,r,o);for(var a,l,c=t;t.prev!==t.next;)if(a=t.prev,l=t.next,o?il(t,n,r,o):el(t))e.push(a.i/i),e.push(t.i/i),e.push(l.i/i),bl(t),t=l.next,c=l.next;else if((t=l)===c){s?1===s?tl(t=nl(Qa(t),e,i),e,i,n,r,o,2):2===s&&rl(t,e,i,n,r,o):tl(Qa(t),e,i,n,r,o,1);break}}}function el(t){var e=t.prev,i=t,n=t.next;if(dl(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(ul(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&dl(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function il(t,e,i,n){var r=t.prev,o=t,s=t.next;if(dl(r,o,s)>=0)return!1;for(var a=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,l=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,c=ll(r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,e,i,n),u=ll(a,l,e,i,n),h=t.prevZ,d=t.nextZ;h&&h.z>=c&&d&&d.z<=u;){if(h!==t.prev&&h!==t.next&&ul(r.x,r.y,o.x,o.y,s.x,s.y,h.x,h.y)&&dl(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==t.prev&&d!==t.next&&ul(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&dl(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=c;){if(h!==t.prev&&h!==t.next&&ul(r.x,r.y,o.x,o.y,s.x,s.y,h.x,h.y)&&dl(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=u;){if(d!==t.prev&&d!==t.next&&ul(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&dl(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function nl(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!pl(r,o)&&fl(r,n,n.next,o)&&yl(r,o)&&yl(o,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(o.i/i),bl(n),bl(n.next),n=t=o),n=n.next}while(n!==t);return Qa(n)}function rl(t,e,i,n,r,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&hl(s,a)){var l=vl(s,a);return s=Qa(s,s.next),l=Qa(l,l.next),tl(s,e,i,n,r,o),void tl(l,e,i,n,r,o)}a=a.next}s=s.next}while(s!==t)}function ol(t,e){return t.x-e.x}function sl(t,e){if(e=function(t,e){var i,n=e,r=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s){if(s=a,a===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===s)return i;var l,c=i,u=i.x,h=i.y,d=1/0;n=i;do{r>=n.x&&n.x>=u&&r!==n.x&&ul(o<h?r:s,o,u,h,o<h?s:r,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(r-n.x),yl(n,t)&&(l<d||l===d&&(n.x>i.x||n.x===i.x&&al(i,n)))&&(i=n,d=l)),n=n.next}while(n!==c);return i}(t,e)){var i=vl(e,t);Qa(e,e.next),Qa(i,i.next)}}function al(t,e){return dl(t.prev,t,e.prev)<0&&dl(e.next,t,t.next)<0}function ll(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function cl(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function ul(t,e,i,n,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(r-s)*(n-a)>=0}function hl(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&fl(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(yl(t,e)&&yl(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)&&(dl(t.prev,t,e.prev)||dl(t,e.prev,e))||pl(t,e)&&dl(t.prev,t,t.next)>0&&dl(e.prev,e,e.next)>0)}function dl(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function pl(t,e){return t.x===e.x&&t.y===e.y}function fl(t,e,i,n){var r=gl(dl(t,e,i)),o=gl(dl(t,e,n)),s=gl(dl(i,n,t)),a=gl(dl(i,n,e));return r!==o&&s!==a||!(0!==r||!ml(t,i,e))||!(0!==o||!ml(t,n,e))||!(0!==s||!ml(i,t,n))||!(0!==a||!ml(i,e,n))}function ml(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function gl(t){return t>0?1:t<0?-1:0}function yl(t,e){return dl(t.prev,t,t.next)<0?dl(t,e,t.next)>=0&&dl(t,t.prev,e)>=0:dl(t,e,t.prev)<0||dl(t,t.next,e)<0}function vl(t,e){var i=new xl(t.i,t.x,t.y),n=new xl(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function _l(t,e,i,n){var r=new xl(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function bl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function xl(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function wl(t,e,i,n){for(var r=0,o=e,s=i-n;o<i;o+=n)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}function Sl(t,e,i,n,r){Tl(t,e,i||0,n||t.length-1,r||Ol)}function Tl(t,e,i,n,r){for(;n>i;){if(n-i>600){var o=n-i+1,s=e-i+1,a=Math.log(o),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);Tl(t,e,Math.max(i,Math.floor(e-s*l/o+c)),Math.min(n,Math.floor(e+(o-s)*l/o+c)),r)}var u=t[e],h=i,d=n;for(Cl(t,i,e),r(t[n],u)>0&&Cl(t,i,n);h<d;){for(Cl(t,h,d),h++,d--;r(t[h],u)<0;)h++;for(;r(t[d],u)>0;)d--}0===r(t[i],u)?Cl(t,i,d):Cl(t,++d,n),d<=e&&(i=d+1),e<=d&&(n=d-1)}}function Cl(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function Ol(t,e){return t<e?-1:t>e?1:0}function kl(t,e){const i=t.length;if(i<=1)return[t];const n=[];let r,o;for(let s=0;s<i;s++){const e=P(t[s]);0!==e&&(t[s].area=Math.abs(e),void 0===o&&(o=e<0),o===e<0?(r&&n.push(r),r=[t[s]]):r.push(t[s]))}if(r&&n.push(r),e>1)for(let s=0;s<n.length;s++)n[s].length<=e||(Sl(n[s],e,1,n[s].length-1,Al),n[s]=n[s].slice(0,e));return n}function Al(t,e){return e.area-t.area}function Il(t,e,i){const n=i.patternDependencies;let r=!1;for(const o of e){const e=o.paint.get(t+"-pattern");e.isConstant()||(r=!0);const i=e.constantOr(null);i&&(r=!0,n[i.to]=!0,n[i.from]=!0)}return r}function El(t,e,i,n,r){const o=r.patternDependencies;for(const s of e){const e=s.paint.get(t+"-pattern").value;if("constant"!==e.kind){let t=e.evaluate({zoom:n-1},i,{},r.availableImages),a=e.evaluate({zoom:n},i,{},r.availableImages),l=e.evaluate({zoom:n+1},i,{},r.availableImages);t=t&&t.name?t.name:t,a=a&&a.name?a.name:a,l=l&&l.name?l.name:l,o[t]=!0,o[a]=!0,o[l]=!0,i.patterns[s.id]={min:t,mid:a,max:l}}}return i}Ka.deviation=function(t,e,i,n){var r=e&&e.length,o=Math.abs(wl(t,0,r?e[0]*i:t.length,i));if(r)for(var s=0,a=e.length;s<a;s++)o-=Math.abs(wl(t,e[s]*i,s<a-1?e[s+1]*i:t.length,i));var l=0;for(s=0;s<n.length;s+=3){var c=n[s]*i,u=n[s+1]*i,h=n[s+2]*i;l+=Math.abs((t[c]-t[h])*(t[u+1]-t[c+1])-(t[c]-t[u])*(t[h+1]-t[c+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Ka.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[r][o][s]);r>0&&i.holes.push(n+=t[r-1].length)}return i},Xa.default=Ya;class Ml{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(t=>t.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ao,this.indexArray=new Vo,this.indexArray2=new Wo,this.programConfigurations=new Ms(t.layers,t.zoom),this.segments=new Vs,this.segments2=new Vs,this.stateDependentLayerIds=this.layers.filter(t=>t.isStateDependent()).map(t=>t.id)}populate(t,e,i){this.hasPattern=Il("fill",this.layers,e);const n=this.layers[0].layout.get("fill-sort-key"),r=[];for(const{feature:o,id:s,index:a,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,c=Hs(o,t);if(!this.layers[0]._featureFilter.filter(new so(this.zoom),c,i))continue;const u=n?n.evaluate(c,{},i,e.availableImages):void 0,h={id:s,properties:o.properties,type:o.type,sourceLayerIndex:l,index:a,geometry:t?c.geometry:qs(o),patterns:{},sortKey:u};r.push(h)}n&&r.sort((t,e)=>t.sortKey-e.sortKey);for(const o of r){const{geometry:n,index:r,sourceLayerIndex:s}=o;if(this.hasPattern){const t=El("fill",this.layers,o,this.zoom,e);this.patternFeatures.push(t)}else this.addFeature(o,n,r,i,{});e.featureIndex.insert(t[r].feature,n,r,s,this.index)}}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}addFeatures(t,e,i){for(const n of this.patternFeatures)this.addFeature(n,n.geometry,n.index,e,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Za),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,e,i,n,r){for(const o of kl(e,500)){let t=0;for(const a of o)t+=a.length;const e=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),i=e.vertexLength,n=[],r=[];for(const a of o){if(0===a.length)continue;a!==o[0]&&r.push(n.length/2);const t=this.segments2.prepareSegment(a.length,this.layoutVertexArray,this.indexArray2),e=t.vertexLength;this.layoutVertexArray.emplaceBack(a[0].x,a[0].y),this.indexArray2.emplaceBack(e+a.length-1,e),n.push(a[0].x),n.push(a[0].y);for(let i=1;i<a.length;i++)this.layoutVertexArray.emplaceBack(a[i].x,a[i].y),this.indexArray2.emplaceBack(e+i-1,e+i),n.push(a[i].x),n.push(a[i].y);t.vertexLength+=a.length,t.primitiveLength+=a.length}const s=Xa(n,r);for(let o=0;o<s.length;o+=3)this.indexArray.emplaceBack(i+s[o],i+s[o+1],i+s[o+2]);e.vertexLength+=t,e.primitiveLength+=s.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r,n)}}ar("FillBucket",Ml,{omit:["layers","patternFeatures"]});const Dl=new xo({"fill-sort-key":new yo(Rt.layout_fill["fill-sort-key"])});var Pl={paint:new xo({"fill-antialias":new go(Rt.paint_fill["fill-antialias"]),"fill-opacity":new yo(Rt.paint_fill["fill-opacity"]),"fill-color":new yo(Rt.paint_fill["fill-color"]),"fill-outline-color":new yo(Rt.paint_fill["fill-outline-color"]),"fill-translate":new go(Rt.paint_fill["fill-translate"]),"fill-translate-anchor":new go(Rt.paint_fill["fill-translate-anchor"]),"fill-pattern":new vo(Rt.paint_fill["fill-pattern"])}),layout:Dl};const Ll=Oo([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),zl=Oo([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:jl}=Ll;var Bl=Rl;function Rl(t,e,i,n,r){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=r,t.readFields(Fl,this,e)}function Fl(t,e,i){1==t?e.id=i.readVarint():2==t?function(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function Nl(t){for(var e,i,n=0,r=0,o=t.length,s=o-1;r<o;s=r++)n+=((i=t[s]).x-(e=t[r]).x)*(e.y+i.y);return n}Rl.types=["Unknown","Point","LineString","Polygon"],Rl.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,n=1,o=0,s=0,a=0,l=[];t.pos<i;){if(o<=0){var c=t.readVarint();n=7&c,o=c>>3}if(o--,1===n||2===n)s+=t.readSVarint(),a+=t.readSVarint(),1===n&&(e&&l.push(e),e=[]),e.push(new r(s,a));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&l.push(e),l},Rl.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,r=0,o=0,s=1/0,a=-1/0,l=1/0,c=-1/0;t.pos<e;){if(n<=0){var u=t.readVarint();i=7&u,n=u>>3}if(n--,1===i||2===i)(r+=t.readSVarint())<s&&(s=r),r>a&&(a=r),(o+=t.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==i)throw new Error("unknown command "+i)}return[s,l,a,c]},Rl.prototype.toGeoJSON=function(t,e,i){var n,r,o=this.extent*Math.pow(2,i),s=this.extent*t,a=this.extent*e,l=this.loadGeometry(),c=Rl.types[this.type];function u(t){for(var e=0;e<t.length;e++){var i=t[e];t[e]=[360*(i.x+s)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(i.y+a)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(n=0;n<l.length;n++)h[n]=l[n][0];u(l=h);break;case 2:for(n=0;n<l.length;n++)u(l[n]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var i,n,r=[],o=0;o<e;o++){var s=Nl(t[o]);0!==s&&(void 0===n&&(n=s<0),n===s<0?(i&&r.push(i),i=[t[o]]):i.push(t[o]))}return i&&r.push(i),r}(l),n=0;n<l.length;n++)for(r=0;r<l[n].length;r++)u(l[n][r])}1===l.length?l=l[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var Vl=$l;function $l(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Ul,this,e),this.length=this._features.length}function Ul(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(i))}function Gl(t,e,i){if(3===t){var n=new Vl(i,i.readVarint()+i.pos);n.length&&(e[n.name]=n)}}$l.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Bl(this._pbf,e,this.extent,this._keys,this._values)};var ql={VectorTile:function(t,e){this.layers=t.readFields(Gl,{},e)},VectorTileFeature:Bl,VectorTileLayer:Vl};const Hl=ql.VectorTileFeature.types,Wl=Math.pow(2,13);function Zl(t,e,i,n,r,o,s,a){t.emplaceBack((e<<1)+s,(i<<1)+o,(Math.floor(n*Wl)<<1)+r,Math.round(a))}class Xl{constructor(){this.acc=new r(0,0),this.polyCount=[]}startRing(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new r(t.x,t.y),this.max=new r(t.x,t.y))}append(t,e){this.currentPolyCount.edges++,this.acc._add(t);let i=!!this.borders;const n=this.min,r=this.max;t.x<n.x?(n.x=t.x,i=!0):t.x>r.x&&(r.x=t.x,i=!0),t.y<n.y?(n.y=t.y,i=!0):t.y>r.y&&(r.y=t.y,i=!0),((0===t.x||t.x===$s)&&t.x===e.x)!=((0===t.y||t.y===$s)&&t.y===e.y)&&this.processBorderOverlap(t,e),i&&this.checkBorderIntersection(t,e)}checkBorderIntersection(t,e){e.x<0!=t.x<0&&this.addBorderIntersection(0,ii(e.y,t.y,(0-e.x)/(t.x-e.x))),e.x>$s!=t.x>$s&&this.addBorderIntersection(1,ii(e.y,t.y,($s-e.x)/(t.x-e.x))),e.y<0!=t.y<0&&this.addBorderIntersection(2,ii(e.x,t.x,(0-e.y)/(t.y-e.y))),e.y>$s!=t.y>$s&&this.addBorderIntersection(3,ii(e.x,t.x,($s-e.y)/(t.y-e.y)))}addBorderIntersection(t,e){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const i=this.borders[t];e<i[0]&&(i[0]=e),e>i[1]&&(i[1]=e)}processBorderOverlap(t,e){if(t.x===e.x){if(t.y===e.y)return;const i=0===t.x?0:1;this.addBorderIntersection(i,e.y),this.addBorderIntersection(i,t.y)}else{const i=0===t.y?2:3;this.addBorderIntersection(i,e.x),this.addBorderIntersection(i,t.x)}}centroid(){const t=this.polyCount.reduce((t,e)=>t+e.edges,0);return 0!==t?this.acc.div(t)._round():new r(0,0)}span(){return new r(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((t,e)=>t+ +(e[0]!==Number.MAX_VALUE),0)}}class Yl{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(t=>t.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Io,this.centroidVertexArray=new as,this.indexArray=new Vo,this.programConfigurations=new Ms(t.layers,t.zoom),this.segments=new Vs,this.stateDependentLayerIds=this.layers.filter(t=>t.isStateDependent()).map(t=>t.id),this.enableTerrain=t.enableTerrain}populate(t,e,i){this.features=[],this.hasPattern=Il("fill-extrusion",this.layers,e),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(t){const e=Math.exp(Math.PI*(1-t.y/(1<<t.z)*2));return 80150034*e/(e*e+1)/$s/(1<<t.z)}(i);for(const{feature:n,id:r,index:o,sourceLayerIndex:s}of t){const t=this.layers[0]._featureFilter.needGeometry,a=Hs(n,t);if(!this.layers[0]._featureFilter.filter(new so(this.zoom),a,i))continue;const l={id:r,sourceLayerIndex:s,index:o,geometry:t?a.geometry:qs(n),properties:n.properties,type:n.type,patterns:{}},c=this.layoutVertexArray.length;this.hasPattern?this.features.push(El("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,l.geometry,o,i,{}),e.featureIndex.insert(n,l.geometry,o,s,this.index,c)}this.sortBorders()}addFeatures(t,e,i){for(const n of this.features){const{geometry:t}=n;this.addFeature(n,t,n.index,e,i)}this.sortBorders()}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,jl),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}uploadCentroid(t){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,zl.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,e,i,n,r){const o=this.enableTerrain?new Xl:null;for(const a of kl(e,500)){let e=0,i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===a.length||(s=a[0]).every(t=>t.x<=0)||s.every(t=>t.x>=$s)||s.every(t=>t.y<=0)||s.every(t=>t.y>=$s))continue;for(let t=0;t<a.length;t++){const n=a[t];if(0===n.length)continue;e+=n.length;let r=0;o&&o.startRing(n[0]);for(let t=0;t<n.length;t++){const e=n[t];if(t>=1){const s=n[t-1];if(!Kl(e,s)){o&&o.append(e,s),i.vertexLength+4>Vs.MAX_VERTEX_ARRAY_LENGTH&&(i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const t=e.sub(s)._perp(),n=t.x/(Math.abs(t.x)+Math.abs(t.y)),a=t.y>0?1:0,l=s.dist(e);r+l>32768&&(r=0),Zl(this.layoutVertexArray,e.x,e.y,n,a,0,0,r),Zl(this.layoutVertexArray,e.x,e.y,n,a,0,1,r),r+=l,Zl(this.layoutVertexArray,s.x,s.y,n,a,0,0,r),Zl(this.layoutVertexArray,s.x,s.y,n,a,0,1,r);const c=i.vertexLength;this.indexArray.emplaceBack(c,c+2,c+1),this.indexArray.emplaceBack(c+1,c+2,c+3),i.vertexLength+=4,i.primitiveLength+=2}}}}if(i.vertexLength+e>Vs.MAX_VERTEX_ARRAY_LENGTH&&(i=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray)),"Polygon"!==Hl[t.type])continue;const n=[],r=[],l=i.vertexLength;for(let t=0;t<a.length;t++){const e=a[t];if(0!==e.length){e!==a[0]&&r.push(n.length/2);for(let t=0;t<e.length;t++){const i=e[t];Zl(this.layoutVertexArray,i.x,i.y,0,0,1,1,0),n.push(i.x),n.push(i.y),o&&o.currentPolyCount.top++}}}const c=Xa(n,r);for(let t=0;t<c.length;t+=3)this.indexArray.emplaceBack(l+c[t],l+c[t+2],l+c[t+1]);i.primitiveLength+=c.length/3,i.vertexLength+=e}var s;if(o&&o.polyCount.length>0){if(o.borders){o.vertexArrayOffset=this.centroidVertexArray.length;const t=o.borders,e=this.featuresOnBorder.push(o)-1;for(let i=0;i<4;i++)t[i][0]!==Number.MAX_VALUE&&this.borders[i].push(e)}this.encodeCentroid(o.borders?void 0:o.centroid(),o)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r,n)}sortBorders(){for(let t=0;t<4;t++)this.borders[t].sort((e,i)=>this.featuresOnBorder[e].borders[t][0]-this.featuresOnBorder[i].borders[t][0])}encodeCentroid(t,e,i=!0){let n,r;if(t)if(0!==t.y){const i=e.span()._mult(this.tileToMeter);n=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(i.x/10)),r=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(i.y/10))}else n=Math.ceil(7*(t.x+450)),r=0;else n=0,r=+i;let o=i?this.centroidVertexArray.length:e.vertexArrayOffset;for(const s of e.polyCount){i&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*s.edges+s.top);for(let t=0;t<2*s.edges;t++)this.centroidVertexArray.emplace(o++,0,r),this.centroidVertexArray.emplace(o++,n,r);for(let t=0;t<s.top;t++)this.centroidVertexArray.emplace(o++,n,r)}}}function Kl(t,e){return t.x===e.x&&(t.x<0||t.x>$s)||t.y===e.y&&(t.y<0||t.y>$s)}ar("FillExtrusionBucket",Yl,{omit:["layers","features"]}),ar("PartMetadata",Xl);var Jl={paint:new xo({"fill-extrusion-opacity":new go(Rt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yo(Rt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new go(Rt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new go(Rt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new vo(Rt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yo(Rt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yo(Rt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new go(Rt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Ql(t,e){return t.x*e.x+t.y*e.y}function tc(t,e){if(1===t.length){let i=0;const n=e[i++];let r;for(;!r||n.equals(r);)if(r=e[i++],!r)return 1/0;for(;i<e.length;i++){const o=e[i],s=t[0],a=r.sub(n),l=o.sub(n),c=s.sub(n),u=Ql(a,a),h=Ql(a,l),d=Ql(l,l),p=Ql(c,a),f=Ql(c,l),m=u*d-h*h,g=(d*p-h*f)/m,y=(u*f-h*p)/m,v=n.z*(1-g-y)+r.z*g+o.z*y;if(isFinite(v))return v}return 1/0}{let t=1/0;for(const i of e)t=Math.min(t,i.z);return t}}function ec(t){const e=new r(t[0],t[1]);return e.z=t[2],e}function ic(t,e,i,n,r,o,s,a){const l=s*r.getElevationAt(t,e,!0,!0),c=0!==o[0],u=c?0===o[1]?s*(o[0]/7-450):s*function(t,e,i){const n=Math.floor(e[0]/8),r=Math.floor(e[1]/8),o=10*(e[0]-8*n),s=10*(e[1]-8*r),a=t.getElevationAt(n,r,!0,!0),l=t.getMeterToDEM(i),c=Math.floor(.5*(o*l-1)),u=Math.floor(.5*(s*l-1)),h=t.tileCoordToPixel(n,r),d=2*c+1,p=2*u+1,f=function(t,e,i,n,r){return[t.getElevationAtPixel(e,i,!0),t.getElevationAtPixel(e+r,i,!0),t.getElevationAtPixel(e,i+r,!0),t.getElevationAtPixel(e+n,i+r,!0)]}(t,h.x-c,h.y-u,d,p),m=Math.abs(f[0]-f[1]),g=Math.abs(f[2]-f[3]),y=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),v=Math.min(.25,.5*l*(m+g)/d),_=Math.min(.25,.5*l*y/p);return a+Math.max(v*o,_*s)}(r,o,a):l;return{base:l+(0===i)?-1:i,top:c?Math.max(u+n,l+i+2):l+n}}const nc=Oo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:rc}=nc,oc=Oo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:sc}=oc,ac=ql.VectorTileFeature.types,lc=Math.cos(Math.PI/180*37.5);class cc{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(t=>t.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(t=>{this.gradients[t.id]={}}),this.layoutVertexArray=new Eo,this.layoutVertexArray2=new Mo,this.indexArray=new Vo,this.programConfigurations=new Ms(t.layers,t.zoom),this.segments=new Vs,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(t=>t.isStateDependent()).map(t=>t.id)}populate(t,e,i){this.hasPattern=Il("line",this.layers,e);const n=this.layers[0].layout.get("line-sort-key"),r=[];for(const{feature:l,id:c,index:u,sourceLayerIndex:h}of t){const t=this.layers[0]._featureFilter.needGeometry,e=Hs(l,t);if(!this.layers[0]._featureFilter.filter(new so(this.zoom),e,i))continue;const o=n?n.evaluate(e,{},i):void 0,s={id:c,properties:l.properties,type:l.type,sourceLayerIndex:h,index:u,geometry:t?e.geometry:qs(l),patterns:{},sortKey:o};r.push(s)}n&&r.sort((t,e)=>t.sortKey-e.sortKey);const{lineAtlas:o,featureIndex:s}=e,a=this.addConstantDashes(o);for(const l of r){const{geometry:n,index:r,sourceLayerIndex:c}=l;if(a&&this.addFeatureDashes(l,o),this.hasPattern){const t=El("line",this.layers,l,this.zoom,e);this.patternFeatures.push(t)}else this.addFeature(l,n,r,i,o.positions);s.insert(t[r].feature,n,r,c,this.index)}}addConstantDashes(t){let e=!1;for(const i of this.layers){const n=i.paint.get("line-dasharray").value,r=i.layout.get("line-cap").value;if("constant"!==n.kind||"constant"!==r.kind)e=!0;else{const e=r.value,i=n.value;if(!i)continue;t.addDash(i.from,e),t.addDash(i.to,e),i.other&&t.addDash(i.other,e)}}return e}addFeatureDashes(t,e){const i=this.zoom;for(const n of this.layers){const r=n.paint.get("line-dasharray").value,o=n.layout.get("line-cap").value;if("constant"===r.kind&&"constant"===o.kind)continue;let s,a,l,c,u,h;if("constant"===r.kind){const t=r.value;if(!t)continue;s=t.other||t.to,a=t.to,l=t.from}else s=r.evaluate({zoom:i-1},t),a=r.evaluate({zoom:i},t),l=r.evaluate({zoom:i+1},t);"constant"===o.kind?c=u=h=o.value:(c=o.evaluate({zoom:i-1},t),u=o.evaluate({zoom:i},t),h=o.evaluate({zoom:i+1},t)),e.addDash(s,c),e.addDash(a,u),e.addDash(l,h);const d=e.getKey(s,c),p=e.getKey(a,u),f=e.getKey(l,h);t.patterns[n.id]={min:d,mid:p,max:f}}}update(t,e,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,i)}addFeatures(t,e,i){for(const n of this.patternFeatures)this.addFeature(n,n.geometry,n.index,e,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,sc)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,rc),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,e,i,n,r){const o=this.layers[0].layout,s=o.get("line-join").evaluate(t,{}),a=o.get("line-cap").evaluate(t,{}),l=o.get("line-miter-limit"),c=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const u of e)this.addLine(u,t,s,a,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,i,r,n)}addLine(t,e,i,n,r,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let e=0;e<t.length-1;e++)this.totalDistance+=t[e].dist(t[e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const s="Polygon"===ac[e.type];let a=t.length;for(;a>=2&&t[a-1].equals(t[a-2]);)a--;let l=0;for(;l<a-1&&t[l].equals(t[l+1]);)l++;if(a<(s?3:2))return;"bevel"===i&&(r=1.05);const c=this.overscaling<=16?122880/(512*this.overscaling):0,u=this.segments.prepareSegment(10*a,this.layoutVertexArray,this.indexArray);let h,d,p,f,m;this.e1=this.e2=-1,s&&(h=t[a-2],m=t[l].sub(h)._unit()._perp());for(let g=l;g<a;g++){if(p=g===a-1?s?t[l+1]:void 0:t[g+1],p&&t[g].equals(p))continue;m&&(f=m),h&&(d=h),h=t[g],m=p?p.sub(h)._unit()._perp():f,f=f||m;let e=f.add(m);0===e.x&&0===e.y||e._unit();const y=f.x*m.x+f.y*m.y,v=e.x*m.x+e.y*m.y,_=0!==v?1/v:1/0,b=2*Math.sqrt(2-2*v),x=v<lc&&d&&p,w=f.x*m.y-f.y*m.x>0;if(x&&g>l){const t=h.dist(d);if(t>2*c){const e=h.sub(h.sub(d)._mult(c/t)._round());this.updateDistance(d,e),this.addCurrentVertex(e,f,0,0,u),d=e}}const S=d&&p;let T=S?i:s?"butt":n;if(S&&"round"===T&&(_<o?T="miter":_<=2&&(T="fakeround")),"miter"===T&&_>r&&(T="bevel"),"bevel"===T&&(_>2&&(T="flipbevel"),_<r&&(T="miter")),d&&this.updateDistance(d,h),"miter"===T)e._mult(_),this.addCurrentVertex(h,e,0,0,u);else if("flipbevel"===T){if(_>100)e=m.mult(-1);else{const t=_*f.add(m).mag()/f.sub(m).mag();e._perp()._mult(t*(w?-1:1))}this.addCurrentVertex(h,e,0,0,u),this.addCurrentVertex(h,e.mult(-1),0,0,u)}else if("bevel"===T||"fakeround"===T){const t=-Math.sqrt(_*_-1),e=w?t:0,i=w?0:t;if(d&&this.addCurrentVertex(h,f,e,i,u),"fakeround"===T){const t=Math.round(180*b/Math.PI/20);for(let e=1;e<t;e++){let i=e/t;if(.5!==i){const t=i-.5;i+=i*t*(i-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*t*t+(.848013+y*(.215638*y-1.06021)))}const n=m.sub(f)._mult(i)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(h,n.x,n.y,!1,w,0,u)}}p&&this.addCurrentVertex(h,m,-e,-i,u)}else if("butt"===T)this.addCurrentVertex(h,e,0,0,u);else if("square"===T){const t=d?1:-1;d||this.addCurrentVertex(h,e,t,t,u),this.addCurrentVertex(h,e,0,0,u),d&&this.addCurrentVertex(h,e,t,t,u)}else"round"===T&&(d&&(this.addCurrentVertex(h,f,0,0,u),this.addCurrentVertex(h,f,1,1,u,!0)),p&&(this.addCurrentVertex(h,m,-1,-1,u,!0),this.addCurrentVertex(h,m,0,0,u)));if(x&&g<a-1){const t=h.dist(p);if(t>2*c){const e=h.add(p.sub(h)._mult(c/t)._round());this.updateDistance(h,e),this.addCurrentVertex(e,m,0,0,u),h=e}}}}addCurrentVertex(t,e,i,n,r,o=!1){const s=e.y*n-e.x,a=-e.y-e.x*n;this.addHalfVertex(t,e.x+e.y*i,e.y-e.x*i,o,!1,i,r),this.addHalfVertex(t,s,a,o,!0,-n,r)}addHalfVertex({x:t,y:e},i,n,r,o,s,a){this.layoutVertexArray.emplaceBack((t<<1)+(r?1:0),(e<<1)+(o?1:0),Math.round(63*i)+128,Math.round(63*n)+128,1+(0===s?0:s<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length);const l=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),a.primitiveLength++),o?this.e2=l:this.e1=l}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(t,e){this.distance+=t.dist(e),this.updateScaledDistance()}}ar("LineBucket",cc,{omit:["layers","patternFeatures"]});const uc=new xo({"line-cap":new yo(Rt.layout_line["line-cap"]),"line-join":new yo(Rt.layout_line["line-join"]),"line-miter-limit":new go(Rt.layout_line["line-miter-limit"]),"line-round-limit":new go(Rt.layout_line["line-round-limit"]),"line-sort-key":new yo(Rt.layout_line["line-sort-key"])});var hc={paint:new xo({"line-opacity":new yo(Rt.paint_line["line-opacity"]),"line-color":new yo(Rt.paint_line["line-color"]),"line-translate":new go(Rt.paint_line["line-translate"]),"line-translate-anchor":new go(Rt.paint_line["line-translate-anchor"]),"line-width":new yo(Rt.paint_line["line-width"]),"line-gap-width":new yo(Rt.paint_line["line-gap-width"]),"line-offset":new yo(Rt.paint_line["line-offset"]),"line-blur":new yo(Rt.paint_line["line-blur"]),"line-dasharray":new vo(Rt.paint_line["line-dasharray"]),"line-pattern":new vo(Rt.paint_line["line-pattern"]),"line-gradient":new bo(Rt.paint_line["line-gradient"])}),layout:uc};const dc=new class extends yo{possiblyEvaluate(t,e){return e=new so(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,i,n){return e=_({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,i,n)}}(hc.paint.properties["line-width"].specification);function pc(t,e){return e>0?e+2*t:t}dc.useIntegerZoom=!0;const fc=Oo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),mc=Oo([{name:"a_projected_pos",components:3,type:"Float32"}],4);Oo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const gc=Oo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),yc=Oo([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Oo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const vc=Oo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_c=Oo([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Oo([{name:"triangle",components:3,type:"Uint16"}]),Oo([{type:"Float32",name:"anchorX"},{type:"Float32",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Oo([{type:"Float32",name:"anchorX"},{type:"Float32",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Oo([{type:"Float32",name:"offsetX"}]),Oo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var bc=24;const xc=128;function wc(t,e){const{expression:i}=e;if("constant"===i.kind)return{kind:"constant",layoutSize:i.evaluate(new so(t+1))};if("source"===i.kind)return{kind:"source"};{const{zoomStops:e,interpolationType:n}=i;let r=0;for(;r<e.length&&e[r]<=t;)r++;r=Math.max(0,r-1);let o=r;for(;o<e.length&&e[o]<t+1;)o++;o=Math.min(e.length-1,o);const s=e[r],a=e[o];return"composite"===i.kind?{kind:"composite",minZoom:s,maxZoom:a,interpolationType:n}:{kind:"camera",minZoom:s,maxZoom:a,minSize:i.evaluate(new so(s)),maxSize:i.evaluate(new so(a)),interpolationType:n}}}function Sc(t,{uSize:e,uSizeT:i},{lowerSize:n,upperSize:r}){return"source"===t.kind?n/xc:"composite"===t.kind?ii(n/xc,r/xc,i):e}function Tc(t,e){let i=0,n=0;if("constant"===t.kind)n=t.layoutSize;else if("source"!==t.kind){const{interpolationType:r,minZoom:o,maxZoom:s}=t,a=r?m(xi.interpolationFactor(r,e,o,s),0,1):0;"camera"===t.kind?n=ii(t.minSize,t.maxSize,a):i=a}return{uSizeT:i,uSize:n}}var Cc=Object.freeze({__proto__:null,getSizeData:wc,evaluateSizeForFeature:Sc,evaluateSizeForZoom:Tc,SIZE_PACK_FACTOR:xc});function Oc(t,e,i){return t.sections.forEach(t=>{t.text=function(t,e,i){const n=e.layout.get("text-transform").evaluate(i,{});return"uppercase"===n?t=t.toLocaleUpperCase():"lowercase"===n&&(t=t.toLocaleLowerCase()),oo.applyArabicShaping&&(t=oo.applyArabicShaping(t)),t}(t.text,e,i)}),t}const kc={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function Ac(t){return"︶"===t||"﹈"===t||"︸"===t||"﹄"===t||"﹂"===t||"︾"===t||"︼"===t||"︺"===t||"︘"===t||"﹀"===t||"︐"===t||"︓"===t||"︔"===t||"｀"===t||"￣"===t||"︑"===t||"︒"===t}function Ic(t){return"︵"===t||"﹇"===t||"︷"===t||"﹃"===t||"﹁"===t||"︽"===t||"︻"===t||"︹"===t||"︗"===t||"︿"===t}var Ec=function(t,e,i,n,r){var o,s,a=8*r-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=i?r-1:0,d=i?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+t[e+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},Mc=function(t,e,i,n,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*l-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[i+p]=255&a,p+=f,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;t[i+p]=255&s,p+=f,s/=256,c-=8);t[i+p-f]|=128*m},Dc=Pc;function Pc(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Pc.Varint=0,Pc.Fixed64=1,Pc.Bytes=2,Pc.Fixed32=5;var Lc=4294967296,zc=1/Lc,jc="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Bc(t){return t.type===Pc.Bytes?t.readVarint()+t.pos:t.pos+1}function Rc(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Fc(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var r=i.pos-1;r>=t;r--)i.buf[r+n]=i.buf[r]}function Nc(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function Vc(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function $c(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function Uc(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function Gc(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function qc(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function Hc(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function Wc(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function Zc(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function Xc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Yc(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function Kc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function Jc(t,e,i){e.glyphs=[],1===t&&i.readMessage(Qc,e)}function Qc(t,e,i){if(3===t){const{id:t,bitmap:n,width:r,height:o,left:s,top:a,advance:l}=i.readMessage(tu,{});e.glyphs.push({id:t,bitmap:new $a({width:r+6,height:o+6},n),metrics:{width:r,height:o,left:s,top:a,advance:l}})}else 4===t?e.ascender=i.readSVarint():5===t&&(e.descender=i.readSVarint())}function tu(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}function eu(t){let e=0,i=0;for(const s of t)e+=s.w*s.h,i=Math.max(i,s.w);t.sort((t,e)=>e.h-t.h);const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),i),h:1/0}];let r=0,o=0;for(const s of t)for(let t=n.length-1;t>=0;t--){const e=n[t];if(!(s.w>e.w||s.h>e.h)){if(s.x=e.x,s.y=e.y,o=Math.max(o,s.y+s.h),r=Math.max(r,s.x+s.w),s.w===e.w&&s.h===e.h){const e=n.pop();t<n.length&&(n[t]=e)}else s.h===e.h?(e.x+=s.w,e.w-=s.w):s.w===e.w?(e.y+=s.h,e.h-=s.h):(n.push({x:e.x+s.w,y:e.y,w:e.w-s.w,h:s.h}),e.y+=s.h,e.h-=s.h);break}}return{w:r,h:o,fill:e/(r*o)||0}}Pc.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),r=n>>3,o=this.pos;this.type=7&n,t(r,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Xc(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Kc(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Xc(this.buf,this.pos)+Xc(this.buf,this.pos+4)*Lc;return this.pos+=8,t},readSFixed64:function(){var t=Xc(this.buf,this.pos)+Kc(this.buf,this.pos+4)*Lc;return this.pos+=8,t},readFloat:function(){var t=Ec(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Ec(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return e=127&(i=n[this.pos++]),i<128?e:(e|=(127&(i=n[this.pos++]))<<7,i<128?e:(e|=(127&(i=n[this.pos++]))<<14,i<128?e:(e|=(127&(i=n[this.pos++]))<<21,i<128?e:function(t,e,i){var n,r,o=i.buf;if(n=(112&(r=o[i.pos++]))>>4,r<128)return Rc(t,n,e);if(n|=(127&(r=o[i.pos++]))<<3,r<128)return Rc(t,n,e);if(n|=(127&(r=o[i.pos++]))<<10,r<128)return Rc(t,n,e);if(n|=(127&(r=o[i.pos++]))<<17,r<128)return Rc(t,n,e);if(n|=(127&(r=o[i.pos++]))<<24,r<128)return Rc(t,n,e);if(n|=(1&(r=o[i.pos++]))<<31,r<128)return Rc(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&jc?function(t,e,i){return jc.decode(t.subarray(e,i))}(this.buf,e,t):function(t,e,i){for(var n="",r=e;r<i;){var o,s,a,l=t[r],c=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u>i)break;1===u?l<128&&(c=l):2===u?128==(192&(o=t[r+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(s=t[r+2],128==(192&(o=t[r+1]))&&128==(192&s)&&((c=(15&l)<<12|(63&o)<<6|63&s)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(s=t[r+2],a=t[r+3],128==(192&(o=t[r+1]))&&128==(192&s)&&128==(192&a)&&((c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),r+=u}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Pc.Bytes)return t.push(this.readVarint(e));var i=Bc(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Pc.Bytes)return t.push(this.readSVarint());var e=Bc(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Pc.Bytes)return t.push(this.readBoolean());var e=Bc(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Pc.Bytes)return t.push(this.readFloat());var e=Bc(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Pc.Bytes)return t.push(this.readDouble());var e=Bc(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Pc.Bytes)return t.push(this.readFixed32());var e=Bc(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Pc.Bytes)return t.push(this.readSFixed32());var e=Bc(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Pc.Bytes)return t.push(this.readFixed64());var e=Bc(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Pc.Bytes)return t.push(this.readSFixed64());var e=Bc(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Pc.Varint)for(;this.buf[this.pos++]>127;);else if(e===Pc.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Pc.Fixed32)this.pos+=4;else{if(e!==Pc.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Yc(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Yc(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Yc(this.buf,-1&t,this.pos),Yc(this.buf,Math.floor(t*zc),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Yc(this.buf,-1&t,this.pos),Yc(this.buf,Math.floor(t*zc),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var i,n;if(t>=0?(i=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:(i=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,i.buf[i.pos]=127&(t>>>=7)}(i,0,e),function(t,e){var i=(7&t)<<4;e.buf[e.pos++]|=i|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var n,r,o=0;o<e.length;o++){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){n>56319||o+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):r=n;continue}if(n<56320){t[i++]=239,t[i++]=191,t[i++]=189,r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&(t[i++]=239,t[i++]=191,t[i++]=189,r=null);n<128?t[i++]=n:(n<2048?t[i++]=n>>6|192:(n<65536?t[i++]=n>>12|224:(t[i++]=n>>18|240,t[i++]=n>>12&63|128),t[i++]=n>>6&63|128),t[i++]=63&n|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&Fc(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),Mc(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Mc(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&Fc(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,Pc.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Nc,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Vc,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Gc,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,$c,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Uc,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,qc,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Hc,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Wc,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Zc,e)},writeBytesField:function(t,e){this.writeTag(t,Pc.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Pc.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Pc.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Pc.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Pc.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Pc.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Pc.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Pc.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Pc.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Pc.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};class iu{constructor(t,{pixelRatio:e,version:i,stretchX:n,stretchY:r,content:o}){this.paddedRect=t,this.pixelRatio=e,this.stretchX=n,this.stretchY=r,this.content=o,this.version=i}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class nu{constructor(t,e){const i={},n={};this.haveRenderCallbacks=[];const r=[];this.addImages(t,i,r),this.addImages(e,n,r);const{w:o,h:s}=eu(r),a=new Ua({width:o||1,height:s||1});for(const l in t){const e=t[l],n=i[l].paddedRect;Ua.copy(e.data,a,{x:0,y:0},{x:n.x+1,y:n.y+1},e.data)}for(const l in e){const t=e[l],i=n[l].paddedRect,r=i.x+1,o=i.y+1,s=t.data.width,c=t.data.height;Ua.copy(t.data,a,{x:0,y:0},{x:r,y:o},t.data),Ua.copy(t.data,a,{x:0,y:c-1},{x:r,y:o-1},{width:s,height:1}),Ua.copy(t.data,a,{x:0,y:0},{x:r,y:o+c},{width:s,height:1}),Ua.copy(t.data,a,{x:s-1,y:0},{x:r-1,y:o},{width:1,height:c}),Ua.copy(t.data,a,{x:0,y:0},{x:r+s,y:o},{width:1,height:c})}this.image=a,this.iconPositions=i,this.patternPositions=n}addImages(t,e,i){for(const n in t){const r=t[n],o={x:0,y:0,w:r.data.width+2,h:r.data.height+2};i.push(o),e[n]=new iu(o,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}patchUpdatedImages(t,e){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const i in t.updatedImages)this.patchUpdatedImage(this.iconPositions[i],t.getImage(i),e),this.patchUpdatedImage(this.patternPositions[i],t.getImage(i),e)}patchUpdatedImage(t,e,i){if(!t||!e)return;if(t.version===e.version)return;t.version=e.version;const[n,r]=t.tl;i.update(e.data,void 0,{x:n,y:r})}}ar("ImagePosition",iu),ar("ImageAtlas",nu);const ru={horizontal:1,vertical:2,horizontalOnly:3};class ou{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,e){const i=new ou;return i.scale=t||1,i.fontStack=e,i}static forImage(t){const e=new ou;return e.imageName=t,e}}class su{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,e){const i=new su;for(let n=0;n<t.sections.length;n++){const r=t.sections[n];r.image?i.addImageSection(r):i.addTextSection(r,e)}return i}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(t){this.text=function(t,e){let i="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n+1)||null,o=t.charCodeAt(n-1)||null;i+=!e&&(r&&Gr(r)&&!kc[t[n+1]]||o&&Gr(o)&&!kc[t[n-1]])||!kc[t[n]]?t[n]:kc[t[n]]}return i}(this.text,t)}trim(){let t=0;for(let i=0;i<this.text.length&&lu[this.text.charCodeAt(i)];i++)t++;let e=this.text.length;for(let i=this.text.length-1;i>=0&&i>=t&&lu[this.text.charCodeAt(i)];i--)e--;this.text=this.text.substring(t,e),this.sectionIndex=this.sectionIndex.slice(t,e)}substring(t,e){const i=new su;return i.text=this.text.substring(t,e),i.sectionIndex=this.sectionIndex.slice(t,e),i.sections=this.sections,i}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,e)=>Math.max(t,this.sections[e].scale),0)}addTextSection(t,e){this.text+=t.text,this.sections.push(ou.forText(t.scale,t.fontStack||e));const i=this.sections.length-1;for(let n=0;n<t.text.length;++n)this.sectionIndex.push(i)}addImageSection(t){const e=t.image?t.image.name:"";if(0===e.length)return void M("Can't add FormattedSection with an empty image.");const i=this.getNextImageSectionCharCode();i?(this.text+=String.fromCharCode(i),this.sections.push(ou.forImage(e)),this.sectionIndex.push(this.sections.length-1)):M("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function au(t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m){const g=su.fromFeature(t,r);let y;h===ru.vertical&&g.verticalizePunctuation(d);const{processBidirectionalText:v,processStyledBidirectionalText:_}=oo;if(v&&1===g.sections.length){y=[];const t=v(g.toString(),mu(g,c,o,e,n,p,f));for(const e of t){const t=new su;t.text=e,t.sections=g.sections;for(let i=0;i<e.length;i++)t.sectionIndex.push(0);y.push(t)}}else if(_){y=[];const t=_(g.text,g.sectionIndex,mu(g,c,o,e,n,p,f));for(const e of t){const t=new su;t.text=e[0],t.sectionIndex=e[1],t.sections=g.sections,y.push(t)}}else y=function(t,e){const i=[],n=t.text;let r=0;for(const o of e)i.push(t.substring(r,o)),r=o;return r<n.length&&i.push(t.substring(r,n.length)),i}(g,mu(g,c,o,e,n,p,f));const b=[],x={positionedLines:b,text:g.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(t,e,i,n,r,o,s,a,l,c,u,h){let d=0,p=0,f=0;const m="right"===a?1:"left"===a?0:.5;let g=!1;for(const w of r){const t=w.getSections();for(const i of t){if(i.imageName)continue;const t=e[i.fontStack];if(t&&(g=void 0!==t.ascender&&void 0!==t.descender,!g))break}if(!g)break}let y=0;for(const w of r){w.trim();const r=w.getMaxScale(),s=(r-1)*bc,a={positionedGlyphs:[],lineOffset:0};t.positionedLines[y]=a;const _=a.positionedGlyphs;let b=0;if(!w.length()){p+=o,++y;continue}let x=0,S=0;for(let o=0;o<w.length();o++){const s=w.getSection(o),a=w.getSectionIndex(o),f=w.getCharCode(o);let m=s.scale,y=null,T=null,C=null,O=bc,k=0;const A=!(l===ru.horizontal||!u&&!Ur(f)||u&&(lu[f]||(v=f,pr(v)||fr(v)||mr(v)||Lr(v)||Rr(v))));if(s.imageName){const e=n[s.imageName];if(!e)continue;C=s.imageName,t.iconsInText=t.iconsInText||!0,T=e.paddedRect;const i=e.displaySize;m=m*bc/h,y={width:i[0],height:i[1],left:1,top:-3,advance:A?i[1]:i[0],localGlyph:!1},k=g?-y.height*m:r*bc-17-i[1]*m,O=y.advance;const o=(A?i[0]:i[1])*m-bc*r;o>0&&o>b&&(b=o)}else{const t=i[s.fontStack];if(!t)continue;t[f]&&(T=t[f]);const n=e[s.fontStack];if(!n)continue;const o=n.glyphs[f];if(!o)continue;if(y=o.metrics,O=8203!==f?bc:0,g){const t=void 0!==n.ascender?Math.abs(n.ascender):0,e=void 0!==n.descender?Math.abs(n.descender):0,i=(t+e)*m;x<i&&(x=i,S=(t-e)/2*m),k=-t*m}else k=(r-m)*bc-17}A?(t.verticalizable=!0,_.push({glyph:f,imageName:C,x:d,y:p+k,vertical:A,scale:m,localGlyph:y.localGlyph,fontStack:s.fontStack,sectionIndex:a,metrics:y,rect:T}),d+=O*m+c):(_.push({glyph:f,imageName:C,x:d,y:p+k,vertical:A,scale:m,localGlyph:y.localGlyph,fontStack:s.fontStack,sectionIndex:a,metrics:y,rect:T}),d+=y.advance*m+c)}0!==_.length&&(f=Math.max(d-c,f),g?yu(_,m,b,S,o*r/2):yu(_,m,b,0,o/2)),d=0;const T=o*r+b;a.lineOffset=Math.max(b,s),p+=T,++y}var v;const _=p,{horizontalAlign:b,verticalAlign:x}=gu(s);(function(t,e,i,n,r,o){const s=(e-i)*r,a=-o*n;for(const l of t)for(const t of l.positionedGlyphs)t.x+=s,t.y+=a})(t.positionedLines,m,b,x,f,_),t.top+=-x*_,t.bottom=t.top+_,t.left+=-b*f,t.right=t.left+f,t.hasBaseline=g}(x,e,i,n,y,s,a,l,h,c,d,m),!function(t){for(const e of t)if(0!==e.positionedGlyphs.length)return!1;return!0}(b)&&x}const lu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},cu={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function uu(t,e,i,n,r,o){if(e.imageName){const t=n[e.imageName];return t?t.displaySize[0]*e.scale*bc/o+r:0}{const n=i[e.fontStack],o=n&&n.glyphs[t];return o?o.metrics.advance*e.scale+r:0}}function hu(t,e,i,n){const r=Math.pow(t-e,2);return n?t<e?r/2:2*r:r+Math.abs(i)*i}function du(t,e,i){let n=0;return 10===t&&(n-=1e4),i&&(n+=150),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function pu(t,e,i,n,r,o){let s=null,a=hu(e,i,r,o);for(const l of n){const t=hu(e-l.x,i,r,o)+l.badness;t<=a&&(s=l,a=t)}return{index:t,x:e,priorBreak:s,badness:a}}function fu(t){return t?fu(t.priorBreak).concat(t.index):[]}function mu(t,e,i,n,r,o,s){if("point"!==o)return[];if(!t)return[];const a=[],l=function(t,e,i,n,r,o){let s=0;for(let a=0;a<t.length();a++){const i=t.getSection(a);s+=uu(t.getCharCode(a),i,n,r,e,o)}return s/Math.max(1,Math.ceil(s/i))}(t,e,i,n,r,s),c=t.text.indexOf("​")>=0;let u=0;for(let d=0;d<t.length();d++){const i=t.getSection(d),o=t.getCharCode(d);if(lu[o]||(u+=uu(o,i,n,r,e,s)),d<t.length()-1){const e=!((h=o)<11904||!(Sr(h)||wr(h)||jr(h)||Pr(h)||kr(h)||gr(h)||Tr(h)||_r(h)||Ar(h)||Ir(h)||Or(h)||Fr(h)||br(h)||vr(h)||yr(h)||Cr(h)||xr(h)||zr(h)||Mr(h)||Er(h)));(cu[o]||e||i.imageName)&&a.push(pu(d+1,u,l,a,du(o,t.getCharCode(d+1),e&&c),!1))}}var h;return fu(pu(t.length(),u,l,a,0,!0))}function gu(t){let e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function yu(t,e,i,n,r){if(!(e||i||n||r))return;const o=t.length-1,s=t[o],a=(s.x+s.metrics.advance*s.scale)*e;for(let l=0;l<=o;l++)t[l].x-=a,t[l].y+=i+n+r}function vu(t,e,i){const{horizontalAlign:n,verticalAlign:r}=gu(i),o=e[0]-t.displaySize[0]*n,s=e[1]-t.displaySize[1]*r;return{image:t,top:s,bottom:s+t.displaySize[1],left:o,right:o+t.displaySize[0]}}function _u(t,e,i,n,r,o){const s=t.image;let a;if(s.content){const t=s.content,e=s.pixelRatio||1;a=[t[0]/e,t[1]/e,s.displaySize[0]-t[2]/e,s.displaySize[1]-t[3]/e]}const l=e.left*o,c=e.right*o;let u,h,d,p;"width"===i||"both"===i?(p=r[0]+l-n[3],h=r[0]+c+n[1]):(p=r[0]+(l+c-s.displaySize[0])/2,h=p+s.displaySize[0]);const f=e.top*o,m=e.bottom*o;return"height"===i||"both"===i?(u=r[1]+f-n[0],d=r[1]+m+n[2]):(u=r[1]+(f+m-s.displaySize[1])/2,d=u+s.displaySize[1]),{image:s,top:u,right:h,bottom:d,left:p,collisionPadding:a}}class bu extends r{constructor(t,e,i,n){super(t,e),this.angle=i,void 0!==n&&(this.segment=n)}clone(){return new bu(this.x,this.y,this.angle,this.segment)}}function xu(t,e,i,n,r){if(void 0===e.segment)return!0;let o=e,s=e.segment+1,a=0;for(;a>-i/2;){if(s--,s<0)return!1;a-=t[s].dist(o),o=t[s]}a+=t[s].dist(t[s+1]),s++;const l=[];let c=0;for(;a<i/2;){const e=t[s],i=t[s+1];if(!i)return!1;let o=t[s-1].angleTo(e)-e.angleTo(i);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:a,angleDelta:o}),c+=o;a-l[0].distance>n;)c-=l.shift().angleDelta;if(c>r)return!1;s++,a+=e.dist(i)}return!0}function wu(t){let e=0;for(let i=0;i<t.length-1;i++)e+=t[i].dist(t[i+1]);return e}function Su(t,e,i){return t?.6*e*i:0}function Tu(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Cu(t,e,i,n,r,o){const s=Su(i,r,o),a=Tu(i,n)*o;let l=0;const c=wu(t)/2;for(let u=0;u<t.length-1;u++){const i=t[u],n=t[u+1],r=i.dist(n);if(l+r>c){const o=(c-l)/r,h=ii(i.x,n.x,o),d=ii(i.y,n.y,o),p=new bu(h,d,n.angleTo(i),u);return!s||xu(t,p,a,s,e)?p:void 0}l+=r}}function Ou(t,e,i,n,r,o,s,a,l){const c=Su(n,o,s),u=Tu(n,r),h=u*s,d=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-h<e/4&&(e=h+e/4),ku(t,d?e/2*a%e:(u/2+2*o)*s*a%e,e,c,i,h,d,!1,l)}function ku(t,e,i,n,r,o,s,a,l){const c=o/2,u=wu(t);let h=0,d=e-i,p=[];for(let f=0;f<t.length-1;f++){const e=t[f],s=t[f+1],a=e.dist(s),m=s.angleTo(e);for(;d+i<h+a;){d+=i;const g=(d-h)/a,y=ii(e.x,s.x,g),v=ii(e.y,s.y,g);if(y>=0&&y<l&&v>=0&&v<l&&d-c>=0&&d+c<=u){const e=new bu(y,v,m,f);e._round(),n&&!xu(t,e,o,n,r)||p.push(e)}}h+=a}return a||p.length||s||(p=ku(t,h/2,i,n,r,o,s,!0,l)),p}function Au(t,e,i,n,o){const s=[];for(let a=0;a<t.length;a++){const l=t[a];let c;for(let t=0;t<l.length-1;t++){let a=l[t],u=l[t+1];a.x<e&&u.x<e||(a.x<e?a=new r(e,a.y+(e-a.x)/(u.x-a.x)*(u.y-a.y))._round():u.x<e&&(u=new r(e,a.y+(e-a.x)/(u.x-a.x)*(u.y-a.y))._round()),a.y<i&&u.y<i||(a.y<i?a=new r(a.x+(i-a.y)/(u.y-a.y)*(u.x-a.x),i)._round():u.y<i&&(u=new r(a.x+(i-a.y)/(u.y-a.y)*(u.x-a.x),i)._round()),a.x>=n&&u.x>=n||(a.x>=n?a=new r(n,a.y+(n-a.x)/(u.x-a.x)*(u.y-a.y))._round():u.x>=n&&(u=new r(n,a.y+(n-a.x)/(u.x-a.x)*(u.y-a.y))._round()),a.y>=o&&u.y>=o||(a.y>=o?a=new r(a.x+(o-a.y)/(u.y-a.y)*(u.x-a.x),o)._round():u.y>=o&&(u=new r(a.x+(o-a.y)/(u.y-a.y)*(u.x-a.x),o)._round()),c&&a.equals(c[c.length-1])||(c=[a],s.push(c)),c.push(u)))))}}return s}ar("Anchor",bu);var Iu=Du,Eu=Du,Mu=1e20;function Du(t,e,i,n,r,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=r||"sans-serif",this.fontWeight=o||"normal",this.radius=i||8;var s=this.size=this.fontSize+2*this.buffer,a=s+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=s,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Uint16Array(a),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(s/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Pu(t,e,i,n,r,o){for(var s=0;s<e;s++)Lu(t,s,e,i,n,r,o);for(var a=0;a<i;a++)Lu(t,a*e,1,e,n,r,o)}function Lu(t,e,i,n,r,o,s){var a,l,c,u;for(o[0]=0,s[0]=-Mu,s[1]=Mu,a=0;a<n;a++)r[a]=t[e+a*i];for(a=1,l=0,c=0;a<n;a++){do{c=(r[a]-r[u=o[l]]+a*a-u*u)/(a-u)/2}while(c<=s[l]&&--l>-1);o[++l]=a,s[l]=c,s[l+1]=Mu}for(a=0,l=0;a<n;a++){for(;s[l+1]<a;)l++;t[e+a*i]=r[u=o[l]]+(a-u)*(a-u)}}Du.prototype._draw=function(t,e){var i,n,r,o,s,a,l,c,u,h=this.ctx.measureText(t),d=h.width,p=2*this.buffer;e&&this.useMetrics?(s=Math.floor(h.actualBoundingBoxAscent),c=this.buffer+Math.ceil(h.actualBoundingBoxAscent),a=this.buffer,l=this.buffer,i=(n=Math.min(this.size,Math.ceil(h.actualBoundingBoxRight-h.actualBoundingBoxLeft)))+p,r=(o=Math.min(this.size-a,Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent)))+p,this.ctx.textBaseline="alphabetic"):(i=n=this.size,r=o=this.size,s=19*this.fontSize/24,a=l=0,c=this.middle,this.ctx.textBaseline="middle"),n&&o&&(this.ctx.clearRect(l,a,n,o),this.ctx.fillText(t,this.buffer,c),u=this.ctx.getImageData(l,a,n,o));var f=new Uint8ClampedArray(i*r);return function(t,e,i,n,r,o,s){o.fill(Mu,0,e*i),s.fill(0,0,e*i);for(var a=(e-n)/2,l=0;l<r;l++)for(var c=0;c<n;c++){var u=(l+a)*e+c+a,h=t.data[4*(l*n+c)+3]/255;if(1===h)o[u]=0,s[u]=Mu;else if(0===h)o[u]=Mu,s[u]=0;else{var d=Math.max(0,.5-h),p=Math.max(0,h-.5);o[u]=d*d,s[u]=p*p}}}(u,i,r,n,o,this.gridOuter,this.gridInner),Pu(this.gridOuter,i,r,this.f,this.v,this.z),Pu(this.gridInner,i,r,this.f,this.v,this.z),function(t,e,i,n,r,o,s){for(var a=0;a<e*i;a++){var l=Math.sqrt(n[a])-Math.sqrt(r[a]);t[a]=Math.round(255-255*(l/o+s))}}(f,i,r,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:f,metrics:{width:n,height:o,sdfWidth:i,sdfHeight:r,top:s,left:0,advance:d}}},Du.prototype.draw=function(t){return this._draw(t,!1).data},Du.prototype.drawWithMetrics=function(t){return this._draw(t,!0)},Iu.default=Eu;const zu={none:0,ideographs:1,all:2};class ju{constructor(t,e,i){this.requestManager=t,this.localGlyphMode=e,this.localFontFamily=i,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(t){this.url=t}getGlyphs(t,e){const i=[];for(const n in t)for(const e of t[n])i.push({stack:n,id:e});y(i,({stack:t,id:e},i)=>{let n=this.entries[t];n||(n=this.entries[t]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let r=n.glyphs[e];if(void 0!==r)return void i(null,{stack:t,id:e,glyph:r});if(r=this._tinySDF(n,t,e),r)return n.glyphs[e]=r,void i(null,{stack:t,id:e,glyph:r});const o=Math.floor(e/256);if(256*o>65535)return void i(new Error("glyphs > 65535 not supported"));if(n.ranges[o])return void i(null,{stack:t,id:e,glyph:r});let s=n.requests[o];s||(s=n.requests[o]=[],ju.loadGlyphRange(t,o,this.url,this.requestManager,(t,e)=>{if(e){n.ascender=e.ascender,n.descender=e.descender;for(const t in e.glyphs)this._doesCharSupportLocalGlyph(+t)||(n.glyphs[+t]=e.glyphs[+t]);n.ranges[o]=!0}for(const i of s)i(t,e);delete n.requests[o]})),s.push((n,r)=>{n?i(n):r&&i(null,{stack:t,id:e,glyph:r.glyphs[e]||null})})},(t,i)=>{if(t)e(t);else if(i){const t={};for(const{stack:e,id:n,glyph:r}of i)void 0===t[e]&&(t[e]={}),void 0===t[e].glyphs&&(t[e].glyphs={}),t[e].glyphs[n]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics},t[e].ascender=this.entries[e].ascender,t[e].descender=this.entries[e].descender;e(null,t)}})}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==zu.none&&(this.localGlyphMode===zu.all?!!this.localFontFamily:!!this.localFontFamily&&(Ir(t)||Dr(t)||br(t)||xr(t))||_r(t))}_tinySDF(t,e,i){const n=this.localFontFamily;if(!n)return;if(!this._doesCharSupportLocalGlyph(i))return;let r=t.tinySDF;if(!r){let i="400";/bold/i.test(e)?i="900":/medium/i.test(e)?i="500":/light/i.test(e)&&(i="200"),r=t.tinySDF=new ju.TinySDF(48,6,16,.25,n,i)}if(this.localGlyphs[r.fontWeight][i])return this.localGlyphs[r.fontWeight][i];const{data:o,metrics:s}=r.drawWithMetrics(String.fromCharCode(i)),{sdfWidth:a,sdfHeight:l,width:c,height:u,left:h,top:d,advance:p}=s;return this.localGlyphs[r.fontWeight][i]={id:i,bitmap:new $a({width:a,height:l},o),metrics:{width:c/2,height:u/2,left:h/2,top:d/2-27,advance:p/2,localGlyph:!0}}}}function Bu(t,e,i,n){const o=[],s=t.image,a=s.pixelRatio,l=s.paddedRect.w-2,c=s.paddedRect.h-2,u=t.right-t.left,h=t.bottom-t.top,d=s.stretchX||[[0,l]],p=s.stretchY||[[0,c]],f=(t,e)=>t+e[1]-e[0],m=d.reduce(f,0),g=p.reduce(f,0),y=l-m,v=c-g;let _=0,b=m,x=0,w=g,S=0,T=y,C=0,O=v;if(s.content&&n){const t=s.content;_=Ru(d,0,t[0]),x=Ru(p,0,t[1]),b=Ru(d,t[0],t[2]),w=Ru(p,t[1],t[3]),S=t[0]-_,C=t[1]-x,T=t[2]-t[0]-b,O=t[3]-t[1]-w}const k=(n,o,l,c)=>{const d=Nu(n.stretch-_,b,u,t.left),p=Vu(n.fixed-S,T,n.stretch,m),f=Nu(o.stretch-x,w,h,t.top),y=Vu(o.fixed-C,O,o.stretch,g),v=Nu(l.stretch-_,b,u,t.left),k=Vu(l.fixed-S,T,l.stretch,m),A=Nu(c.stretch-x,w,h,t.top),I=Vu(c.fixed-C,O,c.stretch,g),E=new r(d,f),M=new r(v,f),D=new r(v,A),P=new r(d,A),L=new r(p/a,y/a),z=new r(k/a,I/a),j=e*Math.PI/180;if(j){const t=Math.sin(j),e=Math.cos(j),i=[e,-t,t,e];E._matMult(i),M._matMult(i),P._matMult(i),D._matMult(i)}const B=n.stretch+n.fixed,R=o.stretch+o.fixed;return{tl:E,tr:M,bl:P,br:D,tex:{x:s.paddedRect.x+1+B,y:s.paddedRect.y+1+R,w:l.stretch+l.fixed-B,h:c.stretch+c.fixed-R},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:z,minFontScaleX:T/a/u,minFontScaleY:O/a/h,isSDF:i}};if(n&&(s.stretchX||s.stretchY)){const t=Fu(d,y,m),e=Fu(p,v,g);for(let i=0;i<t.length-1;i++){const n=t[i],r=t[i+1];for(let t=0;t<e.length-1;t++)o.push(k(n,e[t],r,e[t+1]))}}else o.push(k({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:c+1}));return o}function Ru(t,e,i){let n=0;for(const r of t)n+=Math.max(e,Math.min(i,r[1]))-Math.max(e,Math.min(i,r[0]));return n}function Fu(t,e,i){const n=[{fixed:-1,stretch:0}];for(const[r,o]of t){const t=n[n.length-1];n.push({fixed:r-t.stretch,stretch:t.stretch}),n.push({fixed:r-t.stretch,stretch:t.stretch+(o-r)})}return n.push({fixed:e+1,stretch:i}),n}function Nu(t,e,i,n){return t/e*i+n}function Vu(t,e,i,n){return t-e*i/n}function $u(t,e,i,n){const r=e+t.positionedLines[n].lineOffset;return 0===n?i+r/2:i+(r+(e+t.positionedLines[n-1].lineOffset))/2}ju.loadGlyphRange=function(t,e,i,n,r){const o=256*e,s=o+255,a=n.transformRequest(n.normalizeGlyphsURL(i).replace("{fontstack}",t).replace("{range}",`${o}-${s}`),xt.Glyphs);Ct(a,(t,e)=>{if(t)r(t);else if(e){const t={},i=function(t){return new Dc(t).readFields(Jc,{})}(e);for(const e of i.glyphs)t[e.id]=e;r(null,{glyphs:t,ascender:i.ascender,descender:i.descender})}})},ju.TinySDF=Iu;class Uu{constructor(t=[],e=Gu){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:i}=this,n=e[t];for(;t>0;){const r=t-1>>1,o=e[r];if(i(n,o)>=0)break;e[t]=o,t=r}e[t]=n}_down(t){const{data:e,compare:i}=this,n=this.length>>1,r=e[t];for(;t<n;){let n=1+(t<<1),o=e[n];const s=n+1;if(s<this.length&&i(e[s],o)<0&&(n=s,o=e[s]),i(o,r)>=0)break;e[t]=o,t=n}e[t]=r}}function Gu(t,e){return t<e?-1:t>e?1:0}function qu(t,e=1,i=!1){let n=1/0,o=1/0,s=-1/0,a=-1/0;const l=t[0];for(let r=0;r<l.length;r++){const t=l[r];(!r||t.x<n)&&(n=t.x),(!r||t.y<o)&&(o=t.y),(!r||t.x>s)&&(s=t.x),(!r||t.y>a)&&(a=t.y)}const c=Math.min(s-n,a-o);let u=c/2;const h=new Uu([],Hu);if(0===c)return new r(n,o);for(let r=n;r<s;r+=c)for(let e=o;e<a;e+=c)h.push(new Wu(r+u,e+u,u,t));let d=function(t){let e=0,i=0,n=0;const r=t[0];for(let o=0,s=r.length,a=s-1;o<s;a=o++){const t=r[o],s=r[a],l=t.x*s.y-s.x*t.y;i+=(t.x+s.x)*l,n+=(t.y+s.y)*l,e+=3*l}return new Wu(i/e,n/e,0,t)}(t),p=h.length;for(;h.length;){const n=h.pop();(n.d>d.d||!d.d)&&(d=n,i&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,p)),n.max-d.d<=e||(u=n.h/2,h.push(new Wu(n.p.x-u,n.p.y-u,u,t)),h.push(new Wu(n.p.x+u,n.p.y-u,u,t)),h.push(new Wu(n.p.x-u,n.p.y+u,u,t)),h.push(new Wu(n.p.x+u,n.p.y+u,u,t)),p+=4)}return i&&(console.log("num probes: "+p),console.log("best distance: "+d.d)),d.p}function Hu(t,e){return e.max-t.max}function Wu(t,e,i,n){this.p=new r(t,e),this.h=i,this.d=function(t,e){let i=!1,n=1/0;for(let r=0;r<e.length;r++){const o=e[r];for(let e=0,r=o.length,s=r-1;e<r;s=e++){const r=o[e],a=o[s];r.y>t.y!=a.y>t.y&&t.x<(a.x-r.x)*(t.y-r.y)/(a.y-r.y)+r.x&&(i=!i),n=Math.min(n,ia(t,r,a))}}return(i?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}const Zu=Number.POSITIVE_INFINITY,Xu=Math.sqrt(2);function Yu(t,e){return e[1]!==Zu?function(t,e,i){let n=0,r=0;switch(e=Math.abs(e),i=Math.abs(i),t){case"top-right":case"top-left":case"top":r=i-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-i}switch(t){case"top-right":case"bottom-right":case"right":n=-e;break;case"top-left":case"bottom-left":case"left":n=e}return[n,r]}(t,e[0],e[1]):function(t,e){let i=0,n=0;e<0&&(e=0);const r=e/Xu;switch(t){case"top-right":case"top-left":n=r-7;break;case"bottom-right":case"bottom-left":n=7-r;break;case"bottom":n=7-e;break;case"top":n=e-7}switch(t){case"top-right":case"bottom-right":i=-r;break;case"top-left":case"bottom-left":i=r;break;case"left":i=e;break;case"right":i=-e}return[i,n]}(t,e[0])}function Ku(t,e,i,n,r,o,s,a){t.createArrays(),t.tilePixelRatio=$s/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;const l=t.layers[0].layout,c=t.layers[0]._unevaluatedLayout._values,u={};if("composite"===t.textSizeData.kind){const{minZoom:e,maxZoom:i}=t.textSizeData;u.compositeTextSizes=[c["text-size"].possiblyEvaluate(new so(e),s),c["text-size"].possiblyEvaluate(new so(i),s)]}if("composite"===t.iconSizeData.kind){const{minZoom:e,maxZoom:i}=t.iconSizeData;u.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new so(e),s),c["icon-size"].possiblyEvaluate(new so(i),s)]}u.layoutTextSize=c["text-size"].possiblyEvaluate(new so(a+1),s),u.layoutIconSize=c["icon-size"].possiblyEvaluate(new so(a+1),s),u.textMaxSize=c["text-size"].possiblyEvaluate(new so(18),s);const h="map"===l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),d=l.get("text-size");for(const p of t.features){const o=l.get("text-font").evaluate(p,{},s).join(","),a=d.evaluate(p,{},s),c=u.layoutTextSize.evaluate(p,{},s),f=(u.layoutIconSize.evaluate(p,{},s),{horizontal:{},vertical:void 0}),m=p.text;let g,y=[0,0];if(m){const n=m.toString(),u=l.get("text-letter-spacing").evaluate(p,{},s)*bc,d=l.get("text-line-height").evaluate(p,{},s)*bc,g=Vr(n)?u:0,v=l.get("text-anchor").evaluate(p,{},s),_=l.get("text-variable-anchor");if(!_){const t=l.get("text-radial-offset").evaluate(p,{},s);y=t?Yu(v,[t*bc,Zu]):l.get("text-offset").evaluate(p,{},s).map(t=>t*bc)}let b=h?"center":l.get("text-justify").evaluate(p,{},s);const x=l.get("symbol-placement"),w="point"===x,S="point"===x?l.get("text-max-width").evaluate(p,{},s)*bc:0,T=s=>{t.allowVerticalPlacement&&Nr(n)&&(f.vertical=au(m,e,i,r,o,S,d,v,s,g,y,ru.vertical,!0,x,c,a))};if(!h&&_){const t="auto"===b?_.map(t=>Ju(t)):[b];let n=!1;for(let s=0;s<t.length;s++){const l=t[s];if(!f.horizontal[l])if(n)f.horizontal[l]=f.horizontal[0];else{const t=au(m,e,i,r,o,S,d,"center",l,g,y,ru.horizontal,!1,x,c,a);t&&(f.horizontal[l]=t,n=1===t.positionedLines.length)}}T("left")}else{if("auto"===b&&(b=Ju(v)),w||l.get("text-writing-mode").indexOf("horizontal")>=0||!Nr(n)){const t=au(m,e,i,r,o,S,d,v,b,g,y,ru.horizontal,!1,x,c,a);t&&(f.horizontal[b]=t)}T("point"===x?"left":b)}}let v=!1;if(p.icon&&p.icon.name){const e=n[p.icon.name];e&&(g=vu(r[p.icon.name],l.get("icon-offset").evaluate(p,{},s),l.get("icon-anchor").evaluate(p,{},s)),v=e.sdf,void 0===t.sdfIcons?t.sdfIcons=e.sdf:t.sdfIcons!==e.sdf&&M("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.pixelRatio||0!==l.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}const _=ih(f.horizontal)||f.vertical;t.iconsInText||(t.iconsInText=!!_&&_.iconsInText),(_||g)&&Qu(t,p,f,g,n,u,c,0,y,v,s)}o&&t.generateCollisionDebugBuffers(a,t.collisionBoxArray)}function Ju(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Qu(t,e,i,n,r,o,s,a,l,c,h){let d=o.textMaxSize.evaluate(e,{},h);void 0===d&&(d=s);const p=t.layers[0].layout,f=p.get("icon-offset").evaluate(e,{},h),m=ih(i.horizontal)||i.vertical,g=s/24,y=t.tilePixelRatio*d/24,v=t.tilePixelRatio*p.get("symbol-spacing"),_=p.get("text-padding")*t.tilePixelRatio,b=p.get("icon-padding")*t.tilePixelRatio,x=u(p.get("text-max-angle")),w="map"===p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),S="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),T=p.get("symbol-placement"),C=v/2,O=p.get("icon-text-fit");let k;n&&"none"!==O&&(t.allowVerticalPlacement&&i.vertical&&(k=_u(n,i.vertical,O,p.get("icon-text-fit-padding"),f,g)),m&&(n=_u(n,m,O,p.get("icon-text-fit-padding"),f,g)));const A=(a,u)=>{u.x<0||u.x>=$s||u.y<0||u.y>=$s||function(t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S){const T=t.addToLineVertexArray(e,i);let C,O,k,A,I,E,D,P=0,L=0,z=0,j=0,B=-1,R=-1;const F={};let N=ds(""),V=0,$=0;if(void 0===a._unevaluatedLayout.getValue("text-radial-offset")?[V,$]=a.layout.get("text-offset").evaluate(_,{},w).map(t=>t*bc):(V=a.layout.get("text-radial-offset").evaluate(_,{},w)*bc,$=Zu),t.allowVerticalPlacement&&n.vertical){const t=n.vertical;if(p)E=rh(t),s&&(D=rh(s));else{const i=a.layout.get("text-rotate").evaluate(_,{},w)+90;k=nh(l,e,c,u,h,t,d,i,f),s&&(A=nh(l,e,c,u,h,s,g,i))}}if(r){const i=a.layout.get("icon-rotate").evaluate(_,{},w),n="none"!==a.layout.get("icon-text-fit"),o=Bu(r,i,x,n),d=s?Bu(s,i,x,n):void 0;O=nh(l,e,c,u,h,r,g,i),P=4*o.length;const p=t.iconSizeData;let f=null;"source"===p.kind?(f=[xc*a.layout.get("icon-size").evaluate(_,{},w)],f[0]>th&&M(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===p.kind&&(f=[xc*b.compositeIconSizes[0].evaluate(_,{},w),xc*b.compositeIconSizes[1].evaluate(_,{},w)],(f[0]>th||f[1]>th)&&M(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')),t.addSymbols(t.icon,o,f,v,y,_,!1,e,T.lineStartIndex,T.lineLength,-1,w),B=t.icon.placedSymbolArray.length-1,d&&(L=4*d.length,t.addSymbols(t.icon,d,f,v,y,_,ru.vertical,e,T.lineStartIndex,T.lineLength,-1,w),R=t.icon.placedSymbolArray.length-1)}for(const M in n.horizontal){const i=n.horizontal[M];C||(N=ds(i.text),p?I=rh(i):C=nh(l,e,c,u,h,i,d,a.layout.get("text-rotate").evaluate(_,{},w),f));const r=1===i.positionedLines.length;if(z+=eh(t,e,i,o,a,p,_,f,T,n.vertical?ru.horizontal:ru.horizontalOnly,r?Object.keys(n.horizontal):[M],F,B,b,w),r)break}n.vertical&&(j+=eh(t,e,n.vertical,o,a,p,_,f,T,ru.vertical,["vertical"],F,R,b,w));let U=-1;const G=(t,e)=>t?Math.max(t,e):e;U=G(I,U),U=G(E,U),U=G(D,U);const q=U>-1?1:0;q&&(U*=S/bc),t.glyphOffsetArray.length>=ph.MAX_GLYPHS&&M("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==_.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,_.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical>=0?F.vertical:-1,B,R,N,void 0!==C?C:t.collisionBoxArray.length,void 0!==C?C+1:t.collisionBoxArray.length,void 0!==k?k:t.collisionBoxArray.length,void 0!==k?k+1:t.collisionBoxArray.length,void 0!==O?O:t.collisionBoxArray.length,void 0!==O?O+1:t.collisionBoxArray.length,A||t.collisionBoxArray.length,A?A+1:t.collisionBoxArray.length,c,z,j,P,L,q,0,V,$,U)}(t,u,a,i,n,r,k,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,_,w,l,0,b,S,f,e,o,c,h,s)};if("line"===T)for(const u of Au(e.geometry,0,0,$s,$s)){const e=Ou(u,v,x,i.vertical||m,n,24,y,t.overscaling,$s);for(const i of e){const e=m;e&&oh(t,e.text,C,i)||A(u,i)}}else if("line-center"===T){for(const u of e.geometry)if(u.length>1){const t=Cu(u,x,i.vertical||m,n,24,y);t&&A(u,t)}}else if("Polygon"===e.type)for(const u of kl(e.geometry,0)){const t=qu(u,16);A(u[0],new bu(t.x,t.y,0))}else if("LineString"===e.type)for(const u of e.geometry)A(u,new bu(u[0].x,u[0].y,0));else if("Point"===e.type)for(const u of e.geometry)for(const t of u)A([t],new bu(t.x,t.y,0))}const th=32640;function eh(t,e,i,n,o,s,a,l,c,u,h,d,p,f,m){const g=function(t,e,i,n,o,s,a,l){const c=[];if(0===e.positionedLines.length)return c;const u=n.layout.get("text-rotate").evaluate(s,{})*Math.PI/180,h=function(t){const e=t[0],i=t[1],n=e*i;return n>0?[e,-i]:n<0?[-e,i]:0===e?[i,e]:[i,-e]}(i);let d=Math.abs(e.top-e.bottom);for(const r of e.positionedLines)d-=r.lineOffset;const p=e.positionedLines.length,f=d/p;let m=e.top-i[1];for(let g=0;g<p;++g){const t=e.positionedLines[g];m=$u(e,f,m,g);for(const n of t.positionedGlyphs){if(!n.rect)continue;const t=n.rect||{};let s=4,d=!0,p=1,f=0;const g=(o||l)&&n.vertical,y=n.metrics.advance*n.scale/2,v=n.metrics,_=n.rect;if(null===_)continue;if(l&&e.verticalizable&&(f=n.imageName?y-n.metrics.width*n.scale/2:0),n.imageName){const t=a[n.imageName];if(!t)continue;d=t.sdf,p=t.pixelRatio,s=1/p}const b=o?[n.x+y,n.y]:[0,0];let x=[0,0],w=[0,0],S=!1;o||(g?(w=[n.x+y+h[0],n.y+h[1]-f],S=!0):x=[n.x+y+i[0],n.y+i[1]-f]);const T=_.w*n.scale/(p*(n.localGlyph?2:1)),C=_.h*n.scale/(p*(n.localGlyph?2:1));let O,k,A,I;if(g){const t=n.y-m,e=new r(-y,y-t),i=-Math.PI/2,o=new r(...w);O=new r(-y+x[0],x[1]),O._rotateAround(i,e)._add(o),O.x+=-t+y,O.y-=(v.left-s)*n.scale;const a=n.imageName?v.advance*n.scale:bc*n.scale,l=String.fromCharCode(n.glyph);Ac(l)?O.x+=(1-s)*n.scale:Ic(l)?O.x+=a-v.height*n.scale+(-s-1)*n.scale:O.x+=n.imageName||v.width+2*s===_.w&&v.height+2*s===_.h?(a-C)/2:(a-(v.height+2*s)*n.scale)/2,k=new r(O.x,O.y-T),A=new r(O.x+C,O.y),I=new r(O.x+C,O.y-T)}else{const t=(v.left-s)*n.scale-y+x[0],e=(-v.top-s)*n.scale+x[1],i=t+T,o=e+C;O=new r(t,e),k=new r(i,e),A=new r(t,o),I=new r(i,o)}if(u){let t;t=o?new r(0,0):S?new r(h[0],h[1]):new r(i[0],i[1]),O._rotateAround(u,t),k._rotateAround(u,t),A._rotateAround(u,t),I._rotateAround(u,t)}const E=new r(0,0),M=new r(0,0);c.push({tl:O,tr:k,bl:A,br:I,tex:t,writingMode:e.writingMode,glyphOffset:b,sectionIndex:n.sectionIndex,isSDF:d,pixelOffsetTL:E,pixelOffsetBR:M,minFontScaleX:0,minFontScaleY:0})}}return c}(0,i,l,o,s,a,n,t.allowVerticalPlacement),y=t.textSizeData;let v=null;"source"===y.kind?(v=[xc*o.layout.get("text-size").evaluate(a,{},m)],v[0]>th&&M(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===y.kind&&(v=[xc*f.compositeTextSizes[0].evaluate(a,{},m),xc*f.compositeTextSizes[1].evaluate(a,{},m)],(v[0]>th||v[1]>th)&&M(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')),t.addSymbols(t.text,g,v,l,s,a,u,e,c.lineStartIndex,c.lineLength,p,m);for(const r of h)d[r]=t.text.placedSymbolArray.length-1;return 4*g.length}function ih(t){for(const e in t)return t[e];return null}function nh(t,e,i,n,o,s,a,l,c){let h=s.top,d=s.bottom,p=s.left,f=s.right;const m=s.collisionPadding;if(m&&(p-=m[0],h-=m[1],f+=m[2],d+=m[3]),l){const t=new r(p,h),e=new r(f,h),i=new r(p,d),n=new r(f,d),o=u(l);let s=new r(0,0);c&&(s=new r(c[0],c[1])),t._rotateAround(o,s),e._rotateAround(o,s),i._rotateAround(o,s),n._rotateAround(o,s),p=Math.min(t.x,e.x,i.x,n.x),f=Math.max(t.x,e.x,i.x,n.x),h=Math.min(t.y,e.y,i.y,n.y),d=Math.max(t.y,e.y,i.y,n.y)}return t.emplaceBack(e.x,e.y,p,h,f,d,a,i,n,o),t.length-1}function rh(t){t.collisionPadding&&(t.top-=t.collisionPadding[1],t.bottom+=t.collisionPadding[3]);const e=t.bottom-t.top;return e>0?Math.max(10,e):null}function oh(t,e,i,n){const r=t.compareText;if(e in r){const t=r[e];for(let e=t.length-1;e>=0;e--)if(n.dist(t[e])<i)return!0}else r[e]=[];return r[e].push(n),!1}const sh=ql.VectorTileFeature.types,ah=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function lh(t,e,i,n,r,o,s,a,l,c,u,h,d){const p=a?Math.min(th,Math.round(a[0])):0,f=a?Math.min(th,Math.round(a[1])):0;t.emplaceBack(e,i,Math.round(32*n),Math.round(32*r),o,s,(p<<1)+(l?1:0),f,16*c,16*u,256*h,256*d)}function ch(t,e,i){t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i)}function uh(t){for(const e of t.sections)if(Wr(e.text))return!0;return!1}class hh{constructor(t){this.layoutVertexArray=new Lo,this.indexArray=new Vo,this.programConfigurations=t,this.segments=new Vs,this.dynamicLayoutVertexArray=new zo,this.opacityVertexArray=new jo,this.placedSymbolArray=new Qo}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,e,i,n){this.isEmpty()||(i&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,fc.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,mc.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,ah,!0),this.opacityVertexBuffer.itemSize=1),(i||n)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}ar("SymbolBuffers",hh);class dh{constructor(t,e,i){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new i,this.segments=new Vs,this.collisionVertexArray=new No,this.collisionVertexArrayExt=new zo}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,gc.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,yc.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}ar("CollisionBuffers",dh);class ph{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(t=>t.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ma([]),this.placementViewportMatrix=ma([]);const e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=wc(this.zoom,e["text-size"]),this.iconSizeData=wc(this.zoom,e["icon-size"]);const i=this.layers[0].layout,n=i.get("symbol-sort-key"),r=i.get("symbol-z-order");this.canOverlap=i.get("text-allow-overlap")||i.get("icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==r&&void 0!==n.constantOr(1),this.sortFeaturesByY=("viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=i.get("text-writing-mode").map(t=>ru[t]),this.stateDependentLayerIds=this.layers.filter(t=>t.isStateDependent()).map(t=>t.id),this.sourceID=t.sourceID}createArrays(){this.text=new hh(new Ms(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new hh(new Ms(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new is,this.lineVertexArray=new ns,this.symbolInstances=new es}calculateGlyphDependencies(t,e,i,n,r){for(let o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,n&&r){const i=kc[t.charAt(o)];i&&(e[i.charCodeAt(0)]=!0)}}populate(t,e,i){const n=this.layers[0],r=n.layout,o=r.get("text-font"),s=r.get("text-field"),a=r.get("icon-image"),l=("constant"!==s.value.kind||s.value.value instanceof pe&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),c="constant"!==a.value.kind||!!a.value.value||Object.keys(a.parameters).length>0,u=r.get("symbol-sort-key");if(this.features=[],!l&&!c)return;const h=e.iconDependencies,d=e.glyphDependencies,p=e.availableImages,f=new so(this.zoom);for(const{feature:m,id:g,index:y,sourceLayerIndex:v}of t){const t=n._featureFilter.needGeometry,e=Hs(m,t);if(!n._featureFilter.filter(f,e,i))continue;let s,a;if(t||(e.geometry=qs(m)),l){const t=n.getValueAndResolveTokens("text-field",e,i,p),r=pe.factory(t);uh(r)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===no()||this.hasRTLText&&oo.isParsed())&&(s=Oc(r,n,e))}if(c){const t=n.getValueAndResolveTokens("icon-image",e,i,p);a=t instanceof fe?t:fe.fromString(t)}if(!s&&!a)continue;const _=this.sortFeaturesByKey?u.evaluate(e,{},i):void 0;if(this.features.push({id:g,text:s,icon:a,index:y,sourceLayerIndex:v,geometry:e.geometry,properties:m.properties,type:sh[m.type],sortKey:_}),a&&(h[a.name]=!0),s){const t=o.evaluate(e,{},i).join(","),n="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ru.vertical)>=0;for(const e of s.sections)if(e.image)h[e.image.name]=!0;else{const i=Nr(s.toString()),r=e.fontStack||t,o=d[r]=d[r]||{};this.calculateGlyphDependencies(e.text,o,n,this.allowVerticalPlacement,i)}}}"line"===r.get("symbol-placement")&&(this.features=function(t){const e={},i={},n=[];let r=0;function o(e){n.push(t[e]),r++}function s(t,e,r){const o=i[t];return delete i[t],i[e]=o,n[o].geometry[0].pop(),n[o].geometry[0]=n[o].geometry[0].concat(r[0]),o}function a(t,i,r){const o=e[i];return delete e[i],e[t]=o,n[o].geometry[0].shift(),n[o].geometry[0]=r[0].concat(n[o].geometry[0]),o}function l(t,e,i){const n=i?e[0][e[0].length-1]:e[0][0];return`${t}:${n.x}:${n.y}`}for(let c=0;c<t.length;c++){const u=t[c],h=u.geometry,d=u.text?u.text.toString():null;if(!d){o(c);continue}const p=l(d,h),f=l(d,h,!0);if(p in i&&f in e&&i[p]!==e[f]){const t=a(p,f,h),r=s(p,f,n[t].geometry);delete e[p],delete i[f],i[l(d,n[r].geometry,!0)]=r,n[t].geometry=null}else p in i?s(p,f,h):f in e?a(p,f,h):(o(c),e[p]=r-1,i[f]=r-1)}return n.filter(t=>t.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((t,e)=>t.sortKey-e.sortKey)}update(t,e,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,i),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,i))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,e){const i=this.lineVertexArray.length;if(void 0!==t.segment){let i=t.dist(e[t.segment+1]),n=t.dist(e[t.segment]);const r={};for(let o=t.segment+1;o<e.length;o++)r[o]={x:e[o].x,y:e[o].y,tileUnitDistanceFromAnchor:i},o<e.length-1&&(i+=e[o+1].dist(e[o]));for(let o=t.segment||0;o>=0;o--)r[o]={x:e[o].x,y:e[o].y,tileUnitDistanceFromAnchor:n},o>0&&(n+=e[o-1].dist(e[o]));for(let t=0;t<e.length;t++){const e=r[t];this.lineVertexArray.emplaceBack(e.x,e.y,e.tileUnitDistanceFromAnchor)}}return{lineStartIndex:i,lineLength:this.lineVertexArray.length-i}}addSymbols(t,e,i,n,r,o,s,a,l,c,u,h){const d=t.indexArray,p=t.layoutVertexArray,f=t.segments.prepareSegment(4*e.length,p,d,this.canOverlap?o.sortKey:void 0),m=this.glyphOffsetArray.length,g=f.vertexLength,y=this.allowVerticalPlacement&&s===ru.vertical?Math.PI/2:0,v=o.text&&o.text.sections;for(let _=0;_<e.length;_++){const{tl:n,tr:r,bl:s,br:l,tex:c,pixelOffsetTL:u,pixelOffsetBR:m,minFontScaleX:g,minFontScaleY:b,glyphOffset:x,isSDF:w,sectionIndex:S}=e[_],T=f.vertexLength,C=x[1];lh(p,a.x,a.y,n.x,C+n.y,c.x,c.y,i,w,u.x,u.y,g,b),lh(p,a.x,a.y,r.x,C+r.y,c.x+c.w,c.y,i,w,m.x,u.y,g,b),lh(p,a.x,a.y,s.x,C+s.y,c.x,c.y+c.h,i,w,u.x,m.y,g,b),lh(p,a.x,a.y,l.x,C+l.y,c.x+c.w,c.y+c.h,i,w,m.x,m.y,g,b),ch(t.dynamicLayoutVertexArray,a,y),d.emplaceBack(T,T+1,T+2),d.emplaceBack(T+1,T+2,T+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),_!==e.length-1&&S===e[_+1].sectionIndex||t.programConfigurations.populatePaintArrays(p.length,o,o.index,{},h,v&&v[S])}t.placedSymbolArray.emplaceBack(a.x,a.y,m,this.glyphOffsetArray.length-m,g,l,c,a.segment,i?i[0]:0,i?i[1]:0,n[0],n[1],s,0,!1,0,u,0)}_commitLayoutVertex(t,e,i,n,r){t.emplaceBack(e.x,e.y,i,n,Math.round(r.x),Math.round(r.y))}_addCollisionDebugVertices(t,e,i,n,o){const s=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),a=s.vertexLength,l=o.anchorX,c=o.anchorY;for(let r=0;r<4;r++)i.collisionVertexArray.emplaceBack(0,0,0,0);i.collisionVertexArrayExt.emplaceBack(e,-t.padding,-t.padding),i.collisionVertexArrayExt.emplaceBack(e,t.padding,-t.padding),i.collisionVertexArrayExt.emplaceBack(e,t.padding,t.padding),i.collisionVertexArrayExt.emplaceBack(e,-t.padding,t.padding),this._commitLayoutVertex(i.layoutVertexArray,n,l,c,new r(t.x1,t.y1)),this._commitLayoutVertex(i.layoutVertexArray,n,l,c,new r(t.x2,t.y1)),this._commitLayoutVertex(i.layoutVertexArray,n,l,c,new r(t.x2,t.y2)),this._commitLayoutVertex(i.layoutVertexArray,n,l,c,new r(t.x1,t.y2)),s.vertexLength+=4;const u=i.indexArray;u.emplaceBack(a,a+1),u.emplaceBack(a+1,a+2),u.emplaceBack(a+2,a+3),u.emplaceBack(a+3,a),s.primitiveLength+=4}_addTextDebugCollisionBoxes(t,e,i,n,r,o){for(let s=n;s<r;s++){const n=i.get(s),r=this.getSymbolInstanceTextSize(t,o,e,s);this._addCollisionDebugVertices(n,r,this.textCollisionBox,n.anchorPoint,o)}}_addIconDebugCollisionBoxes(t,e,i,n,r,o){for(let s=n;s<r;s++){const n=i.get(s),r=this.getSymbolInstanceIconSize(t,e,s);this._addCollisionDebugVertices(n,r,this.iconCollisionBox,n.anchorPoint,o)}}generateCollisionDebugBuffers(t,e){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new dh(Ro,vc.members,Wo),this.iconCollisionBox=new dh(Ro,vc.members,Wo);const i=Tc(this.iconSizeData,t),n=Tc(this.textSizeData,t);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._addTextDebugCollisionBoxes(n,t,e,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(n,t,e,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(i,t,e,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(i,t,e,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}getSymbolInstanceTextSize(t,e,i,n){const r=this.text.placedSymbolArray.get(e.rightJustifiedTextSymbolIndex>=0?e.rightJustifiedTextSymbolIndex:e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.leftJustifiedTextSymbolIndex>=0?e.leftJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex>=0?e.verticalPlacedTextSymbolIndex:n),o=Sc(this.textSizeData,t,r)/bc;return this.tilePixelRatio*o}getSymbolInstanceIconSize(t,e,i){const n=this.icon.placedSymbolArray.get(i),r=Sc(this.iconSizeData,t,n);return this.tilePixelRatio*r}_commitDebugCollisionVertexUpdate(t,e,i){t.emplaceBack(e,-i,-i),t.emplaceBack(e,i,-i),t.emplaceBack(e,i,i),t.emplaceBack(e,-i,i)}_updateTextDebugCollisionBoxes(t,e,i,n,r,o){for(let s=n;s<r;s++){const n=i.get(s),r=this.getSymbolInstanceTextSize(t,o,e,s);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,r,n.padding)}}_updateIconDebugCollisionBoxes(t,e,i,n,r){for(let o=n;o<r;o++){const n=i.get(o),r=this.getSymbolInstanceIconSize(t,e,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,r,n.padding)}}updateCollisionDebugBuffers(t,e){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const i=Tc(this.iconSizeData,t),n=Tc(this.textSizeData,t);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._updateTextDebugCollisionBoxes(n,t,e,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(n,t,e,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(i,t,e,o.iconBoxStartIndex,o.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(i,t,e,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(t,e,i,n,r,o,s,a,l){const c={};for(let u=e;u<i;u++){const e=t.get(u);c.textBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,padding:e.padding,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.textFeatureIndex=e.featureIndex;break}for(let u=n;u<r;u++){const e=t.get(u);c.verticalTextBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,padding:e.padding,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.verticalTextFeatureIndex=e.featureIndex;break}for(let u=o;u<s;u++){const e=t.get(u);c.iconBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,padding:e.padding,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.iconFeatureIndex=e.featureIndex;break}for(let u=a;u<l;u++){const e=t.get(u);c.verticalIconBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,padding:e.padding,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.verticalIconFeatureIndex=e.featureIndex;break}return c}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let e=0;e<this.symbolInstances.length;e++){const i=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,i.textBoxStartIndex,i.textBoxEndIndex,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,e){const i=t.placedSymbolArray.get(e),n=i.vertexStartIndex+4*i.numGlyphs;for(let r=i.vertexStartIndex;r<n;r+=4)t.indexArray.emplaceBack(r,r+1,r+2),t.indexArray.emplaceBack(r+1,r+2,r+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const e=Math.sin(t),i=Math.cos(t),n=[],r=[],o=[];for(let s=0;s<this.symbolInstances.length;++s){o.push(s);const t=this.symbolInstances.get(s);n.push(0|Math.round(e*t.anchorX+i*t.anchorY)),r.push(t.featureIndex)}return o.sort((t,e)=>n[t]-n[e]||r[e]-r[t]),o}addToSortKeyRanges(t,e){const i=this.sortKeyRanges[this.sortKeyRanges.length-1];i&&i.sortKey===e?i.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const t of this.symbolInstanceIndexes){const e=this.symbolInstances.get(t);this.featureSortOrder.push(e.featureIndex),[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex].forEach((t,e,i)=>{t>=0&&i.indexOf(t)===e&&this.addIndicesForPlacedSymbol(this.text,t)}),e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,e.verticalPlacedTextSymbolIndex),e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.placedIconSymbolIndex),e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}ar("SymbolBucket",ph,{omit:["layers","collisionBoxArray","features","compareText"]}),ph.MAX_GLYPHS=65535,ph.addDynamicAttributes=ch;const fh=new xo({"symbol-placement":new go(Rt.layout_symbol["symbol-placement"]),"symbol-spacing":new go(Rt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new go(Rt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yo(Rt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new go(Rt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new go(Rt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new go(Rt.layout_symbol["icon-ignore-placement"]),"icon-optional":new go(Rt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new go(Rt.layout_symbol["icon-rotation-alignment"]),"icon-size":new yo(Rt.layout_symbol["icon-size"]),"icon-text-fit":new go(Rt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new go(Rt.layout_symbol["icon-text-fit-padding"]),"icon-image":new yo(Rt.layout_symbol["icon-image"]),"icon-rotate":new yo(Rt.layout_symbol["icon-rotate"]),"icon-padding":new go(Rt.layout_symbol["icon-padding"]),"icon-keep-upright":new go(Rt.layout_symbol["icon-keep-upright"]),"icon-offset":new yo(Rt.layout_symbol["icon-offset"]),"icon-anchor":new yo(Rt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new go(Rt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new go(Rt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new go(Rt.layout_symbol["text-rotation-alignment"]),"text-field":new yo(Rt.layout_symbol["text-field"]),"text-font":new yo(Rt.layout_symbol["text-font"]),"text-size":new yo(Rt.layout_symbol["text-size"]),"text-max-width":new yo(Rt.layout_symbol["text-max-width"]),"text-line-height":new yo(Rt.layout_symbol["text-line-height"]),"text-letter-spacing":new yo(Rt.layout_symbol["text-letter-spacing"]),"text-justify":new yo(Rt.layout_symbol["text-justify"]),"text-radial-offset":new yo(Rt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new go(Rt.layout_symbol["text-variable-anchor"]),"text-anchor":new yo(Rt.layout_symbol["text-anchor"]),"text-max-angle":new go(Rt.layout_symbol["text-max-angle"]),"text-writing-mode":new go(Rt.layout_symbol["text-writing-mode"]),"text-rotate":new yo(Rt.layout_symbol["text-rotate"]),"text-padding":new go(Rt.layout_symbol["text-padding"]),"text-keep-upright":new go(Rt.layout_symbol["text-keep-upright"]),"text-transform":new yo(Rt.layout_symbol["text-transform"]),"text-offset":new yo(Rt.layout_symbol["text-offset"]),"text-allow-overlap":new go(Rt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new go(Rt.layout_symbol["text-ignore-placement"]),"text-optional":new go(Rt.layout_symbol["text-optional"])});var mh={paint:new xo({"icon-opacity":new yo(Rt.paint_symbol["icon-opacity"]),"icon-color":new yo(Rt.paint_symbol["icon-color"]),"icon-halo-color":new yo(Rt.paint_symbol["icon-halo-color"]),"icon-halo-width":new yo(Rt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yo(Rt.paint_symbol["icon-halo-blur"]),"icon-translate":new go(Rt.paint_symbol["icon-translate"]),"icon-translate-anchor":new go(Rt.paint_symbol["icon-translate-anchor"]),"text-opacity":new yo(Rt.paint_symbol["text-opacity"]),"text-color":new yo(Rt.paint_symbol["text-color"],{runtimeType:Yt,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),"text-halo-color":new yo(Rt.paint_symbol["text-halo-color"]),"text-halo-width":new yo(Rt.paint_symbol["text-halo-width"]),"text-halo-blur":new yo(Rt.paint_symbol["text-halo-blur"]),"text-translate":new go(Rt.paint_symbol["text-translate"]),"text-translate-anchor":new go(Rt.paint_symbol["text-translate-anchor"])}),layout:fh};class gh{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Ht,this.defaultValue=t}evaluate(t){if(t.formattedSection){const e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ar("FormatSectionOverride",gh,{omit:["defaultValue"]});class yh extends Rs{constructor(t){super(t,mh)}recalculate(t,e){super.recalculate(t,e),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const i=this.layout.get("text-writing-mode");if(i){const t=[];for(const e of i)t.indexOf(e)<0&&t.push(e);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(t,e,i,n){const r=this.layout.get(t).evaluate(e,{},i,n),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||cn(o.value)||!r?r:function(t,e){return e.replace(/{([^{}]+)}/g,(e,i)=>i in t?String(t[i]):"")}(e.properties,r)}createBucket(t){return new ph(t)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const t of mh.paint.overridableProperties){if(!yh.hasPaintOverride(this.layout,t))continue;const e=this.paint.get(t),i=new gh(e),n=new ln(i,e.property.specification);let r=null;r="constant"===e.value.kind||"source"===e.value.kind?new hn("source",n):new dn("composite",n,e.value.zoomStops,e.value._interpolationType),this.paint._values[t]=new fo(e.property,r,e.parameters)}}_handleOverridablePaintPropertyUpdate(t,e,i){return!(!this.layout||e.isDataDriven()||i.isDataDriven())&&yh.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,e){const i=t.get("text-field"),n=mh.paint.properties[e];let r=!1;const o=t=>{for(const e of t)if(n.overrides&&n.overrides.hasOverride(e))return void(r=!0)};if("constant"===i.value.kind&&i.value.value instanceof pe)o(i.value.value.sections);else if("source"===i.value.kind){const t=e=>{r||(e instanceof _e&&ye(e.value)===te?o(e.value.sections):e instanceof Se?o(e.sections):e.eachChild(t))},e=i.value;e._styleExpression&&t(e._styleExpression.expression)}return r}getProgramConfiguration(t){return new Es(this,t)}}var vh={paint:new xo({"background-color":new go(Rt.paint_background["background-color"]),"background-pattern":new _o(Rt.paint_background["background-pattern"]),"background-opacity":new go(Rt.paint_background["background-opacity"])})},_h={paint:new xo({"raster-opacity":new go(Rt.paint_raster["raster-opacity"]),"raster-hue-rotate":new go(Rt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new go(Rt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new go(Rt.paint_raster["raster-brightness-max"]),"raster-saturation":new go(Rt.paint_raster["raster-saturation"]),"raster-contrast":new go(Rt.paint_raster["raster-contrast"]),"raster-resampling":new go(Rt.paint_raster["raster-resampling"]),"raster-fade-duration":new go(Rt.paint_raster["raster-fade-duration"])})};class bh extends Rs{constructor(t){super(t,{}),this.implementation=t}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)}}var xh={paint:new xo({"sky-type":new go(Rt.paint_sky["sky-type"]),"sky-atmosphere-sun":new go(Rt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new go(Rt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new go(Rt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new go(Rt.paint_sky["sky-gradient-radius"]),"sky-gradient":new bo(Rt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new go(Rt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new go(Rt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new go(Rt.paint_sky["sky-opacity"])})};function wh(t,e,i){const n=ba(0,0,1),r=Da(Ma());return function(t,e,i){i*=.5;var n=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(i),l=Math.cos(i);t[0]=n*l-o*a,t[1]=r*l+s*a,t[2]=o*l+n*a,t[3]=s*l-r*a}(r,r,i?-u(t)+Math.PI:u(t)),Pa(r,r,-u(e)),Ca(n,n,r),Ta(n,n)}const Sh={circle:class extends Rs{constructor(t){super(t,da)}createBucket(t){return new Zs(t)}queryRadius(t){const e=t;return aa("circle-radius",this,e)+aa("circle-stroke-width",this,e)+la(this.paint.get("circle-translate"))}queryIntersectsFeature(t,e,i,n,r,o,s,a){const l="map"===this.paint.get("circle-pitch-alignment");if(l&&t.queryGeometry.isAboveHorizon)return!1;const c=ua(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,t.pixelToTileUnitsFactor),u=this.paint.get("circle-radius").evaluate(e,i)+this.paint.get("circle-stroke-width").evaluate(e,i),h=l?u*t.pixelToTileUnitsFactor:u;for(const d of n)for(const e of d){const i=e.add(c),n=a&&o.elevation?o.elevation.exaggeration()*a.getElevationAt(i.x,i.y,!0):0,r=l?i:La(i,n,s),u=l?t.tilespaceRays.map(t=>Ba(t,n)):t.queryGeometry.screenGeometry;let d=h;const p=Ea([],[e.x,e.y,n,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?d*=p[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(d*=o.cameraToCenterDistance/p[3]),Ys(u,r,d))return!0}return!1}getProgramIds(){return["circle"]}getProgramConfiguration(t){return new Es(this,t)}},heatmap:class extends Rs{createBucket(t){return new Ra(t)}constructor(t){super(t,Ga),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"heatmap-color"===t&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=qa({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(t){return new Es(this,t)}},hillshade:class extends Rs{constructor(t){super(t,Ha)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(t){return new Es(this,t)}},fill:class extends Rs{constructor(t){super(t,Pl)}getProgramIds(){const t=this.paint.get("fill-pattern"),e=t&&t.constantOr(1),i=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getProgramConfiguration(t){return new Es(this,t)}recalculate(t,e){super.recalculate(t,e);const i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new Ml(t)}queryRadius(){return la(this.paint.get("fill-translate"))}queryIntersectsFeature(t,e,i,n,r,o){return!t.queryGeometry.isAboveHorizon&&Ks(ca(t.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,t.pixelToTileUnitsFactor),n)}isTileClipped(){return!0}},"fill-extrusion":class extends Rs{constructor(t){super(t,Jl)}createBucket(t){return new Yl(t)}queryRadius(){return la(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(t){return new Es(this,t)}queryIntersectsFeature(t,e,i,n,o,s,a,l,c){const u=ua(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),s.angle,t.pixelToTileUnitsFactor),h=this.paint.get("fill-extrusion-height").evaluate(e,i),d=this.paint.get("fill-extrusion-base").evaluate(e,i),p=[0,0],f=l&&s.elevation,m=s.elevation?s.elevation.exaggeration():1;if(f){const e=t.tile.getBucket(this).centroidVertexArray,i=c+1;if(i<e.length){const t=e.get(i);p[0]=t.a_centroid_pos0,p[1]=t.a_centroid_pos1}}if(0===p[0]&&1===p[1])return!1;const g=function(t,e,i,n,o,s,a,l,c){return s?function(t,e,i,n,r,o,s,a,l){const c=[],u=[],h=[0,0,0,1];for(const d of t){const t=[],p=[];for(const c of d){const u=c.x+n.x,d=c.y+n.y,f=ic(u,d,e,i,o,s,a,l);h[0]=u,h[1]=d,h[2]=f.base,h[3]=1,Ea(h,h,r),h[3]=Math.max(h[3],1e-5);const m=ec([h[0]/h[3],h[1]/h[3],h[2]/h[3]]);h[0]=u,h[1]=d,h[2]=f.top,h[3]=1,Ea(h,h,r),h[3]=Math.max(h[3],1e-5);const g=ec([h[0]/h[3],h[1]/h[3],h[2]/h[3]]);t.push(m),p.push(g)}c.push(t),u.push(p)}return[c,u]}(t,e,i,n,o,s,a,l,c):function(t,e,i,n,o){const s=[],a=[],l=o[8]*e,c=o[9]*e,u=o[10]*e,h=o[11]*e,d=o[8]*i,p=o[9]*i,f=o[10]*i,m=o[11]*i;for(const g of t){const t=[],e=[];for(const i of g){const s=i.x+n.x,a=i.y+n.y,g=o[0]*s+o[4]*a+o[12],y=o[1]*s+o[5]*a+o[13],v=o[2]*s+o[6]*a+o[14],_=o[3]*s+o[7]*a+o[15],b=g+l,x=y+c,w=v+u,S=Math.max(_+h,1e-5),T=g+d,C=y+p,O=v+f,k=Math.max(_+m,1e-5),A=new r(b/S,x/S);A.z=w/S,t.push(A);const I=new r(T/k,C/k);I.z=O/k,e.push(I)}s.push(t),a.push(e)}return[s,a]}(t,e,i,n,o)}(n,d,h,u,a,f?l:null,p,m,s.center.lat),y=t.queryGeometry;return function(t,e,i){let n=1/0;Ks(i,e)&&(n=tc(i,e[0]));for(let r=0;r<e.length;r++){const o=e[r],s=t[r];for(let t=0;t<o.length-1;t++){const e=o[t],r=[e,o[t+1],s[t+1],s[t],e];Xs(i,r)&&(n=Math.min(n,tc(i,r)))}}return n!==1/0&&n}(g[0],g[1],y.isPointQuery()?y.screenBounds:y.screenGeometry)}},line:class extends Rs{constructor(t){super(t,hc),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(t){if("line-gradient"===t){const t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof ei,this.gradientVersion=(this.gradientVersion+1)%a}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values["line-floorwidth"]=dc.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new cc(t)}getProgramIds(){const t=this.paint.get("line-dasharray"),e=this.paint.get("line-pattern").constantOr(1),i=this.paint.get("line-gradient");return[e?"linePattern":t?"lineSDF":i?"lineGradient":"line"]}getProgramConfiguration(t){return new Es(this,t)}queryRadius(t){const e=t,i=pc(aa("line-width",this,e),aa("line-gap-width",this,e)),n=aa("line-offset",this,e);return i/2+Math.abs(n)+la(this.paint.get("line-translate"))}queryIntersectsFeature(t,e,i,n,o,s){if(t.queryGeometry.isAboveHorizon)return!1;const a=ca(t.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),s.angle,t.pixelToTileUnitsFactor),l=t.pixelToTileUnitsFactor/2*pc(this.paint.get("line-width").evaluate(e,i),this.paint.get("line-gap-width").evaluate(e,i)),c=this.paint.get("line-offset").evaluate(e,i);return c&&(n=function(t,e){const i=[],n=new r(0,0);for(let r=0;r<t.length;r++){const o=t[r],s=[];for(let t=0;t<o.length;t++){const i=o[t-1],r=o[t],a=o[t+1],l=0===t?n:r.sub(i)._unit()._perp(),c=t===o.length-1?n:a.sub(r)._unit()._perp(),u=l._add(c)._unit();u._mult(1/(u.x*c.x+u.y*c.y)),s.push(u._mult(e)._add(r))}i.push(s)}return i}(n,c*t.pixelToTileUnitsFactor)),function(t,e,i){for(let n=0;n<e.length;n++){const r=e[n];if(t.length>=3)for(let e=0;e<r.length;e++)if(ra(t,r[e]))return!0;if(Js(t,r,i))return!0}return!1}(a,n,l)}isTileClipped(){return!0}},symbol:yh,background:class extends Rs{constructor(t){super(t,vh)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Rs{constructor(t){super(t,_h)}getProgramIds(){return["raster"]}},sky:class extends Rs{constructor(t){super(t,xh),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"sky-gradient"===t?this._updateColorRamp():"sky-atmosphere-sun"!==t&&"sky-atmosphere-halo-color"!==t&&"sky-atmosphere-color"!==t&&"sky-atmosphere-sun-intensity"!==t||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=qa({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(t){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const e=t.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}}getCenter(t,e){const i=this.paint.get("sky-type");if("atmosphere"===i){const i=this.paint.get("sky-atmosphere-sun"),n=!i,r=t.style.light,o=r.properties.get("position");return n&&"viewport"===r.properties.get("anchor")&&M("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),n?wh(o.azimuthal,90-o.polar,e):wh(i[0],90-i[1],e)}if("gradient"===i){const t=this.paint.get("sky-gradient-center");return wh(t[0],90-t[1],e)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(t){this._skyboxInvalidated=!1,this._lightPosition=t.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const t=this.paint.get("sky-type");return"atmosphere"===t?["skyboxCapture","skybox"]:"gradient"===t?["skyboxGradient"]:null}}},{HTMLImageElement:Th,HTMLCanvasElement:Ch,HTMLVideoElement:Oh,ImageData:kh,ImageBitmap:Ah}=s;class Ih{constructor(t,e,i,n){this.context=t,this.format=i,this.texture=t.gl.createTexture(),this.update(e,n)}update(t,e,i){const{width:n,height:r}=t,o=!(this.size&&this.size[0]===n&&this.size[1]===r||i),{context:s}=this,{gl:a}=s;if(this.useMipmap=Boolean(e&&e.useMipmap),a.bindTexture(a.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===a.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[n,r],t instanceof Th||t instanceof Ch||t instanceof Oh||t instanceof kh||Ah&&t instanceof Ah?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,t):a.texImage2D(a.TEXTURE_2D,0,this.format,n,r,0,this.format,a.UNSIGNED_BYTE,t.data);else{const{x:e,y:o}=i||{x:0,y:0};t instanceof Th||t instanceof Ch||t instanceof Oh||t instanceof kh||Ah&&t instanceof Ah?a.texSubImage2D(a.TEXTURE_2D,0,e,o,a.RGBA,a.UNSIGNED_BYTE,t):a.texSubImage2D(a.TEXTURE_2D,0,e,o,n,r,a.RGBA,a.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&a.generateMipmap(a.TEXTURE_2D)}bind(t,e,i){const{context:n}=this,{gl:r}=n;r.bindTexture(r.TEXTURE_2D,this.texture),i!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(i=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}class Eh{constructor(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}setNorthEast(t){return this._ne=t instanceof Dh?new Dh(t.lng,t.lat):Dh.convert(t),this}setSouthWest(t){return this._sw=t instanceof Dh?new Dh(t.lng,t.lat):Dh.convert(t),this}extend(t){const e=this._sw,i=this._ne;let n,r;if(t instanceof Dh)n=t,r=t;else{if(!(t instanceof Eh))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Eh.convert(t)):this.extend(Dh.convert(t)):this;if(n=t._sw,r=t._ne,!n||!r)return this}return e||i?(e.lng=Math.min(n.lng,e.lng),e.lat=Math.min(n.lat,e.lat),i.lng=Math.max(r.lng,i.lng),i.lat=Math.max(r.lat,i.lat)):(this._sw=new Dh(n.lng,n.lat),this._ne=new Dh(r.lng,r.lat)),this}getCenter(){return new Dh((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Dh(this.getWest(),this.getNorth())}getSouthEast(){return new Dh(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:e,lat:i}=Dh.convert(t);let n=this._sw.lng<=e&&e<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=e&&e>=this._ne.lng),this._sw.lat<=i&&i<=this._ne.lat&&n}static convert(t){return!t||t instanceof Eh?t:new Eh(t)}}const Mh=6371008.8;class Dh{constructor(t,e){if(isNaN(t)||isNaN(e))throw new Error(`Invalid LngLat object: (${t}, ${e})`);if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Dh(g(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const e=Math.PI/180,i=this.lat*e,n=t.lat*e,r=Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos((t.lng-this.lng)*e);return Mh*Math.acos(Math.min(r,1))}toBounds(t=0){const e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new Eh(new Dh(this.lng-i,this.lat-e),new Dh(this.lng+i,this.lat+e))}static convert(t){if(t instanceof Dh)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Dh(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Dh(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ph=2*Math.PI*Mh;function Lh(t){return Ph*Math.cos(t*Math.PI/180)}function zh(t){return(180+t)/360}function jh(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Bh(t,e){return t/Lh(e)}function Rh(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function Fh(t,e){return t*Lh(Rh(e))}class Nh{constructor(t,e,i=0){this.x=+t,this.y=+e,this.z=+i}static fromLngLat(t,e=0){const i=Dh.convert(t);return new Nh(zh(i.lng),jh(i.lat),Bh(e,i.lat))}toLngLat(){return new Dh(360*this.x-180,Rh(this.y))}toAltitude(){return Fh(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ph*(t=Rh(this.y),1/Math.cos(t*Math.PI/180));var t}}class Vh{constructor(t,e){this.width=t,this.height=e,this.nextRow=0,this.image=new $a({width:t,height:e}),this.positions={},this.uploaded=!1}getDash(t,e){const i=this.getKey(t,e);return this.positions[i]}trim(){const t=this.width,e=this.height=S(this.nextRow);this.image.resize({width:t,height:e})}getKey(t,e){return t.join(",")+e}getDashRanges(t,e,i){const n=[];let r=t.length%2==1?-t[t.length-1]*i:0,o=t[0]*i,s=!0;n.push({left:r,right:o,isDash:s,zeroLength:0===t[0]});let a=t[0];for(let l=1;l<t.length;l++){s=!s;const e=t[l];r=a*i,a+=e,o=a*i,n.push({left:r,right:o,isDash:s,zeroLength:0===e})}return n}addRoundDash(t,e,i){const n=e/2;for(let r=-i;r<=i;r++){const e=this.width*(this.nextRow+i+r);let o=0,s=t[o];for(let a=0;a<this.width;a++){a/s.right>1&&(s=t[++o]);const l=Math.abs(a-s.left),c=Math.abs(a-s.right),u=Math.min(l,c);let h;const d=r/i*(n+1);if(s.isDash){const t=n-Math.abs(d);h=Math.sqrt(u*u+t*t)}else h=n-Math.sqrt(u*u+d*d);this.image.data[e+a]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(t,e){for(let a=t.length-1;a>=0;--a){const e=t[a],i=t[a+1];e.zeroLength?t.splice(a,1):i&&i.isDash===e.isDash&&(i.left=e.left,t.splice(a,1))}const i=t[0],n=t[t.length-1];i.isDash===n.isDash&&(i.left=n.left-this.width,n.right=i.right+this.width);const r=this.width*this.nextRow;let o=0,s=t[o];for(let a=0;a<this.width;a++){a/s.right>1&&(s=t[++o]);const i=Math.abs(a-s.left),n=Math.abs(a-s.right),l=Math.min(i,n);this.image.data[r+a]=Math.max(0,Math.min(255,(s.isDash?l:-l)+e+128))}}addDash(t,e){const i=this.getKey(t,e);if(this.positions[i])return this.positions[i];const n="round"===e,r=n?7:0,o=2*r+1;if(this.nextRow+o>this.height)return M("LineAtlas out of space"),null;0===t.length&&t.push(1);let s=0;for(let c=0;c<t.length;c++)t[c]<0&&(M("Negative value is found in line dasharray, replacing values with 0"),t[c]=0),s+=t[c];if(0!==s){const i=this.width/s,o=this.getDashRanges(t,this.width,i);n?this.addRoundDash(o,i,r):this.addRegularDash(o,"square"===e?.5*i:0)}const a=this.nextRow+r;this.nextRow+=o;const l={tl:[a,r],br:[s,0]};return this.positions[i]=l,l}}ar("LineAtlas",Vh);class $h{constructor(t){this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Uh=s.performance;function Gh(t){const e=t?t.url.toString():void 0;return Uh.getEntriesByName(e)}class qh{constructor(){this.tasks={},this.taskQueue=[],C(["process"],this),this.invoker=new $h(this.process),this.nextId=0}add(t,e){const i=this.nextId++,n=function({type:t,isSymbolTile:e,zoom:i}){return i=i||0,"message"===t?0:"maybePrepare"!==t||e?"parseTile"!==t||e?"parseTile"===t&&e?300-i:"maybePrepare"===t&&e?400-i:500:200-i:100-i}(e);if(0===n){L();try{t()}finally{}return{cancel:()=>{}}}return this.tasks[i]={fn:t,metadata:e,priority:n,id:i},this.taskQueue.push(i),this.invoker.trigger(),{cancel:()=>{delete this.tasks[i]}}}process(){L();try{if(this.taskQueue=this.taskQueue.filter(t=>!!this.tasks[t]),!this.taskQueue.length)return;const t=this.pick();if(null===t)return;const e=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!e)return;e.fn()}finally{}}pick(){let t=null,e=1/0;for(let n=0;n<this.taskQueue.length;n++){const i=this.tasks[this.taskQueue[n]];i.priority<e&&(e=i.priority,t=n)}if(null===t)return null;const i=this.taskQueue[t];return this.taskQueue.splice(t,1),i}remove(){this.invoker.remove()}}function Hh(t,e,i){var n=2*Math.PI*6378137/256/Math.pow(2,i);return[t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}class Wh{constructor(t,e,i){this.z=t,this.x=e,this.y=i,this.key=Yh(0,t,t,e,i)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,e){const i=(r=this.y,o=this.z,s=Hh(256*(n=this.x),256*(r=Math.pow(2,o)-r-1),o),a=Hh(256*(n+1),256*(r+1),o),s[0]+","+s[1]+","+a[0]+","+a[1]);var n,r,o,s,a;const l=function(t,e,i){let n,r="";for(let o=t;o>0;o--)n=1<<o-1,r+=(e&n?1:0)+(i&n?2:0);return r}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",i)}getTilePoint(t){const e=Math.pow(2,this.z);return new r((t.x*e-this.x)*$s,(t.y*e-this.y)*$s)}getTileVec3(t){const e=Math.pow(2,this.z);return ba((t.x*e-this.x)*$s,(t.y*e-this.y)*$s,Fh(t.z,t.y))}toString(){return`${this.z}/${this.x}/${this.y}`}}class Zh{constructor(t,e){this.wrap=t,this.canonical=e,this.key=Yh(t,e.z,e.z,e.x,e.y)}}class Xh{constructor(t,e,i,n,r){this.overscaledZ=t,this.wrap=e,this.canonical=new Wh(i,+n,+r),this.key=0===e&&t===i?this.canonical.key:Yh(e,t,i,n,r)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const e=this.canonical.z-t;return t>this.canonical.z?new Xh(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Xh(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)}calculateScaledKey(t,e=!0){if(this.overscaledZ===t&&e)return this.key;if(t>this.canonical.z)return Yh(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y);{const i=this.canonical.z-t;return Yh(this.wrap*+e,t,t,this.canonical.x>>i,this.canonical.y>>i)}}isChildOf(t){if(t.wrap!==this.wrap)return!1;const e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}children(t){if(this.overscaledZ>=t)return[new Xh(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const e=this.canonical.z+1,i=2*this.canonical.x,n=2*this.canonical.y;return[new Xh(e,this.wrap,e,i,n),new Xh(e,this.wrap,e,i+1,n),new Xh(e,this.wrap,e,i,n+1),new Xh(e,this.wrap,e,i+1,n+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new Xh(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new Xh(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Zh(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new Nh(t.x-this.wrap,t.y))}getTileVec3(t){return this.canonical.getTileVec3(new Nh(t.x-this.wrap,t.y,t.z))}}function Yh(t,e,i,n,r){const o=1<<Math.min(i,22);let s=o*(r%o)+n%o;return t&&i<22&&(s+=o*o*((t<0?-2*t-1:2*t)%(1<<2*(22-i)))),16*(32*s+i)+(e-i)}ar("CanonicalTileID",Wh),ar("OverscaledTileID",Xh,{omit:["projMatrix"]});class Kh{constructor(t){this._stringToNumber={},this._numberToString=[];for(let e=0;e<t.length;e++){const i=t[e];this._stringToNumber[i]=e,this._numberToString[e]=i}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}class Jh{constructor(t,e,i,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=i,t._y=n,this.properties=t.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t}}var Qh=Oo([{name:"a_pos",type:"Int16",components:2}]);class td{constructor(t,e,i){this.tileID=t,this.uid=x(),this.uses=0,this.tileSize=e,this.tileZoom=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(t){const e=t+this.timeAdded;e<$.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}loadVectorData(t,e,i){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){const i={};if(!e)return i;for(const n of t){const t=n.layerIds.map(t=>e.getLayer(t)).filter(Boolean);if(0!==t.length){n.layers=t,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map(e=>t.filter(t=>t.id===e)[0]));for(const e of t)i[e.id]=n}}return i}(t.buckets,e.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const e=this.buckets[t];if(e instanceof ph){if(this.hasSymbolBuckets=!0,!i)break;e.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const e=this.buckets[t];if(e instanceof ph&&e.hasRTLText){this.hasRTLText=!0,oo.isLoading()||oo.isLoaded()||"deferred"!==no()||ro();break}}this.queryPadding=0;for(const t in this.buckets){const i=this.buckets[t];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(t).queryRadius(i))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas)}else this.collisionBoxArray=new Ko}unloadVectorData(){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(t){return this.buckets[t.id]}upload(t){for(const i in this.buckets){const e=this.buckets[i];e.uploadPending()&&e.upload(t)}const e=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ih(t,this.imageAtlas.image,e.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ih(t,this.glyphAtlasImage,e.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Ih(t,this.lineAtlas.image,e.ALPHA),this.lineAtlas.uploaded=!0)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,e,i,n,r,o,s,a){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:n,pixelPosMatrix:s,transform:o,params:r},t,e,i):{}}querySourceFeatures(t,e){const i=this.latestFeatureIndex;if(!i||!i.rawTileData)return;const n=i.loadVTLayers(),r=e?e.sourceLayer:"",o=n._geojsonTileLayer||n[r];if(!o)return;const s=Tn(e&&e.filter),{z:a,x:l,y:c}=this.tileID.canonical,u={z:a,x:l,y:c};for(let h=0;h<o.length;h++){const e=o.feature(h);if(s.needGeometry){const t=Hs(e,!0);if(!s.filter(new so(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!s.filter(new so(this.tileID.overscaledZ),e))continue;const n=i.getId(e,r),d=new Jh(e,a,l,c,n);d.tile=u,t.push(d)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const e=this.expirationTime;if(t.cacheControl){const e=z(t.cacheControl);e["max-age"]&&(this.expirationTime=Date.now()+1e3*e["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const t=Date.now();let i=!1;if(this.expirationTime>t)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{const n=this.expirationTime-e;n?this.expirationTime=t+Math.max(n,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(t,e){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(t).length)return;const i=this.latestFeatureIndex.loadVTLayers();for(const n in this.buckets){if(!e.style.hasLayer(n))continue;const r=this.buckets[n],o=r.layers[0].sourceLayer||"_geojsonTileLayer",s=i[o],a=t[o];if(!s||!a||0===Object.keys(a).length)continue;r.update(a,s,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=e&&e.style&&e.style.getLayer(n);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(r)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<$.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=$.now()+t}setDependencies(t,e){const i={};for(const n of e)i[n]=!0;this.dependencies[t]=i}hasDependency(t,e){for(const i of t){const t=this.dependencies[i];if(t)for(const i of e)if(t[i])return!0}return!1}clearQueryDebugViz(){}}class ed{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,e,i){const n=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][n]=this.stateChanges[t][n]||{},_(this.stateChanges[t][n],i),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==n&&(this.deletedStates[t][e]=null)}else if(this.deletedStates[t]&&null===this.deletedStates[t][n]){this.deletedStates[t][n]={};for(const e in this.state[t][n])i[e]||(this.deletedStates[t][n][e]=null)}else for(const r in i)this.deletedStates[t]&&this.deletedStates[t][n]&&null===this.deletedStates[t][n][r]&&delete this.deletedStates[t][n][r]}removeFeatureState(t,e,i){if(null===this.deletedStates[t])return;const n=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},i&&void 0!==e)null!==this.deletedStates[t][n]&&(this.deletedStates[t][n]=this.deletedStates[t][n]||{},this.deletedStates[t][n][i]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][n])for(i in this.deletedStates[t][n]={},this.stateChanges[t][n])this.deletedStates[t][n][i]=null;else this.deletedStates[t][n]=null;else this.deletedStates[t]=null}getState(t,e){const i=String(e),n=_({},(this.state[t]||{})[i],(this.stateChanges[t]||{})[i]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){const i=this.deletedStates[t][e];if(null===i)return{};for(const t in i)delete n[t]}return n}initializeTileState(t,e){t.setFeatureState(this.state,e)}coalesceChanges(t,e){const i={};for(const n in this.stateChanges){this.state[n]=this.state[n]||{};const t={};for(const e in this.stateChanges[n])this.state[n][e]||(this.state[n][e]={}),_(this.state[n][e],this.stateChanges[n][e]),t[e]=this.state[n][e];i[n]=t}for(const n in this.deletedStates){this.state[n]=this.state[n]||{};const t={};if(null===this.deletedStates[n])for(const e in this.state[n])t[e]={},this.state[n][e]={};else for(const e in this.deletedStates[n]){if(null===this.deletedStates[n][e])this.state[n][e]={};else for(const t of Object.keys(this.deletedStates[n][e]))delete this.state[n][e][t];t[e]=this.state[n][e]}i[n]=i[n]||{},_(i[n],t)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(i).length)for(const n in t)t[n].setFeatureState(i,e)}}class id{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(t,e){const i=this.toIdx(t,e);return{min:this.minimums[i],max:this.maximums[i]}}isLeaf(t,e){return this.leaves[this.toIdx(t,e)]}toIdx(t,e){return e*this.size+t}}function nd(t,e,i,n){let r=0,o=Number.MAX_VALUE;for(let s=0;s<3;s++)if(Math.abs(n[s])<1e-15){if(i[s]<t[s]||i[s]>e[s])return null}else{const a=1/n[s];let l=(t[s]-i[s])*a,c=(e[s]-i[s])*a;if(l>c){const t=l;l=c,c=t}if(l>r&&(r=l),c<o&&(o=c),r>o)return null}return r}function rd(t,e,i,n,r,o,s,a,l,c,u){const h=n-t,d=r-e,p=o-i,f=s-t,m=a-e,g=l-i,y=u[1]*g-u[2]*m,v=u[2]*f-u[0]*g,_=u[0]*m-u[1]*f,b=h*y+d*v+p*_;if(Math.abs(b)<1e-15)return null;const x=1/b,w=c[0]-t,S=c[1]-e,T=c[2]-i,C=(w*y+S*v+T*_)*x;if(C<0||C>1)return null;const O=S*p-T*d,k=T*h-w*p,A=w*d-S*h,I=(u[0]*O+u[1]*k+u[2]*A)*x;return I<0||C+I>1?null:(f*O+m*k+g*A)*x}function od(t,e,i){return(t-e)/(i-e)}function sd(t,e,i,n,r,o,s,a,l){const c=1<<i,u=o-n,h=s-r,d=(t+1)/c*u+n,p=(e+0)/c*h+r,f=(e+1)/c*h+r;a[0]=(t+0)/c*u+n,a[1]=p,l[0]=d,l[1]=f}class ad{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const e=function(t){const e=Math.ceil(Math.log2(t.dim/8)),i=[];let n=Math.ceil(Math.pow(2,e));const r=1/n,o=(t,e,i,n,r)=>{const o=n?1:0,s=(t+1)*i-o,a=e*i,l=(e+1)*i-o;r[0]=t*i,r[1]=a,r[2]=s,r[3]=l};let s=new id(n);const a=[];for(let l=0;l<n*n;l++){o(l%n,Math.floor(l/n),r,!1,a);const e=cd(a[0],a[1],t),i=cd(a[2],a[1],t),c=cd(a[2],a[3],t),u=cd(a[0],a[3],t);s.minimums.push(Math.min(e,i,c,u)),s.maximums.push(Math.max(e,i,c,u)),s.leaves.push(1)}for(i.push(s),n/=2;n>=1;n/=2){const t=i[i.length-1];s=new id(n);for(let e=0;e<n*n;e++){o(e%n,Math.floor(e/n),2,!0,a);const i=t.getElevation(a[0],a[1]),r=t.getElevation(a[2],a[1]),l=t.getElevation(a[2],a[3]),c=t.getElevation(a[0],a[3]),u=t.isLeaf(a[0],a[1]),h=t.isLeaf(a[2],a[1]),d=t.isLeaf(a[2],a[3]),p=t.isLeaf(a[0],a[3]),f=Math.min(i.min,r.min,l.min,c.min),m=Math.max(i.max,r.max,l.max,c.max),g=u&&h&&d&&p;s.maximums.push(m),s.minimums.push(f),s.leaves.push(m-f<=5&&g?1:0)}i.push(s)}return i}(this.dem),i=e.length-1,n=e[i];this._addNode(n.minimums[0],n.maximums[0],n.leaves[0]),this._construct(e,0,0,i,0)}raycastRoot(t,e,i,n,r,o,s=1){return nd([t,e,-100],[i,n,this.maximums[0]*s],r,o)}raycast(t,e,i,n,r,o,s=1){if(!this.nodeCount)return null;const a=this.raycastRoot(t,e,i,n,r,o,s);if(null==a)return null;const l=[],c=[],u=[],h=[],d=[{idx:0,t:a,nodex:0,nodey:0,depth:0}];for(;d.length>0;){const{idx:a,t:p,nodex:f,nodey:m,depth:g}=d.pop();if(this.leaves[a]){sd(f,m,g,t,e,i,n,u,h);const a=1<<g,l=(f+0)/a,c=(f+1)/a,d=(m+0)/a,y=(m+1)/a,v=cd(l,d,this.dem)*s,_=cd(c,d,this.dem)*s,b=cd(c,y,this.dem)*s,x=cd(l,y,this.dem)*s,w=rd(u[0],u[1],v,h[0],u[1],_,h[0],h[1],b,r,o),S=rd(h[0],h[1],b,u[0],h[1],x,u[0],u[1],v,r,o),T=Math.min(null!==w?w:Number.MAX_VALUE,null!==S?S:Number.MAX_VALUE);if(T!==Number.MAX_VALUE)return T;{const t=Sa([],r,o,p);if(ld(v,_,x,b,od(t[0],u[0],h[0]),od(t[1],u[1],h[1]))>=t[2])return p}continue}let y=0;for(let d=0;d<this._siblingOffset.length;d++){sd((f<<1)+this._siblingOffset[d][0],(m<<1)+this._siblingOffset[d][1],g+1,t,e,i,n,u,h),u[2]=-100,h[2]=this.maximums[this.childOffsets[a]+d]*s;const p=nd(u,h,r,o);if(null!=p){const t=p;l[d]=t;let e=!1;for(let i=0;i<y&&!e;i++)t>=l[c[i]]&&(c.splice(i,0,d),e=!0);e||(c[y]=d),y++}}for(let t=0;t<y;t++){const e=c[t];d.push({idx:this.childOffsets[a]+e,t:l[e],nodex:(f<<1)+this._siblingOffset[e][0],nodey:(m<<1)+this._siblingOffset[e][1],depth:g+1})}}return null}_addNode(t,e,i){return this.minimums.push(t),this.maximums.push(e),this.leaves.push(i),this.childOffsets.push(0),this.nodeCount++}_construct(t,e,i,n,r){if(1===t[n].isLeaf(e,i))return;this.childOffsets[r]||(this.childOffsets[r]=this.nodeCount);const o=n-1,s=t[o];let a,l=0;for(let c=0;c<this._siblingOffset.length;c++){const t=2*e+this._siblingOffset[c][0],n=2*i+this._siblingOffset[c][1],r=s.getElevation(t,n),o=s.isLeaf(t,n),u=this._addNode(r.min,r.max,o);o&&(l|=1<<c),a||(a=u)}for(let c=0;c<this._siblingOffset.length;c++)l&1<<c||this._construct(t,2*e+this._siblingOffset[c][0],2*i+this._siblingOffset[c][1],o,a+c)}}function ld(t,e,i,n,r,o){return ii(ii(t,i,o),ii(e,n,o),r)}function cd(t,e,i){const n=i.dim,r=m(t*n-.5,0,n-1),o=m(e*n-.5,0,n-1),s=Math.floor(r),a=Math.floor(o),l=Math.min(s+1,n-1),c=Math.min(a+1,n-1);return ld(i.get(s,a),i.get(l,a),i.get(s,c),i.get(l,c),r-s,o-a)}const ud={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class hd{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,e,i,n=!1,r=!1){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(i&&"mapbox"!==i&&"terrarium"!==i)return M(`"${i}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=e.height;const o=this.dim=e.height-2;if(this.data=new Uint32Array(e.data.buffer),this.encoding=i||"mapbox",this.borderReady=n,!n){for(let t=0;t<o;t++)this.data[this._idx(-1,t)]=this.data[this._idx(0,t)],this.data[this._idx(o,t)]=this.data[this._idx(o-1,t)],this.data[this._idx(t,-1)]=this.data[this._idx(t,0)],this.data[this._idx(t,o)]=this.data[this._idx(t,o-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(o,-1)]=this.data[this._idx(o-1,0)],this.data[this._idx(-1,o)]=this.data[this._idx(0,o-1)],this.data[this._idx(o,o)]=this.data[this._idx(o-1,o-1)],r&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new ad(this)}get(t,e,i=!1){const n=new Uint8Array(this.data.buffer);i&&(t=m(t,-1,this.dim),e=m(e,-1,this.dim));const r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])}static getUnpackVector(t){return ud[t]}get unpackVector(){return ud[this.encoding]}_idx(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)}_unpackMapbox(t,e,i){return(256*t*256+256*e+i)/10-1e4}_unpackTerrarium(t,e,i){return 256*t+e+i/256-32768}static pack(t,e){const i=[0,0,0,0],n=hd.getUnpackVector(e);let r=Math.floor((t+n[3])/n[2]);return i[2]=r%256,r=Math.floor(r/256),i[1]=r%256,r=Math.floor(r/256),i[0]=r,i}getPixels(){return new Ua({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,e,i){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let n=e*this.dim,r=e*this.dim+this.dim,o=i*this.dim,s=i*this.dim+this.dim;switch(e){case-1:n=r-1;break;case 1:r=n+1}switch(i){case-1:o=s-1;break;case 1:s=o+1}const a=-e*this.dim,l=-i*this.dim;for(let c=o;c<s;c++)for(let e=n;e<r;e++)this.data[this._idx(e,c)]=t.data[this._idx(e+a,c+l)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}ar("DEMData",hd),ar("DemMinMaxQuadTree",ad,{omit:["dem"]});class dd{constructor(t,e){this.max=t,this.onRemove=e,this.reset()}reset(){for(const t in this.data)for(const e of this.data[t])e.timeout&&clearTimeout(e.timeout),this.onRemove(e.value);return this.data={},this.order=[],this}add(t,e,i){const n=t.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const r={value:e,timeout:void 0};if(void 0!==i&&(r.timeout=setTimeout(()=>{this.remove(t,r)},i)),this.data[n].push(r),this.order.push(n),this.order.length>this.max){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value}getByKey(t){const e=this.data[t];return e?e[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,e){if(!this.has(t))return this;const i=t.wrapped().key,n=void 0===e?0:this.data[i].indexOf(e),r=this.data[i][n];return this.data[i].splice(n,1),r.timeout&&clearTimeout(r.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(r.value),this.order.splice(this.order.indexOf(i),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}filter(t){const e=[];for(const i in this.data)for(const n of this.data[i])t(n.value)||e.push(n);for(const i of e)this.remove(i.value.tileID,i)}}class pd{constructor(t,e,i){this.func=t,this.mask=e,this.range=i}}pd.ReadOnly=!1,pd.ReadWrite=!0,pd.disabled=new pd(519,pd.ReadOnly,[0,1]);const fd=7680;class md{constructor(t,e,i,n,r,o){this.test=t,this.ref=e,this.mask=i,this.fail=n,this.depthFail=r,this.pass=o}}md.disabled=new md({func:519,mask:0},0,0,fd,fd,fd);class gd{constructor(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i}}gd.Replace=[1,0],gd.disabled=new gd(gd.Replace,ue.transparent,[!1,!1,!1,!1]),gd.unblended=new gd(gd.Replace,ue.transparent,[!0,!0,!0,!0]),gd.alphaBlended=new gd([1,771],ue.transparent,[!0,!0,!0,!0]);const yd=1029,vd=2305;class _d{constructor(t,e,i){this.enable=t,this.mode=e,this.frontFace=i}}_d.disabled=new _d(!1,yd,vd),_d.backCCW=new _d(!0,yd,vd),_d.backCW=new _d(!0,yd,2304),_d.frontCW=new _d(!0,1028,2304),_d.frontCCW=new _d(!0,1028,vd);class bd extends Bt{constructor(t,e,i){super(),this.id=t,this._onlySymbols=i,e.on("data",t=>{"source"===t.dataType&&"metadata"===t.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),e.on("error",()=>{this._sourceErrored=!0}),this._source=e,this._tiles={},this._cache=new dd(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ed}onAdd(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const t in this._tiles){const e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(t,e){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,e)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,()=>{})}_abortTile(t){if(this._source.abortTile)return this._source.abortTile(t,()=>{})}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const e in this._tiles){const i=this._tiles[e];i.upload(t),i.prepare(this.map.style.imageManager)}}getIds(){return v(this._tiles).map(t=>t.tileID).sort(xd).map(t=>t.key)}getRenderableIds(t){const e=[];for(const i in this._tiles)this._isIdRenderable(+i,t)&&e.push(this._tiles[i]);return t?e.sort((t,e)=>{const i=t.tileID,n=e.tileID,o=new r(i.canonical.x,i.canonical.y)._rotate(this.transform.angle),s=new r(n.canonical.x,n.canonical.y)._rotate(this.transform.angle);return i.overscaledZ-n.overscaledZ||s.y-o.y||s.x-o.x}).map(t=>t.tileID.key):e.map(t=>t.tileID).sort(xd).map(t=>t.key)}hasRenderableParent(t){const e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)}_isIdRenderable(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t in this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(+t,"reloading")}}_reloadTile(t,e){const i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))}_tileLoaded(t,e,i,n){if(n)return t.state="errored",void(404!==n.status?this._source.fire(new jt(n,{tile:t})):this.update(this.transform));t.timeAdded=$.now(),"expired"===i&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new zt("data",{dataType:"source",tile:t,coord:t.tileID,sourceCacheId:this.id}))}_backfillDEM(t){const e=this.getRenderableIds();for(let n=0;n<e.length;n++){const r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){const e=this.getTileByID(r);i(t,e),i(e,t)}}function i(t,e){if(!t.dem||t.dem.borderReady)return;t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0;let i=e.tileID.canonical.x-t.tileID.canonical.x;const n=e.tileID.canonical.y-t.tileID.canonical.y,r=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+r)?i+=r:1===Math.abs(i-r)&&(i-=r)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,n),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,e,i,n){for(const r in this._tiles){let o=this._tiles[r];if(n[r]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>i)continue;let s=o.tileID;for(;o&&o.tileID.overscaledZ>e+1;){const t=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[t.key],o&&o.hasData()&&(s=t)}let a=s;for(;a.overscaledZ>e;)if(a=a.scaledTo(a.overscaledZ-1),t[a.key]){n[s.key]=s;break}}}findLoadedParent(t,e){if(t.key in this._loadedParentTiles){const i=this._loadedParentTiles[t.key];return i&&i.tileID.overscaledZ>=e?i:null}for(let i=t.overscaledZ-1;i>=e;i--){const e=t.scaledTo(i),n=this._getLoadedTile(e);if(n)return n}}_getLoadedTile(t){const e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}updateCacheSize(t,e){e=e||this._source.tileSize;const i=Math.ceil(t.width/e)+1,n=Math.ceil(t.height/e)+1,r=Math.floor(i*n*5),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(o)}handleWrapJump(t){const e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){const t={};for(const i in this._tiles){const n=this._tiles[i];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+e),t[n.tileID.key]=n}this._tiles=t;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(+e,this._tiles[e])}}update(t,e,i){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!i)return;let n;this.updateCacheSize(t,e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(t=>new Xh(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)):(n=t.coveringTiles({tileSize:e||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!i,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(n=n.filter(t=>this._source.hasTile(t)))):n=[];const r=this._updateRetainedTiles(n);if(wd(this._source.type)&&0!==n.length){const t={},e={},i=Object.keys(r);for(const n of i){const i=r[n],o=this._tiles[n];if(!o||o.fadeEndTime&&o.fadeEndTime<=$.now())continue;const s=this.findLoadedParent(i,Math.max(i.overscaledZ-bd.maxOverzooming,this._source.minzoom));s&&(this._addTile(s.tileID),t[s.tileID.key]=s.tileID),e[n]=i}const o=n[n.length-1].overscaledZ;for(const n in this._tiles){const t=this._tiles[n];if(r[n]||!t.hasData())continue;let i=t.tileID;for(;i.overscaledZ>o;){i=i.scaledTo(i.overscaledZ-1);const o=this._tiles[i.key];if(o&&o.hasData()&&e[i.key]){r[n]=t.tileID;break}}}for(const n in t)r[n]||(this._coveredTiles[n]=!0,r[n]=t[n])}for(const s in r)this._tiles[s].clearFadeHold();const o=function(t,e){const i=[];for(const n in t)n in e||i.push(n);return i}(this._tiles,r);for(const s of o){const t=this._tiles[s];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(+s)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t)}_updateRetainedTiles(t){const e={};if(0===t.length)return e;const i={},n=t[t.length-1].overscaledZ,r=t[0].overscaledZ,o=Math.max(r-bd.maxOverzooming,this._source.minzoom),s=Math.max(r+bd.maxUnderzooming,this._source.minzoom),a={};for(const l of t){const t=this._addTile(l);e[l.key]=l,t.hasData()||n<this._source.maxzoom&&(a[l.key]=l)}this._retainLoadedChildren(a,n,s,e);for(const l of t){let t=this._tiles[l.key];if(t.hasData())continue;if(l.canonical.z>=this._source.maxzoom){const t=l.children(this._source.maxzoom)[0],i=this.getTile(t);if(i&&i.hasData()){e[t.key]=t;continue}}else{const t=l.children(this._source.maxzoom);if(e[t[0].key]&&e[t[1].key]&&e[t[2].key]&&e[t[3].key])continue}let n=t.wasRequested();for(let r=l.overscaledZ-1;r>=o;--r){const o=l.scaledTo(r);if(i[o.key])break;if(i[o.key]=!0,t=this.getTile(o),!t&&n&&(t=this._addTile(o)),t&&(e[o.key]=o,n=t.wasRequested(),t.hasData()))break}}return e}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const e=[];let i,n=this._tiles[t].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){i=this._loadedParentTiles[n.key];break}e.push(n.key);const t=n.scaledTo(n.overscaledZ-1);if(i=this._getLoadedTile(t),i)break;n=t}for(const t of e)this._loadedParentTiles[t]=i}}_addTile(t){let e=this._tiles[t.key];if(e)return e;e=this._cache.getAndRemove(t),e&&(this._setTileReloadTimer(t.key,e),e.tileID=t,this._state.initializeTileState(e,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e)));const i=Boolean(e);return i||(e=new td(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom),this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state))),e?(e.uses++,this._tiles[t.key]=e,i||this._source.fire(new zt("dataloading",{tile:e,coord:e.tileID,dataType:"source"})),e):null}_setTileReloadTimer(t,e){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const i=e.getExpiryTimeout();i&&(this._timers[t]=setTimeout(()=>{this._reloadTile(t,"expired"),delete this._timers[t]},i))}_removeTile(t){const e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(+t);this._cache.reset()}tilesIn(t,e,i){const n=[],r=this.transform;if(!r)return n;for(const o in this._tiles){const s=this._tiles[o];if(i&&s.clearQueryDebugViz(),s.holdingForFade())continue;const a=t.containsTile(s,r,e);a&&n.push(a)}return n}getVisibleCoordinates(t){const e=this.getRenderableIds(t).map(t=>this._tiles[t].tileID);for(const i of e)i.projMatrix=this.transform.calculateProjMatrix(i.toUnwrapped());return e}hasTransition(){if(this._source.hasTransition())return!0;if(wd(this._source.type))for(const t in this._tiles){const e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=$.now())return!0}return!1}setFeatureState(t,e,i){this._state.updateState(t=t||"_geojsonTileLayer",e,i)}removeFeatureState(t,e,i){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,i)}getFeatureState(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)}setDependencies(t,e,i){const n=this._tiles[t];n&&n.setDependencies(e,i)}reloadTilesForDependencies(t,e){for(const i in this._tiles)this._tiles[i].hasDependency(t,e)&&this._reloadTile(+i,"reloading");this._cache.filter(i=>!i.hasDependency(t,e))}}function xd(t,e){const i=Math.abs(2*t.wrap)-+(t.wrap<0),n=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||n-i||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function wd(t){return"raster"===t||"image"===t||"video"===t}bd.maxOverzooming=10,bd.maxUnderzooming=3;class Sd{constructor(t,e,i){this._demTile=t,this._dem=this._demTile.dem,this._scale=e,this._offset=i}static create(t,e,i){const n=i||t.findDEMTileFor(e);if(!n||!n.dem)return;const r=n.dem,o=n.tileID,s=1<<e.canonical.z-o.canonical.z;return new Sd(n,n.tileSize/$s/s,[(e.canonical.x/s-o.canonical.x)*r.dim,(e.canonical.y/s-o.canonical.y)*r.dim])}tileCoordToPixel(t,e){const i=e*this._scale+this._offset[1],n=Math.floor(t*this._scale+this._offset[0]),o=Math.floor(i);return new r(n,o)}getElevationAt(t,e,i,n){const r=t*this._scale+this._offset[0],o=e*this._scale+this._offset[1],s=Math.floor(r),a=Math.floor(o),l=this._dem;return n=!!n,i?ii(ii(l.get(s,a,n),l.get(s,a+1,n),o-a),ii(l.get(s+1,a,n),l.get(s+1,a+1,n),o-a),r-s):l.get(s,a,n)}getElevationAtPixel(t,e,i){return this._dem.get(t,e,!!i)}getMeterToDEM(t){return(1<<this._demTile.tileID.canonical.z)*Bh(1,t)*this._dem.stride}}class Td{constructor(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new ir($s,16,0),this.featureIndexArray=new os,this.promoteId=e}insert(t,e,i,n,r,o=0){const s=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,n,r,o);const a=this.grid;for(let l=0;l<e.length;l++){const t=e[l],i=[1/0,1/0,-1/0,-1/0];for(let e=0;e<t.length;e++){const n=t[e];i[0]=Math.min(i[0],n.x),i[1]=Math.min(i[1],n.y),i[2]=Math.max(i[2],n.x),i[3]=Math.max(i[3],n.y)}i[0]<$s&&i[1]<$s&&i[2]>=0&&i[3]>=0&&a.insert(s,i[0],i[1],i[2],i[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ql.VectorTile(new Dc(this.rawTileData)).layers,this.sourceLayerCoder=new Kh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,e,i,n){this.loadVTLayers();const r=t.params||{},o=Tn(r.filter),s=t.tileResult,a=t.transform,l=s.bufferedTilespaceBounds,c=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,(t,e,i,n)=>oa(s.bufferedTilespaceGeometry,t,e,i,n));c.sort(Od);let u=null;a.elevation&&c.length>0&&(u=Sd.create(a.elevation,this.tileID));const h={};let d;for(let p=0;p<c.length;p++){const a=c[p];if(a===d)continue;d=a;const l=this.featureIndexArray.get(a);let f=null;this.loadMatchingFeature(h,l,o,r.layers,r.availableImages,e,i,n,(e,i,n,r=0)=>(f||(f=qs(e)),i.queryIntersectsFeature(s,e,n,f,this.z,t.transform,t.pixelPosMatrix,u,r)))}return h}loadMatchingFeature(t,e,i,n,r,o,s,a,l){const{featureIndex:c,bucketIndex:u,sourceLayerIndex:h,layoutVertexArrayOffset:d}=e,p=this.bucketLayerIDs[u];if(n&&!function(t,e){for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1}(n,p))return;const f=this.sourceLayerCoder.decode(h),m=this.vtLayers[f].feature(c);if(i.needGeometry){const t=Hs(m,!0);if(!i.filter(new so(this.tileID.overscaledZ),t,this.tileID.canonical))return}else if(!i.filter(new so(this.tileID.overscaledZ),m))return;const g=this.getId(m,f);for(let y=0;y<p.length;y++){const e=p[y];if(n&&n.indexOf(e)<0)continue;const i=o[e];if(!i)continue;let u={};void 0!==g&&a&&(u=a.getState(i.sourceLayer||"_geojsonTileLayer",g));const h=_({},s[e]);h.paint=Cd(h.paint,i.paint,m,u,r),h.layout=Cd(h.layout,i.layout,m,u,r);const f=!l||l(m,i,u,d);if(!f)continue;const v=new Jh(m,this.z,this.x,this.y,g);v.layer=h;let b=t[e];void 0===b&&(b=t[e]=[]),b.push({featureIndex:c,feature:v,intersectionZ:f})}}lookupSymbolFeatures(t,e,i,n,r,o,s,a){const l={};this.loadVTLayers();const c=Tn(r);for(const u of t)this.loadMatchingFeature(l,{bucketIndex:i,sourceLayerIndex:n,featureIndex:u,layoutVertexArrayOffset:0},c,o,s,a,e);return l}hasLayer(t){for(const e of this.bucketLayerIDs)for(const i of e)if(t===i)return!0;return!1}getId(t,e){let i=t.id;return this.promoteId&&(i=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]],"boolean"==typeof i&&(i=Number(i))),i}}function Cd(t,e,i,n,r){return k(t,(t,o)=>{const s=e instanceof mo?e.get(o):null;return s&&s.evaluate?s.evaluate(i,n,r):s})}function Od(t,e){return e-t}ar("FeatureIndex",Td,{omit:["rawTileData","sourceLayerCoder"]});class kd{constructor(t){const e={},i=[];for(const s in t){const n=t[s],r=e[s]={};for(const t in n.glyphs){const e=n.glyphs[+t];if(!e||0===e.bitmap.width||0===e.bitmap.height)continue;const o=e.metrics.localGlyph?2:1,s={x:0,y:0,w:e.bitmap.width+2*o,h:e.bitmap.height+2*o};i.push(s),r[t]=s}}const{w:n,h:r}=eu(i),o=new $a({width:n||1,height:r||1});for(const s in t){const i=t[s];for(const t in i.glyphs){const n=i.glyphs[+t];if(!n||0===n.bitmap.width||0===n.bitmap.height)continue;const r=e[s][t],a=n.metrics.localGlyph?2:1;$a.copy(n.bitmap,o,{x:0,y:0},{x:r.x+a,y:r.y+a},n.bitmap)}}this.image=o,this.positions=e}}ar("GlyphAtlas",kd);class Ad{constructor(t){this.tileID=new Xh(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile}parse(t,e,i,n,r){this.status="parsing",this.data=t,this.collisionBoxArray=new Ko;const o=new Kh(Object.keys(t.layers).sort()),s=new Td(this.tileID,this.promoteId);s.bucketLayerIDs=[];const a={},l=new Vh(256,256),c={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:i},u=e.familiesBySource[this.source];for(const v in u){const e=t.layers[v];if(!e)continue;let n=!1,r=!1;for(const t of u[v])"symbol"===t[0].type?n=!0:r=!0;if(!0===this.isSymbolTile&&!n)continue;if(!1===this.isSymbolTile&&!r)continue;1===e.version&&M(`Vector tile source "${this.source}" layer "${v}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const l=o.encode(v),h=[];for(let t=0;t<e.length;t++){const i=e.feature(t),n=s.getId(i,v);h.push({feature:i,id:n,index:t,sourceLayerIndex:l})}for(const t of u[v]){const e=t[0];void 0!==this.isSymbolTile&&"symbol"===e.type!==this.isSymbolTile||e.minzoom&&this.zoom<Math.floor(e.minzoom)||e.maxzoom&&this.zoom>=e.maxzoom||"none"!==e.visibility&&(Id(t,this.zoom,i),(a[e.id]=e.createBucket({index:s.bucketLayerIDs.length,layers:t,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:l,sourceID:this.source,enableTerrain:this.enableTerrain})).populate(h,c,this.tileID.canonical),s.bucketLayerIDs.push(t.map(t=>t.id)))}}let h,d,p,f;l.trim();const m={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},g=k(c.glyphDependencies,t=>Object.keys(t).map(Number));Object.keys(g).length?n.send("getGlyphs",{uid:this.uid,stacks:g},(t,e)=>{h||(h=t,d=e,b.call(this))},void 0,!1,m):d={};const y=Object.keys(c.iconDependencies);y.length?n.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"icons"},(t,e)=>{h||(h=t,p=e,b.call(this))},void 0,!1,m):p={};const _=Object.keys(c.patternDependencies);function b(){if(h)return r(h);if(d&&p&&f){const t=new kd(d),e=new nu(p,f);for(const n in a){const r=a[n];r instanceof ph?(Id(r.layers,this.zoom,i),Ku(r,d,t.positions,p,e.iconPositions,this.showCollisionBoxes,this.tileID.canonical,this.tileZoom)):r.hasPattern&&(r instanceof cc||r instanceof Ml||r instanceof Yl)&&(Id(r.layers,this.zoom,i),r.addFeatures(c,this.tileID.canonical,e.patternPositions))}this.status="done",r(null,{buckets:v(a).filter(t=>!t.isEmpty()),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,lineAtlas:l,imageAtlas:e,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?t.positions:null})}}_.length?n.send("getImages",{icons:_,source:this.source,tileID:this.tileID,type:"patterns"},(t,e)=>{h||(h=t,f=e,b.call(this))},void 0,!1,m):f={},b.call(this)}}function Id(t,e,i){const n=new so(e);for(const r of t)r.recalculate(n,i)}class Ed{constructor(t){this.entries={},this.scheduler=t}request(t,e,i,n){const r=this.entries[t]=this.entries[t]||{callbacks:[]};if(r.result){const[t,i]=r.result;return this.scheduler?this.scheduler.add(()=>{n(t,i)},e):n(t,i),()=>{}}return r.callbacks.push(n),r.cancel||(r.cancel=i((i,n)=>{r.result=[i,n];for(const t of r.callbacks)this.scheduler?this.scheduler.add(()=>{t(i,n)},e):t(i,n);setTimeout(()=>delete this.entries[t],3e3)})),()=>{r.result||(r.callbacks=r.callbacks.filter(t=>t!==n),r.callbacks.length||(r.cancel(),delete this.entries[t]))}}}function Md(t,e,i){const n=JSON.stringify(t.request);return t.data&&(this.deduped.entries[n]={result:[null,t.data]}),this.deduped.request(n,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom},e=>{const n=Ct(t.request,(t,n,r,o)=>{t?e(t):n&&e(null,{vectorTile:i?void 0:new ql.VectorTile(new Dc(n)),rawData:n,cacheControl:r,expires:o})});return()=>{n.cancel(),e()}},e)}t.ARRAY_TYPE=pa,t.AUTH_ERR_MSG=J,t.Actor=class{constructor(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.cancelCallbacks={},C(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=L()?t:s,this.scheduler=new qh}send(t,e,i,n,r=!1,o){const s=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(i.metadata=o,this.callbacks[s]=i);const a=N(this.globalScope)?void 0:[];return this.target.postMessage({id:s,type:t,hasCallback:!!i,targetMapId:n,mustQueue:r,sourceMapId:this.mapId,data:ur(e,a)},a),{cancel:()=>{i&&delete this.callbacks[s],this.target.postMessage({id:s,type:"<cancel>",targetMapId:n,sourceMapId:this.mapId})}}}receive(t){const e=t.data,i=e.id;if(i&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){const t=this.cancelCallbacks[i];delete this.cancelCallbacks[i],t&&t.cancel()}else if(e.mustQueue||L()){const t=this.callbacks[i];this.cancelCallbacks[i]=this.scheduler.add(()=>this.processTask(i,e),t&&t.metadata||{type:"message"})}else this.processTask(i,e)}processTask(t,e){if("<response>"===e.type){const i=this.callbacks[t];delete this.callbacks[t],i&&(e.error?i(hr(e.error)):i(null,hr(e.data)))}else{const i=N(this.globalScope)?void 0:[],n=e.hasCallback?(e,n)=>{delete this.cancelCallbacks[t],this.target.postMessage({id:t,type:"<response>",sourceMapId:this.mapId,error:e?ur(e):null,data:ur(n,i)},i)}:t=>{},r=hr(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,r,n);else if(this.parent.getWorkerSource){const t=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,t[0],r.source)[t[1]](r,n)}else n(new Error("Could not find function "+e.type))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},t.CanonicalTileID=Wh,t.Color=ue,t.ColorMode=gd,t.CullFaceMode=_d,t.DEMData=hd,t.DataConstantProperty=go,t.DedupedRequest=Ed,t.DepthMode=pd,t.EXTENT=$s,t.Elevation=class{getAtPointOrZero(t,e=0){return this.getAtPoint(t,e)||0}getAtPoint(t,e,i=!0){null==e&&(e=null);const n=this._source();if(!n)return e;if(t.y<0||t.y>1)return e;const r=n.getSource().maxzoom,o=1<<r,s=Math.floor(t.x),a=t.x-s,l=new Xh(r,s,r,Math.floor(a*o),Math.floor(t.y*o)),c=this.findDEMTileFor(l);if(!c||!c.dem)return e;const u=c.dem,h=1<<c.tileID.canonical.z,d=(a*h-c.tileID.canonical.x)*u.dim,p=(t.y*h-c.tileID.canonical.y)*u.dim,f=Math.floor(d),m=Math.floor(p);return(i?this.exaggeration():1)*ii(ii(u.get(f,m),u.get(f,m+1),p-m),ii(u.get(f+1,m),u.get(f+1,m+1),p-m),d-f)}getAtTileOffset(t,e,i){const n=1<<t.canonical.z;return this.getAtPointOrZero(new Nh(t.wrap+(t.canonical.x+e/$s)/n,(t.canonical.y+i/$s)/n))}getForTilePoints(t,e,i,n){const r=Sd.create(this,t,n);return!!r&&(e.forEach(t=>{t[2]=this.exaggeration()*r.getElevationAt(t[0],t[1],i)}),!0)}getMinMaxForTile(t){const e=this.findDEMTileFor(t);if(!e||!e.dem)return null;const i=e.dem.tree,n=e.tileID,r=1<<t.canonical.z-n.canonical.z;let o=t.canonical.x/r-n.canonical.x,s=t.canonical.y/r-n.canonical.y,a=0;for(let l=0;l<t.canonical.z-n.canonical.z&&!i.leaves[a];l++){o*=2,s*=2;const t=2*Math.floor(s)+Math.floor(o);a=i.childOffsets[a]+t,o%=1,s%=1}return{min:this.exaggeration()*i.minimums[a],max:this.exaggeration()*i.maximums[a]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(t,e,i){throw new Error("Pure virtual method called.")}pointCoordinate(t){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(t){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},t.ErrorEvent=jt,t.EvaluationParameters=so,t.Event=zt,t.Evented=Bt,t.GlyphManager=ju,t.ImagePosition=iu,t.LineAtlas=Vh,t.LngLat=Dh,t.LngLatBounds=Eh,t.LocalGlyphMode=zu,t.MAX_SAFE_INTEGER=a,t.MercatorCoordinate=Nh,t.ONE_EM=bc,t.OverscaledTileID=Xh,t.Properties=xo,t.RGBAImage=Ua,t.RequestManager=class{constructor(t,e,i){this._transformRequestFn=t,this._customAccessToken=e,this._silenceAuthErrors=!!i,this._createSkuToken()}_createSkuToken(){const t=function(){let t="";for(let e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",K,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}normalizeStyleURL(t,e){if(!Q(t))return t;const i=it(t);return i.path="/styles/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||e)}normalizeGlyphsURL(t,e){if(!Q(t))return t;const i=it(t);return i.path="/fonts/v1"+i.path,this._makeAPIURL(i,this._customAccessToken||e)}normalizeSourceURL(t,e){if(!Q(t))return t;const i=it(t);return i.path=`/v4/${i.authority}.json`,i.params.push("secure"),this._makeAPIURL(i,this._customAccessToken||e)}normalizeSpriteURL(t,e,i,n){const r=it(t);return Q(t)?(r.path=`/styles/v1${r.path}/sprite${e}${i}`,this._makeAPIURL(r,this._customAccessToken||n)):(r.path+=`${e}${i}`,nt(r))}normalizeTileURL(t,e,i){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!Q(t))return t;const n=it(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${e||i&&"raster"!==n.authority&&512===i?"@2x":""}${q.supported?".webp":"$1"}`),"raster"===n.authority?n.path=`/${G.RASTER_URL_PREFIX}${n.path}`:(n.path=n.path.replace(/^.+\/v4\//,"/"),n.path=`/${G.TILE_URL_VERSION}${n.path}`);const r=this._customAccessToken||function(t){for(const e of t){const t=e.match(/^access_token=(.*)$/);if(t)return t[1]}return null}(n.params)||G.ACCESS_TOKEN;return G.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)}canonicalizeTileURL(t,e){const i=it(t);if(!i.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!i.path.match(/\.[\w]+$/))return t;let n="mapbox://";i.path.match(/^\/raster\/v1\//)?n+="raster/"+i.path.replace(`/${G.RASTER_URL_PREFIX}/`,""):n+="tiles/"+i.path.replace(`/${G.TILE_URL_VERSION}/`,"");let r=i.params;return e&&(r=r.filter(t=>!t.match(/^access_token=/))),r.length&&(n+="?"+r.join("&")),n}canonicalizeTileset(t,e){const i=!!e&&Q(e),n=[];for(const r of t.tiles||[])tt(r)?n.push(this.canonicalizeTileURL(r,i)):n.push(r);return n}_makeAPIURL(t,e){const i="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=it(G.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"http"===t.protocol){const e=t.params.indexOf("secure");e>=0&&t.params.splice(e,1)}if("/"!==n.path&&(t.path=`${n.path}${t.path}`),!G.REQUIRE_ACCESS_TOKEN)return nt(t);if(e=e||G.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error("An API access token is required to use Mapbox GL. "+i);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+i)}return t.params=t.params.filter(t=>-1===t.indexOf("access_token")),t.params.push("access_token="+(e||"")),nt(t)}},t.ResourceType=xt,t.SegmentVector=Vs,t.SourceCache=bd,t.StencilMode=md,t.StructArrayLayout1ui2=Zo,t.StructArrayLayout2f1f2i16=Fo,t.StructArrayLayout2i4=Ao,t.StructArrayLayout2ui4=Wo,t.StructArrayLayout3f12=zo,t.StructArrayLayout3ui6=Vo,t.StructArrayLayout4i8=Io,t.Texture=Ih,t.Tile=td,t.Transitionable=co,t.Uniform1f=_s,t.Uniform1i=class extends vs{constructor(t,e){super(t,e),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))}},t.Uniform2f=class extends vs{constructor(t,e){super(t,e),this.current=[0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))}},t.Uniform3f=class extends vs{constructor(t,e){super(t,e),this.current=[0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))}},t.Uniform4f=bs,t.UniformColor=xs,t.UniformMatrix3f=class extends vs{constructor(t,e){super(t,e),this.current=Ss}set(t){for(let e=0;e<9;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix3fv(this.location,!1,t);break}}},t.UniformMatrix4f=class extends vs{constructor(t,e){super(t,e),this.current=ws}set(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(let e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}}},t.UnwrappedTileID=Zh,t.ValidationError=Ft,t.VectorTileWorkerSource=class extends Bt{constructor(t,e,i,n,r){super(),this.actor=t,this.layerIndex=e,this.availableImages=i,this.loadVectorData=r||Md,this.loading={},this.loaded={},this.deduped=new Ed(t.scheduler),this.isSpriteLoaded=n,this.scheduler=t.scheduler}loadTile(t,e){const i=t.uid,n=t&&t.request,r=n&&n.collectResourceTiming,o=this.loading[i]=new Ad(t);o.abort=this.loadVectorData(t,(s,a)=>{const l=!this.loading[i];if(delete this.loading[i],l||s||!a)return o.status="done",l||(this.loaded[i]=o),e(s);const c=a.rawData,u={};a.expires&&(u.expires=a.expires),a.cacheControl&&(u.cacheControl=a.cacheControl),o.vectorTile=a.vectorTile||new ql.VectorTile(new Dc(c));const h=()=>{o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,(t,i)=>{if(t||!i)return e(t);const o={};if(r){const t=Gh(n);t.length>0&&(o.resourceTiming=JSON.parse(JSON.stringify(t)))}e(null,_({rawTileData:c.slice(0)},i,u,o))})};this.isSpriteLoaded?h():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(h,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom}):h()}),this.loaded=this.loaded||{},this.loaded[i]=o})}reloadTile(t,e){const i=this.loaded,n=t.uid,r=this;if(i&&i[n]){const o=i[n];o.showCollisionBoxes=t.showCollisionBoxes,o.enableTerrain=!!t.enableTerrain;const s=(t,i)=>{const n=o.reloadCallback;n&&(delete o.reloadCallback,o.parse(o.vectorTile,r.layerIndex,this.availableImages,r.actor,n)),e(t,i)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}}abortTile(t,e){const i=t.uid,n=this.loading[i];n&&(n.abort&&n.abort(),delete this.loading[i]),e()}removeTile(t,e){const i=this.loaded,n=t.uid;i&&i[n]&&delete i[n],e()}},t.WritingMode=ru,t.ZoomHistory=dr,t.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},t.addDynamicAttributes=ch,t.altitudeFromMercatorZ=Fh,t.asyncAll=y,t.bezier=p,t.bindAll=C,t.bufferConvexPolygon=function(t,e){const i=[];for(let n=0;n<t.length;n++){const r=g(n-1,-1,t.length-1),o=g(n+1,-1,t.length-1),s=t[n],a=t[o],l=t[r].sub(s).unit(),c=a.sub(s).unit(),u=c.angleWithSep(l.x,l.y),h=l.add(c).unit().mult(-1*e/Math.sin(u/2));i.push(s.add(h))}return i},t.cacheEntryPossiblyAdded=function(t){bt++,bt>yt&&(t.getActor().send("enforceCacheSizeLimit",gt),bt=0)},t.clamp=m,t.clearTileCache=function(t){const e=s.caches.delete(pt);t&&e.catch(t).then(()=>t())},t.clipLine=Au,t.clone=function(t){var e=new pa(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.clone$1=function(t){var e=new pa(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$2=I,t.collisionCircleLayout=_c,t.config=G,t.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.create=va,t.create$1=function(){var t=new pa(16);return pa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$2=fa,t.createExpression=un,t.createFilter=Tn,t.createLayout=Oo,t.createStyleLayer=function(t){return"custom"===t.type?new bh(t):new Sh[t.type](t)},t.cross=function(t,e,i){var n=e[0],r=e[1],o=e[2],s=i[0],a=i[1],l=i[2];return t[0]=r*l-o*a,t[1]=o*s-n*l,t[2]=n*a-r*s,t},t.degToRad=u,t.div=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=f,t.easeCubicInOut=d,t.emitValidationErrors=er,t.endsWith=O,t.enforceCacheSizeLimit=function(t){vt(),ft&&ft.then(e=>{e.keys().then(i=>{for(let n=0;n<i.length-t;n++)e.delete(i[n])})})},t.evaluateSizeForFeature=Sc,t.evaluateSizeForZoom=Tc,t.evaluateVariableOffset=Yu,t.evented=io,t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},t.exactEquals$1=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},t.exported=$,t.exported$1=q,t.extend=_,t.filterObject=A,t.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},t.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],s=i+i,a=n+n,l=r+r,c=i*s,u=n*s,h=n*a,d=r*s,p=r*a,f=r*l,m=o*s,g=o*a,y=o*l;return t[0]=1-h-f,t[1]=u+y,t[2]=d-g,t[3]=0,t[4]=u-y,t[5]=1-c-f,t[6]=p+m,t[7]=0,t[8]=d+g,t[9]=p-m,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.furthestTileCorner=function(t){const e=Math.round((t+45+360)%360/90)%4;return h[e]},t.getAABBPointSquareDist=function(t,e,i){let n=0;for(let r=0;r<2;++r){const o=i?i[r]:0;t[r]>o&&(n+=(t[r]-o)*(t[r]-o)),e[r]<o&&(n+=(o-e[r])*(o-e[r]))}return n},t.getAnchorAlignment=gu,t.getAnchorJustification=Ju,t.getBounds=function(t){let e=1/0,i=1/0,n=-1/0,o=-1/0;for(const r of t)e=Math.min(e,r.x),i=Math.min(i,r.y),n=Math.max(n,r.x),o=Math.max(o,r.y);return{min:new r(e,i),max:new r(n,o)}},t.getImage=Dt,t.getJSON=function(t,e){return Tt(_(t,{type:"json"}),e)},t.getMapSessionAPI=ht,t.getPerformanceMeasurement=Gh,t.getRTLTextPluginStatus=no,t.getReferrer=St,t.getVideo=function(t,e){const i=s.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(let n=0;n<t.length;n++){const e=s.document.createElement("source");At(t[n])||(i.crossOrigin="Anonymous"),e.src=t[n],i.appendChild(e)}return{cancel:()=>{}}},t.identity=ma,t.identity$1=Da,t.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],v=i*a-n*s,_=i*l-r*s,b=i*c-o*s,x=n*l-r*a,w=n*c-o*a,S=r*c-o*l,T=u*m-h*f,C=u*g-d*f,O=u*y-p*f,k=h*g-d*m,A=h*y-p*m,I=d*y-p*g,E=v*I-_*A+b*k+x*O-w*C+S*T;return E?(t[0]=(a*I-l*A+c*k)*(E=1/E),t[1]=(r*A-n*I-o*k)*E,t[2]=(m*S-g*w+y*x)*E,t[3]=(d*w-h*S-p*x)*E,t[4]=(l*O-s*I-c*C)*E,t[5]=(i*I-r*O+o*C)*E,t[6]=(g*b-f*S-y*_)*E,t[7]=(u*S-d*b+p*_)*E,t[8]=(s*A-a*O+c*T)*E,t[9]=(n*O-i*A-o*T)*E,t[10]=(f*w-m*b+y*v)*E,t[11]=(h*b-u*w-p*v)*E,t[12]=(a*C-s*k-l*T)*E,t[13]=(i*k-n*C+r*T)*E,t[14]=(m*_-f*x-g*v)*E,t[15]=(u*x-h*_+d*v)*E,t):null},t.isMapAuthenticated=function(t){return dt.has(t)},t.isMapboxURL=Q,t.latFromMercatorY=Rh,t.len=Ia,t.length=_a,t.length$1=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},t.loadVectorTile=Md,t.makeRequest=Tt,t.mercatorXfromLng=zh,t.mercatorYfromLat=jh,t.mercatorZfromAltitude=Bh,t.mul=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t},t.mul$1=ya,t.mul$2=Aa,t.multiply=ga,t.multiply$1=wa,t.nextPowerOfTwo=S,t.normalize=Ta,t.normalize$1=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],s=i*i+n*n+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),t[0]=i*s,t[1]=n*s,t[2]=r*s,t[3]=o*s,t},t.number=ii,t.ortho=function(t,e,i,n,r,o,s){var a=1/(e-i),l=1/(n-r),c=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+i)*a,t[13]=(r+n)*l,t[14]=(s+o)*c,t[15]=1,t},t.pbf=Dc,t.perspective=function(t,e,i,n,r){var o,s=1/Math.tan(e/2);return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(t[10]=(r+n)*(o=1/(n-r)),t[14]=2*r*n*o):(t[10]=-1,t[14]=-2*n),t},t.pick=function(t,e){const i={};for(let n=0;n<e.length;n++){const r=e[n];r in t&&(i[r]=t[r])}return i},t.plugin=oo,t.pointGeometry=r,t.polygonIntersectsBox=oa,t.polygonIntersectsPolygon=Xs,t.polygonizeBounds=function(t,e,i=0,n=!0){const o=new r(i,i),s=t.sub(o),a=e.add(o),l=[s,new r(a.x,s.y),a,new r(s.x,a.y)];return n&&l.push(s),l},t.posAttributes=Qh,t.postMapLoadEvent=ct,t.postTurnstileEvent=at,t.potpack=eu,t.prevPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},t.radToDeg=function(t){return t*c},t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.registerForPluginStateChange=function(t){return t({pluginStatus:Jr,pluginURL:Qr}),io.on("pluginStateChange",t),t},t.removeAuthState=function(t){dt.delete(t)},t.renderColorRamp=qa,t.rotateX=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+c*n,t[5]=s*r+u*n,t[6]=a*r+h*n,t[7]=l*r+d*n,t[8]=c*r-o*n,t[9]=u*r-s*n,t[10]=h*r-a*n,t[11]=d*r-l*n,t},t.rotateX$1=Pa,t.rotateY=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[0],s=e[1],a=e[2],l=e[3],c=e[8],u=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r-c*n,t[1]=s*r-u*n,t[2]=a*r-h*n,t[3]=l*r-d*n,t[8]=o*n+c*r,t[9]=s*n+u*r,t[10]=a*n+h*r,t[11]=l*n+d*r,t},t.rotateZ=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[0],s=e[1],a=e[2],l=e[3],c=e[4],u=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+c*n,t[1]=s*r+u*n,t[2]=a*r+h*n,t[3]=l*r+d*n,t[4]=c*r-o*n,t[5]=u*r-s*n,t[6]=h*r-a*n,t[7]=d*r-l*n,t},t.rotateZ$1=function(t,e,i){i*=.5;var n=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(i),l=Math.cos(i);return t[0]=n*l+r*a,t[1]=r*l-n*a,t[2]=o*l+s*a,t[3]=s*l-o*a,t},t.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},t.scale$1=function(t,e,i){var n=i[0],r=i[1],o=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$2=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},t.scaleAndAdd=Sa,t.setCacheLimits=function(t,e){gt=t,yt=e},t.setRTLTextPlugin=function(t,e,i=!1){if(Jr===Zr||Jr===Xr||Jr===Yr)throw new Error("setRTLTextPlugin cannot be called multiple times.");Qr=$.resolveURL(t),Jr=Zr,Kr=e,eo(),i||ro()},t.smoothstep=function(t,e,i){return(i=m((i-t)/(e-t),0,1))*i*(3-2*i)},t.spec=Rt,t.storeAuthState=function(t,e){e?dt.add(t):dt.delete(t)},t.sub=ka,t.subtract=xa,t.symbolSize=Cc,t.transformMat3=function(t,e,i){var n=e[0],r=e[1],o=e[2];return t[0]=n*i[0]+r*i[3]+o*i[6],t[1]=n*i[1]+r*i[4]+o*i[7],t[2]=n*i[2]+r*i[5]+o*i[8],t},t.transformMat4=Ea,t.transformMat4$1=function(t,e,i){var n=e[0],r=e[1],o=e[2],s=i[3]*n+i[7]*r+i[11]*o+i[15];return t[0]=(i[0]*n+i[4]*r+i[8]*o+i[12])/(s=s||1),t[1]=(i[1]*n+i[5]*r+i[9]*o+i[13])/s,t[2]=(i[2]*n+i[6]*r+i[10]*o+i[14])/s,t},t.transformQuat=Ca,t.translate=function(t,e,i){var n,r,o,s,a,l,c,u,h,d,p,f,m=i[0],g=i[1],y=i[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8],d=e[9],p=e[10],f=e[11],t[0]=n=e[0],t[1]=r,t[2]=o,t[3]=s,t[4]=a,t[5]=l,t[6]=c,t[7]=u,t[8]=h,t[9]=d,t[10]=p,t[11]=f,t[12]=n*m+a*g+h*y+e[12],t[13]=r*m+l*g+d*y+e[13],t[14]=o*m+c*g+p*y+e[14],t[15]=s*m+u*g+f*y+e[15]),t},t.triggerPluginCompletionEvent=to,t.uniqueId=x,t.validateCustomStyleLayer=function(t){const e=[],i=t.id;return void 0===i&&e.push({message:`layers.${i}: missing required property "id"`}),void 0===t.render&&e.push({message:`layers.${i}: missing required method "render"`}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),e},t.validateFog=Jn,t.validateLight=Kn,t.validateStyle=Yn,t.values=v,t.vectorTile=ql,t.version=e,t.warnOnce=M,t.window=s,t.wrap=g})),n(["./shared"],(function(t){function e(t){const i=typeof t;if("number"===i||"boolean"===i||"string"===i||null==t)return JSON.stringify(t);if(Array.isArray(t)){let i="[";for(const n of t)i+=e(n)+",";return i+"]"}const n=Object.keys(t).sort();let r="{";for(let o=0;o<n.length;o++)r+=`${JSON.stringify(n[o])}:${e(t[n[o]])},`;return r+"}"}function i(i){let n="";for(const r of t.refProperties)n+="/"+e(i[r]);return n}class n{constructor(t){this.keyCache={},t&&this.replace(t)}replace(t){this._layerConfigs={},this._layers={},this.update(t,[])}update(e,n){for(const i of e){this._layerConfigs[i.id]=i;const e=this._layers[i.id]=t.createStyleLayer(i);e._featureFilter=t.createFilter(e.filter),this.keyCache[i.id]&&delete this.keyCache[i.id]}for(const t of n)delete this.keyCache[t],delete this._layerConfigs[t],delete this._layers[t];this.familiesBySource={};const r=function(t,e){const n={};for(let o=0;o<t.length;o++){const r=e&&e[t[o].id]||i(t[o]);e&&(e[t[o].id]=r);let s=n[r];s||(s=n[r]=[]),s.push(t[o])}const r=[];for(const i in n)r.push(n[i]);return r}(t.values(this._layerConfigs),this.keyCache);for(const t of r){const e=t.map(t=>this._layers[t.id]),i=e[0];if("none"===i.visibility)continue;const n=i.source||"";let r=this.familiesBySource[n];r||(r=this.familiesBySource[n]={});const o=i.sourceLayer||"_geojsonTileLayer";let s=r[o];s||(s=r[o]=[]),s.push(e)}}}const{ImageBitmap:r}=t.window;class o{loadTile(e,i){const{uid:n,encoding:o,rawImageData:s,padding:a,buildQuadTree:l}=e,c=r&&s instanceof r?this.getImageData(s,a):s;i(null,new t.DEMData(n,c,o,a<1,l))}getImageData(e,i){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const n=this.offscreenCanvasContext.getImageData(-i,-i,e.width+2*i,e.height+2*i);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)}}var s=function t(e,i){var n,r=e&&e.type;if("FeatureCollection"===r)for(n=0;n<e.features.length;n++)t(e.features[n],i);else if("GeometryCollection"===r)for(n=0;n<e.geometries.length;n++)t(e.geometries[n],i);else if("Feature"===r)t(e.geometry,i);else if("Polygon"===r)a(e.coordinates,i);else if("MultiPolygon"===r)for(n=0;n<e.coordinates.length;n++)a(e.coordinates[n],i);return e};function a(t,e){if(0!==t.length){l(t[0],e);for(var i=1;i<t.length;i++)l(t[i],!e)}}function l(t,e){for(var i=0,n=0,r=t.length,o=r-1;n<r;o=n++)i+=(t[n][0]-t[o][0])*(t[o][1]+t[n][1]);i>=0!=!!e&&t.reverse()}const c=t.vectorTile.VectorTileFeature.prototype.toGeoJSON;class u{constructor(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))}loadGeometry(){if(1===this._feature.type){const e=[];for(const i of this._feature.geometry)e.push([new t.pointGeometry(i[0],i[1])]);return e}{const e=[];for(const i of this._feature.geometry){const n=[];for(const e of i)n.push(new t.pointGeometry(e[0],e[1]));e.push(n)}return e}}toGeoJSON(t,e,i){return c.call(this,t,e,i)}}class h{constructor(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e}feature(t){return new u(this._features[t])}}var d=t.vectorTile.VectorTileFeature,p=f;function f(t,e){this.options=e||{},this.features=t,this.length=t.length}function m(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}f.prototype.feature=function(t){return new m(this.features[t],this.options.extent)},m.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var i=0;i<e.length;i++){for(var n=e[i],r=[],o=0;o<n.length;o++)r.push(new t.pointGeometry(n[o][0],n[o][1]));this.geometry.push(r)}return this.geometry},m.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-1/0,n=1/0,r=-1/0,o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.length;a++){var l=s[a];e=Math.min(e,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),r=Math.max(r,l.y)}return[e,n,i,r]},m.prototype.toGeoJSON=d.prototype.toGeoJSON;var g=v,y=p;function v(e){var i=new t.pbf;return function(t,e){for(var i in t.layers)e.writeMessage(3,_,t.layers[i])}(e,i),i.finish()}function _(t,e){var i;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(i=0;i<t.length;i++)n.feature=t.feature(i),e.writeMessage(2,b,n);var r=n.keys;for(i=0;i<r.length;i++)e.writeStringField(3,r[i]);var o=n.values;for(i=0;i<o.length;i++)e.writeMessage(4,C,o[i])}function b(t,e){var i=t.feature;void 0!==i.id&&e.writeVarintField(1,i.id),e.writeMessage(2,x,t),e.writeVarintField(3,i.type),e.writeMessage(4,T,i)}function x(t,e){var i=t.feature,n=t.keys,r=t.values,o=t.keycache,s=t.valuecache;for(var a in i.properties){var l=o[a];void 0===l&&(n.push(a),o[a]=l=n.length-1),e.writeVarint(l);var c=i.properties[a],u=typeof c;"string"!==u&&"boolean"!==u&&"number"!==u&&(c=JSON.stringify(c));var h=u+":"+c,d=s[h];void 0===d&&(r.push(c),s[h]=d=r.length-1),e.writeVarint(d)}}function w(t,e){return(e<<3)+(7&t)}function S(t){return t<<1^t>>31}function T(t,e){for(var i=t.loadGeometry(),n=t.type,r=0,o=0,s=i.length,a=0;a<s;a++){var l=i[a],c=1;1===n&&(c=l.length),e.writeVarint(w(1,c));for(var u=3===n?l.length-1:l.length,h=0;h<u;h++){1===h&&1!==n&&e.writeVarint(w(2,u-1));var d=l[h].x-r,p=l[h].y-o;e.writeVarint(S(d)),e.writeVarint(S(p)),r+=d,o+=p}3===n&&e.writeVarint(w(7,1))}}function C(t,e){var i=typeof t;"string"===i?e.writeStringField(1,t):"boolean"===i?e.writeBooleanField(7,t):"number"===i&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function O(t,e,i,n,r,o){if(r-n<=i)return;const s=n+r>>1;k(t,e,s,n,r,o%2),O(t,e,i,n,s-1,o+1),O(t,e,i,s+1,r,o+1)}function k(t,e,i,n,r,o){for(;r>n;){if(r-n>600){const s=r-n+1,a=i-n+1,l=Math.log(s),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(s-c)/s)*(a-s/2<0?-1:1);k(t,e,i,Math.max(n,Math.floor(i-a*c/s+u)),Math.min(r,Math.floor(i+(s-a)*c/s+u)),o)}const s=e[2*i+o];let a=n,l=r;for(A(t,e,n,i),e[2*r+o]>s&&A(t,e,n,r);a<l;){for(A(t,e,a,l),a++,l--;e[2*a+o]<s;)a++;for(;e[2*l+o]>s;)l--}e[2*n+o]===s?A(t,e,n,l):(l++,A(t,e,l,r)),l<=i&&(n=l+1),i<=l&&(r=l-1)}}function A(t,e,i,n){I(t,i,n),I(e,2*i,2*n),I(e,2*i+1,2*n+1)}function I(t,e,i){const n=t[e];t[e]=t[i],t[i]=n}function E(t,e,i,n){const r=t-i,o=e-n;return r*r+o*o}g.fromVectorTileJs=v,g.fromGeojsonVt=function(t,e){e=e||{};var i={};for(var n in t)i[n]=new p(t[n].features,e),i[n].name=n,i[n].version=e.version,i[n].extent=e.extent;return v({layers:i})},g.GeoJSONWrapper=y;const M=t=>t[0],D=t=>t[1];class P{constructor(t,e=M,i=D,n=64,r=Float64Array){this.nodeSize=n,this.points=t;const o=t.length<65536?Uint16Array:Uint32Array,s=this.ids=new o(t.length),a=this.coords=new r(2*t.length);for(let l=0;l<t.length;l++)s[l]=l,a[2*l]=e(t[l]),a[2*l+1]=i(t[l]);O(s,a,n,0,s.length-1,0)}range(t,e,i,n){return function(t,e,i,n,r,o,s){const a=[0,t.length-1,0],l=[];let c,u;for(;a.length;){const h=a.pop(),d=a.pop(),p=a.pop();if(d-p<=s){for(let s=p;s<=d;s++)c=e[2*s],u=e[2*s+1],c>=i&&c<=r&&u>=n&&u<=o&&l.push(t[s]);continue}const f=Math.floor((p+d)/2);c=e[2*f],u=e[2*f+1],c>=i&&c<=r&&u>=n&&u<=o&&l.push(t[f]);const m=(h+1)%2;(0===h?i<=c:n<=u)&&(a.push(p),a.push(f-1),a.push(m)),(0===h?r>=c:o>=u)&&(a.push(f+1),a.push(d),a.push(m))}return l}(this.ids,this.coords,t,e,i,n,this.nodeSize)}within(t,e,i){return function(t,e,i,n,r,o){const s=[0,t.length-1,0],a=[],l=r*r;for(;s.length;){const c=s.pop(),u=s.pop(),h=s.pop();if(u-h<=o){for(let r=h;r<=u;r++)E(e[2*r],e[2*r+1],i,n)<=l&&a.push(t[r]);continue}const d=Math.floor((h+u)/2),p=e[2*d],f=e[2*d+1];E(p,f,i,n)<=l&&a.push(t[d]);const m=(c+1)%2;(0===c?i-r<=p:n-r<=f)&&(s.push(h),s.push(d-1),s.push(m)),(0===c?i+r>=p:n+r>=f)&&(s.push(d+1),s.push(u),s.push(m))}return a}(this.ids,this.coords,t,e,i,this.nodeSize)}}const L={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},z=Math.fround||(j=new Float32Array(1),t=>(j[0]=+t,j[0]));var j;class B{constructor(t){this.options=q(Object.create(L),t),this.trees=new Array(this.options.maxZoom+1)}load(t){const{log:e,minZoom:i,maxZoom:n,nodeSize:r}=this.options;e&&console.time("total time");const o=`prepare ${t.length} points`;e&&console.time(o),this.points=t;let s=[];for(let a=0;a<t.length;a++)t[a].geometry&&s.push(F(t[a],a));this.trees[n+1]=new P(s,H,W,r,Float32Array),e&&console.timeEnd(o);for(let a=n;a>=i;a--){const t=+Date.now();s=this._cluster(s,a),this.trees[a]=new P(s,H,W,r,Float32Array),e&&console.log("z%d: %d clusters in %dms",a,s.length,+Date.now()-t)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let i=((t[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[1]));let r=180===t[2]?180:((t[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)i=-180,r=180;else if(i>r){const t=this.getClusters([i,n,180,o],e),s=this.getClusters([-180,n,r,o],e);return t.concat(s)}const s=this.trees[this._limitZoom(e)],a=s.range($(i),U(o),$(r),U(n)),l=[];for(const c of a){const t=s.points[c];l.push(t.numPoints?N(t):this.points[t.index])}return l}getChildren(t){const e=this._getOriginId(t),i=this._getOriginZoom(t),n="No cluster with the specified id.",r=this.trees[i];if(!r)throw new Error(n);const o=r.points[e];if(!o)throw new Error(n);const s=this.options.radius/(this.options.extent*Math.pow(2,i-1)),a=r.within(o.x,o.y,s),l=[];for(const c of a){const e=r.points[c];e.parentId===t&&l.push(e.numPoints?N(e):this.points[e.index])}if(0===l.length)throw new Error(n);return l}getLeaves(t,e,i){const n=[];return this._appendLeaves(n,t,e=e||10,i=i||0,0),n}getTile(t,e,i){const n=this.trees[this._limitZoom(t)],r=Math.pow(2,t),{extent:o,radius:s}=this.options,a=s/o,l=(i-a)/r,c=(i+1+a)/r,u={features:[]};return this._addTileFeatures(n.range((e-a)/r,l,(e+1+a)/r,c),n.points,e,i,r,u),0===e&&this._addTileFeatures(n.range(1-a/r,l,1,c),n.points,r,i,r,u),e===r-1&&this._addTileFeatures(n.range(0,l,a/r,c),n.points,-1,i,r,u),u.features.length?u:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const i=this.getChildren(t);if(e++,1!==i.length)break;t=i[0].properties.cluster_id}return e}_appendLeaves(t,e,i,n,r){const o=this.getChildren(e);for(const s of o){const e=s.properties;if(e&&e.cluster?r+e.point_count<=n?r+=e.point_count:r=this._appendLeaves(t,e.cluster_id,i,n,r):r<n?r++:t.push(s),t.length===i)break}return r}_addTileFeatures(t,e,i,n,r,o){for(const s of t){const t=e[s],a=t.numPoints;let l,c,u;if(a)l=V(t),c=t.x,u=t.y;else{const e=this.points[t.index];l=e.properties,c=$(e.geometry.coordinates[0]),u=U(e.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(c*r-i)),Math.round(this.options.extent*(u*r-n))]],tags:l};let d;a?d=t.id:this.options.generateId?d=t.index:this.points[t.index].id&&(d=this.points[t.index].id),void 0!==d&&(h.id=d),o.features.push(h)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))}_cluster(t,e){const i=[],{radius:n,extent:r,reduce:o,minPoints:s}=this.options,a=n/(r*Math.pow(2,e));for(let l=0;l<t.length;l++){const n=t[l];if(n.zoom<=e)continue;n.zoom=e;const r=this.trees[e+1],c=r.within(n.x,n.y,a),u=n.numPoints||1;let h=u;for(const t of c){const i=r.points[t];i.zoom>e&&(h+=i.numPoints||1)}if(h>=s){let t=n.x*u,s=n.y*u,a=o&&u>1?this._map(n,!0):null;const d=(l<<5)+(e+1)+this.points.length;for(const i of c){const l=r.points[i];if(l.zoom<=e)continue;l.zoom=e;const c=l.numPoints||1;t+=l.x*c,s+=l.y*c,l.parentId=d,o&&(a||(a=this._map(n,!0)),o(a,this._map(l)))}n.parentId=d,i.push(R(t/h,s/h,d,h,a))}else if(i.push(n),h>1)for(const t of c){const n=r.points[t];n.zoom<=e||(n.zoom=e,i.push(n))}}return i}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e){if(t.numPoints)return e?q({},t.properties):t.properties;const i=this.points[t.index].properties,n=this.options.map(i);return e&&n===i?q({},n):n}}function R(t,e,i,n,r){return{x:z(t),y:z(e),zoom:1/0,id:i,parentId:-1,numPoints:n,properties:r}}function F(t,e){const[i,n]=t.geometry.coordinates;return{x:z($(i)),y:z(U(n)),zoom:1/0,index:e,parentId:-1}}function N(t){return{type:"Feature",id:t.id,properties:V(t),geometry:{type:"Point",coordinates:[(e=t.x,360*(e-.5)),G(t.y)]}};var e}function V(t){const e=t.numPoints,i=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return q(q({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:i})}function $(t){return t/360+.5}function U(t){const e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function G(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function q(t,e){for(const i in e)t[i]=e[i];return t}function H(t){return t.x}function W(t){return t.y}function Z(t,e,i,n){for(var r,o=n,s=i-e>>1,a=i-e,l=t[e],c=t[e+1],u=t[i],h=t[i+1],d=e+3;d<i;d+=3){var p=X(t[d],t[d+1],l,c,u,h);if(p>o)r=d,o=p;else if(p===o){var f=Math.abs(d-s);f<a&&(r=d,a=f)}}o>n&&(r-e>3&&Z(t,e,r,n),t[r+2]=o,i-r>3&&Z(t,r,i,n))}function X(t,e,i,n,r,o){var s=r-i,a=o-n;if(0!==s||0!==a){var l=((t-i)*s+(e-n)*a)/(s*s+a*a);l>1?(i=r,n=o):l>0&&(i+=s*l,n+=a*l)}return(s=t-i)*s+(a=e-n)*a}function Y(t,e,i,n){var r={id:void 0===t?null:t,type:e,geometry:i,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,i=t.type;if("Point"===i||"MultiPoint"===i||"LineString"===i)K(t,e);else if("Polygon"===i||"MultiLineString"===i)for(var n=0;n<e.length;n++)K(t,e[n]);else if("MultiPolygon"===i)for(n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)K(t,e[n][r])}(r),r}function K(t,e){for(var i=0;i<e.length;i+=3)t.minX=Math.min(t.minX,e[i]),t.minY=Math.min(t.minY,e[i+1]),t.maxX=Math.max(t.maxX,e[i]),t.maxY=Math.max(t.maxY,e[i+1])}function J(t,e,i,n){if(e.geometry){var r=e.geometry.coordinates,o=e.geometry.type,s=Math.pow(i.tolerance/((1<<i.maxZoom)*i.extent),2),a=[],l=e.id;if(i.promoteId?l=e.properties[i.promoteId]:i.generateId&&(l=n||0),"Point"===o)Q(r,a);else if("MultiPoint"===o)for(var c=0;c<r.length;c++)Q(r[c],a);else if("LineString"===o)tt(r,a,s,!1);else if("MultiLineString"===o){if(i.lineMetrics){for(c=0;c<r.length;c++)tt(r[c],a=[],s,!1),t.push(Y(l,"LineString",a,e.properties));return}et(r,a,s,!1)}else if("Polygon"===o)et(r,a,s,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<e.geometry.geometries.length;c++)J(t,{id:l,geometry:e.geometry.geometries[c],properties:e.properties},i,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<r.length;c++){var u=[];et(r[c],u,s,!0),a.push(u)}}t.push(Y(l,o,a,e.properties))}}function Q(t,e){e.push(it(t[0])),e.push(nt(t[1])),e.push(0)}function tt(t,e,i,n){for(var r,o,s=0,a=0;a<t.length;a++){var l=it(t[a][0]),c=nt(t[a][1]);e.push(l),e.push(c),e.push(0),a>0&&(s+=n?(r*c-l*o)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(c-o,2))),r=l,o=c}var u=e.length-3;e[2]=1,Z(e,0,u,i),e[u+2]=1,e.size=Math.abs(s),e.start=0,e.end=e.size}function et(t,e,i,n){for(var r=0;r<t.length;r++){var o=[];tt(t[r],o,i,n),e.push(o)}}function it(t){return t/360+.5}function nt(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function rt(t,e,i,n,r,o,s,a){if(n/=e,o>=(i/=e)&&s<n)return t;if(s<i||o>=n)return null;for(var l=[],c=0;c<t.length;c++){var u=t[c],h=u.geometry,d=u.type,p=0===r?u.minX:u.minY,f=0===r?u.maxX:u.maxY;if(p>=i&&f<n)l.push(u);else if(!(f<i||p>=n)){var m=[];if("Point"===d||"MultiPoint"===d)ot(h,m,i,n,r);else if("LineString"===d)st(h,m,i,n,r,!1,a.lineMetrics);else if("MultiLineString"===d)lt(h,m,i,n,r,!1);else if("Polygon"===d)lt(h,m,i,n,r,!0);else if("MultiPolygon"===d)for(var g=0;g<h.length;g++){var y=[];lt(h[g],y,i,n,r,!0),y.length&&m.push(y)}if(m.length){if(a.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(Y(u.id,d,m[g],u.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(Y(u.id,d,m,u.tags))}}}return l.length?l:null}function ot(t,e,i,n,r){for(var o=0;o<t.length;o+=3){var s=t[o+r];s>=i&&s<=n&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function st(t,e,i,n,r,o,s){for(var a,l,c=at(t),u=0===r?ut:ht,h=t.start,d=0;d<t.length-3;d+=3){var p=t[d],f=t[d+1],m=t[d+2],g=t[d+3],y=t[d+4],v=0===r?p:f,_=0===r?g:y,b=!1;s&&(a=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-y,2))),v<i?_>i&&(l=u(c,p,f,g,y,i),s&&(c.start=h+a*l)):v>n?_<n&&(l=u(c,p,f,g,y,n),s&&(c.start=h+a*l)):ct(c,p,f,m),_<i&&v>=i&&(l=u(c,p,f,g,y,i),b=!0),_>n&&v<=n&&(l=u(c,p,f,g,y,n),b=!0),!o&&b&&(s&&(c.end=h+a*l),e.push(c),c=at(t)),s&&(h+=a)}var x=t.length-3;p=t[x],f=t[x+1],m=t[x+2],(v=0===r?p:f)>=i&&v<=n&&ct(c,p,f,m),x=c.length-3,o&&x>=3&&(c[x]!==c[0]||c[x+1]!==c[1])&&ct(c,c[0],c[1],c[2]),c.length&&e.push(c)}function at(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function lt(t,e,i,n,r,o){for(var s=0;s<t.length;s++)st(t[s],e,i,n,r,o,!1)}function ct(t,e,i,n){t.push(e),t.push(i),t.push(n)}function ut(t,e,i,n,r,o){var s=(o-e)/(n-e);return t.push(o),t.push(i+(r-i)*s),t.push(1),s}function ht(t,e,i,n,r,o){var s=(o-i)/(r-i);return t.push(e+(n-e)*s),t.push(o),t.push(1),s}function dt(t,e){for(var i=[],n=0;n<t.length;n++){var r,o=t[n],s=o.type;if("Point"===s||"MultiPoint"===s||"LineString"===s)r=pt(o.geometry,e);else if("MultiLineString"===s||"Polygon"===s){r=[];for(var a=0;a<o.geometry.length;a++)r.push(pt(o.geometry[a],e))}else if("MultiPolygon"===s)for(r=[],a=0;a<o.geometry.length;a++){for(var l=[],c=0;c<o.geometry[a].length;c++)l.push(pt(o.geometry[a][c],e));r.push(l)}i.push(Y(o.id,s,r,o.tags))}return i}function pt(t,e){var i=[];i.size=t.size,void 0!==t.start&&(i.start=t.start,i.end=t.end);for(var n=0;n<t.length;n+=3)i.push(t[n]+e,t[n+1],t[n+2]);return i}function ft(t,e){if(t.transformed)return t;var i,n,r,o=1<<t.z,s=t.x,a=t.y;for(i=0;i<t.features.length;i++){var l=t.features[i],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(n=0;n<c.length;n+=2)l.geometry.push(mt(c[n],c[n+1],e,o,s,a));else for(n=0;n<c.length;n++){var h=[];for(r=0;r<c[n].length;r+=2)h.push(mt(c[n][r],c[n][r+1],e,o,s,a));l.geometry.push(h)}}return t.transformed=!0,t}function mt(t,e,i,n,r,o){return[Math.round(i*(t*n-r)),Math.round(i*(e*n-o))]}function gt(t,e,i,n,r){for(var o=e===r.maxZoom?0:r.tolerance/((1<<e)*r.extent),s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:n,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<t.length;a++){s.numFeatures++,yt(s,t[a],o,r);var l=t[a].minX,c=t[a].minY,u=t[a].maxX,h=t[a].maxY;l<s.minX&&(s.minX=l),c<s.minY&&(s.minY=c),u>s.maxX&&(s.maxX=u),h>s.maxY&&(s.maxY=h)}return s}function yt(t,e,i,n){var r=e.geometry,o=e.type,s=[];if("Point"===o||"MultiPoint"===o)for(var a=0;a<r.length;a+=3)s.push(r[a]),s.push(r[a+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)vt(s,r,t,i,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(a=0;a<r.length;a++)vt(s,r[a],t,i,"Polygon"===o,0===a);else if("MultiPolygon"===o)for(var l=0;l<r.length;l++){var c=r[l];for(a=0;a<c.length;a++)vt(s,c[a],t,i,!0,0===a)}if(s.length){var u=e.tags||null;if("LineString"===o&&n.lineMetrics){for(var h in u={},e.tags)u[h]=e.tags[h];u.mapbox_clip_start=r.start/r.size,u.mapbox_clip_end=r.end/r.size}var d={geometry:s,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==e.id&&(d.id=e.id),t.features.push(d)}}function vt(t,e,i,n,r,o){var s=n*n;if(n>0&&e.size<(r?s:n))i.numPoints+=e.length/3;else{for(var a=[],l=0;l<e.length;l+=3)(0===n||e[l+2]>s)&&(i.numSimplified++,a.push(e[l]),a.push(e[l+1])),i.numPoints++;r&&function(t,e){for(var i=0,n=0,r=t.length,o=r-2;n<r;o=n,n+=2)i+=(t[n]-t[o])*(t[n+1]+t[o+1]);if(i>0===e)for(n=0,r=t.length;n<r/2;n+=2){var s=t[n],a=t[n+1];t[n]=t[r-2-n],t[n+1]=t[r-1-n],t[r-2-n]=s,t[r-1-n]=a}}(a,o),t.push(a)}}function _t(t,e){var i=(e=this.options=function(t,e){for(var i in e)t[i]=e[i];return t}(Object.create(this.options),e)).debug;if(i&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(t,e){var i=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)J(i,t.features[n],e,n);else J(i,"Feature"===t.type?t:{geometry:t},e);return i}(t,e);this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(t,e){var i=e.buffer/e.extent,n=t,r=rt(t,1,-1-i,i,0,-1,2,e),o=rt(t,1,1-i,2+i,0,-1,2,e);return(r||o)&&(n=rt(t,1,-i,1+i,0,-1,2,e)||[],r&&(n=dt(r,1).concat(n)),o&&(n=n.concat(dt(o,-1)))),n}(n,e)).length&&this.splitTile(n,0,0,0),i&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function bt(t,e,i){return 32*((1<<t)*i+e)+t}function xt(t,e){const i=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);const n=this._geoJSONIndex.getTile(i.z,i.x,i.y);if(!n)return e(null,null);const r=new h(n.features);let o=g(r);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:r,rawData:o.buffer})}_t.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},_t.prototype.splitTile=function(t,e,i,n,r,o,s){for(var a=[t,e,i,n],l=this.options,c=l.debug;a.length;){n=a.pop(),i=a.pop(),e=a.pop(),t=a.pop();var u=1<<e,h=bt(e,i,n),d=this.tiles[h];if(!d&&(c>1&&console.time("creation"),d=this.tiles[h]=gt(t,e,i,n,l),this.tileCoords.push({z:e,x:i,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,i,n,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var p="z"+e;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(d.source=t,r){if(e===l.maxZoom||e===r)continue;var f=1<<r-e;if(i!==Math.floor(o/f)||n!==Math.floor(s/f))continue}else if(e===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==t.length){c>1&&console.time("clipping");var m,g,y,v,_,b,x=.5*l.buffer/l.extent,w=.5-x,S=.5+x,T=1+x;m=g=y=v=null,_=rt(t,u,i-x,i+S,0,d.minX,d.maxX,l),b=rt(t,u,i+w,i+T,0,d.minX,d.maxX,l),t=null,_&&(m=rt(_,u,n-x,n+S,1,d.minY,d.maxY,l),g=rt(_,u,n+w,n+T,1,d.minY,d.maxY,l),_=null),b&&(y=rt(b,u,n-x,n+S,1,d.minY,d.maxY,l),v=rt(b,u,n+w,n+T,1,d.minY,d.maxY,l),b=null),c>1&&console.timeEnd("clipping"),a.push(m||[],e+1,2*i,2*n),a.push(g||[],e+1,2*i,2*n+1),a.push(y||[],e+1,2*i+1,2*n),a.push(v||[],e+1,2*i+1,2*n+1)}}},_t.prototype.getTile=function(t,e,i){var n=this.options,r=n.extent,o=n.debug;if(t<0||t>24)return null;var s=1<<t,a=bt(t,e=(e%s+s)%s,i);if(this.tiles[a])return ft(this.tiles[a],r);o>1&&console.log("drilling down to z%d-%d-%d",t,e,i);for(var l,c=t,u=e,h=i;!l&&c>0;)c--,u=Math.floor(u/2),h=Math.floor(h/2),l=this.tiles[bt(c,u,h)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,u,h),o>1&&console.time("drilling down"),this.splitTile(l.source,c,u,h,t,e,i),o>1&&console.timeEnd("drilling down"),this.tiles[a]?ft(this.tiles[a],r):null):null};class wt extends t.VectorTileWorkerSource{constructor(t,e,i,n,r){super(t,e,i,n,xt),r&&(this.loadGeoJSON=r)}loadData(e,i){const n=e&&e.request,r=n&&n.collectResourceTiming;this.loadGeoJSON(e,(o,a)=>{if(o||!a)return i(o);if("object"!=typeof a)return i(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`));{s(a,!0);try{if(e.filter){const i=t.createExpression(e.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===i.result)throw new Error(i.value.map(t=>`${t.key}: ${t.message}`).join(", "));const n=a.features.filter(t=>i.value.evaluate({zoom:0},t));a={type:"FeatureCollection",features:n}}this._geoJSONIndex=e.cluster?new B(function({superclusterOptions:e,clusterProperties:i}){if(!i||!e)return e;const n={},r={},o={accumulated:null,zoom:0},s={properties:null},a=Object.keys(i);for(const l of a){const[e,o]=i[l],s=t.createExpression(o),a=t.createExpression("string"==typeof e?[e,["accumulated"],["get",l]]:e);n[l]=s.value,r[l]=a.value}return e.map=t=>{s.properties=t;const e={};for(const i of a)e[i]=n[i].evaluate(o,s);return e},e.reduce=(t,e)=>{s.properties=e;for(const i of a)o.accumulated=t[i],t[i]=r[i].evaluate(o,s)},e}(e)).load(a.features):function(t,e){return new _t(t,e)}(a,e.geojsonVtOptions)}catch(o){return i(o)}this.loaded={};const l={};if(r){const i=t.getPerformanceMeasurement(n);i&&(l.resourceTiming={},l.resourceTiming[e.source]=JSON.parse(JSON.stringify(i)))}i(null,l)}})}reloadTile(t,e){const i=this.loaded;return i&&i[t.uid]?super.reloadTile(t,e):this.loadTile(t,e)}loadGeoJSON(e,i){if(e.request)t.getJSON(e.request,i);else{if("string"!=typeof e.data)return i(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`));try{return i(null,JSON.parse(e.data))}catch(t){return i(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}}getClusterChildren(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}}getClusterLeaves(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}}}class St{constructor(e){this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded=!1,this.workerSourceTypes={vector:t.VectorTileWorkerSource,geojson:wt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(t,e)=>{if(this.workerSourceTypes[t])throw new Error(`Worker source with name "${t}" already registered.`);this.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=e=>{if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}}checkIfReady(t,e,i){i()}setReferrer(t,e){this.referrer=e}spriteLoaded(e,i){this.isSpriteLoaded=i;for(const n in this.workerSources[e]){const r=this.workerSources[e][n];for(const e in r)r[e]instanceof t.VectorTileWorkerSource&&(r[e].isSpriteLoaded=i,r[e].fire(new t.Event("isSpriteLoaded")))}}setImages(t,e,i){this.availableImages[t]=e;for(const n in this.workerSources[t]){const i=this.workerSources[t][n];for(const t in i)i[t].availableImages=e}i()}enableTerrain(t,e,i){this.terrain=e,i()}setLayers(t,e,i){this.getLayerIndex(t).replace(e),i()}updateLayers(t,e,i){this.getLayerIndex(t).update(e.layers,e.removedIds),i()}loadTile(e,i,n){const r=this.enableTerrain?t.extend({enableTerrain:this.terrain},i):i;this.getWorkerSource(e,i.type,i.source).loadTile(r,n)}loadDEMTile(e,i,n){const r=this.enableTerrain?t.extend({buildQuadTree:this.terrain},i):i;this.getDEMWorkerSource(e,i.source).loadTile(r,n)}reloadTile(e,i,n){const r=this.enableTerrain?t.extend({enableTerrain:this.terrain},i):i;this.getWorkerSource(e,i.type,i.source).reloadTile(r,n)}abortTile(t,e,i){this.getWorkerSource(t,e.type,e.source).abortTile(e,i)}removeTile(t,e,i){this.getWorkerSource(t,e.type,e.source).removeTile(e,i)}removeSource(t,e,i){if(!this.workerSources[t]||!this.workerSources[t][e.type]||!this.workerSources[t][e.type][e.source])return;const n=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==n.removeSource?n.removeSource(e,i):i()}loadWorkerSource(t,e,i){try{this.self.importScripts(e.url),i()}catch(t){i(t.toString())}}syncRTLPluginState(e,i,n){try{t.plugin.setState(i);const e=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=e){this.self.importScripts(e);const i=t.plugin.isParsed();n(i?void 0:new Error("RTL Text Plugin failed to import scripts from "+e),i)}}catch(t){n(t.toString())}}getAvailableImages(t){let e=this.availableImages[t];return e||(e=[]),e}getLayerIndex(t){let e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new n),e}getWorkerSource(t,e,i){return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][i]||(this.workerSources[t][e][i]=new this.workerSourceTypes[e]({send:(e,i,n,r,o,s)=>{this.actor.send(e,i,n,t,o,s)},scheduler:this.actor.scheduler},this.getLayerIndex(t),this.getAvailableImages(t),this.isSpriteLoaded)),this.workerSources[t][e][i]}getDEMWorkerSource(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new o),this.demWorkerSources[t][e]}enforceCacheSizeLimit(e,i){t.enforceCacheSizeLimit(i)}getWorkerPerformanceMetrics(t,e,i){i(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new St(self)),St})),n(["./shared"],(function(t){var e=i;function i(t){return!function(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{e=new Worker(n),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(n),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var i=e.getImageData(0,0,1,1);return i&&i.width===t.width}()?(void 0===n[e=t&&t.failIfMajorPerformanceCaveat]&&(n[e]=function(t){var e,n=function(t){var e=document.createElement("canvas"),n=Object.create(i.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}(t);if(!n)return!1;try{e=n.createShader(n.VERTEX_SHADER)}catch(t){return!1}return!(!e||n.isContextLost())&&(n.shaderSource(e,"void main() {}"),n.compileShader(e),!0===n.getShaderParameter(e,n.COMPILE_STATUS))}(e)),n[e]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var e}(t)}var n={};function r(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!r(t[i],e[i]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!r(t[i],e[i]))return!1;return!0}return t===e}i.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const o={create:function(e,i,n){const r=t.window.document.createElement(e);return void 0!==i&&(r.className=i),n&&n.appendChild(r),r},createNS:function(e,i){return t.window.document.createElementNS(e,i)}},s=t.window.document&&t.window.document.documentElement.style,a=s&&void 0!==s.userSelect?"userSelect":"WebkitUserSelect";let l;o.disableDrag=function(){s&&a&&(l=s[a],s[a]="none")},o.enableDrag=function(){s&&a&&(s[a]=l)},o.setTransform=function(t,e){t.style.transform=e};let c=!1;try{const e=Object.defineProperty({},"passive",{get(){c=!0}});t.window.addEventListener("test",e,e),t.window.removeEventListener("test",e,e)}catch(t){c=!1}o.addEventListener=function(t,e,i,n={}){t.addEventListener(e,i,"passive"in n&&c?n:n.capture)},o.removeEventListener=function(t,e,i,n={}){t.removeEventListener(e,i,"passive"in n&&c?n:n.capture)};const u=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",u,!0)};function h(e,i,n){const r=e.offsetWidth===i.width?1:e.offsetWidth/i.width;return new t.pointGeometry((n.clientX-i.left)*r,(n.clientY-i.top)*r)}o.suppressClick=function(){t.window.addEventListener("click",u,!0),t.window.setTimeout(()=>{t.window.removeEventListener("click",u,!0)},0)},o.mousePos=function(t,e){const i=t.getBoundingClientRect();return h(t,i,e)},o.touchPos=function(t,e){const i=t.getBoundingClientRect(),n=[];for(let r=0;r<e.length;r++)n.push(h(t,i,e[r]));return n},o.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},o.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};class d{constructor(t,e){this.pos=t,this.dir=e}intersectsPlane(e,i,n){const r=t.dot(i,this.dir);if(Math.abs(r)<1e-6)return!1;const o=t.dot(t.sub(t.create(),e,this.pos),i)/r,s=t.scaleAndAdd(t.create(),this.pos,this.dir,o);return t.copy(n,s),!0}}class p{constructor(t,e){this.points=t,this.planes=e}static fromInvProjectionMatrix(e,i,n){const r=Math.pow(2,n),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(n=>{const o=t.transformMat4([],n,e),s=1/o[3]/i*r;return t.mul(o,o,[s,s,1/o[3],s])}),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(e=>{const i=t.sub([],o[e[0]],o[e[1]]),n=t.sub([],o[e[2]],o[e[1]]),r=t.normalize([],t.cross([],i,n)),s=-t.dot(r,o[e[1]]);return r.concat(s)});return new p(o,s)}}class f{constructor(e,i){this.min=e,this.max=i,this.center=t.scale([],t.add([],this.min,this.max),.5)}quadrant(e){const i=[e%2==0,e<2],n=t.clone(this.min),r=t.clone(this.max);for(let t=0;t<i.length;t++)n[t]=i[t]?this.min[t]:this.center[t],r[t]=i[t]?this.center[t]:this.max[t];return r[2]=this.max[2],new f(n,r)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}intersects(e){const i=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let n=!0;for(let r=0;r<e.planes.length;r++){const o=e.planes[r];let s=0;for(let e=0;e<i.length;e++)s+=t.dot$1(o,i[e])>=0;if(0===s)return 0;s!==i.length&&(n=!1)}if(n)return 2;for(let t=0;t<3;t++){let i=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let r=0;r<e.points.length;r++){const o=e.points[r][t]-this.min[t];i=Math.min(i,o),n=Math.max(n,o)}if(n<0||i>this.max[t]-this.min[t])return 0}return 1}}function m(t){const{userImage:e}=t;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}class g extends t.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(t){if(this.loaded!==t&&(this.loaded=t,t)){for(const{ids:t,callback:e}of this.requestors)this._notify(t,e);this.requestors=[]}}getImage(t){return this.images[t]}addImage(t,e){this._validate(t,e)&&(this.images[t]=e)}_validate(e,i){let n=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new t.ErrorEvent(new Error(`Image "${e}" has invalid "stretchX" value`))),n=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new t.ErrorEvent(new Error(`Image "${e}" has invalid "stretchY" value`))),n=!1),this._validateContent(i.content,i)||(this.fire(new t.ErrorEvent(new Error(`Image "${e}" has invalid "content" value`))),n=!1),n}_validateStretch(t,e){if(!t)return!0;let i=0;for(const n of t){if(n[0]<i||n[1]<n[0]||e<n[1])return!1;i=n[1]}return!0}_validateContent(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))}updateImage(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0}removeImage(t){const e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(t,e){let i=!0;if(!this.isLoaded())for(const n of t)this.images[n]||(i=!1);this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})}_notify(e,i){const n={};for(const r of e){this.images[r]||this.fire(new t.Event("styleimagemissing",{id:r}));const e=this.images[r];e?n[r]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,hasRenderCallback:Boolean(e.userImage&&e.userImage.render)}:t.warnOnce(`Image "${r}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}i(null,n)}getPixelSize(){const{width:t,height:e}=this.atlasImage;return{width:t,height:e}}getPattern(e){const i=this.patterns[e],n=this.getImage(e);if(!n)return null;if(i&&i.position.version===n.version)return i.position;if(i)i.position.version=n.version;else{const i={w:n.data.width+2,h:n.data.height+2,x:0,y:0},r=new t.ImagePosition(i,n);this.patterns[e]={bin:i,position:r}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const i=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const t in this.patterns)e.push(this.patterns[t].bin);const{w:i,h:n}=t.potpack(e),r=this.atlasImage;r.resize({width:i||1,height:n||1});for(const o in this.patterns){const{bin:e}=this.patterns[o],i=e.x+1,n=e.y+1,s=this.images[o].data,a=s.width,l=s.height;t.RGBAImage.copy(s,r,{x:0,y:0},{x:i,y:n},{width:a,height:l}),t.RGBAImage.copy(s,r,{x:0,y:l-1},{x:i,y:n-1},{width:a,height:1}),t.RGBAImage.copy(s,r,{x:0,y:0},{x:i,y:n+l},{width:a,height:1}),t.RGBAImage.copy(s,r,{x:a-1,y:0},{x:i-1,y:n},{width:1,height:l}),t.RGBAImage.copy(s,r,{x:0,y:0},{x:i+a,y:n},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(t){for(const e of t){if(this.callbackDispatchedThisFrame[e])continue;this.callbackDispatchedThisFrame[e]=!0;const t=this.images[e];m(t)&&this.updateImage(e,t)}}}const y=new t.Properties({anchor:new t.DataConstantProperty(t.spec.light.anchor),position:new class{constructor(){this.specification=t.spec.light.position}possiblyEvaluate(e,i){return function([e,i,n]){const r=t.degToRad(i+90),o=t.degToRad(n);return{x:e*Math.cos(r)*Math.sin(o),y:e*Math.sin(r)*Math.sin(o),z:e*Math.cos(o),azimuthal:i,polar:n}}(e.expression.evaluate(i))}interpolate(e,i,n){return{x:t.number(e.x,i.x,n),y:t.number(e.y,i.y,n),z:t.number(e.z,i.z,n),azimuthal:t.number(e.azimuthal,i.azimuthal,n),polar:t.number(e.polar,i.polar,n)}}},color:new t.DataConstantProperty(t.spec.light.color),intensity:new t.DataConstantProperty(t.spec.light.intensity)}),v="-transition";class _ extends t.Evented{constructor(e){super(),this._transitionable=new t.Transitionable(y),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,i={}){if(!this._validate(t.validateLight,e,i))for(const n in e){const i=e[n];t.endsWith(n,v)?this._transitionable.setTransition(n.slice(0,-v.length),i):this._transitionable.setValue(n,i)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(e,i,n){return(!n||!1!==n.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.spec})))}}const b=new t.Properties({source:new t.DataConstantProperty(t.spec.terrain.source),exaggeration:new t.DataConstantProperty(t.spec.terrain.exaggeration)}),x="-transition";class w extends t.Evented{constructor(e){super(),this._transitionable=new t.Transitionable(b),this.set(e),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(e){for(const i in e){const n=e[i];t.endsWith(i,x)?this._transitionable.setTransition(i.slice(0,-x.length),n):this._transitionable.setValue(i,n)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}}function S(e,i,n,r){const o=t.smoothstep(45,65,n),[s,a]=T(e,r),l=t.length(i);let c=1-Math.min(1,Math.exp((l-s)/(a-s)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*o*e.alpha}function T(t,e){const i=.5/Math.tan(.5*e);return[t.range[0]+i,t.range[1]+i]}const C=new t.Properties({range:new t.DataConstantProperty(t.spec.fog.range),color:new t.DataConstantProperty(t.spec.fog.color),"horizon-blend":new t.DataConstantProperty(t.spec.fog["horizon-blend"])}),O="-transition";class k extends t.Evented{constructor(e){super(),this._transitionable=new t.Transitionable(C),this.set(e),this._transitioning=this._transitionable.untransitioned()}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(e,i={}){if(!this._validate(t.validateFog,e,i))for(const n in e){const i=e[n];t.endsWith(n,O)?this._transitionable.setTransition(n.slice(0,-O.length),i):this._transitionable.setValue(n,i)}}getOpacity(e){const i=this.properties&&this.properties.get("color")||1;return t.smoothstep(45,65,e)*i.a}getOpacityAtLatLng(e,i){return function(e,i,n){const r=t.MercatorCoordinate.fromLngLat(i),o=n.elevation?n.elevation.getAtPointOrZero(r):0,s=[r.x,r.y,o];return t.transformMat4$1(s,s,n.mercatorFogMatrix),S(e,s,n.pitch,n._fov)}(this.state,e,i)}getFovAdjustedRange(t){return T(this.state,t)}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(e,i,n){return(!n||!1!==n.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.spec})))}}class A{constructor(e,i){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=t.uniqueId();const n=this.workerPool.acquire(this.id);for(let t=0;t<n.length;t++){const e=new A.Actor(n[t],i,this.id);e.name="Worker "+t,this.actors.push(e)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(e,i,n){t.asyncAll(this.actors,(t,n)=>{t.send(e,i,n)},n=n||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(t=>{t.remove()}),this.actors=[],this.workerPool.release(this.id)}}function I(e,i,n){return i*(t.EXTENT/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}A.Actor=t.Actor;class E{constructor(t,e,i,n){this.screenBounds=t,this.cameraPoint=e,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=i,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(t=>n.pointCoordinate3D(t)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(e,i){let n,r;if(e instanceof t.pointGeometry||"number"==typeof e[0]){const o=t.pointGeometry.convert(e);n=[t.pointGeometry.convert(e)],r=i.isPointAboveHorizon(o)}else{const o=t.pointGeometry.convert(e[0]),s=t.pointGeometry.convert(e[1]);n=[o,s],r=t.polygonizeBounds(o,s).every(t=>i.isPointAboveHorizon(t))}return new E(n,i.getCameraPoint(),r,i)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(e){return t.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],e)}bufferedCameraGeometry(e){const i=this.screenBounds[0],n=1===this.screenBounds.length?this.screenBounds[0].add(new t.pointGeometry(1,1)):this.screenBounds[1],r=t.polygonizeBounds(i,n,0,!1);return this.cameraPoint.y>n.y&&(this.cameraPoint.x>i.x&&this.cameraPoint.x<n.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=n.x?r[2]=this.cameraPoint:this.cameraPoint.x<=i.x&&(r[3]=this.cameraPoint)),t.bufferConvexPolygon(r,e)}containsTile(e,i,n){const r=e.queryPadding+1,o=n?this._bufferedCameraMercator(r,i).map(t=>e.tileID.getTilePoint(t)):this._bufferedScreenMercator(r,i).map(t=>e.tileID.getTilePoint(t)),s=this.screenGeometryMercator.map(t=>e.tileID.getTileVec3(t)),a=s.map(e=>new t.pointGeometry(e[0],e[1])),l=i.getFreeCameraOptions().position||new t.MercatorCoordinate(0,0,0),c=e.tileID.getTileVec3(l),u=s.map(e=>{const i=t.sub(e,e,c);return t.normalize(i,i),new d(c,i)}),h=I(e,1,i.zoom);if(t.polygonIntersectsBox(o,0,0,t.EXTENT,t.EXTENT))return{queryGeometry:this,tilespaceGeometry:a,tilespaceRays:u,bufferedTilespaceGeometry:o,bufferedTilespaceBounds:(p=t.getBounds(o),p.min.x=t.clamp(p.min.x,0,t.EXTENT),p.min.y=t.clamp(p.min.y,0,t.EXTENT),p.max.x=t.clamp(p.max.x,0,t.EXTENT),p.max.y=t.clamp(p.max.y,0,t.EXTENT),p),tile:e,tileID:e.tileID,pixelToTileUnitsFactor:h};var p}_bufferedScreenMercator(t,e){const i=M(t);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];{const n=this.bufferedScreenGeometry(t).map(t=>e.pointCoordinate3D(t));return this._screenRaycastCache[i]=n,n}}_bufferedCameraMercator(t,e){const i=M(t);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];{const n=this.bufferedCameraGeometry(t).map(t=>e.pointCoordinate3D(t));return this._cameraRaycastCache[i]=n,n}}}function M(t){return 100*t|0}function D(e,i,n){const r=function(r,o){if(r)return n(r);if(o){const r=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(r.vectorLayers=o.vector_layers,r.vectorLayerIds=r.vectorLayers.map(t=>t.id)),r.tiles=i.canonicalizeTileset(r,e.url),n(null,r)}};return e.url?t.getJSON(i.transformRequest(i.normalizeSourceURL(e.url),t.ResourceType.Source),r):t.exported.frame(()=>r(null,e))}class P{constructor(e,i,n){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=i||0,this.maxzoom=n||24}validateBounds(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]}contains(e){const i=Math.pow(2,e.z),n=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*i),r=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*i),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*i),s=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*i);return e.x>=n&&e.x<o&&e.y>=r&&e.y<s}}class L{constructor(t,e,i){this.context=t;const n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(t){const e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const z={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class j{constructor(t,e,i,n){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;const r=t.gl;this.buffer=r.createBuffer(),t.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(t){const e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)}enableAttributes(t,e){for(let i=0;i<this.attributes.length;i++){const n=e.attributes[this.attributes[i].name];void 0!==n&&t.enableVertexAttribArray(n)}}setVertexAttribPointers(t,e,i){for(let n=0;n<this.attributes.length;n++){const r=this.attributes[n],o=e.attributes[r.name];void 0!==o&&t.vertexAttribPointer(o,r.components,t[z[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class B{constructor(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(t){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class R extends B{getDefault(){return t.Color.transparent}set(t){const e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class F extends B{getDefault(){return 1}set(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)}}class N extends B{getDefault(){return 0}set(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)}}class V extends B{getDefault(){return[!0,!0,!0,!0]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class $ extends B{getDefault(){return!0}set(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)}}class U extends B{getDefault(){return 255}set(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)}}class G extends B{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(t){const e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)}}class q extends B{getDefault(){const t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)}}class H extends B{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}}class W extends B{getDefault(){return[0,1]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)}}class Z extends B{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}}class X extends B{getDefault(){return this.gl.LESS}set(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)}}class Y extends B{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}}class K extends B{getDefault(){const t=this.gl;return[t.ONE,t.ZERO]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)}}class J extends B{getDefault(){return t.Color.transparent}set(t){const e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class Q extends B{getDefault(){return this.gl.FUNC_ADD}set(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)}}class tt extends B{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}}class et extends B{getDefault(){return this.gl.BACK}set(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)}}class it extends B{getDefault(){return this.gl.CCW}set(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)}}class nt extends B{getDefault(){return null}set(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)}}class rt extends B{getDefault(){return this.gl.TEXTURE0}set(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)}}class ot extends B{getDefault(){const t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class st extends B{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}}class at extends B{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class lt extends B{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}}class ct extends B{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class ut extends B{getDefault(){return null}set(t){const e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class ht extends B{constructor(t){super(t),this.vao=t.extVertexArrayObject}getDefault(){return null}set(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)}}class dt extends B{getDefault(){return 4}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}}class pt extends B{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}}class ft extends B{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}}class mt extends B{constructor(t,e){super(t),this.context=t,this.parent=e}getDefault(){return null}}class gt extends mt{setDirty(){this.dirty=!0}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}}class yt extends mt{attachment(){return this.gl.DEPTH_ATTACHMENT}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,this.attachment(),e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class vt extends yt{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class _t{constructor(t,e,i,n){this.context=t,this.width=e,this.height=i;const r=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new gt(t,r),n&&(this.depthAttachment=new yt(t,r))}destroy(){const t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){const e=this.depthAttachment.get();e&&t.deleteRenderbuffer(e)}t.deleteFramebuffer(this.framebuffer)}}class bt{constructor(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new R(this),this.clearDepth=new F(this),this.clearStencil=new N(this),this.colorMask=new V(this),this.depthMask=new $(this),this.stencilMask=new U(this),this.stencilFunc=new G(this),this.stencilOp=new q(this),this.stencilTest=new H(this),this.depthRange=new W(this),this.depthTest=new Z(this),this.depthFunc=new X(this),this.blend=new Y(this),this.blendFunc=new K(this),this.blendColor=new J(this),this.blendEquation=new Q(this),this.cullFace=new tt(this),this.cullFaceSide=new et(this),this.frontFace=new it(this),this.program=new nt(this),this.activeTexture=new rt(this),this.viewport=new ot(this),this.bindFramebuffer=new st(this),this.bindRenderbuffer=new at(this),this.bindTexture=new lt(this),this.bindVertexBuffer=new ct(this),this.bindElementBuffer=new ut(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ht(this),this.pixelStoreUnpack=new dt(this),this.pixelStoreUnpackPremultiplyAlpha=new pt(this),this.pixelStoreUnpackFlipY=new ft(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(t,e){return new L(this,t,e)}createVertexBuffer(t,e,i){return new j(this,t,e,i)}createRenderbuffer(t,e,i){const n=this.gl,r=n.createRenderbuffer();return this.bindRenderbuffer.set(r),n.renderbufferStorage(n.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),r}createFramebuffer(t,e,i){return new _t(this,t,e,i)}clear({color:t,depth:e,stencil:i}){const n=this.gl;let r=0;t&&(r|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==e&&(r|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(e),this.depthMask.set(!0)),void 0!==i&&(r|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),n.clear(r)}setCullFace(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))}setDepthMode(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)}setStencilMode(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)}setColorMode(e){r(e.blendFunction,t.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class xt extends t.Evented{constructor(e,i,n,r){super(),this.id=e,this.dispatcher=n,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},i),t.extend(this,t.pick(i,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=D(this._options,this.map._requestManager,(e,i)=>{this._tileJSONRequest=null,this._loaded=!0,e?this.fire(new t.ErrorEvent(e)):i&&(t.extend(this,i),i.bounds&&(this.tileBounds=new P(i.bounds,this.minzoom,this.maxzoom)),t.postTurnstileEvent(i.tiles),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(t){this.map=t,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return t.extend({},this._options)}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}loadTile(e,i){const n=t.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),n,this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),(n,r,o,s)=>{if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(n)e.state="errored",i(n);else if(r){this.map._refreshExpiredTiles&&e.setExpiryData({cacheControl:o,expires:s});const n=this.map.painter.context,a=n.gl;e.texture=this.map.painter.getTileTexture(r.width),e.texture?e.texture.update(r,{useMipmap:!0}):(e.texture=new t.Texture(n,r,a.RGBA,{useMipmap:!0}),e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),n.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(this.dispatcher),i(null)}})}abortTile(t,e){t.request&&(t.request.cancel(),delete t.request),e()}unloadTile(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()}hasTransition(){return!1}}let wt;var St=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Tt extends t.Evented{constructor(t,e,i,n){super(),this.id=t,this.dispatcher=i,this.coordinates=e.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(n),this.options=e}load(e,i){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(n,r)=>{this._loaded=!0,n?this.fire(new t.ErrorEvent(n)):r&&(this.image=t.exported.getImageData(r),e&&(this.coordinates=e),i&&i(),this._finishLoading())})}loaded(){return this._loaded}updateImage(t){return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(t){this.map=t,this.load()}setCoordinates(e){this.coordinates=e;const i=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){let i=1/0,n=1/0,r=-1/0,o=-1/0;for(const t of e)i=Math.min(i,t.x),n=Math.min(n,t.y),r=Math.max(r,t.x),o=Math.max(o,t.y);const s=Math.max(r-i,o-n),a=Math.max(0,Math.floor(-Math.log(s)/Math.LN2)),l=Math.pow(2,a);return new t.CanonicalTileID(a,Math.floor((i+r)/2*l),Math.floor((n+o)/2*l))}(i),this.minzoom=this.maxzoom=this.tileID.z;const n=i.map(t=>this.tileID.getTilePoint(t)._round());return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(n[0].x,n[0].y,0,0),this._boundsArray.emplaceBack(n[1].x,n[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(n[3].x,n[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(n[2].x,n[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const e=this.map.painter.context,i=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,St.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture)}}loadTile(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ct={vector:class extends t.Evented{constructor(e,i,n,r){if(super(),this.id=e,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(i,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new t.DedupedRequest}load(){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=D(this._options,this.map._requestManager,(e,i)=>{this._tileJSONRequest=null,this._loaded=!0,e?this.fire(new t.ErrorEvent(e)):i&&(t.extend(this,i),i.bounds&&(this.tileBounds=new P(i.bounds,this.minzoom,this.maxzoom)),t.postTurnstileEvent(i.tiles,this.map._requestManager._customAccessToken),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}onAdd(t){this.map=t,this.load()}setSourceProperty(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t();const e=this.map.style._getSourceCaches(this.id);for(const i of e)i.clearTiles();this.load()}setTiles(t){return this.setSourceProperty(()=>{this._options.tiles=t}),this}setUrl(t){return this.setSourceProperty(()=>{this.url=t,this._options.url=t}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return t.extend({},this._options)}loadTile(e,i){const n=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(n,t.ResourceType.Tile),data:void 0,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:e.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state)"loading"===e.state?e.reloadCallback=i:e.request=e.actor.send("reloadTile",r,o.bind(this));else if(e.actor=this._tileWorkers[n]=this._tileWorkers[n]||this.dispatcher.getActor(),this.dispatcher.ready)e.request=e.actor.send("loadTile",r,o.bind(this),void 0,!0);else{const i=t.loadVectorTile.call({deduped:this._deduped},r,(t,i)=>{t||!i?o.call(this,t):(r.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},e.actor&&e.actor.send("loadTile",r,o.bind(this),void 0,!0))},!0);e.request={cancel:i}}function o(n,r){return delete e.request,e.aborted?i(null):n&&404!==n.status?i(n):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}}abortTile(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id})}unloadTile(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:xt,"raster-dem":class extends xt{constructor(e,i,n,r){super(e,i,n,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox"}loadTile(e,i){const n=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(t,n){t&&(e.state="errored",i(t)),n&&(e.dem=n,e.dem.onDeserialize(),e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0,e.state="loaded",i(null))}e.request=t.getImage(this.map._requestManager.transformRequest(n,t.ResourceType.Tile),function(n,o,s,a){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(n)e.state="errored",i(n);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData({cacheControl:s,expires:a});const i=t.window.ImageBitmap&&o instanceof t.window.ImageBitmap&&(null==wt&&(wt=t.window.OffscreenCanvas&&new t.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof t.window.createImageBitmap),wt),n=1-(o.width-t.prevPowerOfTwo(o.width))/2;n<1||e.neighboringTiles||(e.neighboringTiles=this._getNeighboringTiles(e.tileID));const l=i?o:t.exported.getImageData(o,n),c={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:n};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",c,r.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(e){const i=e.canonical,n=Math.pow(2,i.z),r=(i.x-1+n)%n,o=0===i.x?e.wrap-1:e.wrap,s=(i.x+1+n)%n,a=i.x+1===n?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,o,i.z,r,i.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,a,i.z,s,i.y).key]={backfilled:!1},i.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,o,i.z,r,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,a,i.z,s,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new t.OverscaledTileID(e.overscaledZ,o,i.z,r,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,a,i.z,s,i.y+1).key]={backfilled:!1}),l}unloadTile(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded"}},geojson:class extends t.Evented{constructor(e,i,n,r){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=n.getActor(),this.setEventedParent(r),this._data=i.data,this._options=t.extend({},i),this._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const o=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*o,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*o,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:t.EXTENT,radius:(void 0!==i.clusterRadius?i.clusterRadius:50)*o,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions)}onAdd(t){this.map=t,this.setData(this._data)}setData(t){return this._data=t,this._updateWorkerData(),this}getClusterExpansionZoom(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this}getClusterChildren(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this}getClusterLeaves(t,e,i,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:i},n),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new t.Event("dataloading",{dataType:"source"})),this._loaded=!1;const e=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(e.request=this.map._requestManager.transformRequest(t.exported.resolveURL(i),t.ResourceType.Source),e.request.collectResourceTiming=this._collectResourceTiming):e.data=JSON.stringify(i),this._pendingLoad=this.actor.send(this.type+".loadData",e,(e,i)=>{if(this._loaded=!0,this._pendingLoad=null,e)this.fire(new t.ErrorEvent(e));else{const e={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&i&&i.resourceTiming&&i.resourceTiming[this.id]&&(e.resourceTiming=i.resourceTiming[this.id]),this.fire(new t.Event("data",e)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(e,i){const n=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(n,{type:this.type,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(t,r)=>(delete e.request,e.unloadVectorData(),e.aborted?i(null):t?i(t):(e.loadVectorData(r,this.map.painter,"reloadTile"===n),i(null))),void 0,"loadTile"===n)}abortTile(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0}unloadTile(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return t.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Tt{constructor(t,e,i,n){super(t,e,i,n),this.roundZoom=!0,this.type="video",this.options=e}load(){this._loaded=!1;const e=this.options;this.urls=[];for(const i of e.urls)this.urls.push(this.map._requestManager.transformRequest(i,t.ResourceType.Source).url);t.getVideo(this.urls,(e,i)=>{this._loaded=!0,e?this.fire(new t.ErrorEvent(e)):i&&(this.video=i,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const i=this.video.seekable;e<i.start(0)||e>i.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const e=this.map.painter.context,i=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,St.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Tt,canvas:class extends Tt{constructor(e,i,n,r){super(e,i,n,r),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some(t=>!Array.isArray(t)||2!==t.length||t.some(t=>"number"!=typeof t))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const i=this.map.painter.context,n=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,St.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(i,this.canvas,n.RGBA,{premultiply:!0});for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const t of[this.canvas.width,this.canvas.height])if(isNaN(t)||t<=0)return!0;return!1}}},Ot=function(e,i,n,r){const o=new Ct[i.type](e,i,n,r);if(o.id!==e)throw new Error(`Expected Source id to be ${e} instead of ${o.id}`);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o};function kt(e,i){const n=t.identity([]);return t.scale$1(n,n,[.5*e.width,.5*-e.height,1]),t.translate(n,n,[1,-1,0]),t.multiply(n,n,e.calculateProjMatrix(i.toUnwrapped()))}function At(t,e,i,n,r,o,s,a=!1){const l=t.tilesIn(n,s,a);l.sort(Et);const c=[];for(const h of l)c.push({wrappedTileID:h.tile.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(e,i,t._state,h,r,o,kt(t.transform,h.tile.tileID),a)});const u=function(t){const e={},i={};for(const n of t){const t=n.queryResults,r=n.wrappedTileID,o=i[r]=i[r]||{};for(const i in t){const n=t[i],r=o[i]=o[i]||{},s=e[i]=e[i]||[];for(const t of n)r[t.featureIndex]||(r[t.featureIndex]=!0,s.push(t))}}return e}(c);for(const h in u)u[h].forEach(e=>{const i=e.feature,n=t.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=n});return u}function It(t,e){const i=t.getRenderableIds().map(e=>t.getTileByID(e)),n=[],r={};for(let o=0;o<i.length;o++){const t=i[o],s=t.tileID.canonical.key;r[s]||(r[s]=!0,t.querySourceFeatures(n,e))}return n}function Et(t,e){const i=t.tileID,n=e.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}function Mt(){return null!=Wr.workerClass?new Wr.workerClass:new t.window.Worker(Wr.workerUrl)}const Dt="mapboxgl_preloaded_worker_pool";class Pt{constructor(){this.active={}}acquire(t){if(!this.workers)for(this.workers=[];this.workers.length<Pt.workerCount;)this.workers.push(new Mt);return this.active[t]=!0,this.workers.slice()}release(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach(t=>{t.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Dt]}numActive(){return Object.keys(this.active).length}}let Lt;function zt(){return Lt||(Lt=new Pt),Lt}function jt(e,i){const n={};for(const t in e)"ref"!==t&&(n[t]=e[t]);return t.refProperties.forEach(t=>{t in i&&(n[t]=i[t])}),n}function Bt(t){t=t.slice();const e=Object.create(null);for(let i=0;i<t.length;i++)e[t[i].id]=t[i];for(let i=0;i<t.length;i++)"ref"in t[i]&&(t[i]=jt(t[i],e[t[i].ref]));return t}Pt.workerCount=2;const Rt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog"};function Ft(t,e,i){i.push({command:Rt.addSource,args:[t,e[t]]})}function Nt(t,e,i){e.push({command:Rt.removeSource,args:[t]}),i[t]=!0}function Vt(t,e,i,n){Nt(t,i,n),Ft(t,e,i)}function $t(t,e,i){let n;for(n in t[i])if(t[i].hasOwnProperty(n)&&"data"!==n&&!r(t[i][n],e[i][n]))return!1;for(n in e[i])if(e[i].hasOwnProperty(n)&&"data"!==n&&!r(t[i][n],e[i][n]))return!1;return!0}function Ut(t,e,i,n,o,s){let a;for(a in e=e||{},t=t||{})t.hasOwnProperty(a)&&(r(t[a],e[a])||i.push({command:s,args:[n,a,e[a],o]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(r(t[a],e[a])||i.push({command:s,args:[n,a,e[a],o]}))}function Gt(t){return t.id}function qt(t,e){return t[e.id]=e,t}class Ht{constructor(t,e){this.reset(t,e)}reset(t,e){this.points=t||[],this._distances=[0];for(let i=1;i<this.points.length;i++)this._distances[i]=this._distances[i-1]+this.points[i].dist(this.points[i-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);let i=1,n=this._distances[i];const r=e*this.paddedLength+this.padding;for(;n<r&&i<this._distances.length;)n=this._distances[++i];const o=i-1,s=this._distances[o],a=n-s,l=a>0?(r-s)/a:0;return this.points[o].mult(1-l).add(this.points[i].mult(l))}}class Wt{constructor(t,e,i){const n=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(let o=0;o<this.xCellCount*this.yCellCount;o++)n.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(t,e,i,n,r){this._forEachCell(e,i,n,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)}insertCircle(t,e,i,n){this._forEachCell(e-n,i-n,e+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(n)}_insertBoxCell(t,e,i,n,r,o){this.boxCells[r].push(o)}_insertCircleCell(t,e,i,n,r,o){this.circleCells[r].push(o)}_query(t,e,i,n,r,o){if(i<0||t>this.width||n<0||e>this.height)return!r&&[];const s=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=n){if(r)return!0;for(let t=0;t<this.boxKeys.length;t++)s.push({key:this.boxKeys[t],x1:this.bboxes[4*t],y1:this.bboxes[4*t+1],x2:this.bboxes[4*t+2],y2:this.bboxes[4*t+3]});for(let t=0;t<this.circleKeys.length;t++){const e=this.circles[3*t],i=this.circles[3*t+1],n=this.circles[3*t+2];s.push({key:this.circleKeys[t],x1:e-n,y1:i-n,x2:e+n,y2:i+n})}return o?s.filter(o):s}return this._forEachCell(t,e,i,n,this._queryCell,s,{hitTest:r,seenUids:{box:{},circle:{}}},o),r?s.length>0:s}_queryCircle(t,e,i,n,r){const o=t-i,s=t+i,a=e-i,l=e+i;if(s<0||o>this.width||l<0||a>this.height)return!n&&[];const c=[];return this._forEachCell(o,a,s,l,this._queryCellCircle,c,{hitTest:n,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}},r),n?c.length>0:c}query(t,e,i,n,r){return this._query(t,e,i,n,!1,r)}hitTest(t,e,i,n,r){return this._query(t,e,i,n,!0,r)}hitTestCircle(t,e,i,n){return this._queryCircle(t,e,i,!0,n)}_queryCell(t,e,i,n,r,o,s,a){const l=s.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const u of c)if(!l.box[u]){l.box[u]=!0;const c=4*u;if(t<=r[c+2]&&e<=r[c+3]&&i>=r[c+0]&&n>=r[c+1]&&(!a||a(this.boxKeys[u]))){if(s.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[u],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]})}}}const u=this.circleCells[r];if(null!==u){const r=this.circles;for(const c of u)if(!l.circle[c]){l.circle[c]=!0;const u=3*c;if(this._circleAndRectCollide(r[u],r[u+1],r[u+2],t,e,i,n)&&(!a||a(this.circleKeys[c]))){if(s.hitTest)return o.push(!0),!0;{const t=r[u],e=r[u+1],i=r[u+2];o.push({key:this.circleKeys[c],x1:t-i,y1:e-i,x2:t+i,y2:e+i})}}}}}_queryCellCircle(t,e,i,n,r,o,s,a){const l=s.circle,c=s.seenUids,u=this.boxCells[r];if(null!==u){const t=this.bboxes;for(const e of u)if(!c.box[e]){c.box[e]=!0;const i=4*e;if(this._circleAndRectCollide(l.x,l.y,l.radius,t[i+0],t[i+1],t[i+2],t[i+3])&&(!a||a(this.boxKeys[e])))return o.push(!0),!0}}const h=this.circleCells[r];if(null!==h){const t=this.circles;for(const e of h)if(!c.circle[e]){c.circle[e]=!0;const i=3*e;if(this._circlesCollide(t[i],t[i+1],t[i+2],l.x,l.y,l.radius)&&(!a||a(this.circleKeys[e])))return o.push(!0),!0}}}_forEachCell(t,e,i,n,r,o,s,a){const l=this._convertToXCellCoord(t),c=this._convertToYCellCoord(e),u=this._convertToXCellCoord(i),h=this._convertToYCellCoord(n);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++)if(r.call(this,t,e,i,n,this.xCellCount*l+d,o,s,a))return}_convertToXCellCoord(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}_convertToYCellCoord(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}_circlesCollide(t,e,i,n,r,o){const s=n-t,a=r-e,l=i+o;return l*l>s*s+a*a}_circleAndRectCollide(t,e,i,n,r,o,s){const a=(o-n)/2,l=Math.abs(t-(n+a));if(l>a+i)return!1;const c=(s-r)/2,u=Math.abs(e-(r+c));if(u>c+i)return!1;if(l<=a||u<=c)return!0;const h=l-a,d=u-c;return h*h+d*d<=i*i}}const Zt=Math.tan(85*Math.PI/180);function Xt(e,i,n,r,o){const s=t.create$1();return i?(t.scale$1(s,s,[1/o,1/o,1]),n||t.rotateZ(s,s,r.angle)):t.multiply(s,r.labelPlaneMatrix,e),s}function Yt(e,i,n,r,o){if(i){const i=t.clone$1(e);return t.scale$1(i,i,[o,o,1]),n||t.rotateZ(i,i,-r.angle),i}return r.glCoordMatrix}function Kt(e,i,n=0){const r=[e.x,e.y,n,1];n?t.transformMat4(r,r,i):le(r,r,i);const o=r[3];return{point:new t.pointGeometry(r[0]/o,r[1]/o),signedDistanceFromCamera:o}}function Jt(t,e){return Math.min(.5+t/e*.5,1.5)}function Qt(t,e){const i=t[0]/t[3],n=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&n>=-e[1]&&n<=e[1]}function te(e,i,n,r,o,s,a,l,c){const u=r?e.textSizeData:e.iconSizeData,h=t.evaluateSizeForZoom(u,n.transform.zoom),d=[256/n.width*2+1,256/n.height*2+1],p=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();const f=e.lineVertexArray,m=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,g=n.transform.width/n.transform.height;let y=!1;for(let v=0;v<m.length;v++){const r=m.get(v);if(r.writingMode!==t.WritingMode.vertical||y||0!==v&&m.get(v-1).writingMode===t.WritingMode.horizontal||(y=!0),r.hidden||r.writingMode===t.WritingMode.vertical&&!y){ae(r.numGlyphs,p);continue}y=!1;const _=c?c({x:r.anchorX,y:r.anchorY}):0,b=[r.anchorX,r.anchorY,_,1];if(t.transformMat4(b,b,i),!Qt(b,d)){ae(r.numGlyphs,p);continue}const x=Jt(n.transform.cameraToCenterDistance,b[3]),w=t.evaluateSizeForFeature(u,h,r),S=a?w/x:w*x,T=new t.pointGeometry(r.anchorX,r.anchorY),C=Kt(T,o,_);if(C.signedDistanceFromCamera<=0){ae(r.numGlyphs,p);continue}const O=C.point;let k={};const A=a?null:c,I=ne(r,S,!1,l,i,o,s,e.glyphOffsetArray,f,p,O,T,k,g,A);y=I.useVertical,A&&I.needsFlipping&&(k={}),(I.notEnoughRoom||y||I.needsFlipping&&ne(r,S,!0,l,i,o,s,e.glyphOffsetArray,f,p,O,T,k,g,A).notEnoughRoom)&&ae(r.numGlyphs,p)}r?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function ee(t,e,i,n,r,o,s,a,l,c,u,h,d){const p=a.glyphStartIndex+a.numGlyphs,f=a.lineStartIndex,m=a.lineStartIndex+a.lineLength,g=e.getoffsetX(a.glyphStartIndex),y=e.getoffsetX(p-1),v=oe(t*g,i,n,r,o,s,a.segment,f,m,l,c,u,h,d,!0);if(!v)return null;const _=oe(t*y,i,n,r,o,s,a.segment,f,m,l,c,u,h,d,!0);return _?{first:v,last:_}:null}function ie(e,i,n,r){return e.writingMode===t.WritingMode.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*r?{useVertical:!0}:e.writingMode===t.WritingMode.vertical?i.y<n.y?{needsFlipping:!0}:null:0!==e.flipState&&function(t,e,i){const n=(e.x-t.x)*i;return 0===n||Math.abs((e.y-t.y)/n)>Zt}(i,n,r)?1===e.flipState?{needsFlipping:!0}:null:i.x>n.x?{needsFlipping:!0}:null}function ne(e,i,n,r,o,s,a,l,c,u,h,d,p,f,m){const g=i/24,y=e.lineOffsetX*g,v=e.lineOffsetY*g;let _;if(e.numGlyphs>1){const t=e.glyphStartIndex+e.numGlyphs,i=e.lineStartIndex,o=e.lineStartIndex+e.lineLength,u=ee(g,l,y,v,n,h,d,e,c,s,p,m);if(!u)return{notEnoughRoom:!0};const b=Kt(u.first.point,a).point,x=Kt(u.last.point,a).point;if(r&&!n){const t=ie(e,b,x,f);if(e.flipState=t&&t.needsFlipping?1:2,t)return t}_=[u.first];for(let r=e.glyphStartIndex+1;r<t-1;r++)_.push(oe(g*l.getoffsetX(r),y,v,n,h,d,e.segment,i,o,c,s,p,m));_.push(u.last)}else{if(r&&!n){const i=Kt(d,o).point,n=e.lineStartIndex+e.segment+1,r=new t.pointGeometry(c.getx(n),c.gety(n)),s=Kt(r,o),a=ie(e,i,s.signedDistanceFromCamera>0?s.point:re(d,r,i,1,o),f);if(e.flipState=a&&a.needsFlipping?1:2,a)return a}const i=oe(g*l.getoffsetX(e.glyphStartIndex),y,v,n,h,d,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,s,p,m);if(!i)return{notEnoughRoom:!0};_=[i]}for(const b of _)t.addDynamicAttributes(u,b.point,b.angle);return{}}function re(t,e,i,n,r,o){const s=t.add(t.sub(e)._unit()),a=Kt(s,r,o?o(s):0).point,l=i.sub(a);return i.add(l._mult(n/l.mag()))}function oe(e,i,n,r,o,s,a,l,c,u,h,d,p,f,m){const g=r?e-i:e+i;let y=g>0?1:-1,v=0;r&&(y*=-1,v=Math.PI),y<0&&(v+=Math.PI);let _=y>0?l+a:l+a+1,b=o,x=o,w=0,S=0;const T=Math.abs(g),C=[],O=[];let k=s;const A=()=>{const e=_-y;return 0===w?s:new t.pointGeometry(u.getx(e),u.gety(e))},I=()=>re(A(),k,x,T-w+1,h,p);for(;w+S<=T;){if(_+=y,_<l||_>=c)return null;if(x=b,C.push(b),f&&O.push(k||A()),b=d[_],void 0===b){k=new t.pointGeometry(u.getx(_),u.gety(_));const e=Kt(k,h,p?p(k):0);b=e.signedDistanceFromCamera>0?d[_]=e.point:I()}else k=null;w+=S,S=x.dist(b)}m&&p&&(k=k||new t.pointGeometry(u.getx(_),u.gety(_)),d[_]=b=void 0===d[_]?b:I(),S=x.dist(b));const E=(T-w)/S,M=b.sub(x),D=M.mult(E)._add(x);n&&D._add(M._unit()._perp()._mult(n*y));const P=v+Math.atan2(b.y-x.y,b.x-x.x);return C.push(D),f&&(k=k||new t.pointGeometry(u.getx(_),u.gety(_)),O.push(function(e,i,n){const r=1-n;return new t.pointGeometry(e.x*r+i.x*n,e.y*r+i.y*n)}(O.length>0?O[O.length-1]:k,k,E))),{point:D,angle:P,path:C,tilePath:O}}const se=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ae(t,e){for(let i=0;i<t;i++){const t=e.length;e.resize(t+4),e.float32.set(se,3*t)}}function le(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t[3]=i[3]*n+i[7]*r+i[15],t}const ce=100;class ue{constructor(t,e,i=new Wt(t.width+200,t.height+200,25),n=new Wt(t.width+200,t.height+200,25)){this.transform=t,this.grid=i,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+ce,this.screenBottomBoundary=t.height+ce,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200,this.fogState=e}placeCollisionBox(t,e,i,n,r,o,s){const a=this.projectAndGetPerspectiveRatio(o,e.anchorPointX,e.anchorPointY,e.elevation,e.tileID),l=r*a.perspectiveRatio,c=(e.x1*t+i.x-e.padding)*l+a.point.x,u=(e.y1*t+i.y-e.padding)*l+a.point.y,h=(e.x2*t+i.x+e.padding)*l+a.point.x,d=(e.y2*t+i.y+e.padding)*l+a.point.y,p=a.perspectiveRatio<=.55||a.aboveHorizon;return!this.isInsideGrid(c,u,h,d)||!n&&this.grid.hitTest(c,u,h,d,s)||p?{box:[],offscreen:!1}:{box:[c,u,h,d],offscreen:this.isOffscreen(c,u,h,d)}}placeCollisionCircles(e,i,n,r,o,s,a,l,c,u,h,d,p,f){const m=[],g=this.transform.elevation,y=g?t=>g.getAtTileOffset(f,t.x,t.y):t=>0,v=new t.pointGeometry(i.anchorX,i.anchorY),_=y(v),b=this.projectAndGetPerspectiveRatio(s,v.x,v.y,_,f),{perspectiveRatio:x}=b,w=(u?o/x:o*x)/t.ONE_EM,S=Kt(v,a,_).point,T=b.signedDistanceFromCamera>0?ee(w,r,i.lineOffsetX*w,i.lineOffsetY*w,!1,S,v,i,n,a,{},g&&!u?y:null,u&&!!g):null;let C=!1,O=!1,k=!0;if(T&&!b.aboveHorizon){const i=.5*d*x+p,n=new t.pointGeometry(-100,-100),r=new t.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),o=new Ht,s=T.first,a=T.last;let u=[];for(let t=s.path.length-1;t>=1;t--)u.push(s.path[t]);for(let t=1;t<a.path.length;t++)u.push(a.path[t]);const f=2.5*i;if(l){const t=u.map(g?(t,e)=>{const i=y(e<s.path.length-1?s.tilePath[s.path.length-1-e]:a.tilePath[e-s.path.length+2]);return Kt(t,l,i)}:t=>Kt(t,l));u=t.some(t=>t.signedDistanceFromCamera<=0)?[]:t.map(t=>t.point)}let v=[];if(u.length>0){const e=u[0].clone(),i=u[0].clone();for(let t=1;t<u.length;t++)e.x=Math.min(e.x,u[t].x),e.y=Math.min(e.y,u[t].y),i.x=Math.max(i.x,u[t].x),i.y=Math.max(i.y,u[t].y);v=e.x>=n.x&&i.x<=r.x&&e.y>=n.y&&i.y<=r.y?[u]:i.x<n.x||e.x>r.x||i.y<n.y||e.y>r.y?[]:t.clipLine([u],n.x,n.y,r.x,r.y)}for(const t of v){o.reset(t,.25*i);let n=0;n=o.length<=.5*i?1:Math.ceil(o.paddedLength/f)+1;for(let t=0;t<n;t++){const r=t/Math.max(n-1,1),s=o.lerp(r),a=s.x+ce,l=s.y+ce;m.push(a,l,i,0);const u=a-i,d=l-i,p=a+i,f=l+i;if(k=k&&this.isOffscreen(u,d,p,f),O=O||this.isInsideGrid(u,d,p,f),!e&&this.grid.hitTestCircle(a,l,i,h)&&(C=!0,!c))return{circles:[],offscreen:!1,collisionDetected:C}}}}return{circles:!c&&C||!O?[]:m,offscreen:k,collisionDetected:C}}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const i=[];let n=1/0,r=1/0,o=-1/0,s=-1/0;for(const u of e){const e=new t.pointGeometry(u.x+ce,u.y+ce);n=Math.min(n,e.x),r=Math.min(r,e.y),o=Math.max(o,e.x),s=Math.max(s,e.y),i.push(e)}const a=this.grid.query(n,r,o,s).concat(this.ignoredGrid.query(n,r,o,s)),l={},c={};for(const u of a){const e=u.key;if(void 0===l[e.bucketInstanceId]&&(l[e.bucketInstanceId]={}),l[e.bucketInstanceId][e.featureIndex])continue;const n=[new t.pointGeometry(u.x1,u.y1),new t.pointGeometry(u.x2,u.y1),new t.pointGeometry(u.x2,u.y2),new t.pointGeometry(u.x1,u.y2)];t.polygonIntersectsPolygon(i,n)&&(l[e.bucketInstanceId][e.featureIndex]=!0,void 0===c[e.bucketInstanceId]&&(c[e.bucketInstanceId]=[]),c[e.bucketInstanceId].push(e.featureIndex))}return c}insertCollisionBox(t,e,i,n,r){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:n,collisionGroupID:r},t[0],t[1],t[2],t[3])}insertCollisionCircles(t,e,i,n,r){const o=e?this.ignoredGrid:this.grid,s={bucketInstanceId:i,featureIndex:n,collisionGroupID:r};for(let a=0;a<t.length;a+=4)o.insertCircle(s,t[a],t[a+1],t[a+2])}projectAndGetPerspectiveRatio(e,i,n,r,o){const s=[i,n,r||0,1];let a=!1;if(r||this.transform.pitch>0){t.transformMat4(s,s,e);let l=!1;this.fogState&&o&&(l=function(e,i,n,r,o,s){const a=s.calculateFogTileMatrix(o),l=[i,n,r];return t.transformMat4$1(l,l,a),S(e,l,s.pitch,s._fov)}(this.fogState,i,n,r||0,o.toUnwrapped(),this.transform)>.9),a=s[2]>s[3]||l}else le(s,s,e);return{point:new t.pointGeometry((s[0]/s[3]+1)/2*this.transform.width+ce,(-s[1]/s[3]+1)/2*this.transform.height+ce),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/s[3]*.5,1.5),signedDistanceFromCamera:s[3],aboveHorizon:a}}isOffscreen(t,e,i,n){return i<ce||t>=this.screenRightBoundary||n<ce||e>this.screenBottomBoundary}isInsideGrid(t,e,i,n){return i>=0&&t<this.gridRightBoundary&&n>=0&&e<this.gridBottomBoundary}getViewportMatrix(){const e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e}}class he{constructor(t,e,i,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&i?1:0,this.placed=i}isHidden(){return 0===this.opacity&&!this.placed}}class de{constructor(t,e,i,n,r){this.text=new he(t?t.text:null,e,i,r),this.icon=new he(t?t.icon:null,e,n,r)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class pe{constructor(t,e,i){this.text=t,this.icon=e,this.skipFade=i}}class fe{constructor(){this.invProjMatrix=t.create$1(),this.viewportMatrix=t.create$1(),this.circles=[]}}class me{constructor(t,e,i,n,r){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=i,this.bucketIndex=n,this.tileID=r}}class ge{constructor(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}get(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){const e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:t=>t.collisionGroupID===e}}return this.collisionGroups[t]}}function ye(e,i,n,r,o){const{horizontalAlign:s,verticalAlign:a}=t.getAnchorAlignment(e),l=-(s-.5)*i,c=-(a-.5)*n,u=t.evaluateVariableOffset(e,r);return new t.pointGeometry(l+u[0]*o,c+u[1]*o)}function ve(e,i,n,r,o){const s=new t.pointGeometry(e,i);return n&&s._rotate(r?o:-o),s}class _e{constructor(t,e,i,n,r){this.transform=t.clone(),this.collisionIndex=new ue(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new ge(i),this.collisionCircleArrays={},this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(e,i,n,r){const o=n.getBucket(i),s=n.latestFeatureIndex;if(!o||!s||i.id!==o.layerIds[0])return;const a=n.collisionBoxArray,l=o.layers[0].layout,c=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),u=n.tileSize/t.EXTENT,h=this.transform.calculateProjMatrix(n.tileID.toUnwrapped()),d="map"===l.get("text-pitch-alignment"),p="map"===l.get("text-rotation-alignment"),f=I(n,1,this.transform.zoom),m=Xt(h,d,p,this.transform,f);let g=null;if(d){const e=Yt(h,d,p,this.transform,f);g=t.multiply([],this.transform.labelPlaneMatrix,e)}this.retainedQueryData[o.bucketInstanceId]=new me(o.bucketInstanceId,s,o.sourceLayerIndex,o.index,n.tileID);const y={bucket:o,layout:l,posMatrix:h,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:c,textPixelRatio:u,holdingForFade:n.holdingForFade(),collisionBoxArray:a,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:t.evaluateSizeForZoom(o.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(r)for(const t of o.sortKeyRanges){const{sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:r}=t;e.push({sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:r,parameters:y})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:y})}attemptAnchorPlacement(t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m,g,y){const v=[h.textOffset0,h.textOffset1],_=ye(t,i,n,v,r),b=this.collisionIndex.placeCollisionBox(r,e,ve(_.x,_.y,o,s,this.transform.angle),u,a,l,c.predicate);if((!m||0!==this.collisionIndex.placeCollisionBox(p.getSymbolInstanceIconSize(y,this.transform.zoom,d),m,ve(_.x,_.y,o,s,this.transform.angle),u,a,l,c.predicate).box.length)&&b.box.length>0){let e;return this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(e=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:v,width:i,height:n,anchor:t,textScale:r,prevAnchor:e},this.markUsedJustification(p,t,h,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,h),this.placedOrientations[h.crossTileID]=f),{shift:_,placedGlyphBoxes:b}}}placeLayerBucketPart(e,i,n){const{bucket:r,layout:o,posMatrix:s,textLabelPlaneMatrix:a,labelToScreenMatrix:l,textPixelRatio:c,holdingForFade:u,collisionBoxArray:h,partiallyEvaluatedTextSize:d,partiallyEvaluatedIconSize:p,collisionGroup:f}=e.parameters,m=o.get("text-optional"),g=o.get("icon-optional"),y=o.get("text-allow-overlap"),v=o.get("icon-allow-overlap"),_="map"===o.get("text-rotation-alignment"),b="map"===o.get("text-pitch-alignment"),x="none"!==o.get("icon-text-fit"),w="viewport-y"===o.get("symbol-z-order"),S=y&&(v||!r.hasIconData()||g),T=v&&(y||!r.hasTextData()||m);!r.collisionArrays&&h&&r.deserializeCollisionBoxes(h),n&&r.updateCollisionDebugBuffers(this.transform.zoom,h);const C=(e,h,w)=>{if(i[e.crossTileID])return;if(u)return void(this.placements[e.crossTileID]=new pe(!1,!1,!1));let C=!1,O=!1,k=!0,A=null,I={box:null,offscreen:null},E={box:null,offscreen:null},M=null,D=null,P=null,L=0,z=0,j=0;w.textFeatureIndex?L=w.textFeatureIndex:e.useRuntimeCollisionCircles&&(L=e.featureIndex),w.verticalTextFeatureIndex&&(z=w.verticalTextFeatureIndex);const B=t=>{t.tileID=this.retainedQueryData[r.bucketInstanceId].tileID,(this.transform.elevation||t.elevation)&&(t.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[r.bucketInstanceId].tileID,t.anchorPointX,t.anchorPointY):0)},R=w.textBox;if(R){B(R);const i=i=>{let n=t.WritingMode.horizontal;if(r.allowVerticalPlacement&&!i&&this.prevPlacement){const t=this.prevPlacement.placedOrientations[e.crossTileID];t&&(this.placedOrientations[e.crossTileID]=t,n=t,this.markUsedOrientation(r,n,e))}return n},n=(i,n)=>{if(r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&w.verticalTextBox){for(const e of r.writingModes)if(e===t.WritingMode.vertical?(I=n(),E=I):I=i(),I&&I.box&&I.box.length)break}else I=i()};if(o.get("text-variable-anchor")){let a=o.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[e.crossTileID]){const t=this.prevPlacement.variableOffsets[e.crossTileID];a.indexOf(t.anchor)>0&&(a=a.filter(e=>e!==t.anchor),a.unshift(t.anchor))}const l=(t,i,n)=>{const o=r.getSymbolInstanceTextSize(d,e,this.transform.zoom,h),l=(t.x2-t.x1)*o+2*t.padding,u=(t.y2-t.y1)*o+2*t.padding,m=x&&!v?i:null;m&&B(m);let g={box:[],offscreen:!1};const w=y?2*a.length:a.length;for(let y=0;y<w;++y){const i=this.attemptAnchorPlacement(a[y%a.length],t,l,u,o,_,b,c,s,f,y>=a.length,e,h,r,n,m,d,p);if(i&&(g=i.placedGlyphBoxes,g&&g.box&&g.box.length)){C=!0,A=i.shift;break}}return g};n(()=>l(R,w.iconBox,t.WritingMode.horizontal),()=>{const i=w.verticalTextBox;return i&&B(i),r.allowVerticalPlacement&&!(I&&I.box&&I.box.length)&&e.numVerticalGlyphVertices>0&&i?l(i,w.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}}),I&&(C=I.box,k=I.offscreen);const u=i(I&&I.box);if(!C&&this.prevPlacement){const t=this.prevPlacement.variableOffsets[e.crossTileID];t&&(this.variableOffsets[e.crossTileID]=t,this.markUsedJustification(r,t.anchor,e,u))}}else{const o=(i,n)=>{const o=r.getSymbolInstanceTextSize(d,e,this.transform.zoom,h),a=this.collisionIndex.placeCollisionBox(o,i,new t.pointGeometry(0,0),y,c,s,f.predicate);return a&&a.box&&a.box.length&&(this.markUsedOrientation(r,n,e),this.placedOrientations[e.crossTileID]=n),a};n(()=>o(R,t.WritingMode.horizontal),()=>{const i=w.verticalTextBox;return r.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&i?(B(i),o(i,t.WritingMode.vertical)):{box:null,offscreen:null}}),i(I&&I.box&&I.box.length)}}if(M=I,C=M&&M.box&&M.box.length>0,k=M&&M.offscreen,e.useRuntimeCollisionCircles){const i=r.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex),c=t.evaluateSizeForFeature(r.textSizeData,d,i),u=o.get("text-padding");D=this.collisionIndex.placeCollisionCircles(y,i,r.lineVertexArray,r.glyphOffsetArray,c,s,a,l,n,b,f.predicate,e.collisionCircleDiameter,u,this.retainedQueryData[r.bucketInstanceId].tileID),C=y||D.circles.length>0&&!D.collisionDetected,k=k&&D.offscreen}if(w.iconFeatureIndex&&(j=w.iconFeatureIndex),w.iconBox){const e=e=>{B(e);const i=x&&A?ve(A.x,A.y,_,b,this.transform.angle):new t.pointGeometry(0,0),n=r.getSymbolInstanceIconSize(p,this.transform.zoom,h);return this.collisionIndex.placeCollisionBox(n,e,i,v,c,s,f.predicate)};E&&E.box&&E.box.length&&w.verticalIconBox?(P=e(w.verticalIconBox),O=P.box.length>0):(P=e(w.iconBox),O=P.box.length>0),k=k&&P.offscreen}const F=m||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,N=g||0===e.numIconVertices;if(F||N?N?F||(O=O&&C):C=O&&C:O=C=O&&C,C&&M&&M.box&&this.collisionIndex.insertCollisionBox(M.box,o.get("text-ignore-placement"),r.bucketInstanceId,E&&E.box&&z?z:L,f.ID),O&&P&&this.collisionIndex.insertCollisionBox(P.box,o.get("icon-ignore-placement"),r.bucketInstanceId,j,f.ID),D&&(C&&this.collisionIndex.insertCollisionCircles(D.circles,o.get("text-ignore-placement"),r.bucketInstanceId,L,f.ID),n)){const t=r.bucketInstanceId;let e=this.collisionCircleArrays[t];void 0===e&&(e=this.collisionCircleArrays[t]=new fe);for(let i=0;i<D.circles.length;i+=4)e.circles.push(D.circles[i+0]),e.circles.push(D.circles[i+1]),e.circles.push(D.circles[i+2]),e.circles.push(D.collisionDetected?1:0)}this.placements[e.crossTileID]=new pe(C||S,O||T,k||r.justReloaded),i[e.crossTileID]=!0};if(w){const t=r.getSortedSymbolIndexes(this.transform.angle);for(let e=t.length-1;e>=0;--e){const i=t[e];C(r.symbolInstances.get(i),i,r.collisionArrays[i])}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)C(r.symbolInstances.get(t),t,r.collisionArrays[t]);if(n&&r.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[r.bucketInstanceId];t.invert(e.invProjMatrix,s),e.viewportMatrix=this.collisionIndex.getViewportMatrix()}r.justReloaded=!1}markUsedJustification(e,i,n,r){let o;o=r===t.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(i)];const s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];for(const t of s)t>=0&&(e.text.placedSymbolArray.get(t).crossTileID=o>=0&&t!==o?0:n.crossTileID)}markUsedOrientation(e,i,n){const r=i===t.WritingMode.horizontal||i===t.WritingMode.horizontalOnly?i:0,o=i===t.WritingMode.vertical?i:0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];for(const t of s)e.text.placedSymbolArray.get(t).placedOrientation=r;n.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=o)}commit(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;const e=this.prevPlacement;let i=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;const n=e?e.symbolFadeChange(t):1,r=e?e.opacities:{},o=e?e.variableOffsets:{},s=e?e.placedOrientations:{};for(const a in this.placements){const t=this.placements[a],e=r[a];e?(this.opacities[a]=new de(e,n,t.text,t.icon),i=i||t.text!==e.text.placed||t.icon!==e.icon.placed):(this.opacities[a]=new de(null,n,t.text,t.icon,t.skipFade),i=i||t.text||t.icon)}for(const a in r){const t=r[a];if(!this.opacities[a]){const e=new de(t,n,!1,!1);e.isHidden()||(this.opacities[a]=e,i=i||t.text.placed||t.icon.placed)}}for(const a in o)this.variableOffsets[a]||!this.opacities[a]||this.opacities[a].isHidden()||(this.variableOffsets[a]=o[a]);for(const a in s)this.placedOrientations[a]||!this.opacities[a]||this.opacities[a].isHidden()||(this.placedOrientations[a]=s[a]);i?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)}updateLayerOpacities(t,e){const i={};for(const n of e){const e=n.getBucket(t);e&&n.latestFeatureIndex&&t.id===e.layerIds[0]&&this.updateBucketOpacities(e,i,n.collisionBoxArray)}}updateBucketOpacities(e,i,n){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const r=e.layers[0].layout,o=new de(null,0,!1,!1,!0),s=r.get("text-allow-overlap"),a=r.get("icon-allow-overlap"),l=r.get("text-variable-anchor"),c="map"===r.get("text-rotation-alignment"),u="map"===r.get("text-pitch-alignment"),h="none"!==r.get("icon-text-fit"),d=new de(null,0,s&&(a||!e.hasIconData()||r.get("icon-optional")),a&&(s||!e.hasTextData()||r.get("text-optional")),!0);!e.collisionArrays&&n&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(n);const p=(t,e,i)=>{for(let n=0;n<e/4;n++)t.opacityVertexArray.emplaceBack(i)};for(let f=0;f<e.symbolInstances.length;f++){const n=e.symbolInstances.get(f),{numHorizontalGlyphVertices:r,numVerticalGlyphVertices:s,crossTileID:a}=n;let m=this.opacities[a];i[a]?m=o:m||(m=d,this.opacities[a]=m),i[a]=!0;const g=n.numIconVertices>0,y=this.placedOrientations[n.crossTileID],v=y===t.WritingMode.vertical,_=y===t.WritingMode.horizontal||y===t.WritingMode.horizontalOnly;if(r>0||s>0){const t=Ae(m.text);p(e.text,r,v?Ie:t),p(e.text,s,_?Ie:t);const i=m.text.isHidden();[n.rightJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.leftJustifiedTextSymbolIndex].forEach(t=>{t>=0&&(e.text.placedSymbolArray.get(t).hidden=i||v?1:0)}),n.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).hidden=i||_?1:0);const o=this.variableOffsets[n.crossTileID];o&&this.markUsedJustification(e,o.anchor,n,y);const a=this.placedOrientations[n.crossTileID];a&&(this.markUsedJustification(e,"left",n,a),this.markUsedOrientation(e,a,n))}if(g){const t=Ae(m.icon);n.placedIconSymbolIndex>=0&&(p(e.icon,n.numIconVertices,v?Ie:t),e.icon.placedSymbolArray.get(n.placedIconSymbolIndex).hidden=m.icon.isHidden()),n.verticalPlacedIconSymbolIndex>=0&&(p(e.icon,n.numVerticalIconVertices,_?Ie:t),e.icon.placedSymbolArray.get(n.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const i=e.collisionArrays[f];if(i){let n=new t.pointGeometry(0,0);if(i.textBox||i.verticalTextBox){let t=!0;if(l){const e=this.variableOffsets[a];e?(n=ye(e.anchor,e.width,e.height,e.textOffset,e.textScale),c&&n._rotate(u?this.transform.angle:-this.transform.angle)):t=!1}i.textBox&&be(e.textCollisionBox.collisionVertexArray,m.text.placed,!t||v,n.x,n.y),i.verticalTextBox&&be(e.textCollisionBox.collisionVertexArray,m.text.placed,!t||_,n.x,n.y)}const r=Boolean(!_&&i.verticalIconBox);i.iconBox&&be(e.iconCollisionBox.collisionVertexArray,m.icon.placed,r,h?n.x:0,h?n.y:0),i.verticalIconBox&&be(e.iconCollisionBox.collisionVertexArray,m.icon.placed,!r,h?n.x:0,h?n.y:0)}}}if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=t.invProjMatrix,e.placementViewportMatrix=t.viewportMatrix,e.collisionCircleArray=t.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}}symbolFadeChange(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(t){return Math.max(0,(this.transform.zoom-t)/1.5)}hasTransitions(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(t,e){const i=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*i>t}setStale(){this.stale=!0}}function be(t,e,i,n,r){t.emplaceBack(e?1:0,i?1:0,n||0,r||0),t.emplaceBack(e?1:0,i?1:0,n||0,r||0),t.emplaceBack(e?1:0,i?1:0,n||0,r||0),t.emplaceBack(e?1:0,i?1:0,n||0,r||0)}const xe=Math.pow(2,25),we=Math.pow(2,24),Se=Math.pow(2,17),Te=Math.pow(2,16),Ce=Math.pow(2,9),Oe=Math.pow(2,8),ke=Math.pow(2,1);function Ae(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;const e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*xe+e*we+i*Se+e*Te+i*Ce+e*Oe+i*ke+e}const Ie=0;class Ee{constructor(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(t,e,i,n,r){const o=this._bucketParts;for(;this._currentTileIndex<t.length;)if(e.getBucketParts(o,n,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((t,e)=>t.sortKey-e.sortKey));this._currentPartIndex<o.length;)if(e.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,i),this._currentPartIndex++,r())return!0;return!1}}class Me{constructor(t,e,i,n,r,o,s,a){this.placement=new _e(t,r,o,s,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1}isDone(){return this._done}continuePlacement(e,i,n){const r=t.exported.now(),o=()=>{const e=t.exported.now()-r;return!this._forceFullPlacement&&e>2};for(;this._currentPlacementIndex>=0;){const t=i[e[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===t.type&&(!t.minzoom||t.minzoom<=r)&&(!t.maxzoom||t.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new Ee(t)),this._inProgressLayer.continuePlacement(n[t.source],this.placement,this._showCollisionBoxes,t,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(t){return this.placement.commit(t),this.placement}}const De=512/t.EXTENT/2;class Pe{constructor(t,e,i){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(let n=0;n<e.length;n++){const i=e.get(n),r=i.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}}getScaledCoordinates(e,i){const n=De/Math.pow(2,i.canonical.z-this.tileID.canonical.z);return{x:Math.floor((i.canonical.x*t.EXTENT+e.anchorX)*n),y:Math.floor((i.canonical.y*t.EXTENT+e.anchorY)*n)}}findMatches(t,e,i){const n=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z);for(let r=0;r<t.length;r++){const o=t.get(r);if(o.crossTileID)continue;const s=this.indexedSymbolInstances[o.key];if(!s)continue;const a=this.getScaledCoordinates(o,e);for(const t of s)if(Math.abs(t.coord.x-a.x)<=n&&Math.abs(t.coord.y-a.y)<=n&&!i[t.crossTileID]){i[t.crossTileID]=!0,o.crossTileID=t.crossTileID;break}}}}class Le{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class ze{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(t){const e=Math.round((t-this.lng)/360);if(0!==e)for(const i in this.indexes){const t=this.indexes[i],n={};for(const i in t){const r=t[i];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+e),n[r.tileID.key]=r}this.indexes[i]=n}this.lng=t}addBucket(t,e,i){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(let r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});const n=this.usedCrossTileIDs[t.overscaledZ];for(const r in this.indexes){const i=this.indexes[r];if(Number(r)>t.overscaledZ)for(const r in i){const o=i[r];o.tileID.isChildOf(t)&&o.findMatches(e.symbolInstances,t,n)}else{const o=i[t.scaledTo(Number(r)).key];o&&o.findMatches(e.symbolInstances,t,n)}}for(let r=0;r<e.symbolInstances.length;r++){const t=e.symbolInstances.get(r);t.crossTileID||(t.crossTileID=i.generate(),n[t.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Pe(t,e.symbolInstances,e.bucketInstanceId),!0}removeBucketCrossTileIDs(t,e){for(const i in e.indexedSymbolInstances)for(const n of e.indexedSymbolInstances[i])delete this.usedCrossTileIDs[t][n.crossTileID]}removeStaleBuckets(t){let e=!1;for(const i in this.indexes){const n=this.indexes[i];for(const r in n)t[n[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[r]),delete n[r],e=!0)}return e}}class je{constructor(){this.layerIndexes={},this.crossTileIDs=new Le,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(t,e,i){let n=this.layerIndexes[t.id];void 0===n&&(n=this.layerIndexes[t.id]=new ze);let r=!1;const o={};n.handleWrapJump(i);for(const s of e){const e=s.getBucket(t);e&&t.id===e.layerIds[0]&&(e.bucketInstanceId||(e.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(s.tileID,e,this.crossTileIDs)&&(r=!0),o[e.bucketInstanceId]=!0)}return n.removeStaleBuckets(o)&&(r=!0),r}pruneUnusedLayers(t){const e={};t.forEach(t=>{e[t]=!0});for(const i in this.layerIndexes)e[i]||delete this.layerIndexes[i]}}const Be=(e,i)=>t.emitValidationErrors(e,i&&i.filter(t=>"source.canvas"!==t.identifier)),Re=t.pick(Rt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog"]),Fe=t.pick(Rt,["setCenter","setZoom","setBearing","setPitch"]),Ne=function(){const e={},i=t.spec.$version;for(const n in t.spec.$root){const r=t.spec.$root[n];if(r.required){let t=null;t="version"===n?i:"array"===r.type?[]:{},null!=t&&(e[n]=t)}}return e}(),Ve={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class $e extends t.Evented{constructor(e,i={}){super(),this.map=e,this.dispatcher=new A(zt(),this),this.imageManager=new g,this.imageManager.setEventedParent(this),this.glyphManager=new t.GlyphManager(e._requestManager,i.localFontFamily?t.LocalGlyphMode.all:i.localIdeographFontFamily?t.LocalGlyphMode.ideographs:t.LocalGlyphMode.none,i.localFontFamily||i.localIdeographFontFamily),this.lineAtlas=new t.LineAtlas(256,512),this.crossTileSymbolIndex=new je,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());const n=this;this._rtlTextPluginCallback=$e.registerForPluginStateChange(e=>{n.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(e,i)=>{if(t.triggerPluginCompletionEvent(e),i&&i.every(t=>t))for(const t in n._sourceCaches){const e=n._sourceCaches[t],i=e.getSource().type;"vector"!==i&&"geojson"!==i||e.reload()}})}),this.on("data",t=>{if("source"!==t.dataType||"metadata"!==t.sourceDataType)return;const e=this.getSource(t.sourceId);if(e&&e.vectorLayerIds)for(const i in this._layers){const t=this._layers[i];t.source===e.id&&this._validateLayer(t)}})}loadURL(e,i={}){this.fire(new t.Event("dataloading",{dataType:"style"}));const n="boolean"==typeof i.validate?i.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,i.accessToken);const r=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(r,(e,i)=>{this._request=null,e?this.fire(new t.ErrorEvent(e)):i&&this._load(i,n)})}loadJSON(e,i={}){this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.exported.frame(()=>{this._request=null,this._load(e,!1!==i.validate)})}loadEmpty(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Ne,!1)}_updateLayerCount(t,e){const i=e?1:-1;t.is3D()&&(this._num3DLayers+=i),"circle"===t.type&&(this._numCircleLayers+=i),"symbol"===t.type&&(this._numSymbolLayers+=i)}_load(e,i){if(i&&Be(this,t.validateStyle(e)))return;this._loaded=!0,this.stylesheet=e;for(const t in e.sources)this.addSource(t,e.sources[t],{validate:!1});this._changed=!1,e.sprite?this._loadSprite(e.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(e.glyphs);const n=Bt(this.stylesheet.layers);this._order=n.map(t=>t.id),this._layers={},this._serializedLayers={};for(let r of n)r=t.createStyleLayer(r),r.setEventedParent(this,{layer:{id:r.id}}),this._layers[r.id]=r,this._serializedLayers[r.id]=r.serialize(),this._updateLayerCount(r,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new _(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}_loadSprite(e){this._spriteRequest=function(e,i,n){let r,o,s;const a=t.exported.devicePixelRatio>1?"@2x":"";let l=t.getJSON(i.transformRequest(i.normalizeSpriteURL(e,a,".json"),t.ResourceType.SpriteJSON),(t,e)=>{l=null,s||(s=t,r=e,u())}),c=t.getImage(i.transformRequest(i.normalizeSpriteURL(e,a,".png"),t.ResourceType.SpriteImage),(t,e)=>{c=null,s||(s=t,o=e,u())});function u(){if(s)n(s);else if(r&&o){const e=t.exported.getImageData(o),i={};for(const n in r){const{width:o,height:s,x:a,y:l,sdf:c,pixelRatio:u,stretchX:h,stretchY:d,content:p}=r[n],f=new t.RGBAImage({width:o,height:s});t.RGBAImage.copy(e,f,{x:a,y:l},{x:0,y:0},{width:o,height:s}),i[n]={data:f,pixelRatio:u,sdf:c,stretchX:h,stretchY:d,content:p}}n(null,i)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(e,this.map._requestManager,(e,i)=>{if(this._spriteRequest=null,e)this.fire(new t.ErrorEvent(e));else if(i)for(const t in i)this.imageManager.addImage(t,i[t]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new t.Event("data",{dataType:"style"}))})}_validateLayer(e){const i=this.getSource(e.source);if(!i)return;const n=e.sourceLayer;n&&("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire(new t.ErrorEvent(new Error(`Source layer "${n}" does not exist on source "${i.id}" as specified by style layer "${e.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const t in this._sourceCaches)if(!this._sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(t){const e=[];for(const i of t){const t=this._layers[i];"custom"!==t.type&&e.push(t.serialize())}return e}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const t in this._sourceCaches)if(this._sourceCaches[t].hasTransition())return!0;for(const t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(t){return!!this.terrain&&Ve[t.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(e){if(!this._loaded)return;const i=this._changed;if(this._changed){const t=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(t.length||i.length)&&this._updateWorkerLayers(t,i);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const n in this._updatedPaintProps)this._layers[n].updateTransitions(e);this.light.updateTransitions(e),this.fog&&this.fog.updateTransitions(e),this._resetUpdates()}const n={};for(const t in this._sourceCaches){const e=this._sourceCaches[t];n[t]=e.used,e.used=!1}for(const t of this._order){const i=this._layers[t];if(i.recalculate(e,this._availableImages),!i.isHidden(e.zoom)){const t=this._getLayerSourceCache(i);t&&(t.used=!0)}const n=this.map.painter;if(n){const t=i.getProgramIds();if(!t)continue;const r=i.getProgramConfiguration(e.zoom);for(const e of t)n.useProgram(e,r)}}for(const r in n){const e=this._sourceCaches[r];n[r]!==e.used&&e.getSource().fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:e.getSource().id}))}this.light.recalculate(e),this.terrain&&this.terrain.recalculate(e),this.fog&&this.fog.recalculate(e),this.z=e.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),i&&this.fire(new t.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const t=Object.keys(this._changedImages);if(t.length){for(const e in this._sourceCaches)this._sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}}_updateWorkerLayers(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(e){if(this._checkLoaded(),Be(this,t.validateStyle(e)))return!1;(e=t.clone$2(e)).layers=Bt(e.layers);const i=function(t,e){if(!t)return[{command:Rt.setStyle,args:[e]}];let i=[];try{if(!r(t.version,e.version))return[{command:Rt.setStyle,args:[e]}];r(t.center,e.center)||i.push({command:Rt.setCenter,args:[e.center]}),r(t.zoom,e.zoom)||i.push({command:Rt.setZoom,args:[e.zoom]}),r(t.bearing,e.bearing)||i.push({command:Rt.setBearing,args:[e.bearing]}),r(t.pitch,e.pitch)||i.push({command:Rt.setPitch,args:[e.pitch]}),r(t.sprite,e.sprite)||i.push({command:Rt.setSprite,args:[e.sprite]}),r(t.glyphs,e.glyphs)||i.push({command:Rt.setGlyphs,args:[e.glyphs]}),r(t.transition,e.transition)||i.push({command:Rt.setTransition,args:[e.transition]}),r(t.light,e.light)||i.push({command:Rt.setLight,args:[e.light]}),r(t.fog,e.fog)||i.push({command:Rt.setFog,args:[e.fog]});const n={},o=[];!function(t,e,i,n){let o;for(o in e=e||{},t=t||{})t.hasOwnProperty(o)&&(e.hasOwnProperty(o)||Nt(o,i,n));for(o in e)e.hasOwnProperty(o)&&(t.hasOwnProperty(o)?r(t[o],e[o])||("geojson"===t[o].type&&"geojson"===e[o].type&&$t(t,e,o)?i.push({command:Rt.setGeoJSONSourceData,args:[o,e[o].data]}):Vt(o,e,i,n)):Ft(o,e,i))}(t.sources,e.sources,o,n);const s=[];t.layers&&t.layers.forEach(t=>{n[t.source]?i.push({command:Rt.removeLayer,args:[t.id]}):s.push(t)});let a=t.terrain;a&&n[a.source]&&(i.push({command:Rt.setTerrain,args:[void 0]}),a=void 0),i=i.concat(o),r(a,e.terrain)||i.push({command:Rt.setTerrain,args:[e.terrain]}),function(t,e,i){e=e||[];const n=(t=t||[]).map(Gt),o=e.map(Gt),s=t.reduce(qt,{}),a=e.reduce(qt,{}),l=n.slice(),c=Object.create(null);let u,h,d,p,f,m,g;for(u=0,h=0;u<n.length;u++)d=n[u],a.hasOwnProperty(d)?h++:(i.push({command:Rt.removeLayer,args:[d]}),l.splice(l.indexOf(d,h),1));for(u=0,h=0;u<o.length;u++)d=o[o.length-1-u],l[l.length-1-u]!==d&&(s.hasOwnProperty(d)?(i.push({command:Rt.removeLayer,args:[d]}),l.splice(l.lastIndexOf(d,l.length-h),1)):h++,m=l[l.length-u],i.push({command:Rt.addLayer,args:[a[d],m]}),l.splice(l.length-u,0,d),c[d]=!0);for(u=0;u<o.length;u++)if(d=o[u],p=s[d],f=a[d],!c[d]&&!r(p,f))if(r(p.source,f.source)&&r(p["source-layer"],f["source-layer"])&&r(p.type,f.type)){for(g in Ut(p.layout,f.layout,i,d,null,Rt.setLayoutProperty),Ut(p.paint,f.paint,i,d,null,Rt.setPaintProperty),r(p.filter,f.filter)||i.push({command:Rt.setFilter,args:[d,f.filter]}),r(p.minzoom,f.minzoom)&&r(p.maxzoom,f.maxzoom)||i.push({command:Rt.setLayerZoomRange,args:[d,f.minzoom,f.maxzoom]}),p)p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Ut(p[g],f[g],i,d,g.slice(6),Rt.setPaintProperty):r(p[g],f[g])||i.push({command:Rt.setLayerProperty,args:[d,g,f[g]]}));for(g in f)f.hasOwnProperty(g)&&!p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Ut(p[g],f[g],i,d,g.slice(6),Rt.setPaintProperty):r(p[g],f[g])||i.push({command:Rt.setLayerProperty,args:[d,g,f[g]]}))}else i.push({command:Rt.removeLayer,args:[d]}),m=l[l.lastIndexOf(d)+1],i.push({command:Rt.addLayer,args:[f,m]})}(s,e.layers,i)}catch(t){console.warn("Unable to compute style diff:",t),i=[{command:Rt.setStyle,args:[e]}]}return i}(this.serialize(),e).filter(t=>!(t.command in Fe));if(0===i.length)return!1;const n=i.filter(t=>!(t.command in Re));if(n.length>0)throw new Error(`Unimplemented: ${n.map(t=>t.command).join(", ")}.`);return i.forEach(t=>{"setTransition"!==t.command&&this[t.command].apply(this,t.args)}),this.stylesheet=e,!0}addImage(e,i){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,i),this._afterImageUpdated(e)}updateImage(t,e){this.imageManager.updateImage(t,e)}getImage(t){return this.imageManager.getImage(t)}removeImage(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,i,n={}){if(this._checkLoaded(),void 0!==this.getSource(e))throw new Error("There is already a source with this ID");if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,i,null,n))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const r=Ot(e,i,this.dispatcher,this);r.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:r.serialize(),sourceId:e}));const o=i=>{const n=(i?"symbol:":"other:")+e,o=this._sourceCaches[n]=new t.SourceCache(n,r,i);(i?this._symbolSourceCaches:this._otherSourceCaches)[e]=o,o.style=this,o.onAdd(this.map)};o(!1),"vector"!==i.type&&"geojson"!==i.type||o(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(e){this._checkLoaded();const i=this.getSource(e);if(void 0===i)throw new Error("There is no source with this ID");for(const r in this._layers)if(this._layers[r].source===e)return this.fire(new t.ErrorEvent(new Error(`Source "${e}" cannot be removed while layer "${r}" is using it.`)));if(this.terrain&&this.terrain.get().source===e)return this.fire(new t.ErrorEvent(new Error(`Source "${e}" cannot be removed while terrain is using it.`)));const n=this._getSourceCaches(e);for(const r of n)delete this._sourceCaches[r.id],delete this._updatedSources[r.id],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:r.getSource().id})),r.setEventedParent(null),r.clearTiles();delete this._otherSourceCaches[e],delete this._symbolSourceCaches[e],i.setEventedParent(null),i.onRemove&&i.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(t,e){this._checkLoaded(),this.getSource(t).setData(e),this._changed=!0}getSource(t){const e=this._getSourceCache(t);return e&&e.getSource()}addLayer(e,i,n={}){this._checkLoaded();const r=e.id;if(this.getLayer(r))return void this.fire(new t.ErrorEvent(new Error(`Layer with id "${r}" already exists on this map`)));let o;if("custom"===e.type){if(Be(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(r,e.source),e=t.clone$2(e),e=t.extend(e,{source:r})),this._validate(t.validateStyle.layer,"layers."+r,e,{arrayIndex:-1},n))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[o.id]=o.serialize(),this._updateLayerCount(o,!0)}const s=i?this._order.indexOf(i):this._order.length;if(i&&-1===s)return void this.fire(new t.ErrorEvent(new Error(`Layer with id "${i}" does not exist on this map.`)));this._order.splice(s,0,r),this._layerOrderChanged=!0,this._layers[r]=o;const a=this._getLayerSourceCache(o);if(this._removedLayers[r]&&o.source&&a&&"custom"!==o.type){const t=this._removedLayers[r];delete this._removedLayers[r],t.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",a.pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(e,i){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===i)return;const n=this._order.indexOf(e);this._order.splice(n,1);const r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new t.ErrorEvent(new Error(`Layer with id "${i}" does not exist on this map.`))):(this._order.splice(r,0,e),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(e){this._checkLoaded();const i=this._layers[e];if(!i)return void this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be removed.`)));i.setEventedParent(null),this._updateLayerCount(i,!1);const n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],i.onRemove&&i.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(t){return this._layers[t]}hasLayer(t){return t in this._layers}hasLayerType(t){for(const e in this._layers)if(this._layers[e].type===t)return!0;return!1}setLayerZoomRange(e,i,n){this._checkLoaded();const r=this.getLayer(e);r?r.minzoom===i&&r.maxzoom===n||(null!=i&&(r.minzoom=i),null!=n&&(r.maxzoom=n),this._updateLayer(r)):this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(e,i,n={}){this._checkLoaded();const o=this.getLayer(e);if(o){if(!r(o.filter,i))return null==i?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(t.validateStyle.filter,`layers.${o.id}.filter`,i,null,n)||(o.filter=t.clone$2(i),this._updateLayer(o)))}else this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be filtered.`)))}getFilter(e){return t.clone$2(this.getLayer(e).filter)}setLayoutProperty(e,i,n,o={}){this._checkLoaded();const s=this.getLayer(e);s?r(s.getLayoutProperty(i),n)||(s.setLayoutProperty(i,n,o),this._updateLayer(s)):this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(e,i){const n=this.getLayer(e);if(n)return n.getLayoutProperty(i);this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style.`)))}setPaintProperty(e,i,n,o={}){this._checkLoaded();const s=this.getLayer(e);s?r(s.getPaintProperty(i),n)||(s.setPaintProperty(i,n,o)&&this._updateLayer(s),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(t,e){return this.getLayer(t).getPaintProperty(e)}setFeatureState(e,i){this._checkLoaded();const n=e.source,r=e.sourceLayer,o=this.getSource(n);if(void 0===o)return void this.fire(new t.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const s=o.type;if("geojson"===s&&r)return void this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===s&&!r)return void this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided.")));const a=this._getSourceCaches(n);for(const t of a)t.setFeatureState(r,e.id,i)}removeFeatureState(e,i){this._checkLoaded();const n=e.source,r=this.getSource(n);if(void 0===r)return void this.fire(new t.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const o=r.type,s="vector"===o?e.sourceLayer:void 0;if("vector"===o&&!s)return void this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(i&&"string"!=typeof e.id&&"number"!=typeof e.id)return void this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const a=this._getSourceCaches(n);for(const t of a)t.removeFeatureState(s,e.id,i)}getFeatureState(e){this._checkLoaded();const i=e.source,n=e.sourceLayer,r=this.getSource(i);if(void 0!==r){if("vector"!==r.type||n)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(i)[0].getFeatureState(n,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)))}getTransition(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const e={};for(const t in this._sourceCaches){const i=this._sourceCaches[t].getSource();e[i.id]||(e[i.id]=i.serialize())}return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e,layers:this._serializeLayers(this._order)},t=>void 0!==t)}_updateLayer(t){this._updatedLayers[t.id]=!0;const e=this._getLayerSourceCache(t);t.source&&!this._updatedSources[t.source]&&e&&"raster"!==e.getSource().type&&(this._updatedSources[t.source]="reload",e.pause()),this._changed=!0}_flattenAndSortRenderedFeatures(t){const e=t=>"fill-extrusion"===this._layers[t].type,i={},n=[];for(let o=this._order.length-1;o>=0;o--){const r=this._order[o];if(e(r)){i[r]=o;for(const e of t){const t=e[r];if(t)for(const e of t)n.push(e)}}}n.sort((t,e)=>e.intersectionZ-t.intersectionZ);const r=[];for(let o=this._order.length-1;o>=0;o--){const s=this._order[o];if(e(s))for(let t=n.length-1;t>=0;t--){const e=n[t].feature;if(i[e.layer.id]<o)break;r.push(e),n.pop()}else for(const e of t){const t=e[s];if(t)for(const e of t)r.push(e.feature)}}return r}queryRenderedFeatures(e,i,n){i&&i.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",i.filter,null,i);const r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const e of i.layers){const i=this._layers[e];if(!i)return this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be queried for features.`))),[];r[i.source]=!0}}const o=[];i.availableImages=this._availableImages;const s=i&&i.layers?i.layers.some(t=>{const e=this.getLayer(t);return e&&e.is3D()}):this.has3DLayers(),a=E.createFromScreenPoints(e,n);for(const t in this._sourceCaches){const e=this._sourceCaches[t].getSource().id;i.layers&&!r[e]||o.push(At(this._sourceCaches[t],this._layers,this._serializedLayers,a,i,n,s,!!this.map._showQueryGeometry))}return this.placement&&o.push(function(t,e,i,n,r,o,s){const a={},l=o.queryRenderedSymbols(n),c=[];for(const u of Object.keys(l).map(Number))c.push(s[u]);c.sort(Et);for(const u of c){const i=u.featureIndex.lookupSymbolFeatures(l[u.bucketInstanceId],e,u.bucketIndex,u.sourceLayerIndex,r.filter,r.layers,r.availableImages,t);for(const t in i){const e=a[t]=a[t]||[],n=i[t];n.sort((t,e)=>{const i=u.featureSortOrder;if(i){const n=i.indexOf(t.featureIndex);return i.indexOf(e.featureIndex)-n}return e.featureIndex-t.featureIndex});for(const t of n)e.push(t)}}for(const u in a)a[u].forEach(e=>{const n=e.feature,r=i(t[u]).getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r});return a}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),a.screenGeometry,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(e,i){i&&i.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",i.filter,null,i);const n=this._getSourceCaches(e);let r=[];for(const t of n)r=r.concat(It(t,i));return r}addSourceType(t,e,i){return $e.getSourceType(t)?i(new Error(`A source type called "${t}" already exists.`)):($e.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},i):i(null,null))}getLight(){return this.light.getLight()}setLight(e,i={}){this._checkLoaded();const n=this.light.getLight();let o=!1;for(const t in e)if(!r(e[t],n[t])){o=!0;break}if(!o)return;const s={now:t.exported.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,i),this.light.updateTransitions(s)}getTerrain(){return this.terrain?this.terrain.get():null}setTerrain(e){if(this._checkLoaded(),!e)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if("object"==typeof e.source){const i="terrain-dem-src";this.addSource(i,e.source),e=t.clone$2(e),e=t.extend(e,{source:i})}if(!this._validate(t.validateStyle.terrain,"terrain",e)){if(this.terrain){const i=this.terrain,n=i.get();for(const o in e)if(!r(e[o],n[o])){i.set(e),this.stylesheet.terrain=e;const n={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n);break}}else this._createTerrain(e);this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}}_createFog(e){const i=this.fog=new k(e);this.stylesheet.fog=e;const n={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const t of this.map._markers)t._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const i=this.fog,n=i.get();for(const o in e)if(!r(e[o],n[o])){i.set(e),this.stylesheet.fog=e;const n={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n);break}}else this._createFog(e);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const t=this._order.filter(t=>this.isLayerDraped(this._layers[t])),e=this._order.filter(t=>!this.isLayerDraped(this._layers[t]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...t),this._drapedFirstOrder.push(...e)}_createTerrain(e){const i=this.terrain=new w(e);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const n={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(n)}_force3DLayerUpdate(){for(const t in this._layers){const e=this._layers[t];"fill-extrusion"===e.type&&this._updateLayer(e)}}_validate(e,i,n,r,o={}){return(!o||!1!==o.validate)&&Be(this,e.call(t.validateStyle,t.extend({key:i,style:this.serialize(),value:n,styleSpec:t.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const t in this._layers)this._layers[t].setEventedParent(null);for(const t in this._sourceCaches)this._sourceCaches[t].clearTiles(),this._sourceCaches[t].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(t){const e=this._getSourceCaches(t);for(const i of e)i.clearTiles()}_reloadSource(t){const e=this._getSourceCaches(t);for(const i of e)i.resume(),i.reload()}_updateSources(t){for(const e in this._sourceCaches)this._sourceCaches[e].update(t)}_generateCollisionBoxes(){for(const t in this._sourceCaches){const e=this._sourceCaches[t];e.resume(),e.reload()}}_updatePlacement(e,i,n,r,o=!1){let s=!1,a=!1;const l={};for(const t of this._order){const i=this._layers[t];if("symbol"!==i.type)continue;if(!l[i.source]){const t=this._getLayerSourceCache(i);if(!t)continue;l[i.source]=t.getRenderableIds(!0).map(e=>t.getTileByID(e)).sort((t,e)=>e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1))}const n=this.crossTileSymbolIndex.addLayer(i,l[i.source],e.center.lng);s=s||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),o=o||this._layerOrderChanged||0===n,this._layerOrderChanged&&this.fire(new t.Event("neworder")),(o||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.exported.now(),e.zoom))&&(this.pauseablePlacement=new Me(e,this._order,o,i,n,r,this.placement,this.fog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.exported.now()),a=!0),s&&this.pauseablePlacement.placement.setStale()),a||s)for(const t of this._order){const e=this._layers[t];"symbol"===e.type&&this.placement.updateLayerOpacities(e,l[e.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.exported.now())}_releaseSymbolFadeTiles(){for(const t in this._sourceCaches)this._sourceCaches[t].releaseSymbolFadeTiles()}getImages(t,e,i){this.imageManager.getImages(e.icons,i),this._updateTilesForChangedImages();const n=t=>{t&&t.setDependencies(e.tileID.key,e.type,e.icons)};n(this._otherSourceCaches[e.source]),n(this._symbolSourceCaches[e.source])}getGlyphs(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)}getResource(e,i,n){return t.makeRequest(i,n)}_getSourceCache(t){return this._otherSourceCaches[t]}_getLayerSourceCache(t){return"symbol"===t.type?this._symbolSourceCaches[t.source]:this._otherSourceCaches[t.source]}_getSourceCaches(t){const e=[];return this._otherSourceCaches[t]&&e.push(this._otherSourceCaches[t]),this._symbolSourceCaches[t]&&e.push(this._symbolSourceCaches[t]),e}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}}$e.getSourceType=function(t){return Ct[t]},$e.setSourceType=function(t,e){Ct[t]=e},$e.registerForPluginStateChange=t.registerForPluginStateChange;var Ue="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",Ge="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let qe={},He={};qe=Ye("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),He=Ye("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);const We=Ye("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),Ze=Ue;var Xe={background:Ye("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Ye("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Ye("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Ye("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ye("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec3 pos=vec3(floor(a_pos*0.5)+extrude,elevation(floor(a_pos*0.5)));gl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Ye("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Ye("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=u_matrix*vec4(a_pos,elevation(a_pos),1.0);gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Ye("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Ye("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:Ye("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Ye("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Ye("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Ye("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Ye("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);gl_Position=u_matrix*vec4(pos,1);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Ye("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);\n#else\nvec3 p=vec3(pos_nx.xy,z);gl_Position=u_matrix*vec4(p,1);\n#endif\nvec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Ye("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ye("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Ye("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),lineGradient:Ye("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Ye("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),lineSDF:Ye("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dash_from\n#pragma mapbox: initialize mediump vec4 dash_to\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);vec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dash_from\n#pragma mapbox: initialize mediump vec4 dash_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);v_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Ye("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Ye("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));}"),symbolSDF:Ye("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Ye("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrainRaster:Ye("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:Ye("#ifdef GL_ES\nprecision highp float;\n#endif\nvec4 pack_depth(float ndc_z) {float depth=ndc_z*0.5+0.5;const vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Ye("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Ge),skyboxGradient:Ye("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Ge),skyboxCapture:Ye("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}")};function Ye(t,e,i){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,o=e.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),s=t.match(r),a=e.match(r),l=Ue.match(r);let c=a?a.concat(s):s;i||(qe.staticUniforms&&(c=qe.staticUniforms.concat(c)),He.staticUniforms&&(c=He.staticUniforms.concat(c))),c&&(c=c.concat(l));const u={};return{fragmentSource:t=t.replace(n,(t,e,i,n,r)=>(u[r]=!0,"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nvarying ${i} ${n} ${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = u_${r};\n#endif\n`)),vertexSource:e=e.replace(n,(t,e,i,n,r)=>{const o="float"===n?"vec2":"vec4",s=r.match(/color/)?"color":o;return u[r]?"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nattribute ${i} ${o} a_${r};\nvarying ${i} ${n} ${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = a_${r};\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = unpack_mix_${s}(a_${r}, u_${r}_t);\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nattribute ${i} ${o} a_${r};\n#else\nuniform ${i} ${n} u_${r};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = a_${r};\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${i} ${n} ${r} = unpack_mix_${s}(a_${r}, u_${r}_t);\n#else\n    ${i} ${n} ${r} = u_${r};\n#endif\n`}),staticAttributes:o,staticUniforms:c}}class Ke{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(t,e,i,n,r,o,s,a){this.context=t;let l=this.boundPaintVertexBuffers.length!==n.length;for(let c=0;!l&&c<n.length;c++)this.boundPaintVertexBuffers[c]!==n[c]&&(l=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===i&&!l&&this.boundIndexBuffer===r&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===s&&this.boundDynamicVertexBuffer2===a?(t.bindVertexArrayOES.set(this.vao),s&&s.bind(),r&&r.dynamicDraw&&r.bind(),a&&a.bind()):this.freshBind(e,i,n,r,o,s,a)}freshBind(t,e,i,n,r,o,s){let a;const l=t.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),a=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=s;else{a=c.currentNumAttributes||0;for(let t=l;t<a;t++)u.disableVertexAttribArray(t)}e.enableAttributes(u,t);for(const h of i)h.enableAttributes(u,t);o&&o.enableAttributes(u,t),s&&s.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,r);for(const h of i)h.bind(),h.setVertexAttribPointers(u,t,r);o&&(o.bind(),o.setVertexAttribPointers(u,t,r)),n&&n.bind(),s&&(s.bind(),s.setVertexAttribPointers(u,t,r)),c.currentNumAttributes=l}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Je(e,i){const n=Math.pow(2,i.canonical.z),r=i.canonical.y;return[new t.MercatorCoordinate(0,r/n).toLngLat().lat,new t.MercatorCoordinate(0,(r+1)/n).toLngLat().lat]}function Qe(e,i,n,r,o,s,a){const l=e.context,c=l.gl,u=n.fbo;if(!u)return;e.prepareDrawTile(i);const h=e.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.colorAttachment.get());const d=((t,e,i,n)=>{const r=i.paint.get("hillshade-shadow-color"),o=i.paint.get("hillshade-highlight-color"),s=i.paint.get("hillshade-accent-color");let a=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(a-=t.transform.angle);const l=!t.options.moving;return{u_matrix:n||t.transform.calculateProjMatrix(e.tileID.toUnwrapped(),l),u_image:0,u_latrange:Je(0,e.tileID),u_light:[i.paint.get("hillshade-exaggeration"),a],u_shadow:r,u_highlight:o,u_accent:s}})(e,n,r,e.terrain?i.projMatrix:null);e.prepareDrawProgram(l,h,i.toUnwrapped()),h.draw(l,c.TRIANGLES,o,s,a,t.CullFaceMode.disabled,d,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}function ti(e,i,n){if(!i.needsDEMTextureUpload)return;const r=e.context,o=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(n.stride);const s=n.getPixels();i.demTexture?i.demTexture.update(s,{premultiply:!1}):i.demTexture=new t.Texture(r,s,o.RGBA,{premultiply:!1}),i.needsDEMTextureUpload=!1}function ei(e,i,n,r,o,s){const a=e.context,l=a.gl;if(!i.dem)return;const c=i.dem;if(a.activeTexture.set(l.TEXTURE1),ti(e,i,c),!i.demTexture)return;i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const u=c.dim;a.activeTexture.set(l.TEXTURE0);let h=i.fbo;if(!h){const e=new t.Texture(a,{width:u,height:u,data:null},l.RGBA);e.bind(l.LINEAR,l.CLAMP_TO_EDGE),h=i.fbo=a.createFramebuffer(u,u,!0),h.colorAttachment.set(e.texture)}a.bindFramebuffer.set(h.framebuffer),a.viewport.set([0,0,u,u]),e.useProgram("hillshadePrepare").draw(a,l.TRIANGLES,r,o,s,t.CullFaceMode.disabled,((e,i)=>{const n=i.stride,r=t.create$1();return t.ortho(r,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(r,r,[0,-t.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[n,n],u_zoom:e.overscaledZ,u_unpack:i.unpackVector}})(i.tileID,c),n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),i.needsHillshadePrepare=!1}const ii=(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image0:new t.Uniform1i(e,i.u_image0),u_skirt_height:new t.Uniform1f(e,i.u_skirt_height)}),ni=(t,e)=>({u_matrix:t,u_image0:0,u_skirt_height:e}),ri=new class{constructor(){this.operations={}}newMorphing(t,e,i,n,r){if(t in this.operations){const e=this.operations[t];e.to.tileID.key!==i.tileID.key&&(e.queued=i)}else this.operations[t]={startTime:n,phase:0,duration:r,from:e,to:i,queued:null}}getMorphValuesForProxy(t){if(!(t in this.operations))return null;const e=this.operations[t];return{from:e.from,to:e.to,phase:e.phase}}update(t){for(const e in this.operations){const i=this.operations[e];for(i.phase=(t-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,t)){delete this.operations[e];break}}}_nextOp(t,e){return!!t.queued&&(t.from=t.to,t.to=t.queued,t.queued=null,t.phase=0,t.startTime=e,!0)}_validOp(t){return t.from.hasData()&&t.to.hasData()}},oi={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function si(t,e){const i=1<<t.z;return!e&&(0===t.x||t.x===i-1)||0===t.y||t.y===i-1}const ai=t=>({u_matrix:t});function li(e,i,n,r,o){if(o>0){const s=t.exported.now(),a=(s-e.timeAdded)/o,l=i?(s-i.timeAdded)/o:-1,c=n.getSource(),u=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!i||Math.abs(i.tileID.overscaledZ-u)>Math.abs(e.tileID.overscaledZ-u),d=h&&e.refreshedUponExpiration?1:t.clamp(h?a:1-l,0,1);return e.refreshedUponExpiration&&a>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}class ci extends t.SourceCache{constructor(t){const e=Ot("proxy",{type:"geojson",maxzoom:t.transform.maxZoom},new A(zt(),null),t.style);super("proxy",e,!1),e.setEventedParent(this),this.map=this.getSource().map=t,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(e,i,n){if(e.freezeTileCoverage)return;this.transform=e;const r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((i,n)=>{if(i[n.key]="",!this._tiles[n.key]){const i=new t.Tile(n,this._source.tileSize*n.overscaleFactor(),e.tileZoom);i.state="loaded",this._tiles[n.key]=i}return i},{});for(const t in this._tiles)t in r||(this.freeFBO(t),this._tiles[t].state="unloaded",delete this._tiles[t])}freeFBO(t){const e=this.proxyCachedFBO[t];if(void 0!==e){const i=Object.values(e);this.renderCachePool.push(...i),delete this.proxyCachedFBO[t]}}deallocRenderCache(){this.renderCache.forEach(t=>t.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ui extends t.OverscaledTileID{constructor(t,e,i){super(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y),this.proxyTileKey=e,this.projMatrix=i}}class hi extends t.Elevation{constructor(e,i){super(),this.painter=e,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[n,r,o]=function(e){const i=new t.StructArrayLayout4i8,n=new t.StructArrayLayout3ui6,r=131;i.reserve(17161),n.reserve(33800);const o=t.EXTENT/128,s=t.EXTENT+o/2,a=s+o;for(let c=-o;c<a;c+=o)for(let e=-o;e<a;e+=o){const n=e<0||e>s||c<0||c>s?24575:0,r=t.clamp(Math.round(e),0,t.EXTENT),o=t.clamp(Math.round(c),0,t.EXTENT);i.emplaceBack(r+n,o,r,o)}const l=(t,e)=>{const i=e*r+t;n.emplaceBack(i+1,i,i+r),n.emplaceBack(i+r,i+r+1,i+1)};for(let t=1;t<129;t++)for(let e=1;e<129;e++)l(e,t);return[0,129].forEach(t=>{for(let e=0;e<130;e++)l(e,t),l(t,e)}),[i,n,32768]}(),s=e.context;this.gridBuffer=s.createVertexBuffer(n,St.members),this.gridIndexBuffer=s.createIndexBuffer(r),this.gridSegments=t.SegmentVector.simpleSegment(0,0,n.length,r.length),this.gridNoSkirtSegments=t.SegmentVector.simpleSegment(0,0,n.length,o),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new ci(i.map),this.orthoMatrix=t.create$1(),t.ortho(this.orthoMatrix,0,t.EXTENT,0,t.EXTENT,0,1);const a=s.gl;this._overlapStencilMode=new t.StencilMode({func:a.GEQUAL,mask:255},0,255,a.KEEP,a.KEEP,a.REPLACE),this._previousZoom=e.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=i,this._useVertexMorphing=!0,this._exaggeration=1}set style(t){t.on("data",this._onStyleDataEvent.bind(this)),t.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=t,this._checkRenderCacheEfficiency()}update(e,i,n){if(e&&e.terrain){this._style!==e&&(this.style=e),this.enabled=!0;const r=e.terrain.properties;this.sourceCache=e._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const o=()=>{this.sourceCache.used&&t.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const e=this.sourceCache.getSource().tileSize/128,n=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(i,e*n,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),i.updateElevation(!n),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(i),this._emptyDEMTextureDirty=!0}else this._disable()}_checkRenderCacheEfficiency(){const e=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==e.efficiency&&t.warnOnce(`Terrain render cache efficiency is not optimal (${e.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${e.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(t){t.coord&&"source"===t.dataType?this._clearRenderCacheForTile(t.sourceCacheId,t.coord):"style"===t.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const t in this._style._sourceCaches)this._style._sourceCaches[t].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(t=>t.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const t=2*this.proxySourceCache.getSource().tileSize;return[t,t]}set useVertexMorphing(t){this._useVertexMorphing=t}updateTileBinding(e){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const i=this.proxySourceCache,n=this.painter.transform;this._initializing&&(this._initializing=0===n._centerAltitude&&-1===this.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(n.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=i.getIds().map(t=>{const e=i.getTileByID(t).tileID;return e.projMatrix=n.calculateProjMatrix(e.toUnwrapped()),e});!function(e,i){const n=i.transform.pointCoordinate(i.transform.getCameraPoint()),r=new t.pointGeometry(n.x,n.y);e.sort((e,i)=>{if(i.overscaledZ-e.overscaledZ)return i.overscaledZ-e.overscaledZ;const n=new t.pointGeometry(e.canonical.x+(1<<e.canonical.z)*e.wrap,e.canonical.y),o=new t.pointGeometry(i.canonical.x+(1<<i.canonical.z)*i.wrap,i.canonical.y),s=r.mult(1<<e.canonical.z);return s.x-=.5,s.y-=.5,s.distSqr(n)-s.distSqr(o)})}(r,this.painter),this._previousZoom=n.zoom;const o=this.proxyToSource||{};this.proxyToSource={},r.forEach(t=>{this.proxyToSource[t.key]={}}),this.terrainTileForTile={};const s=this._style._sourceCaches;for(const t in s){const i=s[t];if(!i.used)continue;if(i!==this.sourceCache&&(this._findCoveringTileCache[i.id]={}),this._setupProxiedCoordsForOrtho(i,e[t],o),i.usedForTerrain)continue;const n=e[t];i.getSource().reparseOverscaled&&this._assignTerrainTiles(n)}this.proxiedCoords[i.id]=r.map(t=>new ui(t,t.key,this.orthoMatrix)),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=t.exported.now();const a={};this._visibleDemTiles=[];for(const t of this.proxyCoords){const e=this.terrainTileForTile[t.key];if(!e)continue;const i=e.tileID.key;i in a||(this._visibleDemTiles.push(e),a[i]=i)}}_assignTerrainTiles(t){this._initializing||t.forEach(t=>{if(this.terrainTileForTile[t.key])return;const e=this._findTileCoveringTileID(t,this.sourceCache);e&&(this.terrainTileForTile[t.key]=e)})}_prepareDEMTextures(){const t=this.painter.context,e=t.gl;for(const i in this.terrainTileForTile){const n=this.terrainTileForTile[i],r=n.dem;!r||n.demTexture&&!n.needsDEMTextureUpload||(t.activeTexture.set(e.TEXTURE1),ti(this.painter,n,r))}}_prepareDemTileUniforms(t,e,i,n){if(!e||null==e.demTexture)return!1;const r=t.tileID.canonical,o=Math.pow(2,e.tileID.canonical.z-r.z),s=n||"";return i["u_dem_tl"+s]=[r.x*o%1,r.y*o%1],i["u_dem_scale"+s]=o,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let t=0;const e=this._visibleDemTiles.reduce((e,i)=>{if(!i.dem)return e;const n=i.dem.tree.minimums[0];return n>0&&t++,e+n},0);return t?e/t:0}_updateEmptyDEMTexture(){const e=this.painter.context,i=e.gl;e.activeTexture.set(i.TEXTURE2);const n=this._getLoadedAreaMinimum(),r={width:1,height:1,data:new Uint8Array(t.DEMData.pack(n,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let o=this._emptyDEMTexture;return o?o.update(r,{premultiply:!1}):o=this._emptyDEMTexture=new t.Texture(e,r,i.RGBA,{premultiply:!1}),o}setupElevationDraw(e,i,n){const r=this.painter.context,o=r.gl,s=(a=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:t.DEMData.getUnpackVector(a),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var a;s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();let l=null,c=null,u=1;if(n&&n.morphing&&this._useVertexMorphing){const t=n.morphing.srcDemTile,i=n.morphing.dstDemTile;u=n.morphing.phase,t&&i&&(this._prepareDemTileUniforms(e,t,s,"_prev")&&(c=t),this._prepareDemTileUniforms(e,i,s)&&(l=i))}if(c&&l?(r.activeTexture.set(o.TEXTURE2),l.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),r.activeTexture.set(o.TEXTURE4),c.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),s.u_dem_lerp=u):(l=this.terrainTileForTile[e.tileID.key],r.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(e,l,s)?l.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST)),n&&n.useDepthForOcclusion&&(r.activeTexture.set(o.TEXTURE3),this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),n&&n.useMeterToDem&&l){const e=(1<<l.tileID.canonical.z)*t.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=e}n&&n.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=n.labelPlaneMatrixInv),i.setTerrainUniformValues(r,s)}renderToBackBuffer(e){const i=this.painter,n=this.painter.context;0!==e.length&&(n.bindFramebuffer.set(null),n.viewport.set([0,0,i.width,i.height]),this.renderingToTexture=!1,function(e,i,n,r,o){const s=e.context,a=s.gl;let l,c;const u=e.options.showTerrainWireframe?2:0,h=(t,i)=>{if(c===t)return;const n=[oi[t]];i&&n.push(oi[u]),l=e.useProgram("terrainRaster",null,n),c=t},d=e.colorModeForRenderPass(),p=new t.DepthMode(a.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D);ri.update(o);const f=e.transform,m=6*Math.pow(1.5,22-f.zoom)*i.exaggeration();(u?[!1,!0]:[!1]).forEach(u=>{c=-1;const g=u?a.LINES:a.TRIANGLES,[y,v]=u?i.getWirefameBuffer():[i.gridIndexBuffer,i.gridSegments];for(const c of r){const r=n.getTile(c),x=t.StencilMode.disabled,w=i.prevTerrainTileForTile[c.key],S=i.terrainTileForTile[c.key];b=S,null!=(_=w)&&null!=b&&_.hasData()&&b.hasData()&&null!=_.demTexture&&null!=b.demTexture&&_.tileID.key!==b.tileID.key&&ri.newMorphing(c.key,w,S,o,250),s.activeTexture.set(a.TEXTURE0),r.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);const T=ri.getMorphValuesForProxy(c.key),C=T?1:0;let O;T&&(O={morphing:{srcDemTile:T.from,dstDemTile:T.to,phase:t.easeCubicInOut(T.phase)}});const k=ni(c.projMatrix,si(c.canonical,f.renderWorldCopies)?m/10:m);h(C,u),i.setupElevationDraw(r,l,O),e.prepareDrawProgram(s,l,c.toUnwrapped()),l.draw(s,g,p,x,d,t.CullFaceMode.backCCW,k,"terrain_raster",i.gridBuffer,y,v)}var _,b})}(i,this,this.proxySourceCache,e,this._updateTimestamp),this.renderingToTexture=!0,e.splice(0,e.length))}renderBatch(e){if(0===this._drapedRenderBatches.length)return e+1;this.renderingToTexture=!0;const i=this.painter,n=this.painter.context,r=this.proxySourceCache,o=this.proxiedCoords[r.id],s=this._drapedRenderBatches.shift(),a=[],l=i.style.order;let c=0;for(const u of o){const o=r.getTileByID(u.proxyTileKey),h=r.proxyCachedFBO[u.key]?r.proxyCachedFBO[u.key][e]:void 0,d=void 0!==h?r.renderCache[h]:this.pool[c++],p=void 0!==h;if(o.texture=d.tex,p&&!d.dirty){a.push(o.tileID);continue}let f;n.bindFramebuffer.set(d.fb.framebuffer),this.renderedToTile=!1,d.dirty&&(n.clear({color:t.Color.transparent}),d.dirty=!1);for(let t=s.start;t<=s.end;++t){const e=i.style._layers[l[t]];if(e.isHidden(i.transform.zoom))continue;const r=i.style._getLayerSourceCache(e),o=r?this.proxyToSource[u.key][r.id]:[u];if(!o)continue;const s=o;n.viewport.set([0,0,d.fb.width,d.fb.height]),f!==(r?r.id:null)&&(this._setupStencil(d,o,e,r),f=r?r.id:null),i.renderLayer(i,r,e,s)}this.renderedToTile?(d.dirty=!0,a.push(o.tileID)):p||--c,5===c&&(c=0,this.renderToBackBuffer(a))}return this.renderToBackBuffer(a),this.renderingToTexture=!1,n.bindFramebuffer.set(null),n.viewport.set([0,0,i.width,i.height]),s.end+1}postRender(){}renderCacheEfficiency(t){const e=t.order.length;if(0===e)return{efficiency:100};let i,n=0,r=0,o=!1;for(let s=0;s<e;++s){const e=t._layers[t.order[s]];this._style.isLayerDraped(e)?(o&&++n,++r):o||(o=!0,i=e.id)}return 0===r?{efficiency:100}:{efficiency:100*(1-n/r),firstUndrapedLayer:i}}getMinElevationBelowMSL(){let t=0;return this._visibleDemTiles.filter(t=>t.dem).forEach(e=>{t=Math.min(t,e.dem.tree.minimums[0])}),0===t?t:(t-30)*this._exaggeration}raycast(t,e,i){if(!this._visibleDemTiles)return null;const n=this._visibleDemTiles.filter(t=>t.dem).map(n=>{const r=n.tileID,o=Math.pow(2,r.overscaledZ),{x:s,y:a}=r.canonical,l=s/o,c=(s+1)/o,u=a/o,h=(a+1)/o;return{minx:l,miny:u,maxx:c,maxy:h,t:n.dem.tree.raycastRoot(l,u,c,h,t,e,i),tile:n}});n.sort((t,e)=>(null!==t.t?t.t:Number.MAX_VALUE)-(null!==e.t?e.t:Number.MAX_VALUE));for(const r of n){if(null==r.t)return null;const n=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,t,e,i);if(null!=n)return n}return null}_createFBO(){const e=this.painter.context,i=e.gl,n=this.drapeBufferSize;e.activeTexture.set(i.TEXTURE0);const r=new t.Texture(e,{width:n[0],height:n[1],data:null},i.RGBA);r.bind(i.LINEAR,i.CLAMP_TO_EDGE);const o=e.createFramebuffer(n[0],n[1],!1);return o.colorAttachment.set(r.texture),o.depthAttachment=new vt(e,o.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=e.createRenderbuffer(e.gl.DEPTH_STENCIL,n[0],n[1]),this._stencilRef=0,o.depthAttachment.set(this._sharedDepthStencil),e.clear({stencil:0})):o.depthAttachment.set(this._sharedDepthStencil),e.extTextureFilterAnisotropic&&!e.extTextureFilterAnisotropicForceOff&&i.texParameterf(i.TEXTURE_2D,e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.extTextureFilterAnisotropicMax),{fb:o,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t].hasTransition())return!0;return this._style.order.some(t=>{const e=this._style._layers[t],i=e.isHidden(this.painter.transform.zoom),n=e.getCrossfadeParameters(),r=!!n&&1!==n.t,o=e.hasTransition();return"custom"!==e.type&&!i&&(r||o)})}_clearRasterFadeFromRenderCache(){let t=!1;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e]._source instanceof xt){t=!0;break}if(t)for(let e=0;e<this._style.order.length;++e){const t=this._style._layers[this._style.order[e]],i=t.isHidden(this.painter.transform.zoom),n=this._style._getLayerSourceCache(t);if("raster"!==t.type||i||!n)continue;const r=t.paint.get("raster-fade-duration");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][n.id];if(t)for(const e of t){const t=li(n.getTile(e),n.findLoadedParent(e,0),n,this.painter.transform,r);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(n.id,e)}}}}_setupDrapedRenderBatches(){const t=this._style.order,e=t.length;if(0===e)return;const i=[];let n,r=0,o=this._style._layers[t[r]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++r<e;)o=this._style._layers[t[r]];for(;r<e;++r){const e=this._style._layers[t[r]];e.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(e)?void 0===n&&(n=r):void 0!==n&&(i.push({start:n,end:r-1}),n=void 0))}void 0!==n&&i.push({start:n,end:r-1}),this._drapedRenderBatches=i}_setupRenderCache(t){const e=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,e.renderCache.length>e.renderCachePool.length){const t=Object.values(e.proxyCachedFBO);e.proxyCachedFBO={};for(let i=0;i<t.length;++i){const n=Object.values(t[i]);e.renderCachePool.push(...n)}}return}this._clearRasterFadeFromRenderCache();const i=this.proxyCoords,n=this._tilesDirty;for(let o=i.length-1;o>=0;o--){const r=i[o];if(e.getTileByID(r.key),void 0!==e.proxyCachedFBO[r.key]){const i=t[r.key],o=this.proxyToSource[r.key];let s=0;for(const t in o){const e=o[t],r=i[t];if(!r||r.length!==e.length||e.some((e,i)=>e!==r[i]||n[t]&&n[t].hasOwnProperty(e.key))){s=-1;break}++s}for(const t in e.proxyCachedFBO[r.key])e.renderCache[e.proxyCachedFBO[r.key][t]].dirty=s<0||s!==Object.values(i).length}}const r=[...this._drapedRenderBatches];r.sort((t,e)=>e.end-e.start-(t.end-t.start));for(const o of r)for(const t of i){if(e.proxyCachedFBO[t.key])continue;let i=e.renderCachePool.pop();void 0===i&&e.renderCache.length<50&&(i=e.renderCache.length,e.renderCache.push(this._createFBO())),void 0!==i&&(e.proxyCachedFBO[t.key]={},e.proxyCachedFBO[t.key][o.start]=i,e.renderCache[i].dirty=!0)}this._tilesDirty={}}_setupStencil(t,e,i,n){if(!n||!this._sourceTilesOverlap[n.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,o=r.gl;if(e.length<=1)return void(this._overlapStencilType=!1);let s;if(i.isTileClipped())s=e.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(e[0].overscaledZ>e[e.length-1].overscaledZ))return void(this._overlapStencilType=!1);s=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+s>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=s,this._overlapStencilMode.ref=this._stencilRef,i.isTileClipped()&&this._renderTileClippingMasks(e,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(e){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[e.key]),this._overlapStencilMode):t.StencilMode.disabled}_renderTileClippingMasks(e,i){const n=this.painter,r=this.painter.context,o=r.gl;n._tileClippingMaskIDs={},r.setColorMode(t.ColorMode.disabled),r.setDepthMode(t.DepthMode.disabled);const s=n.useProgram("clippingMask");for(const a of e){const e=n._tileClippingMaskIDs[a.key]=--i;s.draw(r,o.TRIANGLES,t.DepthMode.disabled,new t.StencilMode({func:o.ALWAYS,mask:0},e,255,o.KEEP,o.KEEP,o.REPLACE),t.ColorMode.disabled,t.CullFaceMode.disabled,ai(a.projMatrix),"$clipping",n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}pointCoordinate(e){const i=this.painter.transform;if(e.x<0||e.x>i.width||e.y<0||e.y>i.height)return null;const n=[e.x,e.y,1,1];t.transformMat4(n,n,i.pixelMatrixInverse),t.scale$2(n,n,1/n[3]),n[0]/=i.worldSize,n[1]/=i.worldSize;const r=i._camera.position,o=t.mercatorZfromAltitude(1,i.center.lat),s=[r[0],r[1],r[2]/o,0],a=t.subtract([],n.slice(0,3),s);t.normalize(a,a);const l=this.raycast(s,a,this._exaggeration);return null!==l&&l?(t.scaleAndAdd(s,s,a,l),s[3]=s[2],s[2]*=o,s):null}drawDepth(){const e=this.painter,i=e.context,n=this.proxySourceCache,r=Math.ceil(e.width),o=Math.ceil(e.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===o||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const e=i.gl,n=i.createFramebuffer(r,o,!0);i.activeTexture.set(e.TEXTURE0);const s=new t.Texture(i,{width:r,height:o,data:null},e.RGBA);s.bind(e.NEAREST,e.CLAMP_TO_EDGE),n.colorAttachment.set(s.texture);const a=i.createRenderbuffer(i.gl.DEPTH_COMPONENT16,r,o);n.depthAttachment.set(a),this._depthFBO=n,this._depthTexture=s}i.bindFramebuffer.set(this._depthFBO.framebuffer),i.viewport.set([0,0,r,o]),function(e,i,n,r){const o=e.context,s=o.gl;o.clear({depth:1});const a=e.useProgram("terrainDepth"),l=new t.DepthMode(s.LESS,t.DepthMode.ReadWrite,e.depthRangeFor3D);for(const c of r){const e=n.getTile(c),r=ni(c.projMatrix,0);i.setupElevationDraw(e,a),a.draw(o,s.TRIANGLES,l,t.StencilMode.disabled,t.ColorMode.unblended,t.CullFaceMode.backCCW,r,"terrain_depth",i.gridBuffer,i.gridIndexBuffer,i.gridNoSkirtSegments)}}(e,this,n,this.proxyCoords)}_setupProxiedCoordsForOrtho(t,e,i){if(t.getSource()instanceof Tt)return this._setupProxiedCoordsForImageSource(t,e,i);this._findCoveringTileCache[t.id]=this._findCoveringTileCache[t.id]||{};const n=this.proxiedCoords[t.id]=[],r=this.proxyCoords;for(let s=0;s<r.length;s++){const e=r[s],o=this._findTileCoveringTileID(e,t);if(o){const r=this._createProxiedId(e,o,i[e.key]&&i[e.key][t.id]);n.push(r),this.proxyToSource[e.key][t.id]=[r]}}let o=!1;for(let s=0;s<e.length;s++){const r=t.getTile(e[s]);if(!r||!r.hasData())continue;const a=this._findTileCoveringTileID(r.tileID,this.proxySourceCache);if(a&&a.tileID.canonical.z!==r.tileID.canonical.z){const e=this.proxyToSource[a.tileID.key][t.id],s=this._createProxiedId(a.tileID,r,i[a.tileID.key]&&i[a.tileID.key][t.id]);e?e.splice(e.length-1,0,s):this.proxyToSource[a.tileID.key][t.id]=[s],n.push(s),o=!0}}this._sourceTilesOverlap[t.id]=o}_setupProxiedCoordsForImageSource(e,i,n){if(!e.getSource().loaded())return;const r=this.proxiedCoords[e.id]=[],o=this.proxyCoords,s=e.getSource(),a=new t.pointGeometry(s.tileID.x,s.tileID.y)._div(1<<s.tileID.z),l=s.coordinates.map(t.MercatorCoordinate.fromLngLat).reduce((t,e)=>(t.min.x=Math.min(t.min.x,e.x-a.x),t.min.y=Math.min(t.min.y,e.y-a.y),t.max.x=Math.max(t.max.x,e.x-a.x),t.max.y=Math.max(t.max.y,e.y-a.y),t),{min:new t.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new t.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(e,i)=>{const n=e.wrap+e.canonical.x/(1<<e.canonical.z),r=e.canonical.y/(1<<e.canonical.z),o=t.EXTENT/(1<<e.canonical.z),s=i.wrap+i.canonical.x/(1<<i.canonical.z),a=i.canonical.y/(1<<i.canonical.z);return n+o<s+l.min.x||n>s+l.max.x||r+o<a+l.min.y||r>a+l.max.y};for(let t=0;t<o.length;t++){const s=o[t];for(let t=0;t<i.length;t++){const o=e.getTile(i[t]);if(!o||!o.hasData())continue;if(c(s,o.tileID))continue;const a=this._createProxiedId(s,o,n[s.key]&&n[s.key][e.id]),l=this.proxyToSource[s.key][e.id];l?l.push(a):this.proxyToSource[s.key][e.id]=[a],r.push(a)}}}_createProxiedId(e,i,n){let r=this.orthoMatrix;if(n){const t=n.find(t=>t.key===i.tileID.key);if(t)return t}if(i.tileID.key!==e.key){const n=e.canonical.z-i.tileID.canonical.z;let o,s,a;r=t.create$1();const l=i.tileID.wrap-e.wrap<<e.overscaledZ;n>0?(o=t.EXTENT>>n,s=o*((i.tileID.canonical.x<<n)-e.canonical.x+l),a=o*((i.tileID.canonical.y<<n)-e.canonical.y)):(o=t.EXTENT<<-n,s=t.EXTENT*(i.tileID.canonical.x-(e.canonical.x+l<<-n)),a=t.EXTENT*(i.tileID.canonical.y-(e.canonical.y<<-n))),t.ortho(r,0,o,0,o,0,1),t.translate(r,r,[s,a,0])}return new ui(i.tileID,e.key,r)}_findTileCoveringTileID(e,i){let n=i.getTile(e);if(n&&n.hasData())return n;const r=this._findCoveringTileCache[i.id],o=r[e.key];if(n=o?i.getTileByID(o):null,n&&n.hasData()||null===o)return n;let s=n?n.tileID:e,a=s.overscaledZ;const l=i.getSource().minzoom,c=[];if(!o){const r=i.getSource().maxzoom;if(e.canonical.z>=r){const n=e.canonical.z-r;i.getSource().reparseOverscaled?(a=Math.max(e.canonical.z+2,i.transform.tileZoom),s=new t.OverscaledTileID(a,e.wrap,r,e.canonical.x>>n,e.canonical.y>>n)):0!==n&&(a=r,s=new t.OverscaledTileID(a,e.wrap,r,e.canonical.x>>n,e.canonical.y>>n))}s.key!==e.key&&(c.push(s.key),n=i.getTile(s))}const u=t=>{c.forEach(e=>{r[e]=t}),c.length=0};for(a-=1;a>=l&&(!n||!n.hasData());a--){n&&u(n.tileID.key);const t=s.calculateScaledKey(a);if(n=i.getTileByID(t),n&&n.hasData())break;const e=r[t];if(null===e)break;void 0===e?c.push(t):n=i.getTileByID(e)}return u(n?n.tileID.key:null),n&&n.hasData()?n:null}findDEMTileFor(t){return this.enabled?this._findTileCoveringTileID(t,this.sourceCache):null}prepareDrawTile(t){this.renderedToTile=!0}_clearRenderCacheForTile(t,e){let i=this._tilesDirty[t];i||(i=this._tilesDirty[t]={}),i[e.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const e=function(e){let i,n,r;const o=new t.StructArrayLayout2ui4,s=131;for(n=1;n<129;n++){for(i=1;i<129;i++)r=n*s+i,o.emplaceBack(r,r+1),o.emplaceBack(r,r+s),o.emplaceBack(r+1,r+s),128===n&&o.emplaceBack(r+s,r+s+1);o.emplaceBack(r+1,r+1+s)}return o}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(e),this.wireframeSegments=t.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,e.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function di(t){const e=[];for(let i=0;i<t.length;i++){if(null===t[i])continue;const n=t[i].split(" ");e.push(n.pop())}return e}class pi{static cacheKey(t,e,i){let n=`${t}${i?i.cacheKey:""}`;for(const r of e)n+="/"+r;return n}constructor(e,i,n,r,o,s){const a=e.gl;this.program=a.createProgram();const l=di(n.staticAttributes),c=r?r.getBinderAttributes():[],u=l.concat(c),h=n.staticUniforms?di(n.staticUniforms):[],d=r?r.getBinderUniforms():[],p=h.concat(d),f=[];for(const t of p)f.indexOf(t)<0&&f.push(t);let m=r?r.defines():[];m=m.concat(s.map(t=>"#define "+t));const g=m.concat(We.fragmentSource,Ze,He.fragmentSource,n.fragmentSource).join("\n"),y=m.concat(We.vertexSource,Ze,He.vertexSource,qe.vertexSource,n.vertexSource).join("\n"),v=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(v,g),a.compileShader(v),a.attachShader(this.program,v);const _=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(_,y),a.compileShader(_),a.attachShader(this.program,_),this.attributes={};const b={};this.numAttributes=u.length;for(let t=0;t<this.numAttributes;t++)u[t]&&(a.bindAttribLocation(this.program,t,u[t]),this.attributes[u[t]]=t);a.linkProgram(this.program),a.deleteShader(_),a.deleteShader(v);for(let t=0;t<f.length;t++){const e=f[t];if(e&&!b[e]){const t=a.getUniformLocation(this.program,e);t&&(b[e]=t)}}this.fixedUniforms=o(e,b),this.binderUniforms=r?r.getUniforms(e,b):[],-1!==s.indexOf("TERRAIN")&&(this.terrainUniforms=((e,i)=>({u_dem:new t.Uniform1i(e,i.u_dem),u_dem_prev:new t.Uniform1i(e,i.u_dem_prev),u_dem_unpack:new t.Uniform4f(e,i.u_dem_unpack),u_dem_tl:new t.Uniform2f(e,i.u_dem_tl),u_dem_scale:new t.Uniform1f(e,i.u_dem_scale),u_dem_tl_prev:new t.Uniform2f(e,i.u_dem_tl_prev),u_dem_scale_prev:new t.Uniform1f(e,i.u_dem_scale_prev),u_dem_size:new t.Uniform1f(e,i.u_dem_size),u_dem_lerp:new t.Uniform1f(e,i.u_dem_lerp),u_exaggeration:new t.Uniform1f(e,i.u_exaggeration),u_depth:new t.Uniform1i(e,i.u_depth),u_depth_size_inv:new t.Uniform2f(e,i.u_depth_size_inv),u_meter_to_dem:new t.Uniform1f(e,i.u_meter_to_dem),u_label_plane_matrix_inv:new t.UniformMatrix4f(e,i.u_label_plane_matrix_inv)}))(e,b)),-1!==s.indexOf("FOG")&&(this.fogUniforms=((e,i)=>({u_fog_matrix:new t.UniformMatrix4f(e,i.u_fog_matrix),u_fog_range:new t.Uniform2f(e,i.u_fog_range),u_fog_color:new t.Uniform4f(e,i.u_fog_color),u_fog_horizon_blend:new t.Uniform1f(e,i.u_fog_horizon_blend),u_fog_temporal_offset:new t.Uniform1f(e,i.u_fog_temporal_offset)}))(e,b))}setTerrainUniformValues(t,e){if(!this.terrainUniforms)return;const i=this.terrainUniforms;if(!this.failedToCreate){t.program.set(this.program);for(const t in e)i[t].set(e[t])}}setFogUniformValues(t,e){if(!this.fogUniforms)return;const i=this.fogUniforms;if(!this.failedToCreate){t.program.set(this.program);for(const t in e)i[t].location&&i[t].set(e[t])}}draw(t,e,i,n,r,o,s,a,l,c,u,h,d,p,f,m){const g=t.gl;if(this.failedToCreate)return;t.program.set(this.program),t.setDepthMode(i),t.setStencilMode(n),t.setColorMode(r),t.setCullFace(o);for(const v in this.fixedUniforms)this.fixedUniforms[v].set(s[v]);p&&p.setUniforms(t,this.binderUniforms,h,{zoom:d});const y={[g.LINES]:2,[g.TRIANGLES]:3,[g.LINE_STRIP]:1}[e];for(const v of u.get()){const i=v.vaos||(v.vaos={});(i[a]||(i[a]=new Ke)).bind(t,this,l,p?p.getPaintVertexBuffers():[],c,v.vertexOffset,f,m),g.drawElements(e,v.primitiveLength*y,g.UNSIGNED_SHORT,v.primitiveOffset*y*2)}}}function fi(t,e,i){const n=1/I(i,1,e.transform.tileZoom),r=Math.pow(2,i.tileID.overscaledZ),o=i.tileSize*Math.pow(2,e.transform.tileZoom)/r,s=o*(i.tileID.canonical.x+i.tileID.wrap*r),a=o*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[n,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[s>>16,a>>16],u_pixel_coord_lower:[65535&s,65535&a]}}const mi=(e,i,n,r)=>{const o=i.style.light,s=o.properties.get("position"),a=[s.x,s.y,s.z],l=t.create$2();"viewport"===o.properties.get("anchor")&&(t.fromRotation(l,-i.transform.angle),t.transformMat3(a,a,l));const c=o.properties.get("color");return{u_matrix:e,u_lightpos:a,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+n,u_opacity:r}},gi=(e,i,n,r,o,s,a)=>t.extend(mi(e,i,n,r),fi(s,i,a),{u_height_factor:-Math.pow(2,o.overscaledZ)/a.tileSize/8}),yi=t=>({u_matrix:t}),vi=(e,i,n,r)=>t.extend(yi(e),fi(n,i,r)),_i=(t,e)=>({u_matrix:t,u_world:e}),bi=(e,i,n,r,o)=>t.extend(vi(e,i,n,r),{u_world:o}),xi=(e,i,n,r)=>{const o=e.transform;let s;if("map"===r.paint.get("circle-pitch-alignment")){const t=I(n,1,o.zoom);s=[t,t]}else s=o.pixelsToGLUnits;return{u_camera_to_center_distance:o.cameraToCenterDistance,u_matrix:e.translatePosMatrix(i.projMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_device_pixel_ratio:t.exported.devicePixelRatio,u_extrude_scale:s}},wi=t=>{const e=[];return"map"===t.paint.get("circle-pitch-alignment")&&e.push("PITCH_WITH_MAP"),"map"===t.paint.get("circle-pitch-scale")&&e.push("SCALE_WITH_MAP"),e},Si=(e,i,n)=>{const r=t.EXTENT/n.tileSize;return{u_matrix:e,u_camera_to_center_distance:i.cameraToCenterDistance,u_extrude_scale:[i.pixelsToGLUnits[0]/r,i.pixelsToGLUnits[1]/r]}},Ti=(t,e,i=1)=>({u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:i}),Ci=(t,e,i,n)=>({u_matrix:t,u_extrude_scale:I(e,1,i),u_intensity:n}),Oi=(e,i,n,r)=>{const o=e.transform;return{u_matrix:Mi(e,i,n,r),u_ratio:1/I(i,1,o.zoom),u_device_pixel_ratio:t.exported.devicePixelRatio,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},ki=(e,i,n,r,o)=>t.extend(Oi(e,i,n,r),{u_image:0,u_image_height:o}),Ai=(e,i,n,r,o)=>{const s=e.transform,a=Ei(i,s);return{u_matrix:Mi(e,i,n,o),u_texsize:i.imageAtlasTexture.size,u_ratio:1/I(i,1,s.zoom),u_device_pixel_ratio:t.exported.devicePixelRatio,u_image:0,u_scale:[a,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]]}},Ii=(e,i,n,r,o)=>{const s=Ei(i,e.transform);return t.extend(Oi(e,i,n,o),{u_texsize:i.lineAtlasTexture.size,u_scale:[s,r.fromScale,r.toScale],u_image:0,u_mix:r.t})};function Ei(t,e){return 1/I(t,1,e.tileZoom)}function Mi(t,e,i,n){return t.translatePosMatrix(n||e.tileID.projMatrix,e,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}const Di=(t,e,i,n,r)=>{return{u_matrix:t,u_tl_parent:e,u_scale_parent:i,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(s=r.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(o=r.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Pi(r.paint.get("raster-hue-rotate"))};var o,s};function Pi(t){t*=Math.PI/180;const e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}const Li=(t,e,i,n,r,o,s,a,l,c)=>{const u=r.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:u.width/u.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:s,u_coord_matrix:a,u_is_text:+l,u_pitch_with_map:+n,u_texsize:c,u_texture:0}},zi=(e,i,n,r,o,s,a,l,c,u,h)=>{const{cameraToCenterDistance:d,_pitch:p}=o.transform;return t.extend(Li(e,i,n,r,o,s,a,l,c,u),{u_gamma_scale:r?d*Math.cos(o.terrain?0:p):1,u_device_pixel_ratio:t.exported.devicePixelRatio,u_is_halo:+h})},ji=(e,i,n,r,o,s,a,l,c,u)=>t.extend(zi(e,i,n,r,o,s,a,l,!0,c,!0),{u_texsize_icon:u,u_texture_icon:1}),Bi=(t,e,i)=>({u_matrix:t,u_opacity:e,u_color:i}),Ri=(e,i,n,r,o,s)=>t.extend(function(t,e,i,n){const r=i.imageManager.getPattern(t.from.toString()),o=i.imageManager.getPattern(t.to.toString()),{width:s,height:a}=i.imageManager.getPixelSize(),l=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,i.transform.tileZoom)/l,u=c*(n.tileID.canonical.x+n.tileID.wrap*l),h=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,a],u_mix:e.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/I(n,1,i.transform.tileZoom),u_pixel_coord_upper:[u>>16,h>>16],u_pixel_coord_lower:[65535&u,65535&h]}}(r,s,n,o),{u_matrix:e,u_opacity:i}),Fi={fillExtrusion:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,i.u_vertical_gradient),u_opacity:new t.Uniform1f(e,i.u_opacity)}),fillExtrusionPattern:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_lightpos:new t.Uniform3f(e,i.u_lightpos),u_lightintensity:new t.Uniform1f(e,i.u_lightintensity),u_lightcolor:new t.Uniform3f(e,i.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,i.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,i.u_height_factor),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade),u_opacity:new t.Uniform1f(e,i.u_opacity)}),fill:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}),fillPattern:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}),fillOutline:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world)}),fillOutlinePattern:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_world:new t.Uniform2f(e,i.u_world),u_image:new t.Uniform1i(e,i.u_image),u_texsize:new t.Uniform2f(e,i.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}),circle:(e,i)=>({u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}),collisionBox:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_extrude_scale:new t.Uniform2f(e,i.u_extrude_scale)}),collisionCircle:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,i.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,i.u_viewport_size)}),debug:(e,i)=>({u_color:new t.UniformColor(e,i.u_color),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_overlay:new t.Uniform1i(e,i.u_overlay),u_overlay_scale:new t.Uniform1f(e,i.u_overlay_scale)}),clippingMask:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}),heatmap:(e,i)=>({u_extrude_scale:new t.Uniform1f(e,i.u_extrude_scale),u_intensity:new t.Uniform1f(e,i.u_intensity),u_matrix:new t.UniformMatrix4f(e,i.u_matrix)}),heatmapTexture:(e,i)=>({u_image:new t.Uniform1i(e,i.u_image),u_color_ramp:new t.Uniform1i(e,i.u_color_ramp),u_opacity:new t.Uniform1f(e,i.u_opacity)}),hillshade:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_latrange:new t.Uniform2f(e,i.u_latrange),u_light:new t.Uniform2f(e,i.u_light),u_shadow:new t.UniformColor(e,i.u_shadow),u_highlight:new t.UniformColor(e,i.u_highlight),u_accent:new t.UniformColor(e,i.u_accent)}),hillshadePrepare:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_image:new t.Uniform1i(e,i.u_image),u_dimension:new t.Uniform2f(e,i.u_dimension),u_zoom:new t.Uniform1f(e,i.u_zoom),u_unpack:new t.Uniform4f(e,i.u_unpack)}),line:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels)}),lineGradient:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels),u_image:new t.Uniform1i(e,i.u_image),u_image_height:new t.Uniform1f(e,i.u_image_height)}),linePattern:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_texsize:new t.Uniform2f(e,i.u_texsize),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_image:new t.Uniform1i(e,i.u_image),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels),u_scale:new t.Uniform3f(e,i.u_scale),u_fade:new t.Uniform1f(e,i.u_fade)}),lineSDF:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_texsize:new t.Uniform2f(e,i.u_texsize),u_ratio:new t.Uniform1f(e,i.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,i.u_units_to_pixels),u_image:new t.Uniform1i(e,i.u_image),u_scale:new t.Uniform3f(e,i.u_scale),u_mix:new t.Uniform1f(e,i.u_mix)}),raster:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_tl_parent:new t.Uniform2f(e,i.u_tl_parent),u_scale_parent:new t.Uniform1f(e,i.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,i.u_buffer_scale),u_fade_t:new t.Uniform1f(e,i.u_fade_t),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image0:new t.Uniform1i(e,i.u_image0),u_image1:new t.Uniform1i(e,i.u_image1),u_brightness_low:new t.Uniform1f(e,i.u_brightness_low),u_brightness_high:new t.Uniform1f(e,i.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,i.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,i.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,i.u_spin_weights)}),symbolIcon:(e,i)=>({u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,i.u_coord_matrix),u_is_text:new t.Uniform1i(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture)}),symbolSDF:(e,i)=>({u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,i.u_coord_matrix),u_is_text:new t.Uniform1i(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texture:new t.Uniform1i(e,i.u_texture),u_gamma_scale:new t.Uniform1f(e,i.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,i.u_is_halo)}),symbolTextAndIcon:(e,i)=>({u_is_size_zoom_constant:new t.Uniform1i(e,i.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,i.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,i.u_size_t),u_size:new t.Uniform1f(e,i.u_size),u_camera_to_center_distance:new t.Uniform1f(e,i.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,i.u_pitch),u_rotate_symbol:new t.Uniform1i(e,i.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,i.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,i.u_fade_change),u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,i.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,i.u_coord_matrix),u_is_text:new t.Uniform1i(e,i.u_is_text),u_pitch_with_map:new t.Uniform1i(e,i.u_pitch_with_map),u_texsize:new t.Uniform2f(e,i.u_texsize),u_texsize_icon:new t.Uniform2f(e,i.u_texsize_icon),u_texture:new t.Uniform1i(e,i.u_texture),u_texture_icon:new t.Uniform1i(e,i.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,i.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,i.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,i.u_is_halo)}),background:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_color:new t.UniformColor(e,i.u_color)}),backgroundPattern:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_opacity:new t.Uniform1f(e,i.u_opacity),u_image:new t.Uniform1i(e,i.u_image),u_pattern_tl_a:new t.Uniform2f(e,i.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,i.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,i.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,i.u_pattern_br_b),u_texsize:new t.Uniform2f(e,i.u_texsize),u_mix:new t.Uniform1f(e,i.u_mix),u_pattern_size_a:new t.Uniform2f(e,i.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,i.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,i.u_scale_a),u_scale_b:new t.Uniform1f(e,i.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,i.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,i.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,i.u_tile_units_to_pixels)}),terrainRaster:ii,terrainDepth:ii,skybox:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_sun_direction:new t.Uniform3f(e,i.u_sun_direction),u_cubemap:new t.Uniform1i(e,i.u_cubemap),u_opacity:new t.Uniform1f(e,i.u_opacity),u_temporal_offset:new t.Uniform1f(e,i.u_temporal_offset)}),skyboxGradient:(e,i)=>({u_matrix:new t.UniformMatrix4f(e,i.u_matrix),u_color_ramp:new t.Uniform1i(e,i.u_color_ramp),u_center_direction:new t.Uniform3f(e,i.u_center_direction),u_radius:new t.Uniform1f(e,i.u_radius),u_opacity:new t.Uniform1f(e,i.u_opacity),u_temporal_offset:new t.Uniform1f(e,i.u_temporal_offset)}),skyboxCapture:(e,i)=>({u_matrix_3f:new t.UniformMatrix3f(e,i.u_matrix_3f),u_sun_direction:new t.Uniform3f(e,i.u_sun_direction),u_sun_intensity:new t.Uniform1f(e,i.u_sun_intensity),u_color_tint_r:new t.Uniform4f(e,i.u_color_tint_r),u_color_tint_m:new t.Uniform4f(e,i.u_color_tint_m),u_luminance:new t.Uniform1f(e,i.u_luminance)})};let Ni;function Vi(e,i,n,r,o,s,a){const l=e.context,c=l.gl,u=e.useProgram("collisionBox"),h=[];let d=0,p=0;for(let b=0;b<r.length;b++){const f=r[b],m=i.getTile(f),g=m.getBucket(n);if(!g)continue;let y=f.projMatrix;0===o[0]&&0===o[1]||(y=e.translatePosMatrix(f.projMatrix,m,o,s));const v=a?g.textCollisionBox:g.iconCollisionBox,_=g.collisionCircleArray;if(_.length>0){const i=t.create$1(),n=y;t.mul$1(i,g.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul$1(i,i,g.placementViewportMatrix),h.push({circleArray:_,circleOffset:p,transform:n,invTransform:i}),d+=_.length/4,p=d}v&&(e.terrain&&e.terrain.setupElevationDraw(m,u),u.draw(l,c.LINES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,Si(y,e.transform,m),n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,null,e.transform.zoom,null,v.collisionVertexBuffer,v.collisionVertexBufferExt))}if(!a||!h.length)return;const f=e.useProgram("collisionCircle"),m=new t.StructArrayLayout2f1f2i16;m.resize(4*d),m._trim();let g=0;for(const t of h)for(let e=0;e<t.circleArray.length/4;e++){const i=4*e,n=t.circleArray[i+0],r=t.circleArray[i+1],o=t.circleArray[i+2],s=t.circleArray[i+3];m.emplace(g++,n,r,o,s,0),m.emplace(g++,n,r,o,s,1),m.emplace(g++,n,r,o,s,2),m.emplace(g++,n,r,o,s,3)}(!Ni||Ni.length<2*d)&&(Ni=function(e){const i=2*e,n=new t.StructArrayLayout3ui6;n.resize(i),n._trim();for(let t=0;t<i;t++){const e=6*t;n.uint16[e+0]=4*t+0,n.uint16[e+1]=4*t+1,n.uint16[e+2]=4*t+2,n.uint16[e+3]=4*t+2,n.uint16[e+4]=4*t+3,n.uint16[e+5]=4*t+0}return n}(d));const y=l.createIndexBuffer(Ni,!0),v=l.createVertexBuffer(m,t.collisionCircleLayout.members,!0);for(const b of h){const i={u_matrix:b.transform,u_inv_matrix:b.invTransform,u_camera_to_center_distance:(_=e.transform).cameraToCenterDistance,u_viewport_size:[_.width,_.height]};f.draw(l,c.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,i,n.id,v,y,t.SegmentVector.simpleSegment(0,2*b.circleOffset,b.circleArray.length,b.circleArray.length/2),null,e.transform.zoom,null,null,null)}var _;v.destroy(),y.destroy()}const $i=t.identity(new Float32Array(16));function Ui(e,i,n,r,o,s){const{horizontalAlign:a,verticalAlign:l}=t.getAnchorAlignment(e),c=-(a-.5)*i,u=-(l-.5)*n,h=t.evaluateVariableOffset(e,r);return new t.pointGeometry((c/o+h[0])*s,(u/o+h[1])*s)}function Gi(e,i,n,r,o,s,a,l,c,u,h,d){const p=e.text.placedSymbolArray,f=e.text.dynamicLayoutVertexArray,m=e.icon.dynamicLayoutVertexArray,g={};f.clear();for(let y=0;y<p.length;y++){const m=p.get(y),v=e.allowVerticalPlacement&&!m.placedOrientation,_=m.hidden||!m.crossTileID||v?null:r[m.crossTileID];if(_){const r=new t.pointGeometry(m.anchorX,m.anchorY),p=d(r),y=Kt(r,n?l:a,p),v=Jt(s.cameraToCenterDistance,y.signedDistanceFromCamera);let b=o.evaluateSizeForFeature(e.textSizeData,u,m)*v/t.ONE_EM;n&&(b*=e.tilePixelRatio/c);const{width:x,height:w,anchor:S,textOffset:T,textScale:C}=_,O=Ui(S,x,w,T,C,b),k=n?Kt(r.add(O),a,p).point:y.point.add(i?O.rotate(-s.angle):O),A=e.allowVerticalPlacement&&m.placedOrientation===t.WritingMode.vertical?Math.PI/2:0;for(let e=0;e<m.numGlyphs;e++)t.addDynamicAttributes(f,k,A);h&&m.associatedIconIndex>=0&&(g[m.associatedIconIndex]={shiftedAnchor:k,angle:A})}else ae(m.numGlyphs,f)}if(h){m.clear();const i=e.icon.placedSymbolArray;for(let e=0;e<i.length;e++){const n=i.get(e);if(n.hidden)ae(n.numGlyphs,m);else{const i=g[e];if(i)for(let e=0;e<n.numGlyphs;e++)t.addDynamicAttributes(m,i.shiftedAnchor,i.angle);else ae(n.numGlyphs,m)}}e.icon.dynamicLayoutVertexBuffer.updateData(m)}e.text.dynamicLayoutVertexBuffer.updateData(f)}function qi(t,e,i){return i.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function Hi(e,i,n,r,o,s,a,l,c,u,h,d){const p=e.context,f=p.gl,m=e.transform,g="map"===l,y="map"===c,v=g&&"point"!==n.layout.get("symbol-placement"),_=g&&!y&&!v,b=void 0!==n.layout.get("symbol-sort-key").constantOr(1);let x=!1;const w=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),S=n.layout.get("text-variable-anchor"),T=[],C=e.terrain&&y?["PITCH_WITH_MAP_TERRAIN"]:null;for(const O of r){const r=i.getTile(O),l=r.getBucket(n);if(!l)continue;const c=o?l.text:l.icon;if(!c||!c.segments.get().length)continue;const h=c.programConfigurations.get(n.id),d=o||l.sdfIcons,p=o?l.textSizeData:l.iconSizeData,w=y||0!==m.pitch,k=e.useProgram(qi(d,o,l),h,C),A=t.evaluateSizeForZoom(p,m.zoom);let E,M,D,P,L=[0,0],z=null;if(o){if(M=r.glyphAtlasTexture,D=f.LINEAR,E=r.glyphAtlasTexture.size,l.iconsInText){L=r.imageAtlasTexture.size,z=r.imageAtlasTexture;const t="composite"===p.kind||"camera"===p.kind;P=w||e.options.rotating||e.options.zooming||t?f.LINEAR:f.NEAREST}}else{const t=1!==n.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;M=r.imageAtlasTexture,D=d||e.options.rotating||e.options.zooming||t||w?f.LINEAR:f.NEAREST,E=r.imageAtlasTexture.size}const j=I(r,1,e.transform.zoom),B=Xt(O.projMatrix,y,g,e.transform,j),R=e.terrain&&y&&v?t.invert(new Float32Array(16),B):$i,F=Yt(O.projMatrix,y,g,e.transform,j),N=S&&l.hasTextData(),V="none"!==n.layout.get("icon-text-fit")&&N&&l.hasIconData();if(v){const t=m.elevation;te(l,O.projMatrix,e,o,B,F,y,u,t?e=>t.getAtTileOffset(O,e.x,e.y):null)}const $=e.translatePosMatrix(O.projMatrix,r,s,a),U=v||o&&S||V?$i:B,G=e.translatePosMatrix(F,r,s,a,!0),q=d&&0!==n.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let H;H=d?l.iconsInText?ji(p.kind,A,_,y,e,$,U,G,E,L):zi(p.kind,A,_,y,e,$,U,G,o,E,!0):Li(p.kind,A,_,y,e,$,U,G,o,E);const W={program:k,buffers:c,uniformValues:H,atlasTexture:M,atlasTextureIcon:z,atlasInterpolation:D,atlasInterpolationIcon:P,isSDF:d,hasHalo:q,tile:r,labelPlaneMatrixInv:R};if(b&&l.canOverlap){x=!0;const e=c.segments.get();for(const i of e)T.push({segments:new t.SegmentVector([i]),sortKey:i.sortKey,state:W})}else T.push({segments:c.segments,sortKey:0,state:W})}x&&T.sort((t,e)=>t.sortKey-e.sortKey);for(const t of T){const i=t.state;if(e.terrain&&e.terrain.setupElevationDraw(i.tile,i.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:i.labelPlaneMatrixInv}),p.activeTexture.set(f.TEXTURE0),i.atlasTexture.bind(i.atlasInterpolation,f.CLAMP_TO_EDGE),i.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),i.atlasTextureIcon&&i.atlasTextureIcon.bind(i.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),i.isSDF){const r=i.uniformValues;i.hasHalo&&(r.u_is_halo=1,Wi(i.buffers,t.segments,n,e,i.program,w,h,d,r)),r.u_is_halo=0}Wi(i.buffers,t.segments,n,e,i.program,w,h,d,i.uniformValues)}}function Wi(e,i,n,r,o,s,a,l,c){const u=r.context;o.draw(u,u.gl.TRIANGLES,s,a,l,t.CullFaceMode.disabled,c,n.id,e.layoutVertexBuffer,e.indexBuffer,i,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Zi(e,i,n,r,o,s,a){const l=e.context.gl,c=n.paint.get("fill-pattern"),u=c&&c.constantOr(1),h=n.getCrossfadeParameters();let d,p,f,m,g;a?(p=u&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=l.LINES):(p=u?"fillPattern":"fill",d=l.TRIANGLES);for(const y of r){const r=i.getTile(y);if(u&&!r.patternsLoaded())continue;const v=r.getBucket(n);if(!v)continue;e.prepareDrawTile(y);const _=v.programConfigurations.get(n.id),b=e.useProgram(p,_);u&&(e.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),_.updatePaintBuffers(h));const x=c.constantOr(null);if(x&&r.imageAtlas){const t=r.imageAtlas,e=t.patternPositions[x.to.toString()],i=t.patternPositions[x.from.toString()];e&&i&&_.setConstantPatternPositions(e,i)}const w=e.translatePosMatrix(y.projMatrix,r,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){m=v.indexBuffer2,g=v.segments2;const t=e.terrain&&e.terrain.renderingToTexture?e.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];f="fillOutlinePattern"===p&&u?bi(w,e,h,r,t):_i(w,t)}else m=v.indexBuffer,g=v.segments,f=u?vi(w,e,h,r):yi(w);e.prepareDrawProgram(e.context,b,y.toUnwrapped()),b.draw(e.context,d,o,e.stencilModeForClipping(y),s,t.CullFaceMode.disabled,f,n.id,v.layoutVertexBuffer,m,g,n.paint,e.transform.zoom,_)}}function Xi(e,i,n,r,o,s,a){const l=e.context,c=l.gl,u=n.paint.get("fill-extrusion-pattern"),h=u.constantOr(1),d=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity");for(const f of r){const r=i.getTile(f),m=r.getBucket(n);if(!m)continue;const g=m.programConfigurations.get(n.id),y=e.useProgram(h?"fillExtrusionPattern":"fillExtrusion",g);if(e.terrain){const t=e.terrain;if(!m.enableTerrain)continue;if(t.setupElevationDraw(r,y,{useMeterToDem:!0}),Yi(l,i,f,m,n,t),!m.centroidVertexBuffer){const t=y.attributes.a_centroid_pos;void 0!==t&&c.vertexAttrib2f(t,0,0)}}h&&(e.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),g.updatePaintBuffers(d));const v=u.constantOr(null);if(v&&r.imageAtlas){const t=r.imageAtlas,e=t.patternPositions[v.to.toString()],i=t.patternPositions[v.from.toString()];e&&i&&g.setConstantPatternPositions(e,i)}const _=e.translatePosMatrix(f.projMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),b=n.paint.get("fill-extrusion-vertical-gradient"),x=h?gi(_,e,b,p,f,d,r):mi(_,e,b,p);e.prepareDrawProgram(l,y,f.toUnwrapped()),y.draw(l,l.gl.TRIANGLES,o,s,a,t.CullFaceMode.backCCW,x,n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,n.paint,e.transform.zoom,g,e.terrain?m.centroidVertexBuffer:null)}}function Yi(e,i,n,r,o,s){const a=[e=>{let i=e.canonical.x-1,n=e.wrap;return i<0&&(i=(1<<e.canonical.z)-1,n--),new t.OverscaledTileID(e.overscaledZ,n,e.canonical.z,i,e.canonical.y)},e=>{let i=e.canonical.x+1,n=e.wrap;return i===1<<e.canonical.z&&(i=0,n++),new t.OverscaledTileID(e.overscaledZ,n,e.canonical.z,i,e.canonical.y)},e=>new t.OverscaledTileID(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,(0===e.canonical.y?1<<e.canonical.z:e.canonical.y)-1),e=>new t.OverscaledTileID(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y===(1<<e.canonical.z)-1?0:e.canonical.y+1)],l=t=>{const e=i.getSource().maxzoom,n=t=>{const e=i.getTileByID(t);if(e&&e.hasData())return e.getBucket(o)};let r,s,a;return(t.overscaledZ===t.canonical.z||t.overscaledZ>=e)&&(r=n(t.key)),t.overscaledZ>=e&&(s=n(t.calculateScaledKey(t.overscaledZ+1))),t.overscaledZ>e&&(a=n(t.calculateScaledKey(t.overscaledZ-1))),r||s||a},c=[0,0,0],u=(e,i)=>(c[0]=Math.min(e.min.y,i.min.y),c[1]=Math.max(e.max.y,i.max.y),c[2]=t.EXTENT-i.min.x>e.max.x?i.min.x-t.EXTENT:e.max.x,c),h=(e,i)=>(c[0]=Math.min(e.min.x,i.min.x),c[1]=Math.max(e.max.x,i.max.x),c[2]=t.EXTENT-i.min.y>e.max.y?i.min.y-t.EXTENT:e.max.y,c),d=[(t,e)=>u(t,e),(t,e)=>u(e,t),(t,e)=>h(t,e),(t,e)=>h(e,t)],p=new t.pointGeometry(0,0);let f,m,g;const y=(e,i,r,o,a)=>{const l=[[o?r:e,o?e:r,0],[o?r:i,o?i:r,0]],c=a<0?t.EXTENT+a:a,u=[o?c:(e+i)/2,o?(e+i)/2:c,0];return 0===r&&a<0||0!==r&&a>0?s.getForTilePoints(g,[u],!0,m):l.push(u),s.getForTilePoints(n,l,!0,f),Math.max(l[0][2],l[1][2],u[2])/s.exaggeration()};for(let v=0;v<4;v++){const e=r.borders[v];if(0===e.length&&(r.borderDone[v]=!0),r.borderDone[v])continue;const i=g=a[v](n),o=l(i);if(!o||!o.enableTerrain)continue;if(m=s.findDEMTileFor(i),!m||!m.dem)continue;if(!f){const t=s.findDEMTileFor(n);if(!t||!t.dem)return;f=t}const c=(v<2?1:5)-v,u=o.borders[c];let h=0;for(let n=0;n<e.length;n++){const i=r.featuresOnBorder[e[n]],s=i.borders[v];let a;for(;h<u.length&&(a=o.featuresOnBorder[u[h]],!(a.borders[c][1]>s[0]+3));)o.borderDone[c]||o.encodeCentroid(void 0,a,!1),h++;if(a&&h<u.length){const e=h;let n=0;for(;!(a.borders[c][0]>s[1]-3)&&(n++,++h!==u.length);)a=o.featuresOnBorder[u[h]];if(a=o.featuresOnBorder[u[e]],i.intersectsCount()>1||a.intersectsCount()>1||1!==n){1!==n&&(h=e),r.encodeCentroid(void 0,i,!1),o.borderDone[c]||o.encodeCentroid(void 0,a,!1);continue}const l=d[v](i,a),f=v%2?t.EXTENT-1:0;p.x=y(l[0],Math.min(t.EXTENT-1,l[1]),f,v<2,l[2]),p.y=0,r.encodeCentroid(p,i,!1),o.borderDone[c]||o.encodeCentroid(p,a,!1)}else r.encodeCentroid(void 0,i,!1)}r.borderDone[v]=r.needsCentroidUpdate=!0,o.borderDone[c]||(o.borderDone[c]=o.needsCentroidUpdate=!0)}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(e)}const Ki=new t.Color(1,0,0,1),Ji=new t.Color(0,1,0,1),Qi=new t.Color(0,0,1,1),tn=new t.Color(1,0,1,1),en=new t.Color(0,1,1,1);function nn(t,e,i,n){on(t,0,e+i/2,t.transform.width,i,n)}function rn(t,e,i,n){on(t,e-i/2,0,i,t.transform.height,n)}function on(e,i,n,r,o,s){const a=e.context,l=a.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*t.exported.devicePixelRatio,n*t.exported.devicePixelRatio,r*t.exported.devicePixelRatio,o*t.exported.devicePixelRatio),a.clear({color:s}),l.disable(l.SCISSOR_TEST)}function sn(e,i,n){const r=e.context,o=r.gl,s=n.projMatrix,a=e.useProgram("debug"),l=i.getTileByID(n.key);e.terrain&&e.terrain.setupElevationDraw(l,a);const c=t.DepthMode.disabled,u=t.StencilMode.disabled,h=e.colorModeForRenderPass(),d="$debug";r.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),a.draw(r,o.LINE_STRIP,c,u,h,t.CullFaceMode.disabled,Ti(s,t.Color.red),d,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);const p=l.latestRawTileData,f=Math.floor((p&&p.byteLength||0)/1024),m=i.getTile(n).tileSize,g=512/Math.min(m,512)*(n.overscaledZ/e.transform.zoom)*.5;let y=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(y+=" => "+n.overscaledZ),function(t,e){t.initDebugOverlayCanvas();const i=t.debugOverlayCanvas,n=t.context.gl,r=t.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,i.width,i.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(e,5,5),r.strokeText(e,5,5),t.debugOverlayTexture.update(i),t.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(e,`${y} ${f}kb`),a.draw(r,o.TRIANGLES,c,u,t.ColorMode.alphaBlended,t.CullFaceMode.disabled,Ti(s,t.Color.transparent,g),d,e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}const an=t.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:ln}=an;function cn(t,e,i,n){t.emplaceBack(e,i,n)}class un{constructor(e){this.vertexArray=new t.StructArrayLayout3f12,this.indices=new t.StructArrayLayout3ui6,cn(this.vertexArray,-1,-1,1),cn(this.vertexArray,1,-1,1),cn(this.vertexArray,-1,1,1),cn(this.vertexArray,1,1,1),cn(this.vertexArray,-1,-1,-1),cn(this.vertexArray,1,-1,-1),cn(this.vertexArray,-1,1,-1),cn(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=e.createVertexBuffer(this.vertexArray,ln),this.indexBuffer=e.createIndexBuffer(this.indices),this.segment=t.SegmentVector.simpleSegment(0,0,36,12)}}function hn(e,i,n,r,o,s){const a=e.gl,l=i.paint.get("sky-atmosphere-color"),c=i.paint.get("sky-atmosphere-halo-color"),u=i.paint.get("sky-atmosphere-sun-intensity"),h=((t,e,i,n,r)=>({u_matrix_3f:t,u_sun_direction:e,u_sun_intensity:i,u_color_tint_r:[n.r,n.g,n.b,n.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(t.fromMat4([],r),o,u,l,c);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+s,i.skyboxTexture,0),n.draw(e,a.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,t.ColorMode.unblended,t.CullFaceMode.frontCW,h,"skyboxCapture",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}const dn={symbol:function(e,i,n,r,o){if("translucent"!==e.renderPass)return;const s=t.StencilMode.disabled,a=e.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(e,i,n,r,o,s,a){const l=i.transform,c="map"===o,u="map"===s;for(const h of e){const e=r.getTile(h),o=e.getBucket(n);if(!o||!o.text||!o.text.segments.get().length)continue;const s=t.evaluateSizeForZoom(o.textSizeData,l.zoom),d=I(e,1,i.transform.zoom),p=Xt(h.projMatrix,u,c,i.transform,d),f="none"!==n.layout.get("icon-text-fit")&&o.hasIconData();if(s){const i=Math.pow(2,l.zoom-e.tileID.overscaledZ),n=l.elevation;Gi(o,c,u,a,t.symbolSize,l,p,h.projMatrix,i,s,f,n?t=>n.getAtTileOffset(h,t.x,t.y):t=>0)}}}(r,e,n,i,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),o),0!==n.paint.get("icon-opacity").constantOr(1)&&Hi(e,i,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),s,a),0!==n.paint.get("text-opacity").constantOr(1)&&Hi(e,i,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),s,a),i.map.showCollisionBoxes&&(Vi(e,i,n,r,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Vi(e,i,n,r,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))},circle:function(e,i,n,r){if("translucent"!==e.renderPass)return;const o=n.paint.get("circle-opacity"),s=n.paint.get("circle-stroke-width"),a=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0===o.constantOr(1)&&(0===s.constantOr(1)||0===a.constantOr(1)))return;const c=e.context,u=c.gl,h=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),d=t.StencilMode.disabled,p=e.colorModeForRenderPass(),f=[];for(let m=0;m<r.length;m++){const o=r[m],s=i.getTile(o),a=s.getBucket(n);if(!a)continue;const c=a.programConfigurations.get(n.id),u=wi(n),h={programConfiguration:c,program:e.useProgram("circle",c,u),layoutVertexBuffer:a.layoutVertexBuffer,indexBuffer:a.indexBuffer,uniformValues:xi(e,o,s,n),tile:s};if(l){const e=a.segments.get();for(const i of e)f.push({segments:new t.SegmentVector([i]),sortKey:i.sortKey,state:h})}else f.push({segments:a.segments,sortKey:0,state:h})}l&&f.sort((t,e)=>t.sortKey-e.sortKey);for(const m of f){const{programConfiguration:i,program:r,layoutVertexBuffer:o,indexBuffer:s,uniformValues:a,tile:l}=m.state,f=m.segments;e.terrain&&e.terrain.setupElevationDraw(l,r,{useDepthForOcclusion:!0}),e.prepareDrawProgram(c,r,l.tileID.toUnwrapped()),r.draw(c,u.TRIANGLES,h,d,p,t.CullFaceMode.disabled,a,n.id,o,s,f,n.paint,e.transform.zoom,i)}},heatmap:function(e,i,n,r){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){const o=e.context,s=o.gl,a=t.StencilMode.disabled,l=new t.ColorMode([s.ONE,s.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,i){const n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);let r=i.heatmapFbo;if(r)n.bindTexture(n.TEXTURE_2D,r.colorAttachment.get()),t.bindFramebuffer.set(r.framebuffer);else{const o=n.createTexture();n.bindTexture(n.TEXTURE_2D,o),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),r=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,i,n){const r=t.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.width/4,e.height/4,0,r.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),n.colorAttachment.set(i)}(t,e,o,r)}}(o,e,n),o.clear({color:t.Color.transparent});for(let c=0;c<r.length;c++){const u=r[c];if(i.hasRenderableParent(u))continue;const h=i.getTile(u),d=h.getBucket(n);if(!d)continue;const p=d.programConfigurations.get(n.id),f=e.useProgram("heatmap",p),{zoom:m}=e.transform;e.terrain&&e.terrain.setupElevationDraw(h,f),e.prepareDrawProgram(o,f,u.toUnwrapped()),f.draw(o,s.TRIANGLES,t.DepthMode.disabled,a,l,t.CullFaceMode.disabled,Ci(u.projMatrix,h,m,n.paint.get("heatmap-intensity")),n.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,n.paint,e.transform.zoom,p)}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,i){const n=e.context,r=n.gl,o=i.heatmapFbo;if(!o)return;n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),n.activeTexture.set(r.TEXTURE1);let s=i.colorRampTexture;s||(s=i.colorRampTexture=new t.Texture(n,i.colorRamp,r.RGBA)),s.bind(r.LINEAR,r.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(n,r.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,((t,e,i,n)=>({u_image:0,u_color_ramp:1,u_opacity:e.paint.get("heatmap-opacity")}))(0,i),i.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,i.paint,e.transform.zoom)}(e,n))},line:function(e,i,n,r){if("translucent"!==e.renderPass)return;const o=n.paint.get("line-opacity"),s=n.paint.get("line-width");if(0===o.constantOr(1)||0===s.constantOr(1))return;const a=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),l=e.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),u=c.constantOr(1),h=n.layout.get("line-cap"),d=n.paint.get("line-pattern"),p=d.constantOr(1),f=n.paint.get("line-gradient"),m=n.getCrossfadeParameters(),g=p?"linePattern":u?"lineSDF":f?"lineGradient":"line",y=e.context,v=y.gl;for(const _ of r){const r=i.getTile(_);if(p&&!r.patternsLoaded())continue;const o=r.getBucket(n);if(!o)continue;e.prepareDrawTile(_);const s=o.programConfigurations.get(n.id),b=e.useProgram(g,s),x=d.constantOr(null);if(x&&r.imageAtlas){const t=r.imageAtlas,e=t.patternPositions[x.to.toString()],i=t.patternPositions[x.from.toString()];e&&i&&s.setConstantPatternPositions(e,i)}const w=c.constantOr(null),S=h.constantOr(null);if(!p&&w&&S&&r.lineAtlas){const t=r.lineAtlas,e=t.getDash(w.to,S),i=t.getDash(w.from,S);e&&i&&s.setConstantPatternPositions(e,i)}const T=e.terrain?_.projMatrix:null,C=p?Ai(e,r,n,m,T):u?Ii(e,r,n,m,T):f?ki(e,r,n,T,o.lineClipsArray.length):Oi(e,r,n,T);if(p)y.activeTexture.set(v.TEXTURE0),r.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),s.updatePaintBuffers(m);else if(u)y.activeTexture.set(v.TEXTURE0),r.lineAtlasTexture.bind(v.LINEAR,v.REPEAT),s.updatePaintBuffers(m);else if(f){const r=o.gradients[n.id];let s=r.texture;if(n.gradientVersion!==r.version){let a=256;if(n.stepInterpolant){const n=i.getSource().maxzoom,r=_.canonical.z===n?Math.ceil(1<<e.transform.maxZoom-_.canonical.z):1;a=t.clamp(t.nextPowerOfTwo(o.maxLineLength/t.EXTENT*1024*r),256,y.maxTextureSize)}r.gradient=t.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:a,image:r.gradient||void 0,clips:o.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new t.Texture(y,r.gradient,v.RGBA),r.version=n.gradientVersion,s=r.texture}y.activeTexture.set(v.TEXTURE0),s.bind(n.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}e.prepareDrawProgram(y,b,_.toUnwrapped()),b.draw(y,v.TRIANGLES,a,e.stencilModeForClipping(_),l,t.CullFaceMode.disabled,C,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,n.paint,e.transform.zoom,s,o.layoutVertexBuffer2)}},fill:function(e,i,n,r){const o=n.paint.get("fill-color"),s=n.paint.get("fill-opacity");if(0===s.constantOr(1))return;const a=e.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),c=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===s.constantOr(0)?"opaque":"translucent";if(e.renderPass===c){const o=e.depthModeForSublayer(1,"opaque"===e.renderPass?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly);Zi(e,i,n,r,o,a,!1)}if("translucent"===e.renderPass&&n.paint.get("fill-antialias")){const o=e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,t.DepthMode.ReadOnly);Zi(e,i,n,r,o,a,!0)}},"fill-extrusion":function(e,i,n,r){const o=n.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===e.renderPass){const s=new t.DepthMode(e.context.gl.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D);if(1!==o||n.paint.get("fill-extrusion-pattern").constantOr(1))Xi(e,i,n,r,s,t.StencilMode.disabled,t.ColorMode.disabled),Xi(e,i,n,r,s,e.stencilModeFor3D(),e.colorModeForRenderPass());else{const o=e.colorModeForRenderPass();Xi(e,i,n,r,s,t.StencilMode.disabled,o)}}},hillshade:function(e,i,n,r){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const o=e.context,s=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),a=e.colorModeForRenderPass(),l=e.terrain&&e.terrain.renderingToTexture,[c,u]="translucent"!==e.renderPass||l?[{},r]:e.stencilConfigForOverlap(r);for(const h of u){const r=i.getTile(h);if(r.needsHillshadePrepare&&"offscreen"===e.renderPass)ei(e,r,n,s,t.StencilMode.disabled,a);else if("translucent"===e.renderPass){const t=l&&e.terrain?e.terrain.stencilModeForRTTOverlap(h):c[h.overscaledZ];Qe(e,h,r,n,s,t,a)}}o.viewport.set([0,0,e.width,e.height])},raster:function(e,i,n,r,o,s){if("translucent"!==e.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!r.length)return;const a=e.context,l=a.gl,c=i.getSource(),u=e.useProgram("raster"),h=e.colorModeForRenderPass(),d=e.terrain&&e.terrain.renderingToTexture,[p,f]=c instanceof Tt||d?[{},r]:e.stencilConfigForOverlap(r),m=f[f.length-1].overscaledZ,g=!e.options.moving;for(const y of f){const r=d?t.DepthMode.disabled:e.depthModeForSublayer(y.overscaledZ-m,1===n.paint.get("raster-opacity")?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly,l.LESS),o=y.toUnwrapped(),f=i.getTile(y);if(d&&(!f||!f.hasData()))continue;const v=d?y.projMatrix:e.transform.calculateProjMatrix(o,g),_=e.terrain&&d?e.terrain.stencilModeForRTTOverlap(y):p[y.overscaledZ],b=s?0:n.paint.get("raster-fade-duration");f.registerFadeDuration(b);const x=i.findLoadedParent(y,0),w=li(f,x,i,e.transform,b);let S,T;e.terrain&&e.terrain.prepareDrawTile(y);const C="nearest"===n.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;a.activeTexture.set(l.TEXTURE0),f.texture.bind(C,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(l.TEXTURE1),x?(x.texture.bind(C,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST),S=Math.pow(2,x.tileID.overscaledZ-f.tileID.overscaledZ),T=[f.tileID.canonical.x*S%1,f.tileID.canonical.y*S%1]):f.texture.bind(C,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST);const O=Di(v,T||[0,0],S||1,w,n);e.prepareDrawProgram(a,u,o),c instanceof Tt?u.draw(a,l.TRIANGLES,r,t.StencilMode.disabled,h,t.CullFaceMode.disabled,O,n.id,c.boundsBuffer,e.quadTriangleIndexBuffer,c.boundsSegments):u.draw(a,l.TRIANGLES,r,_,h,t.CullFaceMode.disabled,O,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,i,n,r){const o=n.paint.get("background-color"),s=n.paint.get("background-opacity");if(0===s)return;const a=e.context,l=a.gl,c=e.transform,u=c.tileSize,h=n.paint.get("background-pattern");if(e.isPatternMissing(h))return;const d=!h&&1===o.a&&1===s&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==d)return;const p=t.StencilMode.disabled,f=e.depthModeForSublayer(0,"opaque"===d?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly),m=e.colorModeForRenderPass(),g=e.useProgram(h?"backgroundPattern":"background"),y=r||c.coveringTiles({tileSize:u});h&&(a.activeTexture.set(l.TEXTURE0),e.imageManager.bind(e.context));const v=n.getCrossfadeParameters();for(const _ of y){const i=_.toUnwrapped(),c=r?_.projMatrix:e.transform.calculateProjMatrix(i);e.prepareDrawTile(_);const d=h?Ri(c,s,e,h,{tileID:_,tileSize:u},v):Bi(c,s,o);e.prepareDrawProgram(a,g,i),g.draw(a,l.TRIANGLES,f,p,m,t.CullFaceMode.disabled,d,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}},sky:function(e,i,n){const r=n.paint.get("sky-opacity");if(0===r)return;const o=e.context,s=n.paint.get("sky-type"),a=new t.DepthMode(o.gl.LEQUAL,t.DepthMode.ReadOnly,[0,1]),l=e.frameCounter/1e3%1;"atmosphere"===s?"offscreen"===e.renderPass?n.needsSkyboxCapture(e)&&(function(e,i,n,r){const o=e.context,s=o.gl;let a=i.skyboxFbo;if(!a){a=i.skyboxFbo=o.createFramebuffer(32,32,!1),i.skyboxGeometry=new un(o),i.skyboxTexture=o.gl.createTexture(),s.bindTexture(s.TEXTURE_CUBE_MAP,i.skyboxTexture),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MIN_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MAG_FILTER,s.LINEAR);for(let t=0;t<6;++t)s.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,s.RGBA,32,32,0,s.RGBA,s.UNSIGNED_BYTE,null)}o.bindFramebuffer.set(a.framebuffer),o.viewport.set([0,0,32,32]);const l=i.getCenter(e,!0),c=e.useProgram("skyboxCapture"),u=new Float64Array(16);t.identity(u),t.rotateY(u,u,.5*-Math.PI),hn(o,i,c,u,l,0),t.identity(u),t.rotateY(u,u,.5*Math.PI),hn(o,i,c,u,l,1),t.identity(u),t.rotateX(u,u,.5*-Math.PI),hn(o,i,c,u,l,2),t.identity(u),t.rotateX(u,u,.5*Math.PI),hn(o,i,c,u,l,3),t.identity(u),hn(o,i,c,u,l,4),t.identity(u),t.rotateY(u,u,Math.PI),hn(o,i,c,u,l,5),o.viewport.set([0,0,e.width,e.height])}(e,n),n.markSkyboxValid(e)):"sky"===e.renderPass&&function(e,i,n,r,o){const s=e.context,a=s.gl,l=e.transform,c=e.useProgram("skybox");s.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_CUBE_MAP,i.skyboxTexture);const u=((t,e,i,n,r)=>({u_matrix:t,u_sun_direction:e,u_cubemap:0,u_opacity:n,u_temporal_offset:r}))(l.skyboxMatrix,i.getCenter(e,!1),0,r,o);e.prepareDrawProgram(s,c),c.draw(s,a.TRIANGLES,n,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.backCW,u,"skybox",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(e,n,a,r,l):"gradient"===s&&"sky"===e.renderPass&&function(e,i,n,r,o){const s=e.context,a=s.gl,l=e.transform,c=e.useProgram("skyboxGradient");i.skyboxGeometry||(i.skyboxGeometry=new un(s)),s.activeTexture.set(a.TEXTURE0);let u=i.colorRampTexture;u||(u=i.colorRampTexture=new t.Texture(s,i.colorRamp,a.RGBA)),u.bind(a.LINEAR,a.CLAMP_TO_EDGE);const h=((e,i,n,r,o)=>({u_matrix:e,u_color_ramp:0,u_center_direction:i,u_radius:t.degToRad(n),u_opacity:r,u_temporal_offset:o}))(l.skyboxMatrix,i.getCenter(e,!1),i.paint.get("sky-gradient-radius"),r,o);e.prepareDrawProgram(s,c),c.draw(s,a.TRIANGLES,n,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.backCW,h,"skyboxGradient",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment)}(e,n,a,r,l)},debug:function(t,e,i){for(let n=0;n<i.length;n++)sn(t,e,i[n])},custom:function(e,i,n){const r=e.context,o=n.implementation;if("offscreen"===e.renderPass){const t=o.prerender;t&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),t.call(o,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(t.StencilMode.disabled);const i="3d"===o.renderingMode?new t.DepthMode(e.context.gl.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,t.DepthMode.ReadOnly);r.setDepthMode(i),o.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}};class pn{constructor(e,i){this.context=new bt(e),this.transform=i,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=t.SourceCache.maxUnderzooming+t.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new je,this.gpuTimers={},this.frameCounter=0}updateTerrain(t,e){const i=!!t&&!!t.terrain;if(!(i||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new hi(this,t));const n=this._terrain;this.transform.elevation=i?n:null,n.update(t,this.transform,e)}_updateFog(t){const e=t.fog;if(!e||e.getOpacity(this.transform.pitch)<1||e.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[i,n]=e.getFovAdjustedRange(this.transform._fov);if(i>n)return void(this.transform.fogCullDistSq=null);const r=i+.78*(n-i);this.transform.fogCullDistSq=r*r}get terrain(){return this._terrain&&this._terrain.enabled?this._terrain:null}resize(e,i){if(this.width=e*t.exported.devicePixelRatio,this.height=i*t.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const t of this.style.order)this.style._layers[t].resize()}setup(){const e=this.context,i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(i,t.posAttributes.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);const n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(n,t.posAttributes.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);const r=new t.StructArrayLayout4i8;r.emplaceBack(0,0,0,0),r.emplaceBack(t.EXTENT,0,t.EXTENT,0),r.emplaceBack(0,t.EXTENT,0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(r,St.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);const o=new t.StructArrayLayout2i4;o.emplaceBack(-1,-1),o.emplaceBack(1,-1),o.emplaceBack(-1,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,t.posAttributes.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);const s=new t.StructArrayLayout1ui2;s.emplaceBack(0),s.emplaceBack(1),s.emplaceBack(3),s.emplaceBack(2),s.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(s);const a=new t.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(a),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA),this.identityMat=t.create$1();const l=this.context.gl;this.stencilClearMode=new t.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(t.window.performance.now())}clearStencil(){const e=this.context,i=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this.useProgram("clippingMask").draw(e,i.TRIANGLES,t.DepthMode.disabled,this.stencilClearMode,t.ColorMode.disabled,t.CullFaceMode.disabled,ai(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,i,n){if(!(i&&this.currentStencilSource!==i.id&&e.isTileClipped()&&n&&n.length))return;this.currentStencilSource=i.id;const r=this.context,o=r.gl;this.nextStencilID+n.length>256&&this.clearStencil(),r.setColorMode(t.ColorMode.disabled),r.setDepthMode(t.DepthMode.disabled);const s=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const a of n){const e=this._tileClippingMaskIDs[a.key]=this.nextStencilID++;s.draw(r,o.TRIANGLES,t.DepthMode.disabled,new t.StencilMode({func:o.ALWAYS,mask:0},e,255,o.KEEP,o.KEEP,o.REPLACE),t.ColorMode.disabled,t.CullFaceMode.disabled,ai(a.projMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,i=this.context.gl;return new t.StencilMode({func:i.NOTEQUAL,mask:255},e,255,i.KEEP,i.KEEP,i.REPLACE)}stencilModeForClipping(e){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(e);const i=this.context.gl;return new t.StencilMode({func:i.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,i.KEEP,i.KEEP,i.REPLACE)}stencilConfigForOverlap(e){const i=this.context.gl,n=e.sort((t,e)=>e.overscaledZ-t.overscaledZ),r=n[n.length-1].overscaledZ,o=n[0].overscaledZ-r+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();const e={};for(let n=0;n<o;n++)e[n+r]=new t.StencilMode({func:i.GEQUAL,mask:255},n+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=o,[e,n]}return[{[r]:t.StencilMode.disabled},n]}colorModeForRenderPass(){const e=this.context.gl;if(this._showOverdrawInspector){const i=1/8;return new t.ColorMode([e.CONSTANT_COLOR,e.ONE],new t.Color(i,i,i,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?t.ColorMode.unblended:t.ColorMode.alphaBlended}depthModeForSublayer(e,i,n){if(!this.opaquePassEnabledForLayer())return t.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new t.DepthMode(n||this.context.gl.LEQUAL,i,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,i){this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.exported.now()),this.imageManager.beginFrame();const n=this.style.order,r=this.style._sourceCaches;for(const t in r){const e=r[t];e.used&&e.prepare(this.context)}const o={},s={},a={};for(const t in r){const e=r[t];o[t]=e.getVisibleCoordinates(),s[t]=o[t].slice().reverse(),a[t]=e.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let t=0;t<n.length;t++)if(this.style._layers[n[t]].is3D()){this.opaquePassCutoff=t;break}if(this.terrain&&(this.terrain.updateTileBinding(a),this.opaquePassCutoff=0),!t.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const t of n){const i=this.style._layers[t],n=e._getLayerSourceCache(i);if(!i.hasOffscreenPass()||i.isHidden(this.transform.zoom))continue;const r=n?s[n.id]:void 0;("custom"===i.type||i.isSky()||r&&r.length)&&this.renderLayer(this,n,i,r)}this.depthRangeFor3D=[0,1-(e.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let l=t.Color.transparent;if(this.style.fog&&(l=this.style.fog.properties.get("color")),this.context.clear({color:i.showOverdrawInspector?t.Color.black:l,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const t=this.style._layers[n[this.currentLayer]],i=e._getLayerSourceCache(t);if(t.isSky())continue;const r=i?s[i.id]:void 0;this._renderTileClippingMasks(t,i,r),this.renderLayer(this,i,t,r)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const t=this.style._layers[n[this.currentLayer]],i=e._getLayerSourceCache(t);t.isSky()&&this.renderLayer(this,i,t,i?s[i.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;){const t=this.style._layers[n[this.currentLayer]],i=e._getLayerSourceCache(t);if(t.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(t)){if(t.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=i?("symbol"===t.type?a:s)[i.id]:void 0;this._renderTileClippingMasks(t,i,i?o[i.id]:void 0),this.renderLayer(this,i,t,r),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let i=null;t.values(this.style._layers).forEach(t=>{const n=e._getLayerSourceCache(t);n&&!t.isHidden(this.transform.zoom)&&(!i||i.getSource().maxzoom<n.getSource().maxzoom)&&(i=n)}),i&&this.options.showTileBoundaries&&dn.debug(this,i,i.getVisibleCoordinates())}this.options.showPadding&&function(t){const e=t.transform.padding;nn(t,t.transform.height-(e.top||0),3,Ki),nn(t,e.bottom||0,3,Ji),rn(t,e.left||0,3,Qi),rn(t,t.transform.width-(e.right||0),3,tn);const i=t.transform.centerPoint;!function(t,e,i,n){on(t,e-1,i-10,2,20,n),on(t,e-10,i-1,20,2,n)}(t,i.x,t.transform.height-i.y,en)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%t.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(t.window.performance.now()),this.saveCanvasCopy())}renderLayer(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||"sky"===i.type||"custom"===i.type||n&&n.length)&&(this.id=i.id,this.gpuTimingStart(i),dn[i.type](t,e,i,n,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(t){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;let i=this.gpuTimers[t.id];i||(i=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),i.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,i.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}collectGpuTimers(){const t=this.gpuTimers;return this.gpuTimers={},t}queryGpuTimers(t){const e={};for(const i in t){const n=t[i],r=this.context.extTimerQuery,o=r.getQueryObjectEXT(n.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(n.query),e[i]=o}return e}translatePosMatrix(e,i,n,r,o){if(!n[0]&&!n[1])return e;const s=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(s){const t=Math.sin(s),e=Math.cos(s);n=[n[0]*e-n[1]*t,n[0]*t+n[1]*e]}const a=[o?n[0]:I(i,n[0],this.transform.zoom),o?n[1]:I(i,n[1],this.transform.zoom),0],l=new Float32Array(16);return t.translate(l,e,a),l}saveTileTexture(t){const e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]}getTileTexture(t){const e=this._tileTextures[t];return e&&e.length>0?e.pop():null}isPatternMissing(t){if(!t)return!1;if(!t.from||!t.to)return!0;const e=this.imageManager.getPattern(t.from.toString()),i=this.imageManager.getPattern(t.to.toString());return!e||!i}currentGlobalDefines(){const t=this.terrain&&this.terrain.renderingToTexture,e=this.style&&this.style.fog,i=[];return this.terrain&&!this.terrain.renderingToTexture&&i.push("TERRAIN"),e&&!t&&0!==e.getOpacity(this.transform.pitch)&&i.push("FOG"),t&&i.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&i.push("OVERDRAW_INSPECTOR"),i}useProgram(t,e,i){this.cache=this.cache||{};const n=i||[],r=this.currentGlobalDefines().concat(n),o=pi.cacheKey(t,r,e);return this.cache[o]||(this.cache[o]=new pi(this.context,t,Xe[t],e,Fi[t],r)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(t){this.terrain&&this.terrain.prepareDrawTile(t)}prepareDrawProgram(t,e,i){if(this.terrain&&this.terrain.renderingToTexture)return;const n=this.style.fog;if(n){const r=n.getOpacity(this.transform.pitch);0!==r&&e.setFogUniformValues(t,((t,e,i,n)=>{const r=e.properties.get("color"),o=t.frameCounter/1e3%1,s=[r.r/r.a,r.g/r.a,r.b/r.a,n];return{u_fog_matrix:i?t.transform.calculateFogTileMatrix(i):t.identityMat,u_fog_range:e.getFovAdjustedRange(t.transform._fov),u_fog_color:s,u_fog_horizon_blend:e.properties.get("horizon-blend"),u_fog_temporal_offset:o}})(this,n,i,r))}}setTileLoadedFlag(t){this.tileLoaded=t}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const t=this.context.gl,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,t.drawingBufferWidth,t.drawingBufferHeight,0),e}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const t=this.style&&this.style.fog;return!!t&&0!==t.getOpacity(this.transform.pitch)}}class fn{constructor(t=0,e=0,i=0,n=0){if(isNaN(t)||t<0||isNaN(e)||e<0||isNaN(i)||i<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=i,this.right=n}interpolate(e,i,n){return null!=i.top&&null!=e.top&&(this.top=t.number(e.top,i.top,n)),null!=i.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,i.bottom,n)),null!=i.left&&null!=e.left&&(this.left=t.number(e.left,i.left,n)),null!=i.right&&null!=e.right&&(this.right=t.number(e.right,i.right,n)),this}getCenter(e,i){const n=t.clamp((this.left+e-this.right)/2,0,e),r=t.clamp((this.top+i-this.bottom)/2,0,i);return new t.pointGeometry(n,r)}equals(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right}clone(){return new fn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function mn(t,e){return[t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]]}function gn(t,e,i){t[4*e+0]=i[0],t[4*e+1]=i[1],t[4*e+2]=i[2],t[4*e+3]=i[3]}function yn(e,i){const n=mn(e,3);t.fromQuat(e,i),gn(e,3,n)}function vn(t,e){gn(t,3,[e[0],e[1],e[2],1])}function _n(e,i){const n=t.identity$1([]);return t.rotateZ$1(n,n,-i),t.rotateX$1(n,n,-e),n}function bn(e,i){const n=[e[0],e[1],0],r=[i[0],i[1],0];if(t.length(n)>=1e-15){const e=t.normalize([],n);t.scale(r,e,t.dot(r,e)),i[0]=r[0],i[1]=r[1]}const o=t.cross([],i,e);if(t.len(o)<1e-15)return null;const s=Math.atan2(-o[1],o[0]);return _n(Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2]),s)}class xn{constructor(t,e){this.position=t,this.orientation=e}get position(){return this._position}set position(e){this._position=this._renderWorldCopies?function(e){if(!e)return;const i=Array.isArray(e)?new t.MercatorCoordinate(e[0],e[1],e[2]):e;return i.x=t.wrap(i.x,0,1),i}(e):e}lookAtPoint(e,i){if(this.orientation=null,!this.position)return;const n=this._elevation?this._elevation.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(e)):0,r=this.position,o=t.MercatorCoordinate.fromLngLat(e,n),s=[o.x-r.x,o.y-r.y,o.z-r.z];i||(i=[0,0,1]),i[2]=Math.abs(i[2]),this.orientation=bn(s,i)}setPitchBearing(e,i){this.orientation=_n(t.degToRad(e),t.degToRad(-i))}}class wn{constructor(e,i){this._transform=t.identity([]),this._orientation=t.identity$1([]),i&&(this._orientation=i,yn(this._transform,this._orientation)),e&&vn(this._transform,e)}get mercatorPosition(){const e=this.position;return new t.MercatorCoordinate(e[0],e[1],e[2])}get position(){const t=mn(this._transform,3);return[t[0],t[1],t[2]]}set position(t){vn(this._transform,t)}get orientation(){return this._orientation}set orientation(t){this._orientation=t,yn(this._transform,this._orientation)}getPitchBearing(){const t=this.forward(),e=this.right();return{bearing:Math.atan2(-e[1],e[0]),pitch:Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2])}}setPitchBearing(t,e){this._orientation=_n(t,e),yn(this._transform,this._orientation)}forward(){const t=mn(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=mn(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=mn(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(e,i){const n=new Float64Array(16);return t.invert(n,this.getWorldToCamera(e,i)),n}getWorldToCameraPosition(e,i,n){const r=this.position;t.scale(r,r,-e);const o=new Float64Array(16);return t.fromScaling(o,[n,n,n]),t.translate(o,o,r),o[10]*=i,o}getWorldToCamera(e,i){const n=new Float64Array(16),r=new Float64Array(4),o=this.position;return t.conjugate(r,this._orientation),t.scale(o,o,-e),t.fromQuat(n,r),t.translate(n,n,o),n[1]*=-1,n[5]*=-1,n[9]*=-1,n[13]*=-1,n[8]*=i,n[9]*=i,n[10]*=i,n[11]*=i,n}getCameraToClipPerspective(e,i,n,r){const o=new Float64Array(16);return t.perspective(o,e,i,n,r),o}getDistanceToElevation(e){const i=0===e?0:t.mercatorZfromAltitude(e,this.position[1]),n=this.forward();return(i-this.position[2])/n[2]}clone(){return new wn([...this.position],[...this.orientation])}}class Sn{constructor(e,i,n,r,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=e||0,this._maxZoom=i||22,this._minPitch=null==n?0:n,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new fn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._camera=new wn,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._horizonShift=.1}clone(){const t=new Sn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t._elevation=this._elevation,t._centerAltitude=this._centerAltitude,t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t.cameraElevationReference=this.cameraElevationReference,t._center=this._center,t._setZoom(this.zoom),t._cameraZoom=this._cameraZoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._averageElevation=this._averageElevation,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._camera=this._camera.clone(),t._calcMatrices(),t.freezeTileCoverage=this.freezeTileCoverage,t}get elevation(){return this._elevation}set elevation(t){this._elevation!==t&&(this._elevation=t,t?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(t){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),t&&this._constrainCameraAltitude(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))}get maxZoom(){return this._maxZoom}set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))}get minPitch(){return this._minPitch}set minPitch(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))}get maxPitch(){return this._maxPitch}set maxPitch(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const t=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(t))}get pixelsPerMeter(){return t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize}get cameraPixelsPerMeter(){return t.mercatorZfromAltitude(1,this.center.lat)*this.cameraWorldSize}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new t.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(e){const i=-t.wrap(e,-180,180)*Math.PI/180;var n;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=(n=new t.ARRAY_TYPE(4),t.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(t,e,i){var n=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(i),l=Math.cos(i);t[0]=n*l+o*a,t[1]=r*l+s*a,t[2]=n*-a+o*l,t[3]=r*-a+s*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(e){const i=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(t){this._averageElevation=t,this._calcFogMatrices()}get zoom(){return this._zoom}set zoom(t){const e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._setZoom(e),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(t){this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const e=this._elevation.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(this.center),-1);return-1===e?(this._cameraZoom=null,!1):(this._centerAltitude=e,!0)}_updateCameraOnTerrain(){const e=this.cameraToCenterDistance/this.worldSize,i=t.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(i+e)}sampleAverageElevation(){if(!this._elevation)return 0;const e=this._elevation,i=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],n=this.horizonLineFromTop();let r=0,o=0;for(let s=0;s<i.length;s++){const a=new t.pointGeometry(i[s][0]*this.width,n+i[s][1]*(this.height-n)),l=e.pointCoordinate(a);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,o+=c}return 0===o?NaN:r/o}get center(){return this._center}set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const e=this._cameraZoom,i=this._elevation.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(this.center)),n=t.mercatorZfromAltitude(i,this.center.lat),r=this._mercatorZfromZoom(e),o=this._mercatorZfromZoom(this._maxZoom),s=Math.max(r-n,o);this._setZoom(this._zoomFromMercatorZ(s))}get padding(){return this._edgeInsets.toJSON()}set padding(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())}computeZoomRelativeTo(e){const i=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,e.toAltitude()));let n;n=e.z<this._camera.position[2]?[i.x,i.y,i.z]:[e.x,e.y,e.z];const r=t.length(t.sub([],this._camera.position,n));return t.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(e){if(!this.height)return;if(!e.position&&!e.orientation)return;this._updateCameraState();let i=!1;if(e.orientation&&!t.exactEquals(e.orientation,this._camera.orientation)&&(i=this._setCameraOrientation(e.orientation)),e.position){const n=[e.position.x,e.position.y,e.position.z];t.exactEquals$1(n,this._camera.position)||(this._setCameraPosition(n),i=!0)}i&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const e=this._camera.position,i=new xn;return i.position=new t.MercatorCoordinate(e[0],e[1],e[2]),i.orientation=this._camera.orientation,i._elevation=this.elevation,i._renderWorldCopies=this._renderWorldCopies,i}_setCameraOrientation(e){if(!t.length$1(e))return!1;t.normalize$1(e,e);const i=t.transformQuat([],[0,0,-1],e),n=t.transformQuat([],[0,-1,0],e);if(n[2]<0)return!1;const r=bn(i,n);return!!r&&(this._camera.orientation=r,!0)}_setCameraPosition(e){const i=this.zoomScale(this.minZoom)*this.tileSize,n=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;e[2]=t.clamp(e[2],r/n,r/i),this._camera.position=e}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(t){return this._edgeInsets.equals(t)}interpolatePadding(t,e,i){this._unmodified=!1,this._edgeInsets.interpolate(t,e,i),this._constrain(),this._calcMatrices()}coveringZoomLevel(t){const e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)}getVisibleUnwrappedCoordinates(e){const i=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies){const n=this.pointCoordinate(new t.pointGeometry(0,0)),r=this.pointCoordinate(new t.pointGeometry(this.width,0)),o=this.pointCoordinate(new t.pointGeometry(this.width,this.height)),s=this.pointCoordinate(new t.pointGeometry(0,this.height)),a=Math.floor(Math.min(n.x,r.x,o.x,s.x)),l=Math.floor(Math.max(n.x,r.x,o.x,s.x)),c=1;for(let u=a-c;u<=l+c;u++)0!==u&&i.push(new t.UnwrappedTileID(u,e))}return i}coveringTiles(e){let i=this.coveringZoomLevel(e);const n=i,r=this.elevation&&!e.isTerrainDEM;if(void 0!==e.minzoom&&i<e.minzoom)return[];void 0!==e.maxzoom&&i>e.maxzoom&&(i=e.maxzoom);const o=t.MercatorCoordinate.fromLngLat(this.center),s=1<<i,a=[s*o.x,s*o.y,0],l=p.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i),c=this.pointCoordinate(this.getCameraPoint()),u=s*t.mercatorZfromAltitude(1,this.center.lat),h=this._camera.position[2]/t.mercatorZfromAltitude(1,this.center.lat),d=[s*c.x,s*c.y,h],m=this.cameraToCenterDistance/e.tileSize*(e.roundZoom?1:.502),g=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation?i:0,y=e.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,v=e.isTerrainDEM?-y:this._elevation?this._elevation.getMinElevationBelowMSL():0,_=t=>({aabb:new f([t*s,0,v],[(t+1)*s,s,y]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}),b=[],x=[],w=i,S=e.reparseOverscaled?n:i,T=t=>{if(!this._elevation||!t.tileID)return;const e=this._elevation.getMinMaxForTile(t.tileID),i=t.aabb;e?(i.min[2]=e.min,i.max[2]=e.max,i.center[2]=(i.min[2]+i.max[2])/2):(t.shouldSplit=k(t),t.shouldSplit||(i.min[2]=i.max[2]=i.center[2]=this._centerAltitude))},C=t=>t*t,O=C((h-this._centerAltitude)*u),k=t=>{if(t.zoom<g)return!0;if(t.zoom===w)return!1;if(null!=t.shouldSplit)return t.shouldSplit;const e=t.aabb.distanceX(d),i=t.aabb.distanceY(d);let n=O;r&&(n=C(t.aabb.distanceZ(d)*u));const o=e*e+i*i+n;return o<C((1<<w-t.zoom)*m*((t,e)=>{if(e*C(.707)<t)return 1;const i=Math.sqrt(e/t);return i/(1.4144271570014144+(Math.pow(1.1,i-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(n,O),o))};if(this._renderWorldCopies)for(let t=1;t<=3;t++)b.push(_(-t)),b.push(_(t));for(b.push(_(0));b.length>0;){const n=b.pop(),o=n.x,s=n.y;let c=n.fullyVisible;if(!c){const t=n.aabb.intersects(l);if(0===t)continue;c=2===t}if(n.zoom!==w&&k(n))for(let e=0;e<4;e++){const i=(o<<1)+e%2,a=(s<<1)+(e>>1),l={aabb:n.aabb.quadrant(e),zoom:n.zoom+1,x:i,y:a,wrap:n.wrap,fullyVisible:c,tileID:void 0,shouldSplit:void 0};r&&(l.tileID=new t.OverscaledTileID(n.zoom+1===w?S:n.zoom+1,n.wrap,n.zoom+1,i,a),T(l)),b.push(l)}else{const r=n.zoom===w?S:n.zoom;if(e.minzoom&&e.minzoom>r)continue;const l=a[0]-(.5+o+(n.wrap<<n.zoom))*(1<<i-n.zoom),c=a[1]-.5-s,u=n.tileID?n.tileID:new t.OverscaledTileID(r,n.wrap,n.zoom,o,s);x.push({tileID:u,distanceSq:l*l+c*c})}}if(this.fogCullDistSq){const e=this.fogCullDistSq;x.splice(0,x.length,...x.filter(i=>{const n=[0,0,0,1],o=[t.EXTENT,t.EXTENT,0,1],s=this.calculateFogTileMatrix(i.tileID.toUnwrapped());t.transformMat4(n,n,s),t.transformMat4(o,o,s);const a=t.getAABBPointSquareDist(n,o);if(0===a)return!0;let l=!1;const c=this.horizonLineFromTop();if(a>e&&0!==c){const e=this.calculateProjMatrix(i.tileID.toUnwrapped());let n;r&&this._elevation&&(n=this._elevation.getMinMaxForTile(i.tileID)),n||(n={min:v,max:y});const o=t.furthestTileCorner(this.bearing),s=[o[0]*t.EXTENT,o[1]*t.EXTENT,n.max];t.transformMat4$1(s,s,e),l=(1-s[1])*this.height*.5<c}return a<e||l}))}return x.sort((t,e)=>t.distanceSq-e.distanceSq).map(t=>t.tileID)}resize(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(t){return Math.pow(2,t)}scaleZoom(t){return Math.log(t)/Math.LN2}project(e){const i=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.pointGeometry(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(i)*this.worldSize)}unproject(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(e,i){const n=this.pointCoordinate(i),r=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),s=new t.MercatorCoordinate(o.x-(n.x-r.x),o.y-(n.y-r.y));this.center=this.coordinateLocation(s),this._renderWorldCopies&&(this.center=this.center.wrap())}setLocation(t){this.center=this.coordinateLocation(t),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(t){return this._coordinatePoint(this.locationCoordinate(t),!1)}locationPoint3D(t){return this._coordinatePoint(this.locationCoordinate(t),!0)}pointLocation(t){return this.coordinateLocation(this.pointCoordinate(t))}pointLocation3D(t){return this.coordinateLocation(this.pointCoordinate3D(t))}locationCoordinate(e){return t.MercatorCoordinate.fromLngLat(e)}coordinateLocation(t){return t.toLngLat()}pointRayIntersection(e,i){const n=null!=i?i:this._centerAltitude,r=[e.x,e.y,0,1],o=[e.x,e.y,1,1];t.transformMat4(r,r,this.pixelMatrixInverse),t.transformMat4(o,o,this.pixelMatrixInverse);const s=o[3];t.scale$2(r,r,1/r[3]),t.scale$2(o,o,1/s);const a=r[2],l=o[2];return{p0:r,p1:o,t:a===l?0:(n-a)/(l-a)}}screenPointToMercatorRay(e){const i=[e.x,e.y,0,1],n=[e.x,e.y,1,1];return t.transformMat4(i,i,this.pixelMatrixInverse),t.transformMat4(n,n,this.pixelMatrixInverse),t.scale$2(i,i,1/i[3]),t.scale$2(n,n,1/n[3]),i[2]=t.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,n[2]=t.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,t.scale$2(i,i,1/this.worldSize),t.scale$2(n,n,1/this.worldSize),new d([i[0],i[1],i[2]],t.normalize([],t.sub([],n,i)))}rayIntersectionCoordinate(e){const{p0:i,p1:n,t:r}=e,o=t.mercatorZfromAltitude(i[2],this._center.lat),s=t.mercatorZfromAltitude(n[2],this._center.lat);return new t.MercatorCoordinate(t.number(i[0],n[0],r)/this.worldSize,t.number(i[1],n[1],r)/this.worldSize,t.number(o,s,r))}pointCoordinate(e){const i=this.horizonLineFromTop(!1),n=new t.pointGeometry(e.x,Math.max(i,e.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(n))}pointCoordinate3D(e){if(!this.elevation)return this.pointCoordinate(e);const i=this.elevation;let n=this.elevation.pointCoordinate(e);if(n)return new t.MercatorCoordinate(n[0],n[1],n[2]);let r=0,o=this.horizonLineFromTop();if(e.y>o)return this.pointCoordinate(e);const s=.02*o,a=e.clone();for(let l=0;l<10&&o-r>s;l++){a.y=t.number(r,o,.66);const e=i.pointCoordinate(a);e?(o=a.y,n=e):r=a.y}return n?new t.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(e)}isPointAboveHorizon(t){if(this.elevation)return!this.elevation.pointCoordinate(t);{const e=this.horizonLineFromTop();return t.y<e}}_coordinatePoint(e,i){const n=i&&this.elevation?this.elevation.getAtPointOrZero(e,this._centerAltitude):this._centerAltitude,r=[e.x*this.worldSize,e.y*this.worldSize,n+e.toAltitude(),1];return t.transformMat4(r,r,this.pixelMatrix),r[3]>0?new t.pointGeometry(r[0]/r[3],r[1]/r[3]):new t.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}getBounds(){return this._terrainEnabled()?this._getBounds3D():(new t.LngLatBounds).extend(this.pointLocation(new t.pointGeometry(this._edgeInsets.left,this._edgeInsets.top))).extend(this.pointLocation(new t.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top))).extend(this.pointLocation(new t.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom))).extend(this.pointLocation(new t.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom)))}_getBounds3D(){const e=this.elevation,i=e.visibleDemTiles.reduce((t,e)=>{if(e.dem){const i=e.dem.tree;t.min=Math.min(t.min,i.minimums[0]),t.max=Math.max(t.max,i.maximums[0])}return t},{min:Number.MAX_VALUE,max:0});i.min*=e.exaggeration(),i.max*=e.exaggeration();const n=this.horizonLineFromTop();return[new t.pointGeometry(0,n),new t.pointGeometry(this.width,n),new t.pointGeometry(this.width,this.height),new t.pointGeometry(0,this.height)].reduce((t,e)=>t.extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(e,i.min)))).extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(e,i.max)))),new t.LngLatBounds)}horizonLineFromTop(t=!0){const e=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,i=this.height/2-.97*e;return t?Math.max(0,i):i}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(e,i){const n=e.canonical,r=i/this.zoomScale(n.z),o=n.x+Math.pow(2,n.z)*e.wrap,s=t.identity(new Float64Array(16));return t.translate(s,s,[o*r,n.y*r,0]),t.scale$1(s,s,[r/t.EXTENT,r/t.EXTENT,1]),s}calculateFogTileMatrix(e){const i=e.key,n=this._fogTileMatrixCache;if(n[i])return n[i];const r=this.calculatePosMatrix(e,this.cameraWorldSize);return t.multiply(r,this.worldToFogMatrix,r),n[i]=new Float32Array(r),n[i]}calculateProjMatrix(e,i=!1){const n=e.key,r=i?this._alignedProjMatrixCache:this._projMatrixCache;if(r[n])return r[n];const o=this.calculatePosMatrix(e,this.worldSize);return t.multiply(o,i?this.alignedProjMatrix:this.projMatrix,o),r[n]=new Float32Array(o),r[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const e=this._elevation;this._updateCameraState();const i=this._camera.position,n=this._camera.forward();if(i[2]<=0||n[2]>=0)return;const r=t.mercatorZfromAltitude(1,this._center.lat);i[2]/=r,n[2]/=r,t.normalize(n,n);const o=e.raycast(i,n,e.exaggeration());if(o){const e=t.scaleAndAdd([],i,n,o),r=new t.MercatorCoordinate(e[0],e[1],t.mercatorZfromAltitude(e[2],t.latFromMercatorY(e[1]))),s=this._camera.position,a=r.z+t.length([r.x-s[0],r.y-s[1],r.z-s[2]]);this._cameraZoom=this._zoomFromMercatorZ(a),this._centerAltitude=r.toAltitude(),this._center=r.toLngLat(),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const e=this._elevation;this._updateCameraState();const i=e.getAtPointOrZero(this._camera.mercatorPosition),n=this._minimumHeightOverTerrain()*Math.cos(t.degToRad(this._maxPitch)),r=t.mercatorZfromAltitude(i,this._center.lat),o=this._camera.position[2]-r;if(o<n){const e=t.MercatorCoordinate.fromLngLat(this._center,this._centerAltitude),i=this._camera.mercatorPosition,r=[e.x-i.x,e.y-i.y,e.z-i.z],s=t.length(r);r[2]-=n-o;const a=t.length(r);if(0===a)return;t.scale(r,r,s/a),this._camera.position=[e.x-r[0],e.y-r[1],e.z-r[2]],this._camera.orientation=bn(r,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let e,i,n,r,o=-90,s=90,a=-180,l=180;const c=this.size,u=this._unmodified;if(this.latRange){const i=this.latRange;o=t.mercatorYfromLat(i[1])*this.worldSize,s=t.mercatorYfromLat(i[0])*this.worldSize,e=s-o<c.y?c.y/(s-o):0}if(this.lngRange){const e=this.lngRange;a=t.mercatorXfromLng(e[0])*this.worldSize,l=t.mercatorXfromLng(e[1])*this.worldSize,i=l-a<c.x?c.x/(l-a):0}const h=this.point,d=Math.max(i||0,e||0);if(d)return this.center=this.unproject(new t.pointGeometry(i?(l+a)/2:h.x,e?(s+o)/2:h.y)),this.zoom+=this.scaleZoom(d),this._unmodified=u,void(this._constraining=!1);if(this.latRange){const t=h.y,e=c.y/2;t-e<o&&(r=o+e),t+e>s&&(r=s-e)}if(this.lngRange){const t=h.x,e=c.x/2;t-e<a&&(n=a+e),t+e>l&&(n=l-e)}void 0===n&&void 0===r||(this.center=this.unproject(new t.pointGeometry(void 0!==n?n:h.x,void 0!==r?r:h.y))),this._constrainCameraAltitude(),this._unmodified=u,this._constraining=!1}_minZoomForBounds(){const e=(t,e)=>Math.log2(t/(this.tileSize*Math.abs(e[1]-e[0])));let i=0;if(this.latRange){const n=this.latRange;i=e(this.height,[t.mercatorYfromLat(n[0]),t.mercatorYfromLat(n[1])])}let n=0;if(this.lngRange){const i=this.lngRange;n=e(this.width,[t.mercatorXfromLng(i[0]),t.mercatorXfromLng(i[1])])}return Math.max(i,n)}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const i=this.pixelsPerMeter;this._updateCameraState();const n=Math.PI/2+this._pitch,r=this.fovAboveCenter,o=this.elevation?this.elevation.getMinElevationBelowMSL()*i:0,s=(this._camera.position[2]*this.worldSize-o)/Math.cos(this._pitch),a=Math.sin(r)*s/Math.sin(t.clamp(Math.PI-n-r,.01,Math.PI-.01)),l=this.point,c=l.x,u=l.y,h=Math.cos(Math.PI/2-this._pitch)*a+s,d=Math.min(1.01*h,s*(1/this._horizonShift)),p=this.height/50,f=this._camera.getWorldToCamera(this.worldSize,i),m=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,p,d);m[8]=2*-e.x/this.width,m[9]=2*e.y/this.height;let g=t.mul$1([],m,f);this.mercatorMatrix=t.scale$1([],g,[this.worldSize,this.worldSize,this.worldSize/i]),this.projMatrix=g,this.invProjMatrix=t.invert(new Float64Array(16),this.projMatrix);const y=new Float32Array(16);t.identity(y),t.scale$1(y,y,[1,-1,1]),t.rotateX(y,y,this._pitch),t.rotateZ(y,y,this.angle);const v=t.perspective(new Float32Array(16),this._fov,this.width/this.height,p,d),_=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;v[8]=2*-e.x/this.width,v[9]=2*(e.y+_)/this.height,this.skyboxMatrix=t.multiply(y,v,y);const b=this.width%2/2,x=this.height%2/2,w=Math.cos(this.angle),S=Math.sin(this.angle),T=c-Math.round(c)+w*b+S*x,C=u-Math.round(u)+w*x+S*b,O=new Float64Array(g);if(t.translate(O,O,[T>.5?T-1:T,C>.5?C-1:C,0]),this.alignedProjMatrix=O,g=t.create$1(),t.scale$1(g,g,[this.width/2,-this.height/2,1]),t.translate(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=t.create$1(),t.scale$1(g,g,[1,-1,1]),t.translate(g,g,[-1,-1,0]),t.scale$1(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),g=t.invert(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._projMatrixCache={},this._alignedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const e=this.cameraWorldSize,i=this.cameraPixelsPerMeter,n=this._camera.position,r=1/this.height,o=[e,e,i];t.scale(o,o,r),t.scale(n,n,-1),t.multiply$1(n,n,o);const s=t.create$1();t.translate(s,s,n),t.scale$1(s,s,o),this.mercatorFogMatrix=s,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(e,i,r)}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const e=this._camera.forward(),i=this.cameraToCenterDistance,n=this.point,r=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-t.mercatorZfromAltitude(this._centerAltitude,this.center.lat),o=this.cameraToCenterDistance/r;this._camera.position=[n.x/this.worldSize-e[0]*i/o,n.y/this.worldSize-e[1]*i/o,t.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-e[2]*i/o]}_translateCameraConstrained(e){const i=this._maxCameraBoundsDistance()*Math.cos(this._pitch),n=e[2];let r=1;n>0&&(r=Math.min((i-this._camera.position[2])/n,1)),this._camera.position=t.scaleAndAdd([],this._camera.position,e,r),this._updateStateFromCamera()}_updateStateFromCamera(){const e=this._camera.position,i=this._camera.forward(),{pitch:n,bearing:r}=this._camera.getPitchBearing(),o=t.mercatorZfromAltitude(this._centerAltitude,this.center.lat),s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(t.degToRad(this._maxPitch)),a=Math.max((e[2]-o)/Math.cos(n),s),l=this._zoomFromMercatorZ(a);t.scaleAndAdd(e,e,i,a),this._pitch=t.clamp(n,t.degToRad(this.minPitch),t.degToRad(this.maxPitch)),this.angle=t.wrap(r,-Math.PI,Math.PI),this._setZoom(t.clamp(l,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=new t.MercatorCoordinate(e[0],e[1],e[2]).toLngLat(),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(t){return Math.pow(2,t)*this.tileSize}_mercatorZfromZoom(t){return this.cameraToCenterDistance/this._worldSizeFromZoom(t)}_minimumHeightOverTerrain(){const t=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(t)}_zoomFromMercatorZ(t){return this.scaleZoom(this.cameraToCenterDistance/(t*this.tileSize))}_terrainEnabled(){return!!this._elevation}isHorizonVisibleForPoints(e,i){const n=Math.min(e.x,i.x),r=Math.max(e.x,i.x),o=Math.min(e.y,i.y),s=Math.max(e.y,i.y),a=[new t.pointGeometry(n,o),new t.pointGeometry(r,s),new t.pointGeometry(n,s),new t.pointGeometry(r,o)],l=this._renderWorldCopies?-3:0,c=this._renderWorldCopies?4:1;for(const t of a){const e=this.pointRayIntersection(t);if(e.t<0)return!0;const i=this.rayIntersectionCoordinate(e);if(i.x<l||i.y<0||i.x>c||i.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+t.radToDeg(this.fovAboveCenter)>88||this.isHorizonVisibleForPoints(new t.pointGeometry(0,0),new t.pointGeometry(this.width,this.height))}zoomDeltaToMovement(e,i){const n=t.length(t.sub([],this._camera.position,e)),r=this._zoomFromMercatorZ(n)+i;return n-this._mercatorZfromZoom(r)}getCameraPoint(){const e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.pointGeometry(0,e))}}function Tn(t,e){let i=!1,n=null;const r=()=>{n=null,i&&(t(),n=setTimeout(r,e),i=!1)};return()=>(i=!0,n||r(),n)}class Cn{constructor(e){this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Tn(this._updateHashUnthrottled.bind(this),300)}addTo(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){const i=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),s=Math.round(i.lng*o)/o,a=Math.round(i.lat*o)/o,l=this._map.getBearing(),c=this._map.getPitch();let u="";if(u+=e?`/${s}/${a}/${n}`:`${n}/${a}/${s}`,(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/"+Math.round(c)),this._hashName){const e=this._hashName;let i=!1;const n=t.window.location.hash.slice(1).split("&").map(t=>{const n=t.split("=")[0];return n===e?(i=!0,`${n}=${u}`):t}).filter(t=>t);return i||n.push(`${e}=${u}`),"#"+n.join("&")}return"#"+u}_getCurrentHash(){const e=t.window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map(t=>t.split("=")).forEach(e=>{e[0]===this._hashName&&(t=e)}),(t&&t[1]||"").split("/")}return e.split("/")}_onHashChange(){const t=this._getCurrentHash();if(t.length>=3&&!t.some(t=>isNaN(t))){const e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());t.window.history.replaceState(t.window.history.state,null,e)}}const On={linearity:.3,easing:t.bezier(0,0,.3,1)},kn=t.extend({deceleration:2500,maxSpeed:1400},On),An=t.extend({deceleration:20,maxSpeed:1400},On),In=t.extend({deceleration:1e3,maxSpeed:360},On),En=t.extend({deceleration:1e3,maxSpeed:90},On);class Mn{constructor(t){this._map=t,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.exported.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,i=t.exported.now();for(;e.length>0&&i-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,pan:new t.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:t}of this._inertiaBuffer)i.zoom+=t.zoomDelta||0,i.bearing+=t.bearingDelta||0,i.pitch+=t.pitchDelta||0,t.panDelta&&i.pan._add(t.panDelta),t.around&&(i.around=t.around),t.pinchAround&&(i.pinchAround=t.pinchAround);const n=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(i.pan.mag()){const o=Pn(i.pan.mag(),n,t.extend({},kn,e||{}));r.offset=i.pan.mult(o.amount/i.pan.mag()),r.center=this._map.transform.center,Dn(r,o)}if(i.zoom){const t=Pn(i.zoom,n,An);r.zoom=this._map.transform.zoom+t.amount,Dn(r,t)}if(i.bearing){const e=Pn(i.bearing,n,In);r.bearing=this._map.transform.bearing+t.clamp(e.amount,-179,179),Dn(r,e)}if(i.pitch){const t=Pn(i.pitch,n,En);r.pitch=this._map.transform.pitch+t.amount,Dn(r,t)}if(r.zoom||r.bearing){const t=void 0===i.pinchAround?i.around:i.pinchAround;r.around=t?this._map.unproject(t):this._map.getCenter()}return this.clear(),t.extend(r,{noMoveStart:!0})}}function Dn(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Pn(e,i,n){const{maxSpeed:r,linearity:o,deceleration:s}=n,a=t.clamp(e*o/(i/1e3),-r,r),l=Math.abs(a)/(s*o);return{easing:n.easing,duration:1e3*l,amount:a*(l/2)}}class Ln extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,n,r={}){const s=o.mousePos(i.getCanvasContainer(),n),a=i.unproject(s);super(e,t.extend({point:s,lngLat:a,originalEvent:n},r)),this._defaultPrevented=!1,this.target=i}}class zn extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,n){const r="touchend"===e?n.changedTouches:n.touches,s=o.touchPos(i.getCanvasContainer(),r),a=s.map(t=>i.unproject(t)),l=s.reduce((t,e,i,n)=>t.add(e.div(n.length)),new t.pointGeometry(0,0));super(e,{points:s,point:l,lngLats:a,lngLat:i.unproject(l),originalEvent:n}),this._defaultPrevented=!1}}class jn extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,e,i){super(t,{originalEvent:i}),this._defaultPrevented=!1}}class Bn{constructor(t,e){this._map=t,this._clickTolerance=e.clickTolerance}reset(){delete this._mousedownPos}wheel(t){return this._firePreventable(new jn(t.type,this._map,t))}mousedown(t,e){return this._mousedownPos=e,this._firePreventable(new Ln(t.type,this._map,t))}mouseup(t){this._map.fire(new Ln(t.type,this._map,t))}click(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new Ln(t.type,this._map,t))}dblclick(t){return this._firePreventable(new Ln(t.type,this._map,t))}mouseover(t){this._map.fire(new Ln(t.type,this._map,t))}mouseout(t){this._map.fire(new Ln(t.type,this._map,t))}touchstart(t){return this._firePreventable(new zn(t.type,this._map,t))}touchmove(t){this._map.fire(new zn(t.type,this._map,t))}touchend(t){this._map.fire(new zn(t.type,this._map,t))}touchcancel(t){this._map.fire(new zn(t.type,this._map,t))}_firePreventable(t){if(this._map.fire(t),t.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Rn{constructor(t){this._map=t}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(t){this._map.fire(new Ln(t.type,this._map,t))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ln("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new Ln(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Fn{constructor(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(o.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)}mousemoveWindow(t,e){if(!this._active)return;const i=e;if(this._lastPos.equals(i)||!this._box&&i.dist(this._startPos)<this._clickTolerance)return;const n=this._startPos;this._lastPos=i,this._box||(this._box=o.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));const r=Math.min(n.x,i.x),s=Math.max(n.x,i.x),a=Math.min(n.y,i.y),l=Math.max(n.y,i.y);this._map._requestDomTask(()=>{this._box&&(o.setTransform(this._box,`translate(${r}px,${a}px)`),this._box.style.width=s-r+"px",this._box.style.height=l-a+"px")})}mouseupWindow(e,i){if(!this._active)return;if(0!==e.button)return;const n=this._startPos,r=i;if(this.reset(),o.suppressClick(),n.x!==r.x||n.y!==r.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:t=>t.fitScreenCoordinates(n,r,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",e)}keydown(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(o.remove(this._box),this._box=null),o.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,i){return this._map.fire(new t.Event(e,{originalEvent:i}))}}function Nn(t,e){const i={};for(let n=0;n<t.length;n++)i[t[n].identifier]=e[n];return i}class Vn{constructor(t){this.reset(),this.numTouches=t.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,i,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),n.length===this.numTouches&&(this.centroid=function(e){const i=new t.pointGeometry(0,0);for(const t of e)i._add(t);return i.div(e.length)}(i),this.touches=Nn(n,i)))}touchmove(t,e,i){if(this.aborted||!this.centroid)return;const n=Nn(i,e);for(const r in this.touches){const t=this.touches[r],e=n[r];(!e||e.dist(t)>30)&&(this.aborted=!0)}}touchend(t,e,i){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const t=!this.aborted&&this.centroid;if(this.reset(),t)return t}}}class $n{constructor(t){this.singleTap=new Vn(t),this.numTaps=t.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(t,e,i){this.singleTap.touchstart(t,e,i)}touchmove(t,e,i){this.singleTap.touchmove(t,e,i)}touchend(t,e,i){const n=this.singleTap.touchend(t,e,i);if(n){const e=t.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(n)<30;if(e&&i||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}class Un{constructor(){this._zoomIn=new $n({numTouches:1,numTaps:2}),this._zoomOut=new $n({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(t,e,i){this._zoomIn.touchstart(t,e,i),this._zoomOut.touchstart(t,e,i)}touchmove(t,e,i){this._zoomIn.touchmove(t,e,i),this._zoomOut.touchmove(t,e,i)}touchend(t,e,i){const n=this._zoomIn.touchend(t,e,i),r=this._zoomOut.touchend(t,e,i);return n?(this._active=!0,t.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:e=>e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(n)},{originalEvent:t})}):r?(this._active=!0,t.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:e=>e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(r)},{originalEvent:t})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Gn={0:1,2:2};class qn{constructor(t){this.reset(),this._clickTolerance=t.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(t,e){return!1}_move(t,e){return{}}mousedown(t,e){if(this._lastPoint)return;const i=o.mouseButton(t);this._correctButton(t,i)&&(this._lastPoint=e,this._eventButton=i)}mousemoveWindow(t,e){const i=this._lastPoint;if(i)if(t.preventDefault(),function(t,e){const i=Gn[e];return void 0===t.buttons||(t.buttons&i)!==i}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(i,e)}mouseupWindow(t){this._lastPoint&&o.mouseButton(t)===this._eventButton&&(this._moved&&o.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Hn extends qn{mousedown(t,e){super.mousedown(t,e),this._lastPoint&&(this._active=!0)}_correctButton(t,e){return 0===e&&!t.ctrlKey}_move(t,e){return{around:e,panDelta:e.sub(t)}}}class Wn extends qn{_correctButton(t,e){return 0===e&&t.ctrlKey||2===e}_move(t,e){const i=.8*(e.x-t.x);if(i)return this._active=!0,{bearingDelta:i}}contextmenu(t){t.preventDefault()}}class Zn extends qn{_correctButton(t,e){return 0===e&&t.ctrlKey||2===e}_move(t,e){const i=-.5*(e.y-t.y);if(i)return this._active=!0,{pitchDelta:i}}contextmenu(t){t.preventDefault()}}class Xn{constructor(t){this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new t.pointGeometry(0,0)}touchstart(t,e,i){return this._calculateTransform(t,e,i)}touchmove(t,e,i){if(this._active&&!(i.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,i)}touchend(t,e,i){this._calculateTransform(t,e,i),this._active&&i.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,i,n){n.length>0&&(this._active=!0);const r=Nn(n,i),o=new t.pointGeometry(0,0),s=new t.pointGeometry(0,0);let a=0;for(const t in r){const e=r[t],i=this._touches[t];i&&(o._add(e),s._add(e.sub(i)),a++,r[t]=e)}if(this._touches=r,a<this._minTouches||!s.mag())return;const l=s.div(a);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(a),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Yn{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(t){}_move(t,e,i){return{}}touchstart(t,e,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([e[0],e[1]]))}touchmove(t,e,i){if(!this._firstTwoTouches)return;t.preventDefault();const[n,r]=this._firstTwoTouches,o=Kn(i,e,n),s=Kn(i,e,r);if(!o||!s)return;const a=this._aroundCenter?null:o.add(s).div(2);return this._move([o,s],a,t)}touchend(t,e,i){if(!this._firstTwoTouches)return;const[n,r]=this._firstTwoTouches,s=Kn(i,e,n),a=Kn(i,e,r);s&&a||(this._active&&o.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Kn(t,e,i){for(let n=0;n<t.length;n++)if(t[n].identifier===i)return e[n]}function Jn(t,e){return Math.log(t/e)/Math.LN2}class Qn extends Yn{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(t){this._startDistance=this._distance=t[0].dist(t[1])}_move(t,e){const i=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Jn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jn(this._distance,i),pinchAround:e}}}function tr(t,e){return 180*t.angleWith(e)/Math.PI}class er extends Yn{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])}_move(t,e){const i=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:tr(this._vector,i),pinchAround:e}}_isBelowThreshold(t){this._minDiameter=Math.min(this._minDiameter,t.mag());const e=25/(Math.PI*this._minDiameter)*360,i=tr(t,this._startVector);return Math.abs(i)<e}}function ir(t){return Math.abs(t.y)>Math.abs(t.x)}class nr extends Yn{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(t){this._lastPoints=t,ir(t[0].sub(t[1]))&&(this._valid=!1)}_move(t,e,i){const n=t[0].sub(this._lastPoints[0]),r=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(n,r,i.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(n.y+r.y)/2*-.5}}gestureBeginsVertically(t,e,i){if(void 0!==this._valid)return this._valid;const n=t.mag()>=2,r=e.mag()>=2;if(!n&&!r)return;if(!n||!r)return void 0===this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const o=t.y>0==e.y>0;return ir(t)&&ir(e)&&o}}const rr={panStep:100,bearingStep:15,pitchStep:10};class or{constructor(){const t=rr;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(t){if(t.altKey||t.ctrlKey||t.metaKey)return;let e=0,i=0,n=0,r=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),r=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),r=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?n=-1:(t.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(i=0,n=0),{cameraAnimation:s=>{const a=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:sr,zoom:e?Math.round(a)+e*(t.shiftKey?2:1):a,bearing:s.getBearing()+i*this._bearingStep,pitch:s.getPitch()+n*this._pitchStep,offset:[-r*this._panStep,-o*this._panStep],center:s.getCenter()},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function sr(t){return t*(2-t)}const ar=4.000244140625;class lr{constructor(e,i){this._map=e,this._el=e.getCanvasContainer(),this._handler=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,t.bindAll(["_onTimeout"],this)}setZoomRate(t){this._defaultZoomRate=t}setWheelZoomRate(t){this._wheelZoomRate=t}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(e){if(!this.isEnabled())return;let i=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const n=t.exported.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%ar==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(r*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this._active||this._start(e)),e.preventDefault()}_onTimeout(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const e=o.mousePos(this._el,t);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:e,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const e=this._map.transform,i=()=>e._terrainEnabled()?e.computeZoomRelativeTo(this._aroundCoord):e.zoom;if(0!==this._delta){const t="wheel"===this._type&&Math.abs(this._delta)>ar?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*t)));this._delta<0&&0!==n&&(n=1/n);const r=i(),o=Math.pow(2,r),s="number"==typeof this._targetZoom?e.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(s*n))),"wheel"===this._type&&(this._startZoom=i(),this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:i(),r=this._startZoom,o=this._easing;let s,a=!1;if("wheel"===this._type&&r&&o){const e=Math.min((t.exported.now()-this._lastWheelEventTime)/200,1),i=o(e);s=t.number(r,n,i),e<1?this._frameId||(this._frameId=!0):a=!0}else s=n,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!a,zoomDelta:s-i(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let i=t.ease;if(this._prevEase){const e=this._prevEase,n=(t.exported.now()-e.start)/e.duration,r=e.easing(n+.01)-e.easing(n),o=.27/Math.sqrt(r*r+1e-4)*.01,s=Math.sqrt(.0729-o*o);i=t.bezier(o,s,.25,1)}return this._prevEase={start:t.exported.now(),duration:e,easing:i},i}reset(){this._active=!1}}class cr{constructor(t,e){this._clickZoom=t,this._tapZoom=e}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ur{constructor(){this.reset()}reset(){this._active=!1}dblclick(t,e){return t.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:i.getZoom()+(t.shiftKey?-1:1),around:i.unproject(e)},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class hr{constructor(){this._tap=new $n({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(t,e,i){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=e[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(t,e,i))}touchmove(t,e,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const n=e[0],r=n.y-this._swipePoint.y;return this._swipePoint=n,t.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(t,e,i)}touchend(t,e,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(t,e,i)&&(this._tapTime=t.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class dr{constructor(t,e,i){this._el=t,this._mousePan=e,this._touchPan=i}enable(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class pr{constructor(t,e,i){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=i}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class fr{constructor(t,e,i,n){this._el=t,this._touchZoom=e,this._touchRotate=i,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0}enable(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const mr=t=>t.zoom||t.drag||t.pitch||t.rotate;class gr extends t.Event{}class yr{constructor(){this.constants=[1,1,.01],this.radius=0}setup(e,i){const n=t.sub([],i,e);this.radius=t.length(n[2]<0?t.div([],n,this.constants):[n[0],n[1],0])}projectRay(e){t.div(e,e,this.constants),t.normalize(e,e),t.mul$2(e,e,this.constants);const i=t.scale([],e,this.radius);if(i[2]>0){const e=t.scale([],[0,0,1],t.dot(i,[0,0,1])),n=t.scale([],t.normalize([],[i[0],i[1],0]),this.radius),r=t.add([],i,t.scale([],t.sub([],t.add([],n,e),i),2));i[0]=r[0],i[1]=r[1]}return i}}function vr(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}class _r{constructor(e,i){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Mn(e),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new yr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(i),t.bindAll(["handleEvent","handleWindowEvent"],this);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[t.window,"blur",void 0]];for(const[r,s,a]of this._listeners)o.addEventListener(r,s,r===t.window.document?this.handleWindowEvent:this.handleEvent,a)}destroy(){for(const[e,i,n]of this._listeners)o.removeEventListener(e,i,e===t.window.document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(t){const e=this._map,i=e.getCanvasContainer();this._add("mapEvent",new Bn(e,t));const n=e.boxZoom=new Fn(e,t);this._add("boxZoom",n);const r=new Un,o=new ur;e.doubleClickZoom=new cr(o,r),this._add("tapZoom",r),this._add("clickZoom",o);const s=new hr;this._add("tapDragZoom",s);const a=e.touchPitch=new nr;this._add("touchPitch",a);const l=new Wn(t),c=new Zn(t);e.dragRotate=new pr(t,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new Hn(t),h=new Xn(t);e.dragPan=new dr(i,u,h),this._add("mousePan",u),this._add("touchPan",h,["touchZoom","touchRotate"]);const d=new er,p=new Qn;e.touchZoomRotate=new fr(i,p,d,s),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Rn(e));const f=e.scrollZoom=new lr(e,this);this._add("scrollZoom",f,["mousePan"]);const m=e.keyboard=new or;this._add("keyboard",m);for(const g of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])t.interactive&&t[g]&&e[g].enable(t[g])}_add(t,e,i){this._handlers.push({handlerName:t,handler:e,allowed:i}),this._handlersById[t]=e}stop(t){if(!this._updatingCamera){for(const{handler:t}of this._handlers)t.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}}isActive(){for(const{handler:t}of this._handlers)if(t.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(mr(this._eventsInProgress))||this.isZooming()}_blockedByActive(t,e,i){for(const n in t)if(n!==i&&(!e||e.indexOf(n)<0))return!0;return!1}handleWindowEvent(t){this.handleEvent(t,t.type+"Window")}_getMapTouches(t){const e=[];for(const i of t)this._el.contains(i.target)&&e.push(i);return e}handleEvent(t,e){if("blur"===t.type)return void this.stop(!0);this._updatingCamera=!0;const i="renderFrame"===t.type,n=i?void 0:t,r={needsRenderFrame:!1},s={},a={},l=t.touches?this._getMapTouches(t.touches):void 0,c=l?o.touchPos(this._el,l):i?void 0:o.mousePos(this._el,t);for(const{handlerName:o,handler:d,allowed:p}of this._handlers){if(!d.isEnabled())continue;let i;this._blockedByActive(a,p,o)?d.reset():d[e||t.type]&&(i=d[e||t.type](t,c,l),this.mergeHandlerResult(r,s,i,o,n),i&&i.needsRenderFrame&&this._triggerRenderFrame()),(i||d.isActive())&&(a[o]=d)}const u={};for(const o in this._previousActiveHandlers)a[o]||(u[o]=n);this._previousActiveHandlers=a,(Object.keys(u).length||vr(r))&&(this._changes.push([r,s,u]),this._triggerRenderFrame()),(Object.keys(a).length||vr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=r;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map))}mergeHandlerResult(e,i,n,r,o){if(!n)return;t.extend(e,n);const s={handlerName:r,originalEvent:n.originalEvent||o};void 0!==n.zoomDelta&&(i.zoom=s),void 0!==n.panDelta&&(i.drag=s),void 0!==n.pitchDelta&&(i.pitch=s),void 0!==n.bearingDelta&&(i.rotate=s)}_applyChanges(){const e={},i={},n={};for(const[r,o,s]of this._changes)r.panDelta&&(e.panDelta=(e.panDelta||new t.pointGeometry(0,0))._add(r.panDelta)),r.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(e.around=r.around),void 0!==r.aroundCoord&&(e.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(e.pinchAround=r.pinchAround),r.noInertia&&(e.noInertia=r.noInertia),t.extend(i,o),t.extend(n,s);this._updateMapTransform(e,i,n),this._changes=[]}_updateMapTransform(e,i,n){const r=this._map,o=r.transform,s=t=>[t.x,t.y,t.z];if((t=>{const e=this._eventsInProgress.drag;return e&&!this._handlersById[e.handlerName].isActive()})()&&!vr(e)){const t=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",t!==o.zoom&&this._map._update(!0)}if(!vr(e))return this._fireEvents(i,n,!0);let{panDelta:a,zoomDelta:l,bearingDelta:c,pitchDelta:u,around:h,aroundCoord:d,pinchAround:p}=e;void 0!==p&&(h=p),(t=>i.drag&&!this._eventsInProgress.drag)()&&h&&(this._dragOrigin=s(o.pointCoordinate3D(h)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",r._stop(!0),h=h||r.transform.centerPoint,c&&(o.bearing+=c),u&&(o.pitch+=u),o._updateCameraState();const f=[0,0,0];if(a){const t=o.screenPointToMercatorRay(h),e=o.screenPointToMercatorRay(h.sub(a)),i=this._trackingEllipsoid.projectRay(t.dir),n=this._trackingEllipsoid.projectRay(e.dir);f[0]=n[0]-i[0],f[1]=n[1]-i[1]}const m=o.zoom,g=[0,0,0];if(l){const e=s(d||o.pointCoordinate3D(h)),i={dir:t.normalize([],t.sub([],e,o._camera.position))},n=o.screenPointToMercatorRay(o.centerPoint);if(i.dir[2]<0){const r=t.altitudeFromMercatorZ(e[2],e[1]),a=o.rayIntersectionCoordinate(o.pointRayIntersection(o.centerPoint,r)),c=o.zoomDeltaToMovement(s(a),l)*(n.dir[2]/i.dir[2]);t.scale(g,i.dir,c)}else if(o._terrainEnabled()){const n=o.zoomDeltaToMovement(e,l);t.scale(g,i.dir,n)}}const y=t.add(f,f,g);o._translateCameraConstrained(y),l&&Math.abs(o.zoom-m)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(i,n,!0)}_fireEvents(e,i,n){const r=mr(this._eventsInProgress),o=mr(e),s={};for(const t in e){const{originalEvent:i}=e[t];this._eventsInProgress[t]||(s[t+"start"]=i),this._eventsInProgress[t]=e[t]}!r&&o&&this._fireEvent("movestart",o.originalEvent);for(const t in s)this._fireEvent(t,s[t]);o&&this._fireEvent("move",o.originalEvent);for(const t in e){const{originalEvent:i}=e[t];this._fireEvent(t,i)}const a={};let l;for(const t in this._eventsInProgress){const{handlerName:e,originalEvent:n}=this._eventsInProgress[t];this._handlersById[e].isActive()||(delete this._eventsInProgress[t],l=i[e]||n,a[t+"end"]=l)}for(const t in a)this._fireEvent(t,a[t]);const c=mr(this._eventsInProgress);if(n&&(r||o)&&!c){this._updatingCamera=!0;const e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=t=>0!==t&&-this._bearingSnap<t&&t<this._bearingSnap;e?(i(e.bearing||this._map.getBearing())&&(e.bearing=0),this._map.easeTo(e,{originalEvent:l})):(this._map.fire(new t.Event("moveend",{originalEvent:l})),i(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(e,i){this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(t=>{delete this._frameId,this.handleEvent(new gr("renderFrame",{timeStamp:t})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class br extends t.Evented{constructor(e,i){super(),this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=i.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}getCenter(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(t,e){return this.jumpTo({center:t},e)}panBy(e,i,n){return e=t.pointGeometry.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},i),n)}panTo(e,i,n){return this.easeTo(t.extend({center:e},i),n)}getZoom(){return this.transform.zoom}setZoom(t,e){return this.jumpTo({zoom:t},e),this}zoomTo(e,i,n){return this.easeTo(t.extend({zoom:e},i),n)}zoomIn(t,e){return this.zoomTo(this.getZoom()+1,t,e),this}zoomOut(t,e){return this.zoomTo(this.getZoom()-1,t,e),this}getBearing(){return this.transform.bearing}setBearing(t,e){return this.jumpTo({bearing:t},e),this}getPadding(){return this.transform.padding}setPadding(t,e){return this.jumpTo({padding:t},e),this}rotateTo(e,i,n){return this.easeTo(t.extend({bearing:e},i),n)}resetNorth(e,i){return this.rotateTo(0,t.extend({duration:1e3},e),i),this}resetNorthPitch(e,i){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),i),this}snapToNorth(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this}getPitch(){return this.transform.pitch}setPitch(t,e){return this.jumpTo({pitch:t},e),this}cameraForBounds(e,i){e=t.LngLatBounds.convert(e);const n=i&&i.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),n,i)}_extendCameraOptions(e){const i={top:0,bottom:0,right:0,left:0};if("number"==typeof(e=t.extend({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},e)).padding){const t=e.padding;e.padding={top:t,bottom:t,right:t,left:t}}return e.padding=t.extend(i,e.padding),e}_cameraForBoxAndBearing(e,i,n,r){const o=this._extendCameraOptions(r),s=this.transform,a=s.padding,l=s.project(t.LngLat.convert(e)),c=s.project(t.LngLat.convert(i)),u=l.rotate(-t.degToRad(n)),h=c.rotate(-t.degToRad(n)),d=new t.pointGeometry(Math.max(u.x,h.x),Math.max(u.y,h.y)),p=new t.pointGeometry(Math.min(u.x,h.x),Math.min(u.y,h.y)),f=d.sub(p),m=(s.width-(a.left+a.right+o.padding.left+o.padding.right))/f.x,g=(s.height-(a.top+a.bottom+o.padding.top+o.padding.bottom))/f.y;if(g<0||m<0)return void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const y=Math.min(s.scaleZoom(s.scale*Math.min(m,g)),o.maxZoom),v="number"==typeof o.offset.x?new t.pointGeometry(o.offset.x,o.offset.y):t.pointGeometry.convert(o.offset),_=new t.pointGeometry((o.padding.left-o.padding.right)/2,(o.padding.top-o.padding.bottom)/2).rotate(n*Math.PI/180),b=v.add(_).mult(s.scale/s.zoomScale(y));return{center:s.unproject(l.add(c).div(2).sub(b)),zoom:y,bearing:n}}_cameraForBox(e,i,n,r,o){const s=this._extendCameraOptions(o);n=n||0,r=r||0,e=t.LngLat.convert(e),i=t.LngLat.convert(i);const a=this.transform.clone();a.padding=s.padding;const l=this.getFreeCameraOptions(),c=new t.LngLat(.5*(e.lng+i.lng),.5*(e.lat+i.lat)),u=.5*(n+r);if(a._camera.position[2]<t.mercatorZfromAltitude(u,c.lat))return void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");l.lookAtPoint(c),a.setFreeCameraOptions(l);const h=t.MercatorCoordinate.fromLngLat(e),d=t.MercatorCoordinate.fromLngLat(i),m=a.pointRayIntersection(a.centerPoint,u),g=[(y=a.rayIntersectionCoordinate(m)).x,y.y,y.z];var y;const v=a.screenPointToMercatorRay(a.centerPoint);let _,b=0;do{const i=Math.floor(a.zoom),o=1<<i,s=Math.min(o*h.x,o*d.x),l=Math.min(o*h.y,o*d.y),c=Math.max(o*h.x,o*d.x),u=Math.max(o*h.y,o*d.y),m=new f([s,l,n],[c,u,r]),y=p.fromInvProjectionMatrix(a.invProjMatrix,a.worldSize,i);if(2!==m.intersects(y)){_&&(a._camera.position=t.scaleAndAdd([],a._camera.position,v.dir,-_),a._updateStateFromCamera());break}const b=t.sub([],a._camera.position,g);_=.5*t.length(b),a._camera.position=t.scaleAndAdd([],a._camera.position,v.dir,_);try{a._updateStateFromCamera()}catch(e){return void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++b<10);return{center:a.center,zoom:a.zoom,bearing:a.bearing,pitch:a.pitch}}fitBounds(t,e,i){return this._fitInternal(this.cameraForBounds(t,e),e,i)}_raycastElevationBox(e,i){const n=this.transform.elevation;if(!n)return;const r=new t.pointGeometry(e.x,i.y),o=new t.pointGeometry(i.x,e.y),s=n.pointCoordinate(e);if(!s)return;const a=n.pointCoordinate(i);if(!a)return;const l=n.pointCoordinate(r);if(!l)return;const c=n.pointCoordinate(o);if(!c)return;const u=new t.MercatorCoordinate(s[0],s[1]).toLngLat(),h=new t.MercatorCoordinate(a[0],a[1]).toLngLat(),d=new t.MercatorCoordinate(l[0],l[1]).toLngLat(),p=new t.MercatorCoordinate(c[0],c[1]).toLngLat(),f=Math.min(u.lng,Math.min(h.lng,Math.min(d.lng,p.lng))),m=Math.min(u.lat,Math.min(h.lat,Math.min(d.lat,p.lat))),g=Math.max(u.lng,Math.max(h.lng,Math.max(d.lng,p.lng))),y=Math.max(u.lat,Math.max(h.lat,Math.max(d.lat,p.lat))),v=Math.min(s[3],Math.min(a[3],Math.min(l[3],c[3]))),_=Math.max(s[3],Math.max(a[3],Math.max(l[3],c[3])));return{minLngLat:new t.LngLat(f,m),maxLngLat:new t.LngLat(g,y),minAltitude:v,maxAltitude:_}}fitScreenCoordinates(e,i,n,r,o){let s,a,l,c;const u=t.pointGeometry.convert(e),h=t.pointGeometry.convert(i),d=this._raycastElevationBox(u,h);if(d)s=d.minLngLat,a=d.maxLngLat,l=d.minAltitude,c=d.maxAltitude;else{if(this.transform.isHorizonVisibleForPoints(u,h))return this;s=this.transform.pointLocation(u),a=this.transform.pointLocation(h)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(t.pointGeometry.convert(e)),this.transform.pointLocation(t.pointGeometry.convert(i)),n,r):this._cameraForBox(s,a,l,c,r),r,o)}_fitInternal(e,i,n){return e?(delete(i=t.extend(e,i)).padding,i.linear?this.easeTo(i,n):this.flyTo(i,n)):this}jumpTo(e,i){this.stop();const n=this.transform;let r=!1,o=!1,s=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=t.LngLat.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(o=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(s=!0,n.pitch=+e.pitch),null==e.padding||n.isPaddingEqual(e.padding)||(n.padding=e.padding),this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),r&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),o&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),s&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i))}getFreeCameraOptions(){return this.transform.getFreeCameraOptions()}setFreeCameraOptions(e,i){this.stop();const n=this.transform,r=n.zoom,o=n.pitch,s=n.bearing;n.setFreeCameraOptions(e);const a=r!==n.zoom,l=o!==n.pitch,c=s!==n.bearing;return this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),a&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),c&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),l&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i)),this}easeTo(e,i){this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.exported.prefersReducedMotion)&&(e.duration=0);const n=this.transform,r=this.getZoom(),o=this.getBearing(),s=this.getPitch(),a=this.getPadding(),l="zoom"in e?+e.zoom:r,c="bearing"in e?this._normalizeBearing(e.bearing,o):o,u="pitch"in e?+e.pitch:s,h="padding"in e?e.padding:n.padding,d=t.pointGeometry.convert(e.offset);let p=n.centerPoint.add(d);const f=n.pointLocation(p),m=t.LngLat.convert(e.center||f);this._normalizeCenter(m);const g=n.project(f),y=n.project(m).sub(g),v=n.zoomScale(l-r);let _,b;e.around&&(_=t.LngLat.convert(e.around),b=n.locationPoint(_));const x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==r,this._rotating=this._rotating||o!==c,this._pitching=this._pitching||u!==s,this._padding=!n.isPaddingEqual(h),this._easeId=e.easeId,this._prepareEase(i,e.noMoveStart,x),this._ease(e=>{if(this._zooming&&(n.zoom=t.number(r,l,e)),this._rotating&&(n.bearing=t.number(o,c,e)),this._pitching&&(n.pitch=t.number(s,u,e)),this._padding&&(n.interpolatePadding(a,h,e),p=n.centerPoint.add(d)),_)n.setLocationAtPoint(_,b);else{const t=n.zoomScale(n.zoom-r),i=l>r?Math.min(2,v):Math.max(.5,v),o=Math.pow(i,1-e),s=n.unproject(g.add(y.mult(e*o)).mult(t));n.setLocationAtPoint(n.renderWorldCopies?s.wrap():s,p)}this._fireMoveEvents(i)},t=>{n.recenterOnTerrain(),this._afterEase(i,t)},e),this}_prepareEase(e,i,n={}){this._moving=!0,this.transform.cameraElevationReference="sea",i||n.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!n.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!n.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!n.pitching&&this.fire(new t.Event("pitchstart",e))}_fireMoveEvents(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))}_afterEase(e,i){if(this._easeId&&i&&this._easeId===i)return;delete this._easeId,this.transform.cameraElevationReference="ground";const n=this._zooming,r=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}flyTo(e,i){if(!e.essential&&t.exported.prefersReducedMotion){const n=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,i)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);const n=this.transform,r=this.getZoom(),o=this.getBearing(),s=this.getPitch(),a=this.getPadding(),l="zoom"in e?t.clamp(+e.zoom,n.minZoom,n.maxZoom):r,c="bearing"in e?this._normalizeBearing(e.bearing,o):o,u="pitch"in e?+e.pitch:s,h="padding"in e?e.padding:n.padding,d=n.zoomScale(l-r),p=t.pointGeometry.convert(e.offset);let f=n.centerPoint.add(p);const m=n.pointLocation(f),g=t.LngLat.convert(e.center||m);this._normalizeCenter(g);const y=n.project(m),v=n.project(g).sub(y);let _=e.curve;const b=Math.max(n.width,n.height),x=b/d,w=v.mag();if("minZoom"in e){const i=t.clamp(Math.min(e.minZoom,r,l),n.minZoom,n.maxZoom),o=b/n.zoomScale(i-r);_=Math.sqrt(o/w*2)}const S=_*_;function T(t){const e=(x*x-b*b+(t?-1:1)*S*S*w*w)/(2*(t?x:b)*S*w);return Math.log(Math.sqrt(e*e+1)-e)}function C(t){return(Math.exp(t)-Math.exp(-t))/2}function O(t){return(Math.exp(t)+Math.exp(-t))/2}const k=T(0);let A=function(t){return O(k)/O(k+_*t)},I=function(t){return b*((O(k)*(C(e=k+_*t)/O(e))-C(k))/S)/w;var e},E=(T(1)-k)/_;if(Math.abs(w)<1e-6||!isFinite(E)){if(Math.abs(b-x)<1e-6)return this.easeTo(e,i);const t=x<b?-1:1;E=Math.abs(Math.log(x/b))/_,I=function(){return 0},A=function(e){return Math.exp(t*_*e)}}return e.duration="duration"in e?+e.duration:1e3*E/("screenSpeed"in e?+e.screenSpeed/_:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=o!==c,this._pitching=u!==s,this._padding=!n.isPaddingEqual(h),this._prepareEase(i,!1),this._ease(e=>{const d=e*E,m=1/A(d);n.zoom=1===e?l:r+n.scaleZoom(m),this._rotating&&(n.bearing=t.number(o,c,e)),this._pitching&&(n.pitch=t.number(s,u,e)),this._padding&&(n.interpolatePadding(a,h,e),f=n.centerPoint.add(p));const _=1===e?g:n.unproject(y.add(v.mult(I(d))).mult(m));n.setLocationAtPoint(n.renderWorldCopies?_.wrap():_,f),n._updateCenterElevation(),this._fireMoveEvents(i)},()=>this._afterEase(i),e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const t=this._onEaseEnd;delete this._onEaseEnd,t.call(this,e)}if(!t){const t=this.handlers;t&&t.stop(!1)}return this}_ease(e,i,n){!1===n.animate||0===n.duration?(e(1),i()):(this._easeStart=t.exported.now(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const e=Math.min((t.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(e,i){e=t.wrap(e,-180,180);const n=Math.abs(e-i);return Math.abs(e-360-i)<n&&(e-=360),Math.abs(e+360-i)<n&&(e+=360),e}_normalizeCenter(t){const e=this.transform;if(!e.renderWorldCopies||e.lngRange)return;const i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}}class xr{constructor(e={}){this.options=e,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(t){const e=this.options&&this.options.compact;return this._map=t,this._container=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=o.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){o.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(t,e){const i=this._map._getUIString("AttributionControl."+e);t.title=i,t.setAttribute("aria-label",i)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))}_updateEditLink(){let e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));const i=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){const n=i.reduce((t,e,n)=>(e.value&&(t+=`${e.key}=${e.value}${n<i.length-1?"&":""}`),t),"?");e.href=`${t.config.FEEDBACK_URL}/${n}${this._map._hash?this._map._hash.getHashString(!0):""}`,e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}}_updateData(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map(t=>"string"!=typeof t?"":t)):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){const t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}const e=this._map.style._sourceCaches;for(const n in e){const i=e[n];if(i.used){const e=i.getSource();e.attribution&&t.indexOf(e.attribution)<0&&t.push(e.attribution)}}t.sort((t,e)=>t.length-e.length),t=t.filter((e,i)=>{for(let n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0});const i=t.join(" | ");i!==this._attribHTML&&(this._attribHTML=i,t.length?(this._innerContainer.innerHTML=i,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class wr{constructor(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)}onAdd(t){this._map=t,this._container=o.create("div","mapboxgl-ctrl");const e=o.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){o.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const t=this._map.style._sourceCaches;if(0===Object.entries(t).length)return!0;for(const e in t){const i=t[e].getSource();if(i.hasOwnProperty("mapbox_logo")&&!i.mapbox_logo)return!1}return!0}_updateCompact(){const t=this._container.children;if(t.length){const e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}}}class Sr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(t){const e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e}remove(t){const e=this._currentlyRunning,i=e?this._queue.concat(e):this._queue;for(const n of i)if(n.id===t)return void(n.cancelled=!0)}run(t=0){const e=this._currentlyRunning=this._queue;this._queue=[];for(const i of e)if(!i.cancelled&&(i.callback(t),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Tr(e,i,n){if(e=new t.LngLat(e.lng,e.lat),i){const r=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),s=360*Math.ceil(Math.abs(e.lng-n.center.lng)/360),a=n.locationPoint(e).distSqr(i),l=i.x<0||i.y<0||i.x>n.width||i.y>n.height;n.locationPoint(r).distSqr(i)<a&&(l||Math.abs(r.lng-n.center.lng)<s)?e=r:n.locationPoint(o).distSqr(i)<a&&(l||Math.abs(o.lng-n.center.lng)<s)&&(e=o)}for(;Math.abs(e.lng-n.center.lng)>180;){const t=n.locationPoint(e);if(t.x>=0&&t.y>=0&&t.x<=n.width&&t.y<=n.height)break;e.lng>n.center.lng?e.lng-=360:e.lng+=360}return e}const Cr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Or(t,e,i){const n=t.classList;for(const r in Cr)n.remove(`mapboxgl-${i}-anchor-${r}`);n.add(`mapboxgl-${i}-anchor-${e}`)}class kr extends t.Evented{constructor(e,i){if(super(),(e instanceof t.window.HTMLElement||i)&&(e=t.extend({element:e},i)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:this._rotationAlignment,e&&e.element)this._element=e.element,this._offset=t.pointGeometry.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=o.create("div"),this._element.setAttribute("aria-label","Map marker");const i=o.createNS("http://www.w3.org/2000/svg","svg"),n=41,r=27;i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height",n+"px"),i.setAttributeNS(null,"width",r+"px"),i.setAttributeNS(null,"viewBox",`0 0 ${r} ${n}`);const s=o.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"stroke","none"),s.setAttributeNS(null,"stroke-width","1"),s.setAttributeNS(null,"fill","none"),s.setAttributeNS(null,"fill-rule","evenodd");const a=o.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");const l=o.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const t of c){const e=o.createNS("http://www.w3.org/2000/svg","ellipse");e.setAttributeNS(null,"opacity","0.04"),e.setAttributeNS(null,"cx","10.5"),e.setAttributeNS(null,"cy","5.80029008"),e.setAttributeNS(null,"rx",t.rx),e.setAttributeNS(null,"ry",t.ry),l.appendChild(e)}const u=o.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill",this._color);const h=o.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),u.appendChild(h);const d=o.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");const p=o.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(p);const f=o.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(6.0, 7.0)"),f.setAttributeNS(null,"fill","#FFFFFF");const m=o.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");const g=o.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");const y=o.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),m.appendChild(g),m.appendChild(y),a.appendChild(l),a.appendChild(u),a.appendChild(d),a.appendChild(f),a.appendChild(m),i.appendChild(a),i.setAttributeNS(null,"height",n*this._scale+"px"),i.setAttributeNS(null,"width",r*this._scale+"px"),this._element.appendChild(i),this._offset=t.pointGeometry.convert(e&&e.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",t=>{t.preventDefault()}),this._element.addEventListener("mousedown",t=>{t.preventDefault()}),Or(this._element,this._anchor,"marker"),this._popup=null}addTo(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),t.on("remove",this._clearFadeTimer),t._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),o.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){const e=38.1,i=13.5,n=Math.sqrt(Math.pow(i,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-e],"bottom-left":[n,-1*(e-i+n)],"bottom-right":[-n,-1*(e-i+n)],left:[i,-1*(e-i)],right:[-i,-1*(e-i)]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(t){const e=t.code,i=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==i&&13!==i||this.togglePopup()}_onMapClick(t){const e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this}_evaluateOpacity(){const t=this._pos?this._pos.sub(this._transformedOffset()):null;if(!this._withinScreenBounds(t))return void this._clearFadeTimer();const e=this._map.unproject(t);let i=!1;if(this._map.getTerrain()){const t=this._map.getFreeCameraOptions();if(t.position){const n=t.position.toLngLat();i=n.distanceTo(e)<.9*n.distanceTo(this._lngLat)}}const n=(1-this._map._queryFogOpacity(e))*(i?.2:1);this._element.style.opacity=""+n,this._popup&&this._popup._setOpacity(""+n),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_withinScreenBounds(t){const e=this._map.transform;return!!t&&t.x>=0&&t.x<e.width&&t.y>=0&&t.y<e.height}_update(t){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Tr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset());let e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(e=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let i="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?i="rotateX(0deg)":"map"===this._pitchAlignment&&(i=`rotateX(${this._map.getPitch()}deg)`),t&&"moveend"!==t.type||(this._pos=this._pos.round()),this._map._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&o.setTransform(this._element,`${Cr[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${i} ${e}`),!this._map.getTerrain()&&!this._map.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})}_transformedOffset(){if(!this._defaultMarker)return this._offset;const t=this._map.transform,e=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&e._rotate(t.angle),"map"===this._pitchAlignment&&(e.y*=Math.cos(t._pitch)),e}getOffset(){return this._offset}setOffset(e){return this._offset=t.pointGeometry.convert(e),this._update(),this}_onMove(e){if(!this._isDragging){const t=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=t}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"}_addDragHandler(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(t){return this._rotation=t||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(t){return this._rotationAlignment=t||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class Ar{constructor(t){this.jumpTo(t)}getValue(e){if(e<=this._startTime)return this._start;if(e>=this._endTime)return this._end;const i=t.easeCubicInOut((e-this._startTime)/(this._endTime-this._startTime));return this._start*(1-i)+this._end*i}isEasing(t){return t>=this._startTime&&t<=this._endTime}jumpTo(t){this._startTime=-1/0,this._endTime=-1/0,this._start=t,this._end=t}easeTo(t,e,i){this._start=this.getValue(e),this._end=t,this._startTime=e,this._endTime=e+i}}const Ir={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},{HTMLImageElement:Er,HTMLElement:Mr,ImageBitmap:Dr}=t.window,Pr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Lr(t){t.parentNode&&t.parentNode.removeChild(t)}const zr={showCompass:!0,showZoom:!0,visualizePitch:!1};class jr{constructor(e,i,n=!1){this._clickTolerance=10,this.element=i,this.mouseRotate=new Wn({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,n&&(this.mousePitch=new Zn({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),o.addEventListener(i,"mousedown",this.mousedown),o.addEventListener(i,"touchstart",this.touchstart,{passive:!1}),o.addEventListener(i,"touchmove",this.touchmove),o.addEventListener(i,"touchend",this.touchend),o.addEventListener(i,"touchcancel",this.reset)}down(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),o.disableDrag()}move(t,e){const i=this.map,n=this.mouseRotate.mousemoveWindow(t,e);if(n&&n.bearingDelta&&i.setBearing(i.getBearing()+n.bearingDelta),this.mousePitch){const n=this.mousePitch.mousemoveWindow(t,e);n&&n.pitchDelta&&i.setPitch(i.getPitch()+n.pitchDelta)}}off(){const t=this.element;o.removeEventListener(t,"mousedown",this.mousedown),o.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),o.removeEventListener(t,"touchmove",this.touchmove),o.removeEventListener(t,"touchend",this.touchend),o.removeEventListener(t,"touchcancel",this.reset),this.offTemp()}offTemp(){o.enableDrag(),o.removeEventListener(t.window,"mousemove",this.mousemove),o.removeEventListener(t.window,"mouseup",this.mouseup)}mousedown(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:()=>e.preventDefault()}),o.mousePos(this.element,e)),o.addEventListener(t.window,"mousemove",this.mousemove),o.addEventListener(t.window,"mouseup",this.mouseup)}mousemove(t){this.move(t,o.mousePos(this.element,t))}mouseup(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()}touchstart(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=o.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>t.preventDefault()},this._startPos))}touchmove(t){1!==t.targetTouches.length?this.reset():(this._lastPos=o.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:()=>t.preventDefault()},this._lastPos))}touchend(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Br={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1};let Rr,Fr=0,Nr=!1;const Vr={maxWidth:100,unit:"metric"};function $r(t,e,i){const n=i&&i.maxWidth||100,r=t._container.clientHeight/2,o=t.unproject([0,r]),s=t.unproject([n,r]),a=o.distanceTo(s);if(i&&"imperial"===i.unit){const i=3.2808*a;i>5280?Ur(e,n,i/5280,t._getUIString("ScaleControl.Miles"),t):Ur(e,n,i,t._getUIString("ScaleControl.Feet"),t)}else i&&"nautical"===i.unit?Ur(e,n,a/1852,t._getUIString("ScaleControl.NauticalMiles"),t):a>=1e3?Ur(e,n,a/1e3,t._getUIString("ScaleControl.Kilometers"),t):Ur(e,n,a,t._getUIString("ScaleControl.Meters"),t)}function Ur(t,e,i,n,r){const o=function(t){const e=Math.pow(10,(""+Math.floor(t)).length-1);let i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(t){const e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(i),e*i}(i),s=o/i;r._requestDomTask(()=>{t.style.width=e*s+"px",t.innerHTML=`${o}&nbsp;${n}`})}const Gr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},qr=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Hr(e){if(e){if("number"==typeof e){const i=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{center:new t.pointGeometry(0,0),top:new t.pointGeometry(0,e),"top-left":new t.pointGeometry(i,i),"top-right":new t.pointGeometry(-i,i),bottom:new t.pointGeometry(0,-e),"bottom-left":new t.pointGeometry(i,-i),"bottom-right":new t.pointGeometry(-i,-i),left:new t.pointGeometry(e,0),right:new t.pointGeometry(-e,0)}}if(e instanceof t.pointGeometry||Array.isArray(e)){const i=t.pointGeometry.convert(e);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.pointGeometry.convert(e.center||[0,0]),top:t.pointGeometry.convert(e.top||[0,0]),"top-left":t.pointGeometry.convert(e["top-left"]||[0,0]),"top-right":t.pointGeometry.convert(e["top-right"]||[0,0]),bottom:t.pointGeometry.convert(e.bottom||[0,0]),"bottom-left":t.pointGeometry.convert(e["bottom-left"]||[0,0]),"bottom-right":t.pointGeometry.convert(e["bottom-right"]||[0,0]),left:t.pointGeometry.convert(e.left||[0,0]),right:t.pointGeometry.convert(e.right||[0,0])}}return Hr(new t.pointGeometry(0,0))}const Wr={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:class extends br{constructor(e){if(null!=(e=t.extend({},Pr,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Sn(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies),e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._optimizeForTerrain=e.optimizeForTerrain,this._renderTaskQueue=new Sr,this._domRenderTaskQueue=new Sr,this._controls=[],this._markers=[],this._mapId=t.uniqueId(),this._locale=t.extend({},Ir,e.locale),this._clickTolerance=e.clickTolerance,this._averageElevationLastSampledAt=-1/0,this._averageElevation=new Ar(0),this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken,e.testMode),this._silenceAuthErrors=!!e.testMode,"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error(`Container '${e.container}' not found.`)}else{if(!(e.container instanceof Mr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1),t.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new _r(this,e),this._hash=e.hash&&new Cn("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localFontFamily=e.localFontFamily,this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),e.attributionControl&&this.addControl(new xr({customAttribution:e.customAttribution})),this._logoControl=new wr,this.addControl(this._logoControl,e.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",e=>{this._update("style"===e.dataType),this.fire(new t.Event(e.dataType+"data",e))}),this.on("dataloading",e=>{this.fire(new t.Event(e.dataType+"dataloading",e))})}_getMapId(){return this._mapId}addControl(e,i){if(void 0===i&&(i=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=e.onAdd(this);this._controls.push(e);const r=this._controlPositions[i];return-1!==i.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(e);return i>-1&&this._controls.splice(i,1),e.onRemove(this),this}hasControl(t){return this._controls.indexOf(t)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(e){const i=this._containerDimensions(),n=i[0],r=i[1];this._resizeCanvas(n,r),this.transform.resize(n,r),this.painter.resize(n,r);const o=!this._moving;return o&&(this.stop(),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e))),this.fire(new t.Event("resize",e)),o&&this.fire(new t.Event("moveend",e)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(t){return this.transform.renderWorldCopies=t,this._update()}project(e){return this.transform.locationPoint3D(t.LngLat.convert(e))}unproject(e){return this.transform.pointLocation3D(t.pointGeometry.convert(e))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(t,e,i){if("mouseenter"===t||"mouseover"===t){let n=!1;const r=r=>{const o=this.getLayer(e)?this.queryRenderedFeatures(r.point,{layers:[e]}):[];o.length?n||(n=!0,i.call(this,new Ln(t,this,r.originalEvent,{features:o}))):n=!1};return{layer:e,listener:i,delegates:{mousemove:r,mouseout:()=>{n=!1}}}}if("mouseleave"===t||"mouseout"===t){let n=!1;const r=r=>{(this.getLayer(e)?this.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?n=!0:n&&(n=!1,i.call(this,new Ln(t,this,r.originalEvent)))},o=e=>{n&&(n=!1,i.call(this,new Ln(t,this,e.originalEvent)))};return{layer:e,listener:i,delegates:{mousemove:r,mouseout:o}}}{const n=t=>{const n=this.getLayer(e)?this.queryRenderedFeatures(t.point,{layers:[e]}):[];n.length&&(t.features=n,i.call(this,t),delete t.features)};return{layer:e,listener:i,delegates:{[t]:n}}}}on(t,e,i){if(void 0===i)return super.on(t,e);const n=this._createDelegatedListener(t,e,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(n);for(const r in n.delegates)this.on(r,n.delegates[r]);return this}once(t,e,i){if(void 0===i)return super.once(t,e);const n=this._createDelegatedListener(t,e,i);for(const r in n.delegates)this.once(r,n.delegates[r]);return this}off(t,e,i){return void 0===i?super.off(t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&(n=>{const r=this._delegatedListeners[t];for(let t=0;t<r.length;t++){const n=r[t];if(n.layer===e&&n.listener===i){for(const t in n.delegates)this.off(t,n.delegates[t]);return r.splice(t,1),this}}})(),this)}queryRenderedFeatures(e,i){return this.style?(void 0!==i||void 0===e||e instanceof t.pointGeometry||Array.isArray(e)||(i=e,e=void 0),this.style.queryRenderedFeatures(e=e||[[0,0],[this.transform.width,this.transform.height]],i=i||{},this.transform)):[]}querySourceFeatures(t,e){return this.style.querySourceFeatures(t,e)}queryTerrainElevation(e,i){const n=this.transform.elevation;return n?(i=t.extend({},{exaggerated:!0},i),n.getAtPoint(t.MercatorCoordinate.fromLngLat(e),null,i.exaggerated)):null}setStyle(e,i){return!1!==(i=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&i.localFontFamily===this._localFontFamily&&this.style&&e?(this._diffStyle(e,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._localFontFamily=i.localFontFamily,this._updateStyle(e,i))}_getUIString(t){const e=this._locale[t];if(null==e)throw new Error(`Missing UI string '${t}'`);return e}_updateStyle(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),t&&(this.style=new $e(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new $e(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(e,i){if("string"==typeof e){const n=this._requestManager.normalizeStyleURL(e),r=this._requestManager.transformRequest(n,t.ResourceType.Style);t.getJSON(r,(e,n)=>{e?this.fire(new t.ErrorEvent(e)):n&&this._updateDiff(n,i)})}else"object"==typeof e&&this._updateDiff(e,i)}_updateDiff(e,i){try{this.style.setState(e)&&this._update(!0)}catch(n){t.warnOnce(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(e,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")}addSource(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)}isSourceLoaded(e){const i=this.style&&this.style._getSourceCaches(e);if(0!==i.length)return i.every(t=>t.loaded());this.fire(new t.ErrorEvent(new Error(`There is no source with ID '${e}'`)))}areTilesLoaded(){const t=this.style&&this.style._sourceCaches;for(const e in t){const i=t[e]._tiles;for(const t in i){const e=i[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}}return!0}addSourceType(t,e,i){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,i)}removeSource(t){return this.style.removeSource(t),this._updateTerrain(),this._update(!0)}getSource(t){return this.style.getSource(t)}addImage(e,i,{pixelRatio:n=1,sdf:r=!1,stretchX:o,stretchY:s,content:a}={}){if(this._lazyInitEmptyStyle(),i instanceof Er||Dr&&i instanceof Dr){const{width:l,height:c,data:u}=t.exported.getImageData(i);this.style.addImage(e,{data:new t.RGBAImage({width:l,height:c},u),pixelRatio:n,stretchX:o,stretchY:s,content:a,sdf:r,version:0})}else{if(void 0===i.width||void 0===i.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:l,height:c,data:u}=i,h=i;this.style.addImage(e,{data:new t.RGBAImage({width:l,height:c},new Uint8Array(u)),pixelRatio:n,stretchX:o,stretchY:s,content:a,sdf:r,version:0,userImage:h}),h.onAdd&&h.onAdd(this,e)}}}updateImage(e,i){const n=this.style.getImage(e);if(!n)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=i instanceof Er||Dr&&i instanceof Dr?t.exported.getImageData(i):i,{width:o,height:s,data:a}=r;return void 0===o||void 0===s?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==n.data.width||s!==n.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(n.data.replace(a,!(i instanceof Er||Dr&&i instanceof Dr)),void this.style.updateImage(e,n))}hasImage(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(t){this.style.removeImage(t)}loadImage(e,i){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),(e,n)=>{i(e,n instanceof Er?t.exported.getImageData(n):n)})}listImages(){return this.style.listImages()}addLayer(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)}moveLayer(t,e){return this.style.moveLayer(t,e),this._update(!0)}removeLayer(t){return this.style.removeLayer(t),this._update(!0)}getLayer(t){return this.style.getLayer(t)}setLayerZoomRange(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0)}setFilter(t,e,i={}){return this.style.setFilter(t,e,i),this._update(!0)}getFilter(t){return this.style.getFilter(t)}setPaintProperty(t,e,i,n={}){return this.style.setPaintProperty(t,e,i,n),this._update(!0)}getPaintProperty(t,e){return this.style.getPaintProperty(t,e)}setLayoutProperty(t,e,i,n={}){return this.style.setLayoutProperty(t,e,i,n),this._update(!0)}getLayoutProperty(t,e){return this.style.getLayoutProperty(t,e)}setLight(t,e={}){return this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(t){return this._lazyInitEmptyStyle(),this.style.setTerrain(t),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(t){return this._lazyInitEmptyStyle(),this.style.setFog(t),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(e){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(t.LngLat.convert(e),this.transform):0}setFeatureState(t,e){return this.style.setFeatureState(t,e),this._update()}removeFeatureState(t,e){return this.style.removeFeatureState(t,e),this._update()}getFeatureState(t){return this.style.getFeatureState(t)}_containerDimensions(){let t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]}_detectMissingCSS(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=o.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();const e=this._canvasContainer=o.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=o.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);const n=this._controlContainer=o.create("div","mapboxgl-control-container",t),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(t=>{r[t]=o.create("div","mapboxgl-ctrl-"+t,n)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(e,i){const n=t.exported.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*i,this._canvas.style.width=e+"px",this._canvas.style.height=i+"px"}_addMarker(t){this._markers.push(t)}_removeMarker(t){const e=this._markers.indexOf(t);-1!==e&&this._markers.splice(e,1)}_setupPainter(){const i=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",i)||this._canvas.getContext("experimental-webgl",i);n?(t.storeAuthState(n,!0),this.painter=new pn(n,this.transform),this.on("data",t=>{"source"===t.dataType&&this.painter.setTileLoadedFlag(!0)}),t.exported$1.testSupport(n)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))}_contextRestored(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))}_onMapScroll(t){if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(t){return this._update(),this._renderTaskQueue.add(t)}_cancelRenderFrame(t){this._renderTaskQueue.remove(t)}_requestDomTask(t){!this.isMoving()&&this.loaded()?t():this._domRenderTaskQueue.add(t)}_render(e){let i;const n=this.painter.context.extTimerQuery,r=t.exported.now();this.listens("gpu-timing-frame")&&(i=n.createQueryEXT(),n.beginQueryEXT(n.TIME_ELAPSED_EXT,i));let o=this._updateAverageElevation(r);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),this._domRenderTaskQueue.run(e),this._removed)return;let s=!1;const a=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const e=this.transform.zoom,i=t.exported.now();this.style.zoomHistory.update(e,i);const n=new t.EvaluationParameters(e,{now:i,fadeDuration:a,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),r=n.crossFadingFactor();1===r&&r===this._crossFadingFactor||(s=!0,this._crossFadingFactor=r),this.style.update(n)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||s)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const e=t.exported.now()-r;n.endQueryEXT(n.TIME_ELAPSED_EXT,i),setTimeout(()=>{const r=n.getQueryObjectEXT(i,n.QUERY_RESULT_EXT)/1e6;n.deleteQueryEXT(i),this.fire(new t.Event("gpu-timing-frame",{cpuTime:e,gpuTime:r}))},50)}if(this.listens("gpu-timing-layer")){const e=this.painter.collectGpuTimers();setTimeout(()=>{const i=this.painter.queryGpuTimers(e);this.fire(new t.Event("gpu-timing-layer",{layerTimes:i}))},50)}const l=this._sourcesDirty||this._styleDirty||this._placementDirty||o;if(l||this._repaint)this.triggerRepaint();else{const e=!this.isMoving()&&this.loaded();if(e&&(o=this._updateAverageElevation(r,!0)),o)this.triggerRepaint();else if(this._triggerFrame(!1),e&&(this.fire(new t.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const e=this._calculateSpeedIndex();this.fire(new t.Event("speedindexcompleted",{speedIndex:e})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||l||(this._fullyLoaded=!0,this._authenticate()),this}_updateAverageElevation(t,e=!1){const i=t=>(this.transform.averageElevation=t,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&i(0);if((e||t-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(t)){const e=this.transform.averageElevation;let n=this.transform.sampleAverageElevation();isNaN(n)?n=0:this._averageElevationLastSampledAt=t;const r=Math.abs(e-n);if(r>1){if(this._isInitialLoad)return this._averageElevation.jumpTo(n),i(n);this._averageElevation.easeTo(n,t,300)}else if(r>1e-4)return this._averageElevation.jumpTo(n),i(n)}return!!this._averageElevation.isEasing(t)&&i(this._averageElevation.getValue(t))}_authenticate(){t.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,e=>{if(e&&(e.message===t.AUTH_ERR_MSG||401===e.status)){const e=this.painter.context.gl;t.storeAuthState(e,!1),this._logoControl instanceof wr&&this._logoControl._updateLogo(),e&&e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT|e.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new t.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),t.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const t=this.painter.canvasCopy(),e=this.painter.getCanvasCopiesAndTimestamps();e.timeStamps.push(performance.now());const i=this.painter.context.gl,n=i.createFramebuffer();function r(t){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0);const e=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,e),e}return i.bindFramebuffer(i.FRAMEBUFFER,n),this._canvasPixelComparison(r(t),e.canvasCopies.map(r),e.timeStamps)}_canvasPixelComparison(t,e,i){let n=i[1]-i[0];const r=t.length/4;for(let o=0;o<e.length;o++){const s=e[o];let a=0;for(let e=0;e<s.length;e+=4)s[e]===t[e]&&s[e+1]===t[e+1]&&s[e+2]===t[e+2]&&s[e+3]===t[e+3]&&(a+=1);n+=(i[o+2]-i[o+1])*(1-a/r)}return n}remove(){this._hash&&this._hash.remove();for(const t of this._controls)t.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));const e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),Lr(this._canvasContainer),Lr(this._controlContainer),Lr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),t.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new t.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(e){this._renderNextFrame=this._renderNextFrame||e,this.style&&!this._frame&&(this._frame=t.exported.frame(t=>{const e=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,e&&this._render(t)}))}_onWindowOnline(){this._update()}_onWindowResize(t){this._trackResize&&this.resize({originalEvent:t})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(t){this._showTerrainWireframe!==t&&(this._showTerrainWireframe=t,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(t){this._speedIndexTiming!==t&&(this._speedIndexTiming=t,this._update())}get showPadding(){return!!this._showPadding}set showPadding(t){this._showPadding!==t&&(this._showPadding=t,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())}get repaint(){return!!this._repaint}set repaint(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(t){this._vertices=t,this._update()}_setCacheLimits(e,i){t.setCacheLimits(e,i)}get version(){return t.version}},NavigationControl:class{constructor(e){this.options=t.extend({},zr,e),this._container=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",t=>t.preventDefault()),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",t=>this._map.zoomIn({},{originalEvent:t})),o.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",t=>this._map.zoomOut({},{originalEvent:t})),o.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",t=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})}),this._compassIcon=o.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const t=this._map.getZoom(),e=t===this._map.getMaxZoom(),i=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=i,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",i.toString())}_rotateCompassArrow(){const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._map._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=t)})}onAdd(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new jr(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){o.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(t,e){const i=o.create("button",t,this._container);return i.type="button",i.addEventListener("click",e),i}_setButtonTitle(t,e){const i=this._map._getUIString("NavigationControl."+e);t.title=i,t.setAttribute("aria-label",i)}},GeolocateControl:class extends t.Evented{constructor(e){super(),this.options=t.extend({},Br,e),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation"],this),this._onDeviceOrientationListener=this._onDeviceOrientation.bind(this),this._updateMarkerRotationThrottled=Tn(this._updateMarkerRotation,20)}onAdd(e){var i;return this._map=e,this._container=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==Rr?i(Rr):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then(t=>{Rr="denied"!==t.state,i(Rr)}):(Rr=!!t.window.navigator.geolocation,i(Rr)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),o.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Fr=0,Nr=!1}_isOutOfMapMaxBounds(t){const e=this._map.getMaxBounds(),i=t.coords;return e&&(i.longitude<e.getWest()||i.longitude>e.getEast()||i.latitude<e.getSouth()||i.latitude>e.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}}_updateCamera(e){const i=new t.LngLat(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy,r=this._map.getBearing(),o=t.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(n),o,{geolocateSource:!0})}_updateMarker(e){if(e){const i=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),i=this._map.unproject([100,t]),n=e.distanceTo(i)/100,r=Math.ceil(2*this._accuracy/n);this._circleElement.style.width=r+"px",this._circleElement.style.height=r+"px"}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Nr)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(e){if(this._container.addEventListener("contextmenu",t=>t.preventDefault()),this._geolocateButton=o.create("button","mapboxgl-ctrl-geolocate",this._container),o.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}else{const t=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o.create("div","mapboxgl-user-location"),this._dotElement.appendChild(o.create("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(o.create("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new kr({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=o.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new kr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",e=>{e.geolocateSource||"ACTIVE_LOCK"!==this._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new t.Event("trackuserlocationend")))})}_onDeviceOrientation(t){this._userLocationDotMarker&&(t.webkitCompassHeading?this._heading=t.webkitCompassHeading:!0===t.absolute&&(this._heading=-1*t.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Fr--,Nr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Fr++,Fr>1?(e={maximumAge:6e5,timeout:0},Nr=!0):(e=this.options.positionOptions,Nr=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const e=()=>{t.window.addEventListener("ondeviceorientationabsolute"in t.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientationListener)};void 0!==t.window.DeviceMotionEvent&&"function"==typeof t.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(t=>{"granted"===t&&e()}).catch(console.error):e()}_clearWatch(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),t.window.removeEventListener("deviceorientation",this._onDeviceOrientationListener),t.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientationListener),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:xr,ScaleControl:class{constructor(e){this.options=t.extend({},Vr,e),t.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){$r(this._map,this._container,this.options)}onAdd(t){return this._map=t,this._container=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){o.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(t){this.options.unit=t,$r(this._map,this._container,this.options)}},FullscreenControl:class{constructor(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in t.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){o.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!t.window.document.fullscreenEnabled&&!t.window.document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=o.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);o.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(t.window.document.fullscreenElement||t.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends t.Evented{constructor(e){super(),this.options=t.extend(Object.create(Gr),e),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&o.remove(this._content),this._container&&(o.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(t.window.document.createTextNode(e))}setHTML(e){const i=t.window.document.createDocumentFragment(),n=t.window.document.createElement("body");let r;for(n.innerHTML=e;r=n.firstChild,r;)i.appendChild(r);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(t){return this.options.maxWidth=t,this._update(),this}setDOMContent(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=o.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(t){this._container&&this._container.classList.add(t)}removeClassName(t){this._container&&this._container.classList.remove(t)}setOffset(t){return this.options.offset=t,this._update(),this}toggleClassName(t){if(this._container)return this._container.classList.toggle(t)}_createCloseButton(){this.options.closeButton&&(this._closeButton=o.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(t){this._update(t.point)}_onMouseMove(t){this._update(t.point)}_onDrag(t){this._update(t.point)}_update(t){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(this._container||(this._container=o.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=o.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(t=>this._container.classList.add(t)),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Tr(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!t)return;const e=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat);let i=this.options.anchor;const n=Hr(this.options.offset);if(!i){const t=this._container.offsetWidth,r=this._container.offsetHeight;let o;o=e.y+n.bottom.y<r?["top"]:e.y>this._map.transform.height-r?["bottom"]:[],e.x<t/2?o.push("left"):e.x>this._map.transform.width-t/2&&o.push("right"),i=0===o.length?"bottom":o.join("-")}const r=e.add(n[i]).round();this._map._requestDomTask(()=>{this._container&&i&&(o.setTransform(this._container,`${Cr[i]} translate(${r.x}px,${r.y}px)`),Or(this._container,i,"popup"))})}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const t=this._container.querySelector(qr);t&&t.focus()}_onClose(){this.remove()}_setOpacity(t){this._content&&(this._content.style.opacity=t),this._tip&&(this._tip.style.opacity=t)}},Marker:kr,Style:$e,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.pointGeometry,MercatorCoordinate:t.MercatorCoordinate,FreeCameraOptions:xn,Evented:t.Evented,config:t.config,prewarm:function(){zt().acquire(Dt)},clearPrewarmedResources:function(){const t=Lt;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(Dt),Lt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Pt.workerCount},set workerCount(t){Pt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage(e){t.clearTileCache(e)},workerUrl:"",workerClass:null,setNow:t.exported.setNow,restoreNow:t.exported.restoreNow};return Wr}));var r=i;return r}))},e1bd:function(t,e,i){var n=self.crypto||self.msCrypto,r="-_",o=36;while(o--)r+=o.toString(36);o=36;while(o---10)r+=o.toString(36).toUpperCase();t.exports=function(t){var e="",i=n.getRandomValues(new Uint8Array(t||21));o=t||21;while(o--)e+=r[63&i[o]];return e}},e260:function(t,e,i){"use strict";var n=i("fc6a"),r=i("44d2"),o=i("3f8c"),s=i("69f3"),a=i("7dd0"),l="Array Iterator",c=s.set,u=s.getterFor(l);t.exports=a(Array,"Array",(function(t,e){c(this,{type:l,target:n(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},e263:function(t,e,i){"use strict";i.d(e,"d",(function(){return p})),i.d(e,"c",(function(){return f})),i.d(e,"b",(function(){return y})),i.d(e,"e",(function(){return v})),i.d(e,"a",(function(){return _}));var n=i("401b"),r=i("4a3f"),o=Math.min,s=Math.max,a=Math.sin,l=Math.cos,c=2*Math.PI,u=n["d"](),h=n["d"](),d=n["d"]();function p(t,e,i){if(0!==t.length){for(var n=t[0],r=n[0],a=n[0],l=n[1],c=n[1],u=1;u<t.length;u++)n=t[u],r=o(r,n[0]),a=s(a,n[0]),l=o(l,n[1]),c=s(c,n[1]);e[0]=r,e[1]=l,i[0]=a,i[1]=c}}function f(t,e,i,n,r,a){r[0]=o(t,i),r[1]=o(e,n),a[0]=s(t,i),a[1]=s(e,n)}var m=[],g=[];function y(t,e,i,n,a,l,c,u,h,d){var p=r["c"],f=r["a"],y=p(t,i,a,c,m);h[0]=1/0,h[1]=1/0,d[0]=-1/0,d[1]=-1/0;for(var v=0;v<y;v++){var _=f(t,i,a,c,m[v]);h[0]=o(_,h[0]),d[0]=s(_,d[0])}y=p(e,n,l,u,g);for(v=0;v<y;v++){var b=f(e,n,l,u,g[v]);h[1]=o(b,h[1]),d[1]=s(b,d[1])}h[0]=o(t,h[0]),d[0]=s(t,d[0]),h[0]=o(c,h[0]),d[0]=s(c,d[0]),h[1]=o(e,h[1]),d[1]=s(e,d[1]),h[1]=o(u,h[1]),d[1]=s(u,d[1])}function v(t,e,i,n,a,l,c,u){var h=r["j"],d=r["h"],p=s(o(h(t,i,a),1),0),f=s(o(h(e,n,l),1),0),m=d(t,i,a,p),g=d(e,n,l,f);c[0]=o(t,a,m),c[1]=o(e,l,g),u[0]=s(t,a,m),u[1]=s(e,l,g)}function _(t,e,i,r,o,s,p,f,m){var g=n["i"],y=n["h"],v=Math.abs(o-s);if(v%c<1e-4&&v>1e-4)return f[0]=t-i,f[1]=e-r,m[0]=t+i,void(m[1]=e+r);if(u[0]=l(o)*i+t,u[1]=a(o)*r+e,h[0]=l(s)*i+t,h[1]=a(s)*r+e,g(f,u,h),y(m,u,h),o%=c,o<0&&(o+=c),s%=c,s<0&&(s+=c),o>s&&!p?s+=c:o<s&&p&&(o+=c),p){var _=s;s=o,o=_}for(var b=0;b<s;b+=Math.PI/2)b>o&&(d[0]=l(b)*i+t,d[1]=a(b)*r+e,g(f,d,f),y(m,d,m))}},e2cc:function(t,e,i){var n=i("6eeb");t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},e439:function(t,e,i){var n=i("23e7"),r=i("d039"),o=i("fc6a"),s=i("06cf").f,a=i("83ab"),l=r((function(){s(1)})),c=!a||l;n({target:"Object",stat:!0,forced:c,sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},e4ae:function(t,e,i){!function(e,i,n){t.exports?t.exports=n():e[i]=n()}(this,"subtag",(function(){var t="",e=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function i(t){return t.match(e)||[]}function n(t){return i(t).filter((function(t,e){return t&&e}))}function r(e){return e=i(e),{language:e[1]||t,extlang:e[2]||t,script:e[3]||t,region:e[4]||t}}function o(t,e,i){Object.defineProperty(t,e,{value:i,enumerable:!0})}function s(e,n,s){function a(n){return i(n)[e]||t}o(a,"pattern",n),o(r,s,a)}return s(1,/^[a-zA-Z]{2,3}$/,"language"),s(2,/^[a-zA-Z]{3}$/,"extlang"),s(3,/^[a-zA-Z]{4}$/,"script"),s(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),o(r,"split",n),r}))},e4d3:function(t,e,i){"use strict";var n=i("2b0e");e["a"]=n["a"].extend({name:"returnable",props:{returnValue:null},data:()=>({isActive:!1,originalValue:null}),watch:{isActive(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save(t){this.originalValue=t,setTimeout(()=>{this.isActive=!1})}}})},e516:function(t,e,i){"use strict";var n=i("0789"),r=i("3206"),o=i("80d2"),s=i("58df");const a=Object(s["a"])(Object(r["a"])("stepper","v-stepper-content","v-stepper"));e["a"]=a.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition(){const t=this.$vuetify.rtl?!this.isReverse:this.isReverse;return t?n["f"]:n["g"]},styles(){return this.isVertical?{height:Object(o["g"])(this.height)}:{}}},watch:{isActive(t,e){t&&null==e?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition(t){this.isActive&&"height"===t.propertyName&&(this.height="auto")},enter(){let t=0;requestAnimationFrame(()=>{t=this.$refs.wrapper.scrollHeight}),this.height=0,setTimeout(()=>this.isActive&&(this.height=t||"auto"),450)},leave(){this.height=this.$refs.wrapper.clientHeight,setTimeout(()=>this.height=0,10)},toggle(t,e){this.isActive=t.toString()===this.step.toString(),this.isReverse=e}},render(t){const e={staticClass:"v-stepper__content"},i={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(e.directives=[{name:"show",value:this.isActive}]);const n=t("div",i,[this.$slots.default]),r=t("div",e,[n]);return t(this.computedTransition,{on:this.$listeners},[r])}})},e538:function(t,e,i){var n=i("b622");e.f=n},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e683:function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e6cf:function(t,e,i){"use strict";var n,r,o,s,a=i("23e7"),l=i("c430"),c=i("da84"),u=i("d066"),h=i("fea9"),d=i("6eeb"),p=i("e2cc"),f=i("d2bb"),m=i("d44e"),g=i("2626"),y=i("59ed"),v=i("1626"),_=i("861d"),b=i("19aa"),x=i("8925"),w=i("2266"),S=i("1c7e"),T=i("4840"),C=i("2cf49").set,O=i("b575"),k=i("cdf9"),A=i("44de"),I=i("f069"),E=i("e667"),M=i("69f3"),D=i("94ca"),P=i("b622"),L=i("6069"),z=i("605d"),j=i("2d00"),B=P("species"),R="Promise",F=M.get,N=M.set,V=M.getterFor(R),$=h&&h.prototype,U=h,G=$,q=c.TypeError,H=c.document,W=c.process,Z=I.f,X=Z,Y=!!(H&&H.createEvent&&c.dispatchEvent),K=v(c.PromiseRejectionEvent),J="unhandledrejection",Q="rejectionhandled",tt=0,et=1,it=2,nt=1,rt=2,ot=!1,st=D(R,(function(){var t=x(U),e=t!==String(U);if(!e&&66===j)return!0;if(l&&!G["finally"])return!0;if(j>=51&&/native code/.test(t))return!1;var i=new U((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))},r=i.constructor={};return r[B]=n,ot=i.then((function(){}))instanceof n,!ot||!e&&L&&!K})),at=st||!S((function(t){U.all(t)["catch"]((function(){}))})),lt=function(t){var e;return!(!_(t)||!v(e=t.then))&&e},ct=function(t,e){if(!t.notified){t.notified=!0;var i=t.reactions;O((function(){var n=t.value,r=t.state==et,o=0;while(i.length>o){var s,a,l,c=i[o++],u=r?c.ok:c.fail,h=c.resolve,d=c.reject,p=c.domain;try{u?(r||(t.rejection===rt&&pt(t),t.rejection=nt),!0===u?s=n:(p&&p.enter(),s=u(n),p&&(p.exit(),l=!0)),s===c.promise?d(q("Promise-chain cycle")):(a=lt(s))?a.call(s,h,d):h(s)):d(n)}catch(f){p&&!l&&p.exit(),d(f)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&ht(t)}))}},ut=function(t,e,i){var n,r;Y?(n=H.createEvent("Event"),n.promise=e,n.reason=i,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:i},!K&&(r=c["on"+t])?r(n):t===J&&A("Unhandled promise rejection",i)},ht=function(t){C.call(c,(function(){var e,i=t.facade,n=t.value,r=dt(t);if(r&&(e=E((function(){z?W.emit("unhandledRejection",n,i):ut(J,i,n)})),t.rejection=z||dt(t)?rt:nt,e.error))throw e.value}))},dt=function(t){return t.rejection!==nt&&!t.parent},pt=function(t){C.call(c,(function(){var e=t.facade;z?W.emit("rejectionHandled",e):ut(Q,e,t.value)}))},ft=function(t,e,i){return function(n){t(e,n,i)}},mt=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=it,ct(t,!0))},gt=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw q("Promise can't be resolved itself");var n=lt(e);n?O((function(){var i={done:!1};try{n.call(e,ft(gt,i,t),ft(mt,i,t))}catch(r){mt(i,r,t)}})):(t.value=e,t.state=et,ct(t,!1))}catch(r){mt({done:!1},r,t)}}};if(st&&(U=function(t){b(this,U,R),y(t),n.call(this);var e=F(this);try{t(ft(gt,e),ft(mt,e))}catch(i){mt(e,i)}},G=U.prototype,n=function(t){N(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:tt,value:void 0})},n.prototype=p(G,{then:function(t,e){var i=V(this),n=Z(T(this,U));return n.ok=!v(t)||t,n.fail=v(e)&&e,n.domain=z?W.domain:void 0,i.parent=!0,i.reactions.push(n),i.state!=tt&&ct(i,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new n,e=F(t);this.promise=t,this.resolve=ft(gt,e),this.reject=ft(mt,e)},I.f=Z=function(t){return t===U||t===o?new r(t):X(t)},!l&&v(h)&&$!==Object.prototype)){s=$.then,ot||(d($,"then",(function(t,e){var i=this;return new U((function(t,e){s.call(i,t,e)})).then(t,e)}),{unsafe:!0}),d($,"catch",G["catch"],{unsafe:!0}));try{delete $.constructor}catch(yt){}f&&f($,G)}a({global:!0,wrap:!0,forced:st},{Promise:U}),m(U,R,!1,!0),g(R),o=u(R),a({target:R,stat:!0,forced:st},{reject:function(t){var e=Z(this);return e.reject.call(void 0,t),e.promise}}),a({target:R,stat:!0,forced:l||st},{resolve:function(t){return k(l&&this===o?U:this,t)}}),a({target:R,stat:!0,forced:at},{all:function(t){var e=this,i=Z(e),n=i.resolve,r=i.reject,o=E((function(){var i=y(e.resolve),o=[],s=0,a=1;w(t,(function(t){var l=s++,c=!1;o.push(void 0),a++,i.call(e,t).then((function(t){c||(c=!0,o[l]=t,--a||n(o))}),r)})),--a||n(o)}));return o.error&&r(o.value),i.promise},race:function(t){var e=this,i=Z(e),n=i.reject,r=E((function(){var r=y(e.resolve);w(t,(function(t){r.call(e,t).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}})},e707:function(t,e,i){"use strict";i("3c93");var n=i("a9ad"),r=i("7560"),o=i("f2e7"),s=i("58df"),a=Object(s["a"])(n["a"],r["a"],o["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim(){const t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes(){return{"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive,...this.themeClasses}},computedOpacity(){return Number(this.isActive?this.opacity:0)},styles(){return{zIndex:this.zIndex}}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render(t){const e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},e)}}),l=a,c=i("80d2"),u=i("2b0e");e["a"]=u["a"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data(){return{animationFrame:0,overlay:null}},watch:{hideOverlay(t){this.isActive&&(t?this.removeOverlay():this.genOverlay())}},beforeDestroy(){this.removeOverlay()},methods:{createOverlay(){const t=new l({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});t.$mount();const e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");e&&e.insertBefore(t.$el,e.firstChild),this.overlay=t},genOverlay(){if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),this.animationFrame=requestAnimationFrame(()=>{this.overlay&&(void 0!==this.activeZIndex?this.overlay.zIndex=String(this.activeZIndex-1):this.$el&&(this.overlay.zIndex=Object(c["r"])(this.$el)),this.overlay.value=!0)}),!0},removeOverlay(t=!0){this.overlay&&(Object(c["a"])(this.overlay.$el,"transitionend",()=>{this.overlay&&this.overlay.$el&&this.overlay.$el.parentNode&&!this.overlay.value&&!this.isActive&&(this.overlay.$el.parentNode.removeChild(this.overlay.$el),this.overlay.$destroy(),this.overlay=null)}),cancelAnimationFrame(this.animationFrame),this.overlay.value=!1),t&&this.showScroll()},scrollListener(t){if("keydown"===t.type){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName)||t.target.isContentEditable)return;const e=[c["u"].up,c["u"].pageup],i=[c["u"].down,c["u"].pagedown];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!i.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},shouldScroll(t,e){if(t.hasAttribute("data-app"))return!1;const i=0===t.scrollTop,n=t.scrollTop+t.clientHeight===t.scrollHeight,r=e<0,o=e>0;return!(i||!r)||(!(n||!o)||!(!i&&!n)&&this.shouldScroll(t.parentNode,e))},isInside(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath(t){const e=t.path||this.composedPath(t),i=t.deltaY;if("keydown"===t.type&&e[0]===document.body){const t=this.$refs.dialog,e=window.getSelection().anchorNode;return!(t&&this.hasScrollbar(t)&&this.isInside(e,t))||!this.shouldScroll(t,i)}for(let n=0;n<e.length;n++){const t=e[n];if(t===document)return!0;if(t===document.documentElement)return!0;if(t===this.$refs.content)return!0;if(this.hasScrollbar(t))return!this.shouldScroll(t,i)}return!0},composedPath(t){if(t.composedPath)return t.composedPath();const e=[];let i=t.target;while(i){if(e.push(i),"HTML"===i.tagName)return e.push(document),e.push(window),e;i=i.parentElement}return e},hideScroll(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(c["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}})},e86a:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"g",(function(){return d})),i.d(e,"e",(function(){return f})),i.d(e,"b",(function(){return m})),i.d(e,"c",(function(){return g})),i.d(e,"f",(function(){return y})),i.d(e,"h",(function(){return v})),i.d(e,"d",(function(){return _}));var n,r,o=i("9850"),s=i("6d8b"),a=i("d51b"),l={},c="12px sans-serif";function u(t,e){return n||(n=Object(s["f"])().getContext("2d")),r!==e&&(r=n.font=e||c),n.measureText(t)}var h={measureText:u};function d(t,e){e=e||c;var i=l[e];i||(i=l[e]=new a["a"](500));var n=i.get(t);return null==n&&(n=h.measureText(t,e).width,i.put(t,n)),n}function p(t,e,i,n){var r=d(t,e),s=y(e),a=m(0,r,i),l=g(0,s,n),c=new o["a"](a,l,r,s);return c}function f(t,e,i,n){var r=((t||"")+"").split("\n"),s=r.length;if(1===s)return p(r[0],e,i,n);for(var a=new o["a"](0,0,0,0),l=0;l<r.length;l++){var c=p(r[l],e,i,n);0===l?a.copy(c):a.union(c)}return a}function m(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function g(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function y(t){return d("国",t)}function v(t,e){return"string"===typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function _(t,e,i){var n=e.position||"inside",r=null!=e.distance?e.distance:5,o=i.height,s=i.width,a=o/2,l=i.x,c=i.y,u="left",h="top";if(n instanceof Array)l+=v(n[0],i.width),c+=v(n[1],i.height),u=null,h=null;else switch(n){case"left":l-=r,c+=a,u="right",h="middle";break;case"right":l+=r+s,c+=a,h="middle";break;case"top":l+=s/2,c-=r,u="center",h="bottom";break;case"bottom":l+=s/2,c+=o+r,u="center";break;case"inside":l+=s/2,c+=a,u="center",h="middle";break;case"insideLeft":l+=r,c+=a,h="middle";break;case"insideRight":l+=s-r,c+=a,u="right",h="middle";break;case"insideTop":l+=s/2,c+=r,u="center";break;case"insideBottom":l+=s/2,c+=o-r,u="center",h="bottom";break;case"insideTopLeft":l+=r,c+=r;break;case"insideTopRight":l+=s-r,c+=r,u="right";break;case"insideBottomLeft":l+=r,c+=o-r,h="bottom";break;case"insideBottomRight":l+=s-r,c+=o-r,u="right",h="bottom";break}return t=t||{},t.x=l,t.y=c,t.align=u,t.verticalAlign=h,t}},e887:function(t,e,i){"use strict";var n=i("6d8b"),r=i("2dc5"),o=i("8918"),s=i("625e"),a=i("e0d3"),l=i("7d6c"),c=i("9fbc"),u=i("cccd"),h=a["l"](),d=Object(u["a"])(),p=function(){function t(){this.group=new r["a"],this.uid=o["c"]("viewChart"),this.renderTask=Object(c["a"])({plan:g,reset:y}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,i,n){},t.prototype.highlight=function(t,e,i,n){m(t.getData(),n,"emphasis")},t.prototype.downplay=function(t,e,i,n){m(t.getData(),n,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,i,n){this.render(t,e,i,n)},t.prototype.updateLayout=function(t,e,i,n){this.render(t,e,i,n)},t.prototype.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},t.markUpdateMethod=function(t,e){h(t).updateMethod=e},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function f(t,e,i){t&&("emphasis"===e?l["o"]:l["z"])(t,i)}function m(t,e,i){var r=a["q"](t,e),o=e&&null!=e.highlightKey?Object(l["s"])(e.highlightKey):null;null!=r?Object(n["k"])(a["n"](r),(function(e){f(t.getItemGraphicEl(e),i,o)})):t.eachItemGraphicEl((function(t){f(t,i,o)}))}function g(t){return d(t.model)}function y(t){var e=t.model,i=t.ecModel,n=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,s=t.view,a=r&&h(r).updateMethod,l=o?"incrementalPrepareRender":a&&s[a]?a:"render";return"render"!==l&&s[l](e,i,n,r),v[l]}s["b"](p,["dispose"]),s["c"](p);var v={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};e["a"]=p},e893:function(t,e,i){var n=i("5135"),r=i("56ef"),o=i("06cf"),s=i("9bf2");t.exports=function(t,e){for(var i=r(e),a=s.f,l=o.f,c=0;c<i.length;c++){var u=i[c];n(t,u)||a(t,u,l(e,u))}}},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e95a:function(t,e,i){var n=i("b622"),r=i("3f8c"),o=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}},e9b1:function(t,e,i){},ec29:function(t,e,i){},ec6f:function(t,e,i){"use strict";i.d(e,"e",(function(){return l})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return u})),i.d(e,"a",(function(){return h})),i.d(e,"d",(function(){return d})),i.d(e,"f",(function(){return y}));var n=i("6d8b"),r=i("07fd"),o=i("e0d3"),s=i("0f99"),a=function(){function t(t){this.data=t.data||(t.sourceFormat===r["d"]?{}:[]),this.sourceFormat=t.sourceFormat||r["h"],this.seriesLayoutBy=t.seriesLayoutBy||r["a"],this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var i=0;i<e.length;i++){var n=e[i];null==n.type&&Object(s["b"])(this,i)===s["a"].Must&&(n.type="ordinal")}}return t}();function l(t){return t instanceof a}function c(t,e,i){i=i||d(t);var r=e.seriesLayoutBy,o=p(t,i,r,e.sourceHeader,e.dimensions),s=new a({data:t,sourceFormat:i,seriesLayoutBy:r,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,metaRawOption:Object(n["d"])(e)});return s}function u(t){return new a({data:t,sourceFormat:Object(n["C"])(t)?r["g"]:r["f"]})}function h(t){return new a({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:Object(n["d"])(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function d(t){var e=r["h"];if(Object(n["C"])(t))e=r["g"];else if(Object(n["s"])(t)){0===t.length&&(e=r["c"]);for(var i=0,o=t.length;i<o;i++){var s=t[i];if(null!=s){if(Object(n["s"])(s)){e=r["c"];break}if(Object(n["z"])(s)){e=r["e"];break}}}}else if(Object(n["z"])(t))for(var a in t)if(Object(n["p"])(t,a)&&Object(n["t"])(t[a])){e=r["d"];break}return e}function p(t,e,i,s,a){var l,c;if(!t)return{dimensionsDefine:m(a),startIndex:c,dimensionsDetectedCount:l};if(e===r["c"]){var u=t;"auto"===s||null==s?g((function(t){null!=t&&"-"!==t&&(Object(n["A"])(t)?null==c&&(c=1):c=0)}),i,u,10):c=Object(n["y"])(s)?s:s?1:0,a||1!==c||(a=[],g((function(t,e){a[e]=null!=t?t+"":""}),i,u,1/0)),l=a?a.length:i===r["b"]?u.length:u[0]?u[0].length:null}else if(e===r["e"])a||(a=f(t));else if(e===r["d"])a||(a=[],Object(n["k"])(t,(function(t,e){a.push(e)})));else if(e===r["f"]){var h=Object(o["f"])(t[0]);l=Object(n["s"])(h)&&h.length||1}else r["g"];return{startIndex:c,dimensionsDefine:m(a),dimensionsDetectedCount:l}}function f(t){var e,i=0;while(i<t.length&&!(e=t[i++]));if(e){var r=[];return Object(n["k"])(e,(function(t,e){r.push(e)})),r}}function m(t){if(t){var e=Object(n["g"])();return Object(n["F"])(t,(function(t,i){t=Object(n["z"])(t)?t:{name:t};var r={name:t.name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=e.get(r.name);return o?r.name+="-"+o.count++:e.set(r.name,{count:1}),r}))}}function g(t,e,i,n){if(e===r["b"])for(var o=0;o<i.length&&o<n;o++)t(i[o]?i[o][0]:null,o);else{var s=i[0]||[];for(o=0;o<s.length&&o<n;o++)t(s[o],o)}}function y(t){var e=t.sourceFormat;return e===r["e"]||e===r["d"]}},ed09:function(t,e,i){"use strict";i.d(e,"a",(function(){return Zt})),i.d(e,"b",(function(){return de})),i.d(e,"c",(function(){return pe})),i.d(e,"d",(function(){return te})),i.d(e,"e",(function(){return Kt})),i.d(e,"f",(function(){return Qt})),i.d(e,"g",(function(){return Mt})),i.d(e,"h",(function(){return Dt})),i.d(e,"i",(function(){return ut})),i.d(e,"j",(function(){return mt})),i.d(e,"k",(function(){return ft})),i.d(e,"l",(function(){return pt})),i.d(e,"m",(function(){return dt})),i.d(e,"n",(function(){return Ht})),i.d(e,"o",(function(){return qt}));i("2b0e");var n=function(t){return Object.prototype.toString.call(t)};function r(t){return"function"===typeof t&&/native code/.test(t.toString())}var o="undefined"!==typeof Symbol&&r(Symbol)&&"undefined"!==typeof Reflect&&r(Reflect.ownKeys),s=function(t){return t};function a(t,e,i){var n=i.get,r=i.set;Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:n||s,set:r||s})}function l(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}function c(t,e){return Object.hasOwnProperty.call(t,e)}function u(t,e){if(!t)throw new Error("[vue-composition-api] "+e)}function h(t){return Array.isArray(t)}var d=Object.prototype.toString,p=function(t){return d.call(t)},f=function(t){return"[object Map]"===p(t)},m=function(t){return"[object Set]"===p(t)};function g(t){return null!==t&&"object"===typeof t}function y(t){return"[object Object]"===n(t)}function v(t){return"function"===typeof t}function _(t,e,i){if("undefined"===typeof window||"undefined"===typeof console)throw t;console.error(t)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b=function(t,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},b(t,e)};function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var w,S=function(){return S=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},S.apply(this,arguments)};function T(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function C(t,e){var i="function"===typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{while((void 0===e||e-- >0)&&!(n=o.next()).done)s.push(n.value)}catch(a){r={error:a}}finally{try{n&&!n.done&&(i=o["return"])&&i.call(o)}finally{if(r)throw r.error}}return s}function O(t,e){for(var i=0,n=e.length,r=t.length;i<n;i++,r++)t[r]=e[i];return t}var k=[],A=function(){function t(t){this.active=!0,this.effects=[],this.cleanups=[],this.vm=t}return t.prototype.run=function(t){if(this.active)try{return this.on(),t()}finally{this.off()}else 0},t.prototype.on=function(){this.active&&(k.push(this),w=this)},t.prototype.off=function(){this.active&&(k.pop(),w=k[k.length-1])},t.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach((function(t){return t.stop()})),this.cleanups.forEach((function(t){return t()})),this.active=!1)},t}();(function(t){function e(e){void 0===e&&(e=!1);var i=this,n=void 0;return G((function(){n=K(V())})),i=t.call(this,n)||this,e||I(i),i}x(e,t)})(A);function I(t,e){var i;if(e=e||w,e&&e.active)e.effects.push(t);else{var n=null===(i=H())||void 0===i?void 0:i.proxy;n&&n.$on("hook:destroyed",(function(){return t.stop()}))}}function E(){return w}function M(){var t,e;return(null===(t=E())||void 0===t?void 0:t.vm)||(null===(e=H())||void 0===e?void 0:e.proxy)}function D(t){if(!t.scope){var e=new A(t.proxy);t.scope=e,t.proxy.$on("hook:destroyed",(function(){return e.stop()}))}return t.scope}var P=void 0;try{var L=require("vue");L&&F(L)?P=L:L&&"default"in L&&F(L.default)&&(P=L.default)}catch(fe){}var z=null,j=null,B=!0,R="__composition_api_installed__";function F(t){return t&&v(t)&&"Vue"===t.name}function N(t){return c(t,R)}function V(){return z}function $(){var t=z||P;return t}function U(t){z=t,Object.defineProperty(t,R,{configurable:!0,writable:!0,value:!0})}function G(t){var e=B;B=!1;try{t()}finally{B=e}}function q(t){if(B){var e=j;null===e||void 0===e||e.scope.off(),j=t,null===j||void 0===j||j.scope.on()}}function H(){return j}var W,Z=new WeakMap;function X(t){if(Z.has(t))return Z.get(t);var e={proxy:t,update:t.$forceUpdate,type:t.$options,uid:t._uid,emit:t.$emit.bind(t),parent:null,root:null};D(e);var i=["data","props","attrs","refs","vnode","slots"];return i.forEach((function(i){a(e,i,{get:function(){return t["$"+i]}})})),a(e,"isMounted",{get:function(){return t._isMounted}}),a(e,"isUnmounted",{get:function(){return t._isDestroyed}}),a(e,"isDeactivated",{get:function(){return t._inactive}}),a(e,"emitted",{get:function(){return t._events}}),Z.set(t,e),t.$parent&&(e.parent=X(t.$parent)),t.$root&&(e.root=X(t.$root)),e}function Y(t,e){return e=e||H(),e}function K(t,e){void 0===e&&(e={});var i=t.config.silent;t.config.silent=!0;var n=new t(e);return t.config.silent=i,n}function J(t){var e=V();return e&&t instanceof e}function Q(t,e){return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];if(t.$scopedSlots[e])return t.$scopedSlots[e].apply(t,i)}}function tt(t,e){var i;if(t){if(t._normalized)return t._normalized;for(var n in i={},t)t[n]&&"$"!==n[0]&&(i[n]=!0)}else i={};for(var n in e)n in i||(i[n]=!0);return i}var et=function(){if(!W){var t=K(V(),{computed:{value:function(){return 0}}}),e=t._computedWatchers.value.constructor,i=t._data.__ob__.dep.constructor;W={Watcher:e,Dep:i},t.$destroy()}return W};function it(t){return o?Symbol.for(t):t}var nt=it("composition-api.preFlushQueue"),rt=it("composition-api.postFlushQueue"),ot="composition-api.refKey",st=new WeakMap,at=(new WeakMap,new WeakMap),lt=function(){function t(t){var e=t.get,i=t.set;a(this,"value",{get:e,set:i})}return t}();function ct(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=new lt(t);i&&(n.effect=!0);var r=Object.seal(n);return e&&at.set(r,!0),r}function ut(t){var e;if(ht(t))return t;var i=Ct((e={},e[ot]=t,e));return ct({get:function(){return i[ot]},set:function(t){return i[ot]=t}})}function ht(t){return t instanceof lt}function dt(t){return ht(t)?t.value:t}function pt(t){if(!y(t))return t;var e={};for(var i in t)e[i]=ft(t,i);return e}function ft(t,e){var i=t[e];return ht(i)?i:ct({get:function(){return t[e]},set:function(i){return t[e]=i}})}function mt(t){var e;if(ht(t))return t;var i=Tt((e={},e[ot]=t,e));return ct({get:function(){return i[ot]},set:function(t){return i[ot]=t}})}function gt(t){var e;return Boolean(t&&c(t,"__ob__")&&"object"===typeof t.__ob__&&(null===(e=t.__ob__)||void 0===e?void 0:e.__raw__))}function yt(t){var e;return Boolean(t&&c(t,"__ob__")&&"object"===typeof t.__ob__&&!(null===(e=t.__ob__)||void 0===e?void 0:e.__raw__))}function vt(t){if(!(!y(t)||gt(t)||h(t)||ht(t)||J(t)||st.has(t))){st.set(t,!0);for(var e=Object.keys(t),i=0;i<e.length;i++)_t(t,e[i])}}function _t(t,e,i){if("__ob__"!==e&&!gt(t[e])){var n,r,o=Object.getOwnPropertyDescriptor(t,e);if(o){if(!1===o.configurable)return;n=o.get,r=o.set,n&&!r||2!==arguments.length||(i=t[e])}vt(i),a(t,e,{get:function(){var r=n?n.call(t):i;return e!==ot&&ht(r)?r.value:r},set:function(o){n&&!r||(e!==ot&&ht(i)&&!ht(o)?i.value=o:r?(r.call(t,o),i=o):i=o,vt(o))}})}}function bt(t){var e,i=$();if(i.observable)e=i.observable(t);else{var n=K(i,{data:{$$state:t}});e=n._data.$$state}return c(e,"__ob__")||xt(e),e}function xt(t,e){var i,n;if(void 0===e&&(e=new Set),!e.has(t)&&!c(t,"__ob__")&&Object.isExtensible(t)){l(t,"__ob__",wt(t)),e.add(t);try{for(var r=T(Object.keys(t)),o=r.next();!o.done;o=r.next()){var s=o.value,a=t[s];(y(a)||h(a))&&!gt(a)&&Object.isExtensible(a)&&xt(a,e)}}catch(u){i={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}}}function wt(t){return void 0===t&&(t={}),{value:t,dep:{notify:s,depend:s,addSub:s,removeSub:s}}}function St(){return bt({}).__ob__}function Tt(t){var e,i;if(!g(t))return t;if(!y(t)&&!h(t)||gt(t)||!Object.isExtensible(t))return t;var n=bt(h(t)?[]:{});vt(n);var r=n.__ob__,o=function(e){var i,o,s=t[e],l=Object.getOwnPropertyDescriptor(t,e);if(l){if(!1===l.configurable)return"continue";i=l.get,o=l.set}a(n,e,{get:function(){var e,n=i?i.call(t):s;return null===(e=r.dep)||void 0===e||e.depend(),n},set:function(e){var n;i&&!o||(o?o.call(t,e):s=e,null===(n=r.dep)||void 0===n||n.notify())}})};try{for(var s=T(Object.keys(t)),l=s.next();!l.done;l=s.next()){var c=l.value;o(c)}}catch(u){e={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return n}function Ct(t){if(!g(t))return t;if(!y(t)&&!h(t)||gt(t)||!Object.isExtensible(t))return t;var e=bt(t);return vt(e),e}var Ot=function(t){return"on"+(t[0].toUpperCase()+t.slice(1))};function kt(t){return function(e,i){var n=Y(Ot(t),i);return n&&At(V(),n,t,e)}}function At(t,e,i,n){var r=e.proxy.$options,o=t.config.optionMergeStrategies[i],s=It(e,n);return r[i]=o(r[i],s),s}function It(t,e){return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=H();q(t);try{return e.apply(void 0,O([],C(i),!1))}finally{q(r)}}}kt("beforeMount");var Et,Mt=kt("mounted"),Dt=(kt("beforeUpdate"),kt("updated"),kt("beforeDestroy"),kt("destroyed"));kt("errorCaptured"),kt("activated"),kt("deactivated"),kt("serverPrefetch");function Pt(){Nt(this,nt)}function Lt(){Nt(this,rt)}function zt(t){return void 0!==t[nt]}function jt(t){t[nt]=[],t[rt]=[],t.$on("hook:beforeUpdate",Pt),t.$on("hook:updated",Lt)}function Bt(t){return S({immediate:!1,deep:!1,flush:"pre"},t)}function Rt(t){return S({flush:"pre"},t)}function Ft(){var t=M();return t?zt(t)||jt(t):(Et||(Et=K(V())),t=Et),t}function Nt(t,e){for(var i=t[e],n=0;n<i.length;n++)i[n]();i.length=0}function Vt(t,e,i){var n=function(){t.$nextTick((function(){t[nt].length&&Nt(t,nt),t[rt].length&&Nt(t,rt)}))};switch(i){case"pre":n(),t[nt].push(e);break;case"post":n(),t[rt].push(e);break;default:u(!1,'flush must be one of ["post", "pre", "sync"], but got '+i);break}}function $t(t,e,i,n){var r=t._watchers.length;return t.$watch(e,i,{immediate:n.immediateInvokeCallback,deep:n.deep,lazy:n.noRun,sync:n.sync,before:n.before}),t._watchers[r]}function Ut(t,e){var i=t.teardown;t.teardown=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];i.apply(t,n),e()}}function Gt(t,e,i,n){var r;var o,a=n.flush,l="sync"===a,c=function(e){o=function(){try{e()}catch(i){_(i,t,"onCleanup()")}}},u=function(){o&&(o(),o=null)},d=function(e){return l||t===Et?e:function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return Vt(t,(function(){e.apply(void 0,O([],C(i)))}),a)}};if(null===i){var p=!1,f=function(){if(!p)try{p=!0,e(c)}finally{p=!1}},m=$t(t,f,s,{deep:n.deep||!1,sync:l,before:u});Ut(m,u),m.lazy=!1;var g=m.get.bind(m);return m.get=d(g),function(){m.teardown()}}var y,b=n.deep,x=!1;if(ht(e)?y=function(){return e.value}:yt(e)?(y=function(){return e},b=!0):h(e)?(x=!0,y=function(){return e.map((function(t){return ht(t)?t.value:yt(t)?Wt(t):v(t)?t():s}))}):y=v(e)?e:s,b){var w=y;y=function(){return Wt(w())}}var S=function(t,e){if(b||!x||!t.every((function(t,i){return Object.is(t,e[i])})))return u(),i(t,e,c)},T=d(S);if(n.immediate){var k=T,A=function(t,e){return A=k,S(t,h(t)?[]:e)};T=function(t,e){return A(t,e)}}var I=t.$watch(y,T,{immediate:n.immediate,deep:b,sync:l}),E=t._watchers[t._watchers.length-1];return yt(E.value)&&(null===(r=E.value.__ob__)||void 0===r?void 0:r.dep)&&b&&E.value.__ob__.dep.addSub({update:function(){E.run()}}),Ut(E,u),function(){I()}}function qt(t,e){var i=Rt(e),n=Ft();return Gt(n,t,null,i)}function Ht(t,e,i){var n=null;v(e)?n=e:(i=e,n=null);var r=Bt(i),o=Ft();return Gt(o,t,n,r)}function Wt(t,e){if(void 0===e&&(e=new Set),!g(t)||e.has(t))return t;if(e.add(t),ht(t))Wt(t.value,e);else if(h(t))for(var i=0;i<t.length;i++)Wt(t[i],e);else if(m(t)||f(t))t.forEach((function(t){Wt(t,e)}));else if(y(t))for(var n in t)Wt(t[n],e);return t}function Zt(t){var e,i,n,r,o=M();if(v(t)?e=t:(e=t.get,i=t.set),o&&!o.$isServer){var a,l=et(),c=l.Watcher,u=l.Dep;r=function(){return a||(a=new c(o,e,s,{lazy:!0})),a.dirty&&a.evaluate(),u.target&&a.depend(),a.value},n=function(t){i&&i(t)}}else{var h=K(V(),{computed:{$$state:{get:e,set:i}}});o&&o.$on("hook:destroyed",(function(){return h.$destroy()})),r=function(){return h.$$state},n=function(t){h.$$state=t}}return ct({get:r,set:n},!i,!0)}var Xt={};function Yt(t,e){var i=e;while(i){if(i._provided&&c(i._provided,t))return i._provided[t];i=i.$parent}return Xt}function Kt(t,e,i){var n;void 0===i&&(i=!1);var r=null===(n=H())||void 0===n?void 0:n.proxy;if(r){if(!t)return e;var o=Yt(t,r);return o!==Xt?o:i&&v(e)?e():e}}var Jt,Qt=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return null===(t=V())||void 0===t?void 0:t.nextTick.apply(this,e)},te=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=null===(t=H())||void 0===t?void 0:t.proxy;return n?n.$createElement.apply(n,e):(Jt||(Jt=K(V()).$createElement),Jt.apply(Jt,e))};function ee(t,e,i){var n=t.__composition_api_state__=t.__composition_api_state__||{};n[e]=i}function ie(t,e){return(t.__composition_api_state__||{})[e]}var ne={set:ee,get:ie};function re(t,e,i){var n=t.$options.props;e in t||n&&c(n,e)||(ht(i)?a(t,e,{get:function(){return i.value},set:function(t){i.value=t}}):a(t,e,{get:function(){return yt(i)&&i.__ob__.dep.depend(),i},set:function(t){i=t}}))}function oe(t){var e=ne.get(t,"rawBindings")||{};if(e&&Object.keys(e).length){for(var i=t.$refs,n=ne.get(t,"refs")||[],r=0;r<n.length;r++){var o=n[r],s=e[o];!i[o]&&s&&ht(s)&&(s.value=null)}var a=Object.keys(i),l=[];for(r=0;r<a.length;r++){o=a[r],s=e[o];i[o]&&s&&ht(s)&&(s.value=i[o],l.push(o))}ne.set(t,"refs",l)}}function se(t,e){var i,n;if(t){var r=ne.get(t,"attrBindings");if(r||e){if(!r){var o=Ct({});r={ctx:e,data:o},ne.set(t,"attrBindings",r),a(e,"attrs",{get:function(){return null===r||void 0===r?void 0:r.data},set:function(){}})}var s=t.$attrs,l=function(e){c(r.data,e)||a(r.data,e,{get:function(){return t.$attrs[e]}})};try{for(var u=T(Object.keys(s)),h=u.next();!h.done;h=u.next()){var d=h.value;l(d)}}catch(p){i={error:p}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}}}}function ae(t,e){var i=t.$options._parentVnode;if(i){for(var n=ne.get(t,"slots")||[],r=tt(i.data.scopedSlots,t.$slots),o=0;o<n.length;o++){var s=n[o];r[s]||delete e[s]}var a=Object.keys(r);for(o=0;o<a.length;o++){s=a[o];e[s]||(e[s]=Q(t,s))}ne.set(t,"slots",a)}}function le(t,e,i){var n=H();q(t);try{return e(t)}catch(r){if(!i)throw r;i(r)}finally{q(n)}}function ce(t){function e(){var t=this,e=t.$options,n=e.setup,r=e.render;if(r&&(e.render=function(){for(var e=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return le(X(t),(function(){return r.apply(e,i)}))}),n&&v(n)){var o=e.data;e.data=function(){return i(t,t.$props),v(o)?o.call(t,t):o||{}}}}function i(t,e){void 0===e&&(e={});var i,s=t.$options.setup,a=o(t),c=X(t);if(c.setupContext=a,l(e,"__ob__",St()),ae(t,a.slots),le(c,(function(){i=s(e,a)})),i)if(v(i)){var u=i;t.$options.render=function(){return ae(t,a.slots),le(c,(function(){return u()}))}}else if(y(i)){yt(i)&&(i=pt(i)),ne.set(t,"rawBindings",i);var d=i;Object.keys(d).forEach((function(e){var i=d[e];if(!ht(i))if(yt(i))h(i)&&(i=ut(i));else if(v(i)){var o=i;i=i.bind(t),Object.keys(o).forEach((function(t){i[t]=o[t]}))}else g(i)?r(i)&&n(i):i=ut(i);re(t,e,i)}))}else 0}function n(t,e){if(void 0===e&&(e=new Set),!e.has(t)&&y(t)&&!ht(t)&&!yt(t)&&!gt(t)){var i=V(),r=i.util.defineReactive;Object.keys(t).forEach((function(i){var o=t[i];r(t,i,o),o&&(e.add(o),n(o,e))}))}}function r(t,e){return void 0===e&&(e=new Map),e.has(t)?e.get(t):(e.set(t,!1),h(t)&&yt(t)?(e.set(t,!0),!0):!(!y(t)||gt(t)||ht(t))&&Object.keys(t).some((function(i){return r(t[i],e)})))}function o(t){var e={slots:{}},i=["root","parent","refs","listeners","isServer","ssrContext"],n=["emit"];return i.forEach((function(i){var n="$"+i;a(e,i,{get:function(){return t[n]},set:function(){}})})),se(t,e),n.forEach((function(i){var n="$"+i;a(e,i,{get:function(){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=t[n];r.apply(t,e)}}})})),e}t.mixin({beforeCreate:e,mounted:function(){oe(this)},beforeUpdate:function(){se(this)},updated:function(){var t;oe(this),(null===(t=this.$vnode)||void 0===t?void 0:t.context)&&oe(this.$vnode.context)}})}function ue(t,e){if(!t)return e;if(!e)return t;for(var i,n,r,s=o?Reflect.ownKeys(t):Object.keys(t),a=0;a<s.length;a++)i=s[a],"__ob__"!==i&&(n=e[i],r=t[i],c(e,i)?n!==r&&y(n)&&!ht(n)&&y(r)&&!ht(r)&&ue(r,n):e[i]=r);return e}function he(t){N(t)||(t.config.optionMergeStrategies.setup=function(t,e){return function(i,n){return ue(v(t)?t(i,n)||{}:void 0,v(e)?e(i,n)||{}:void 0)}},U(t),ce(t))}var de={install:function(t){return he(t)}};function pe(t){return t}"undefined"!==typeof window&&window.Vue&&window.Vue.use(de)},eda2:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"h",(function(){return a})),i.d(e,"g",(function(){return l})),i.d(e,"c",(function(){return h})),i.d(e,"f",(function(){return d})),i.d(e,"d",(function(){return m})),i.d(e,"e",(function(){return g})),i.d(e,"b",(function(){return y})),i.d(e,"i",(function(){return v}));var n=i("6d8b"),r=i("3842"),o=i("f876");function s(t){if(!Object(r["f"])(t))return n["A"](t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function a(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var l=n["J"],c=/([&<>"'])/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(t){return null==t?"":(t+"").replace(c,(function(t,e){return u[e]}))}function d(t,e,i){var a="{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}";function l(t){return t&&n["Q"](t)?t:"-"}function c(t){return!(null==t||isNaN(t)||!isFinite(t))}var u="time"===e,h=t instanceof Date;if(u||h){var d=u?Object(r["k"])(t):t;if(!isNaN(+d))return Object(o["h"])(d,a,i);if(h)return"-"}if("ordinal"===e)return n["B"](t)?l(t):n["y"](t)&&c(t)?t+"":"-";var p=Object(r["j"])(t);return c(p)?s(p):n["B"](t)?l(t):"boolean"===typeof t?t+"":"-"}var p=["a","b","c","d","e","f","g"],f=function(t,e){return"{"+t+(null==e?"":e)+"}"};function m(t,e,i){n["s"](e)||(e=[e]);var r=e.length;if(!r)return"";for(var o=e[0].$vars||[],s=0;s<o.length;s++){var a=p[s];t=t.replace(f(a),f(a,0))}for(var l=0;l<r;l++)for(var c=0;c<o.length;c++){var u=e[l][o[c]];t=t.replace(f(p[c],l),i?h(u):u)}return t}function g(t,e){var i=n["A"](t)?{color:t,extraCssText:e}:t||{},r=i.color,o=i.type;e=i.extraCssText;var s=i.renderMode||"html";if(!r)return"";if("html"===s)return"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+h(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+h(r)+";"+(e||"")+'"></span>';var a=i.markerId||"markerX";return{renderMode:s,content:"{"+a+"|}  ",style:"subItem"===o?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function y(t,e){return e=e||"transparent",n["A"](t)?t:n["z"](t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function v(t,e){if("_blank"===e||"blank"===e){var i=window.open();i.opener=null,i.location.href=t}else window.open(t,e)}},edae:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return a}));var n="[ECharts] ",r="undefined"!==typeof console&&console.warn&&console.log;function o(t){r&&console.error(n+t)}function s(t){0}function a(t){throw new Error(t)}},ee1a:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"b",(function(){return l}));var n=i("6d8b"),r=i("80b9");function o(t,e,i){i=i||{};var r,o,a,l=i.byIndex,c=i.stackedCoordDimension;s(e)?r=e:(o=e.schema,r=o.dimensions,a=e.store);var u,h,d,p,f=!(!t||!t.get("stack"));if(Object(n["k"])(r,(function(t,e){Object(n["A"])(t)&&(r[e]=t={name:t}),f&&!t.isExtraCoord&&(l||u||!t.ordinalMeta||(u=t),h||"ordinal"===t.type||"time"===t.type||c&&c!==t.coordDim||(h=t))})),!h||l||u||(l=!0),h){d="__\0ecstackresult_"+t.id,p="__\0ecstackedover_"+t.id,u&&(u.createInvertedIndices=!0);var m=h.coordDim,g=h.type,y=0;Object(n["k"])(r,(function(t){t.coordDim===m&&y++}));var v={name:d,coordDim:m,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length},_={name:p,coordDim:p,coordDimIndex:y+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length+1};o?(a&&(v.storeDimIndex=a.ensureCalculationDimension(p,g),_.storeDimIndex=a.ensureCalculationDimension(d,g)),o.appendCalculationDimension(v),o.appendCalculationDimension(_)):(r.push(v),r.push(_))}return{stackedDimension:h&&h.name,stackedByDimension:u&&u.name,isStackedByIndex:l,stackedOverDimension:p,stackResultDimension:d}}function s(t){return!Object(r["d"])(t.schema)}function a(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function l(t,e){return a(t,e)?t.getCalculationInfo("stackResultDimension"):e}},ee6f:function(t,e,i){},ef59:function(t,e,i){"use strict";i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return m})),i.d(e,"d",(function(){return g})),i.d(e,"c",(function(){return y}));var n=i("4319"),r=i("22d1"),o={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},s={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},a=i("6d8b"),l="ZH",c="EN",u=c,h={},d={},p=r["a"].domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(l)>-1?l:u}():u;function f(t,e){t=t.toUpperCase(),d[t]=new n["a"](e),h[t]=e}function m(t){if(Object(a["A"])(t)){var e=h[t.toUpperCase()]||{};return t===l||t===c?Object(a["d"])(e):Object(a["G"])(Object(a["d"])(e),Object(a["d"])(h[u]),!1)}return Object(a["G"])(Object(a["d"])(t),Object(a["d"])(h[u]),!1)}function g(t){return d[t]}function y(){return d[u]}f(c,o),f(l,s)},ef78:function(t,e,i){"use strict";var n=i("8cb5");function r(t){var e,i=t.type||n.ERROR_HTTP;if(t.body)try{e=JSON.parse(t.body)}catch(o){e=t.body}else e=null;var r=t.message||null;r||("string"===typeof e?r=e:e&&"string"===typeof e.message?r=e.message:i===n.ERROR_REQUEST_ABORTED&&(r="Request aborted")),this.message=r,this.type=i,this.statusCode=t.statusCode||null,this.request=t.request,this.body=e}t.exports=r},f069:function(t,e,i){"use strict";var n=i("59ed"),r=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)};t.exports.f=function(t){return new r(t)}},f234:function(t,e,i){"use strict";var n="%[a-f0-9]{2}",r=new RegExp(n,"gi"),o=new RegExp("("+n+")+","gi");function s(t,e){try{return decodeURIComponent(t.join(""))}catch(r){}if(1===t.length)return t;e=e||1;var i=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],s(i),s(n))}function a(t){try{return decodeURIComponent(t)}catch(n){for(var e=t.match(r),i=1;i<e.length;i++)t=s(e,i).join(""),e=t.match(r);return t}}function l(t){var e={"%FE%FF":"��","%FF%FE":"��"},i=o.exec(t);while(i){try{e[i[0]]=decodeURIComponent(i[0])}catch(c){var n=a(i[0]);n!==i[0]&&(e[i[0]]=n)}i=o.exec(t)}e["%C2"]="�";for(var r=Object.keys(e),s=0;s<r.length;s++){var l=r[s];t=t.replace(new RegExp(l,"g"),e[l])}return t}t.exports=function(t){if("string"!==typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return l(t)}}},f2c0:function(t,e,i){"use strict";var n=Object.prototype.toString;t.exports=function(t){var e;return"[object Object]"===n.call(t)&&(e=Object.getPrototypeOf(t),null===e||e===Object.getPrototypeOf({}))}},f2e7:function(t,e,i){"use strict";i.d(e,"b",(function(){return r}));var n=i("2b0e");function r(t="value",e="input"){return n["a"].extend({name:"toggleable",model:{prop:t,event:e},props:{[t]:{required:!1}},data(){return{isActive:!!this[t]}},watch:{[t](t){this.isActive=!!t},isActive(i){!!i!==this[t]&&this.$emit(e,i)}}})}const o=r();e["a"]=o},f309:function(t,e,i){"use strict";i.d(e,"a",(function(){return X}));var n=i("2b0e"),r=i("d9bd");function o(t,e={}){if(o.installed)return;o.installed=!0,n["a"]!==t&&Object(r["b"])("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");const i=e.components||{},s=e.directives||{};for(const n in s){const e=s[n];t.directive(n,e)}(function e(i){if(i){for(const n in i){const r=i[n];r&&!e(r.$_vuetify_subcomponents)&&t.component(n,r)}return!0}return!1})(i),t.$_vuetify_installed||(t.$_vuetify_installed=!0,t.mixin({beforeCreate(){const e=this.$options;e.vuetify?(e.vuetify.init(this,this.$ssrContext),this.$vuetify=t.observable(e.vuetify.framework)):this.$vuetify=e.parent&&e.parent.$vuetify||this},beforeMount(){this.$options.vuetify&&this.$el&&this.$el.hasAttribute("data-server-rendered")&&(this.$vuetify.isHydrating=!0,this.$vuetify.breakpoint.update(!0))},mounted(){this.$options.vuetify&&this.$vuetify.isHydrating&&(this.$vuetify.isHydrating=!1,this.$vuetify.breakpoint.update())}}))}i("95ed");var s={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}},rating:{ariaLabel:{icon:"Rating {0} of {1}"}}};const a={breakpoint:{mobileBreakpoint:1264,scrollBarWidth:16,thresholds:{xs:600,sm:960,md:1280,lg:1920}},icons:{iconfont:"mdi",values:{}},lang:{current:"en",locales:{en:s},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0,variations:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}};var l=i("80d2"),c=i("fff9");class u extends c["a"]{constructor(t,e){super();const i=Object(l["w"])({},a),{userPreset:n}=e,{preset:o={},...s}=n;null!=o.preset&&Object(r["c"])("Global presets do not support the **preset** option, it can be safely omitted"),e.preset=Object(l["w"])(Object(l["w"])(i,o),s)}}u.property="presets";class h extends c["a"]{constructor(){super(...arguments),this.bar=0,this.top=0,this.left=0,this.insetFooter=0,this.right=0,this.bottom=0,this.footer=0,this.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}}}register(t,e,i){this.application[e]={[t]:i},this.update(e)}unregister(t,e){null!=this.application[e][t]&&(delete this.application[e][t],this.update(e))}update(t){this[t]=Object.values(this.application[t]).reduce((t,e)=>t+e,0)}}h.property="application";class d extends c["a"]{constructor(t){super(),this.xs=!1,this.sm=!1,this.md=!1,this.lg=!1,this.xl=!1,this.xsOnly=!1,this.smOnly=!1,this.smAndDown=!1,this.smAndUp=!1,this.mdOnly=!1,this.mdAndDown=!1,this.mdAndUp=!1,this.lgOnly=!1,this.lgAndDown=!1,this.lgAndUp=!1,this.xlOnly=!1,this.name="xs",this.height=0,this.width=0,this.mobile=!0,this.resizeTimeout=0;const{mobileBreakpoint:e,scrollBarWidth:i,thresholds:n}=t[d.property];this.mobileBreakpoint=e,this.scrollBarWidth=i,this.thresholds=n}init(){this.update(),"undefined"!==typeof window&&window.addEventListener("resize",this.onResize.bind(this),{passive:!0})}update(t=!1){const e=t?0:this.getClientHeight(),i=t?0:this.getClientWidth(),n=i<this.thresholds.xs,r=i<this.thresholds.sm&&!n,o=i<this.thresholds.md-this.scrollBarWidth&&!(r||n),s=i<this.thresholds.lg-this.scrollBarWidth&&!(o||r||n),a=i>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=e,this.width=i,this.xs=n,this.sm=r,this.md=o,this.lg=s,this.xl=a,this.xsOnly=n,this.smOnly=r,this.smAndDown=(n||r)&&!(o||s||a),this.smAndUp=!n&&(r||o||s||a),this.mdOnly=o,this.mdAndDown=(n||r||o)&&!(s||a),this.mdAndUp=!(n||r)&&(o||s||a),this.lgOnly=s,this.lgAndDown=(n||r||o||s)&&!a,this.lgAndUp=!(n||r||o)&&(s||a),this.xlOnly=a,!0){case n:this.name="xs";break;case r:this.name="sm";break;case o:this.name="md";break;case s:this.name="lg";break;default:this.name="xl";break}if("number"===typeof this.mobileBreakpoint)return void(this.mobile=i<parseInt(this.mobileBreakpoint,10));const l={xs:0,sm:1,md:2,lg:3,xl:4},c=l[this.name],u=l[this.mobileBreakpoint];this.mobile=c<=u}onResize(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)}getClientWidth(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}getClientHeight(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}d.property="breakpoint";var p=i("7d8f");const f={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",success:"M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",warning:"M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z",error:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"};var m=f;const g={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"};var y=g;const v={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"};var _=v;const b={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"};var x=b;const w={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"};var S=w;function T(t,e){const i={};for(const n in e)i[n]={component:t,props:{icon:e[n].split(" fa-")}};return i}var C=T("font-awesome-icon",x),O=Object.freeze({mdiSvg:m,md:y,mdi:_,fa:x,fa4:S,faSvg:C});class k extends c["a"]{constructor(t){super();const{iconfont:e,values:i,component:n}=t[k.property];this.component=n,this.iconfont=e,this.values=Object(l["w"])(O[e],i)}}k.property="icons";const A="$vuetify.",I=Symbol("Lang fallback");function E(t,e,i=!1,n){const o=e.replace(A,"");let s=Object(l["n"])(t,o,I);return s===I&&(i?(Object(r["b"])(`Translation key "${o}" not found in fallback`),s=e):(Object(r["c"])(`Translation key "${o}" not found, falling back to default`),s=E(n,e,!0,n))),s}class M extends c["a"]{constructor(t){super(),this.defaultLocale="en";const{current:e,locales:i,t:n}=t[M.property];this.current=e,this.locales=i,this.translator=n||this.defaultTranslator}currentLocale(t){const e=this.locales[this.current],i=this.locales[this.defaultLocale];return E(e,t,!1,i)}t(t,...e){return t.startsWith(A)?this.translator(t,...e):this.replace(t,e)}defaultTranslator(t,...e){return this.replace(this.currentLocale(t),e)}replace(t,e){return t.replace(/\{(\d+)\}/g,(t,i)=>String(e[+i]))}}M.property="lang";var D=i("7bc6"),P=i("8da5");const L=.20689655172413793,z=t=>t>L**3?Math.cbrt(t):t/(3*L**2)+4/29,j=t=>t>L?t**3:3*L**2*(t-4/29);function B(t){const e=z,i=e(t[1]);return[116*i-16,500*(e(t[0]/.95047)-i),200*(i-e(t[2]/1.08883))]}function R(t){const e=j,i=(t[0]+16)/116;return[.95047*e(i+t[1]/500),e(i),1.08883*e(i-t[2]/200)]}function F(t,e=!1,i=!0){const{anchor:n,...r}=t,o=Object.keys(r),s={};for(let a=0;a<o.length;++a){const n=o[a],r=t[n];null!=r&&(i?e?("base"===n||n.startsWith("lighten")||n.startsWith("darken"))&&(s[n]=Object(D["a"])(r)):s[n]="object"===typeof r?F(r,!0,i):q(n,Object(D["b"])(r)):s[n]={base:Object(D["c"])(Object(D["b"])(r))})}return e||(s.anchor=n||s.base||s.primary.base),s}const N=(t,e)=>`\n.v-application .${t} {\n  background-color: ${e} !important;\n  border-color: ${e} !important;\n}\n.v-application .${t}--text {\n  color: ${e} !important;\n  caret-color: ${e} !important;\n}`,V=(t,e,i)=>{const[n,r]=e.split(/(\d)/,2);return`\n.v-application .${t}.${n}-${r} {\n  background-color: ${i} !important;\n  border-color: ${i} !important;\n}\n.v-application .${t}--text.text--${n}-${r} {\n  color: ${i} !important;\n  caret-color: ${i} !important;\n}`},$=(t,e="base")=>`--v-${t}-${e}`,U=(t,e="base")=>`var(${$(t,e)})`;function G(t,e=!1){const{anchor:i,...n}=t,r=Object.keys(n);if(!r.length)return"";let o="",s="";const a=e?U("anchor"):i;s+=`.v-application a { color: ${a}; }`,e&&(o+=`  ${$("anchor")}: ${i};\n`);for(let c=0;c<r.length;++c){const i=r[c],n=t[i];s+=N(i,e?U(i):n.base),e&&(o+=`  ${$(i)}: ${n.base};\n`);const a=Object(l["v"])(n);for(let t=0;t<a.length;++t){const r=a[t],l=n[r];"base"!==r&&(s+=V(i,r,e?U(i,r):l),e&&(o+=`  ${$(i,r)}: ${l};\n`))}}return e&&(o=`:root {\n${o}}\n\n`),o+s}function q(t,e){const i={base:Object(D["c"])(e)};for(let n=5;n>0;--n)i["lighten"+n]=Object(D["c"])(H(e,n));for(let n=1;n<=4;++n)i["darken"+n]=Object(D["c"])(W(e,n));return i}function H(t,e){const i=B(P["b"](t));return i[0]=i[0]+10*e,P["a"](R(i))}function W(t,e){const i=B(P["b"](t));return i[0]=i[0]-10*e,P["a"](R(i))}class Z extends c["a"]{constructor(t){super(),this.disabled=!1,this.isDark=null,this.unwatch=null,this.vueMeta=null;const{dark:e,disable:i,options:n,themes:r}=t[Z.property];this.dark=Boolean(e),this.defaults=this.themes=r,this.options=n,i?this.disabled=!0:this.themes={dark:this.fillVariant(r.dark,!0),light:this.fillVariant(r.light,!1)}}set css(t){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=t)}set dark(t){const e=this.isDark;this.isDark=t,null!=e&&this.applyTheme()}get dark(){return Boolean(this.isDark)}applyTheme(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}clearCss(){this.css=""}init(t,e){this.disabled||(t.$meta?this.initVueMeta(t):e&&this.initSSR(e),this.initTheme(t))}setTheme(t,e){this.themes[t]=Object.assign(this.themes[t],e),this.applyTheme()}resetThemes(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}checkOrCreateStyleElement(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}fillVariant(t={},e){const i=this.themes[e?"dark":"light"];return Object.assign({},i,t)}genStyleElement(){"undefined"!==typeof document&&(this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",this.options.cspNonce&&this.styleEl.setAttribute("nonce",this.options.cspNonce),document.head.appendChild(this.styleEl))}initVueMeta(t){if(this.vueMeta=t.$meta(),this.isVueMeta23)return void t.$nextTick(()=>{this.applyVueMeta23()});const e="function"===typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",i=t.$options[e]||{};t.$options[e]=()=>{i.style=i.style||[];const t=i.style.find(t=>"vuetify-theme-stylesheet"===t.id);return t?t.cssText=this.generatedStyles:i.style.push({cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(this.options||{}).cspNonce}),i}}applyVueMeta23(){const{set:t}=this.vueMeta.addApp("vuetify");t({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:this.options.cspNonce}]})}initSSR(t){const e=this.options.cspNonce?` nonce="${this.options.cspNonce}"`:"";t.head=t.head||"",t.head+=`<style type="text/css" id="vuetify-theme-stylesheet"${e}>${this.generatedStyles}</style>`}initTheme(t){"undefined"!==typeof document&&(this.unwatch&&(this.unwatch(),this.unwatch=null),t.$once("hook:created",()=>{const e=n["a"].observable({themes:this.themes});this.unwatch=t.$watch(()=>e.themes,()=>this.applyTheme(),{deep:!0})}),this.applyTheme())}get currentTheme(){const t=this.dark?"dark":"light";return this.themes[t]}get generatedStyles(){const t=this.parsedTheme,e=this.options||{};let i;return null!=e.themeCache&&(i=e.themeCache.get(t),null!=i)||(i=G(t,e.customProperties),null!=e.minifyTheme&&(i=e.minifyTheme(i)),null!=e.themeCache&&e.themeCache.set(t,i)),i}get parsedTheme(){return F(this.currentTheme||{},void 0,Object(l["m"])(this.options,["variations"],!0))}get isVueMeta23(){return"function"===typeof this.vueMeta.addApp}}Z.property="theme";class X{constructor(t={}){this.framework={isHydrating:!1},this.installed=[],this.preset={},this.userPreset={},this.userPreset=t,this.use(u),this.use(h),this.use(d),this.use(p["a"]),this.use(k),this.use(M),this.use(Z)}init(t,e){this.installed.forEach(i=>{const n=this.framework[i];n.framework=this.framework,n.init(t,e)}),this.framework.rtl=Boolean(this.preset.rtl)}use(t){const e=t.property;this.installed.includes(e)||(this.framework[e]=new t(this.preset,this),this.installed.push(e))}}X.install=o,X.installed=!1,X.version="2.5.9",X.config={silent:!1}},f32c:function(t,e,i){"use strict";t.exports=(t,e)=>{if("string"!==typeof t||"string"!==typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const i=t.indexOf(e);return-1===i?[t]:[t.slice(0,i),t.slice(i+e.length)]}},f5df:function(t,e,i){var n=i("00ee"),r=i("1626"),o=i("c6b6"),s=i("b622"),a=s("toStringTag"),l="Arguments"==o(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(i){}};t.exports=n?o:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=c(e=Object(t),a))?i:l?o(e):"Object"==(n=o(e))&&r(e.callee)?"Arguments":n}},f6b4:function(t,e,i){"use strict";var n=i("c532");function r(){this.handlers=[]}r.prototype.use=function(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},f6c4:function(t,e,i){"use strict";i("bd0c");var n=i("d10f");e["a"]=n["a"].extend({name:"v-main",props:{tag:{type:String,default:"main"}},computed:{styles(){const{bar:t,top:e,right:i,footer:n,insetFooter:r,bottom:o,left:s}=this.$vuetify.application;return{paddingTop:e+t+"px",paddingRight:i+"px",paddingBottom:n+r+o+"px",paddingLeft:s+"px"}}},render(t){const e={staticClass:"v-main",style:this.styles,ref:"main"};return t(this.tag,e,[t("div",{staticClass:"v-main__wrap"},this.$slots.default)])}})},f772:function(t,e,i){var n=i("5692"),r=i("90e3"),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},f774:function(t,e,i){"use strict";i("7958");var n=i("adda"),r=i("3a66"),o=i("a9ad"),s=i("b848"),a=i("d9bd"),l=i("2b0e"),c=l["a"].extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:t=>!isNaN(Number(t))||["xs","sm","md","lg","xl"].includes(String(t))}},computed:{isMobile(){const{mobile:t,width:e,name:i,mobileBreakpoint:n}=this.$vuetify.breakpoint;if(n===this.mobileBreakpoint)return t;const r=parseInt(this.mobileBreakpoint,10),o=!isNaN(r);return o?e<r:i===this.mobileBreakpoint}},created(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(a["d"])("mobile-break-point","mobile-breakpoint",this)}}),u=i("e707"),h=i("d10f"),d=i("7560"),p=i("a293"),f=i("dc22"),m=i("80d2");const g=t=>{const{touchstartX:e,touchendX:i,touchstartY:n,touchendY:r}=t,o=.5,s=16;t.offsetX=i-e,t.offsetY=r-n,Math.abs(t.offsetY)<o*Math.abs(t.offsetX)&&(t.left&&i<e-s&&t.left(t),t.right&&i>e+s&&t.right(t)),Math.abs(t.offsetX)<o*Math.abs(t.offsetY)&&(t.up&&r<n-s&&t.up(t),t.down&&r>n+s&&t.down(t))};function y(t,e){const i=t.changedTouches[0];e.touchstartX=i.clientX,e.touchstartY=i.clientY,e.start&&e.start(Object.assign(t,e))}function v(t,e){const i=t.changedTouches[0];e.touchendX=i.clientX,e.touchendY=i.clientY,e.end&&e.end(Object.assign(t,e)),g(e)}function _(t,e){const i=t.changedTouches[0];e.touchmoveX=i.clientX,e.touchmoveY=i.clientY,e.move&&e.move(Object.assign(t,e))}function b(t){const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:t=>y(t,e),touchend:t=>v(t,e),touchmove:t=>_(t,e)}}function x(t,e,i){const n=e.value,r=n.parent?t.parentElement:t,o=n.options||{passive:!0};if(!r)return;const s=b(e.value);r._touchHandlers=Object(r._touchHandlers),r._touchHandlers[i.context._uid]=s,Object(m["v"])(s).forEach(t=>{r.addEventListener(t,s[t],o)})}function w(t,e,i){const n=e.value.parent?t.parentElement:t;if(!n||!n._touchHandlers)return;const r=n._touchHandlers[i.context._uid];Object(m["v"])(r).forEach(t=>{n.removeEventListener(t,r[t])}),delete n._touchHandlers[i.context._uid]}const S={inserted:x,unbind:w};var T=S,C=i("58df");const O=Object(C["a"])(Object(r["a"])("left",["isActive","isMobile","miniVariant","expandOnHover","permanent","right","temporary","width"]),o["a"],s["a"],c,u["a"],h["a"],d["a"]);e["a"]=O.extend({name:"v-navigation-drawer",directives:{ClickOutside:p["a"],Resize:f["a"],Touch:T},provide(){return{isInNav:"nav"===this.tag}},props:{bottom:Boolean,clipped:Boolean,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,height:{type:[Number,String],default(){return this.app?"100vh":"100%"}},miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:56},permanent:Boolean,right:Boolean,src:{type:[String,Object],default:""},stateless:Boolean,tag:{type:String,default(){return this.app?"nav":"aside"}},temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},value:null},data:()=>({isMouseover:!1,touchArea:{left:0,right:0},stackMinZIndex:6}),computed:{applicationProperty(){return this.right?"right":"left"},classes(){return{"v-navigation-drawer":!0,"v-navigation-drawer--absolute":this.absolute,"v-navigation-drawer--bottom":this.bottom,"v-navigation-drawer--clipped":this.clipped,"v-navigation-drawer--close":!this.isActive,"v-navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"v-navigation-drawer--floating":this.floating,"v-navigation-drawer--is-mobile":this.isMobile,"v-navigation-drawer--is-mouseover":this.isMouseover,"v-navigation-drawer--mini-variant":this.isMiniVariant,"v-navigation-drawer--custom-mini-variant":56!==Number(this.miniVariantWidth),"v-navigation-drawer--open":this.isActive,"v-navigation-drawer--open-on-hover":this.expandOnHover,"v-navigation-drawer--right":this.right,"v-navigation-drawer--temporary":this.temporary,...this.themeClasses}},computedMaxHeight(){if(!this.hasApp)return null;const t=this.$vuetify.application.bottom+this.$vuetify.application.footer+this.$vuetify.application.bar;return this.clipped?t+this.$vuetify.application.top:t},computedTop(){if(!this.hasApp)return 0;let t=this.$vuetify.application.bar;return t+=this.clipped?this.$vuetify.application.top:0,t},computedTransform(){return this.isActive?0:this.isBottom||this.right?100:-100},computedWidth(){return this.isMiniVariant?this.miniVariantWidth:this.width},hasApp(){return this.app&&!this.isMobile&&!this.temporary},isBottom(){return this.bottom&&this.isMobile},isMiniVariant(){return!this.expandOnHover&&this.miniVariant||this.expandOnHover&&!this.isMouseover},isMobile(){return!this.stateless&&!this.permanent&&c.options.computed.isMobile.call(this)},reactsToClick(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile(){return this.app&&!this.disableResizeWatcher&&!this.permanent&&!this.stateless&&!this.temporary},reactsToResize(){return!this.disableResizeWatcher&&!this.stateless},reactsToRoute(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},showOverlay(){return!this.hideOverlay&&this.isActive&&(this.isMobile||this.temporary)},styles(){const t=this.isBottom?"translateY":"translateX";return{height:Object(m["g"])(this.height),top:this.isBottom?"auto":Object(m["g"])(this.computedTop),maxHeight:null!=this.computedMaxHeight?`calc(100% - ${Object(m["g"])(this.computedMaxHeight)})`:void 0,transform:`${t}(${Object(m["g"])(this.computedTransform,"%")})`,width:Object(m["g"])(this.computedWidth)}}},watch:{$route:"onRouteChange",isActive(t){this.$emit("input",t)},isMobile(t,e){!t&&this.isActive&&!this.temporary&&this.removeOverlay(),null!=e&&this.reactsToResize&&this.reactsToMobile&&(this.isActive=!t)},permanent(t){t&&(this.isActive=!0)},showOverlay(t){t?this.genOverlay():this.removeOverlay()},value(t){this.permanent||(null!=t?t!==this.isActive&&(this.isActive=t):this.init())},expandOnHover:"updateMiniVariant",isMouseover(t){this.updateMiniVariant(!t)}},beforeMount(){this.init()},methods:{calculateTouchArea(){const t=this.$el.parentNode;if(!t)return;const e=t.getBoundingClientRect();this.touchArea={left:e.left+50,right:e.right-50}},closeConditional(){return this.isActive&&!this._isDestroyed&&this.reactsToClick},genAppend(){return this.genPosition("append")},genBackground(){const t={height:"100%",width:"100%",src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img(t):this.$createElement(n["a"],{props:t});return this.$createElement("div",{staticClass:"v-navigation-drawer__image"},[e])},genDirectives(){const t=[{name:"click-outside",value:{handler:()=>{this.isActive=!1},closeConditional:this.closeConditional,include:this.getOpenDependentElements}}];return this.touchless||this.stateless||t.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),t},genListeners(){const t={transitionend:t=>{if(t.target!==t.currentTarget)return;this.$emit("transitionend",t);const e=document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}};return this.miniVariant&&(t.click=()=>this.$emit("update:mini-variant",!1)),this.expandOnHover&&(t.mouseenter=()=>this.isMouseover=!0,t.mouseleave=()=>this.isMouseover=!1),t},genPosition(t){const e=Object(m["p"])(this,t);return e?this.$createElement("div",{staticClass:"v-navigation-drawer__"+t},e):e},genPrepend(){return this.genPosition("prepend")},genContent(){return this.$createElement("div",{staticClass:"v-navigation-drawer__content"},this.$slots.default)},genBorder(){return this.$createElement("div",{staticClass:"v-navigation-drawer__border"})},init(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:this.temporary||(this.isActive=!this.isMobile)},onRouteChange(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},swipeLeft(t){this.isActive&&this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(this.right&&t.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},swipeRight(t){this.isActive&&!this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(!this.right&&t.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},updateApplication(){if(!this.isActive||this.isMobile||this.temporary||!this.$el)return 0;const t=Number(this.computedWidth);return isNaN(t)?this.$el.clientWidth:t},updateMiniVariant(t){this.miniVariant!==t&&this.$emit("update:mini-variant",t)}},render(t){const e=[this.genPrepend(),this.genContent(),this.genAppend(),this.genBorder()];return(this.src||Object(m["p"])(this,"img"))&&e.unshift(this.genBackground()),t(this.tag,this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,directives:this.genDirectives(),on:this.genListeners()}),e)}})},f7fe:function(t,e,i){(function(e){var i="Expected a function",n=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function("return this")(),p=Object.prototype,f=p.toString,m=Math.max,g=Math.min,y=function(){return d.Date.now()};function v(t,e,n){var r,o,s,a,l,c,u=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError(i);function f(e){var i=r,n=o;return r=o=void 0,u=e,a=t.apply(n,i),a}function v(t){return u=t,l=setTimeout(S,e),h?f(t):a}function b(t){var i=t-c,n=t-u,r=e-i;return d?g(r,s-n):r}function x(t){var i=t-c,n=t-u;return void 0===c||i>=e||i<0||d&&n>=s}function S(){var t=y();if(x(t))return T(t);l=setTimeout(S,b(t))}function T(t){return l=void 0,p&&r?f(t):(r=o=void 0,a)}function C(){void 0!==l&&clearTimeout(l),u=0,r=c=o=l=void 0}function O(){return void 0===l?a:T(y())}function k(){var t=y(),i=x(t);if(r=arguments,o=this,c=t,i){if(void 0===l)return v(c);if(d)return l=setTimeout(S,e),f(c)}return void 0===l&&(l=setTimeout(S,e)),a}return e=w(e)||0,_(n)&&(h=!!n.leading,d="maxWait"in n,s=d?m(w(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),k.cancel=C,k.flush=O,k}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){return!!t&&"object"==typeof t}function x(t){return"symbol"==typeof t||b(t)&&f.call(t)==r}function w(t){if("number"==typeof t)return t;if(x(t))return n;if(_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var i=a.test(t);return i||l.test(t)?c(t.slice(2),i?2:8):s.test(t)?n:+t}t.exports=v}).call(this,i("c8ba"))},f876:function(t,e,i){"use strict";i.d(e,"d",(function(){return a})),i.d(e,"c",(function(){return l})),i.d(e,"b",(function(){return c})),i.d(e,"a",(function(){return u})),i.d(e,"e",(function(){return h})),i.d(e,"i",(function(){return f})),i.d(e,"B",(function(){return g})),i.d(e,"y",(function(){return y})),i.d(e,"m",(function(){return v})),i.d(e,"q",(function(){return _})),i.d(e,"l",(function(){return b})),i.d(e,"h",(function(){return x})),i.d(e,"r",(function(){return w})),i.d(e,"n",(function(){return T})),i.d(e,"j",(function(){return C})),i.d(e,"w",(function(){return O})),i.d(e,"f",(function(){return k})),i.d(e,"o",(function(){return A})),i.d(e,"u",(function(){return I})),i.d(e,"z",(function(){return E})),i.d(e,"s",(function(){return M})),i.d(e,"k",(function(){return D})),i.d(e,"x",(function(){return P})),i.d(e,"g",(function(){return L})),i.d(e,"p",(function(){return z})),i.d(e,"v",(function(){return j})),i.d(e,"A",(function(){return B})),i.d(e,"t",(function(){return R}));var n=i("6d8b"),r=i("3842"),o=i("ef59"),s=i("4319"),a=1e3,l=60*a,c=60*l,u=24*c,h=365*u,d={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},p="{yyyy}-{MM}-{dd}",f={year:"{yyyy}",month:"{yyyy}-{MM}",day:p,hour:p+" "+d.hour,minute:p+" "+d.minute,second:p+" "+d.second,millisecond:d.none},m=["year","month","day","hour","minute","second","millisecond"],g=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function y(t,e){return t+="","0000".substr(0,e-t.length)+t}function v(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function _(t){return t===v(t)}function b(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function x(t,e,i,n){var a=r["k"](t),l=a[C(i)](),c=a[O(i)]()+1,u=Math.floor((c-1)/4)+1,h=a[k(i)](),d=a["get"+(i?"UTC":"")+"Day"](),p=a[A(i)](),f=(p-1)%12+1,m=a[I(i)](),g=a[E(i)](),v=a[M(i)](),_=n instanceof s["a"]?n:Object(o["d"])(n||o["a"])||Object(o["c"])(),b=_.getModel("time"),x=b.get("month"),w=b.get("monthAbbr"),S=b.get("dayOfWeek"),T=b.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,l+"").replace(/{yy}/g,l%100+"").replace(/{Q}/g,u+"").replace(/{MMMM}/g,x[c-1]).replace(/{MMM}/g,w[c-1]).replace(/{MM}/g,y(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,y(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,S[d]).replace(/{ee}/g,T[d]).replace(/{e}/g,d+"").replace(/{HH}/g,y(p,2)).replace(/{H}/g,p+"").replace(/{hh}/g,y(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,y(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,y(g,2)).replace(/{s}/g,g+"").replace(/{SSS}/g,y(v,3)).replace(/{S}/g,v+"")}function w(t,e,i,r,o){var s=null;if("string"===typeof i)s=i;else if("function"===typeof i)s=i(t.value,e,{level:t.level});else{var a=n["m"]({},d);if(t.level>0)for(var l=0;l<m.length;++l)a[m[l]]="{primary|"+a[m[l]]+"}";var c=i?!1===i.inherit?i:n["j"](i,a):a,u=S(t.value,o);if(c[u])s=c[u];else if(c.inherit){var h=g.indexOf(u);for(l=h-1;l>=0;--l)if(c[u]){s=c[u];break}s=s||a.none}if(n["s"](s)){var p=null==t.level?0:t.level>=0?t.level:s.length+t.level;p=Math.min(p,s.length-1),s=s[p]}}return x(new Date(t.value),s,o,r)}function S(t,e){var i=r["k"](t),n=i[O(e)]()+1,o=i[k(e)](),s=i[A(e)](),a=i[I(e)](),l=i[E(e)](),c=i[M(e)](),u=0===c,h=u&&0===l,d=h&&0===a,p=d&&0===s,f=p&&1===o,m=f&&1===n;return m?"year":f?"month":p?"day":d?"hour":h?"minute":u?"second":"millisecond"}function T(t,e,i){var n="number"===typeof t?r["k"](t):t;switch(e=e||S(t,i),e){case"year":return n[C(i)]();case"half-year":return n[O(i)]()>=6?1:0;case"quarter":return Math.floor((n[O(i)]()+1)/4);case"month":return n[O(i)]();case"day":return n[k(i)]();case"half-day":return n[A(i)]()/24;case"hour":return n[A(i)]();case"minute":return n[I(i)]();case"second":return n[E(i)]();case"millisecond":return n[M(i)]()}}function C(t){return t?"getUTCFullYear":"getFullYear"}function O(t){return t?"getUTCMonth":"getMonth"}function k(t){return t?"getUTCDate":"getDate"}function A(t){return t?"getUTCHours":"getHours"}function I(t){return t?"getUTCMinutes":"getMinutes"}function E(t){return t?"getUTCSeconds":"getSeconds"}function M(t){return t?"getUTCMilliseconds":"getMilliseconds"}function D(t){return t?"setUTCFullYear":"setFullYear"}function P(t){return t?"setUTCMonth":"setMonth"}function L(t){return t?"setUTCDate":"setDate"}function z(t){return t?"setUTCHours":"setHours"}function j(t){return t?"setUTCMinutes":"setMinutes"}function B(t){return t?"setUTCSeconds":"setSeconds"}function R(t){return t?"setUTCMilliseconds":"setMilliseconds"}},f934:function(t,e,i){"use strict";i.d(e,"c",(function(){return h})),i.d(e,"a",(function(){return d})),i.d(e,"d",(function(){return p})),i.d(e,"b",(function(){return f}));var n=i("6d8b"),r=i("9850"),o=i("3842"),s=i("eda2"),a=n["k"],l=["left","right","top","bottom","width","height"],c=[["width","left","right"],["height","top","bottom"]];function u(t,e,i,n,r){var o=0,s=0;null==n&&(n=1/0),null==r&&(r=1/0);var a=0;e.eachChild((function(l,c){var u,h,d=l.getBoundingRect(),p=e.childAt(c+1),f=p&&p.getBoundingRect();if("horizontal"===t){var m=d.width+(f?-f.x+d.x:0);u=o+m,u>n||l.newline?(o=0,u=m,s+=a+i,a=d.height):a=Math.max(a,d.height)}else{var g=d.height+(f?-f.y+d.y:0);h=s+g,h>r||l.newline?(o+=a+i,s=0,h=g,a=d.width):a=Math.max(a,d.width)}l.newline||(l.x=o,l.y=s,l.markRedraw(),"horizontal"===t?o=u+i:s=h+i)}))}n["i"](u,"vertical"),n["i"](u,"horizontal");function h(t,e,i){i=s["g"](i||0);var n=e.width,a=e.height,l=Object(o["l"])(t.left,n),c=Object(o["l"])(t.top,a),u=Object(o["l"])(t.right,n),h=Object(o["l"])(t.bottom,a),d=Object(o["l"])(t.width,n),p=Object(o["l"])(t.height,a),f=i[2]+i[0],m=i[1]+i[3],g=t.aspect;switch(isNaN(d)&&(d=n-u-m-l),isNaN(p)&&(p=a-h-f-c),null!=g&&(isNaN(d)&&isNaN(p)&&(g>n/a?d=.8*n:p=.8*a),isNaN(d)&&(d=g*p),isNaN(p)&&(p=d/g)),isNaN(l)&&(l=n-u-d-m),isNaN(c)&&(c=a-h-p-f),t.left||t.right){case"center":l=n/2-d/2-i[3];break;case"right":l=n-d-m;break}switch(t.top||t.bottom){case"middle":case"center":c=a/2-p/2-i[0];break;case"bottom":c=a-p-f;break}l=l||0,c=c||0,isNaN(d)&&(d=n-m-l-(u||0)),isNaN(p)&&(p=a-f-c-(h||0));var y=new r["a"](l+i[3],c+i[0],d,p);return y.margin=i,y}function d(t){var e=t.layoutMode||t.constructor.layoutMode;return n["z"](e)?e:e?{type:e}:null}function p(t,e,i){var r=i&&i.ignoreSize;!n["s"](r)&&(r=[r,r]);var o=l(c[0],0),s=l(c[1],1);function l(i,n){var o={},s=0,l={},c=0,d=2;if(a(i,(function(e){l[e]=t[e]})),a(i,(function(t){u(e,t)&&(o[t]=l[t]=e[t]),h(o,t)&&s++,h(l,t)&&c++})),r[n])return h(e,i[1])?l[i[2]]=null:h(e,i[2])&&(l[i[1]]=null),l;if(c!==d&&s){if(s>=d)return o;for(var p=0;p<i.length;p++){var f=i[p];if(!u(o,f)&&u(t,f)){o[f]=t[f];break}}return o}return l}function u(t,e){return t.hasOwnProperty(e)}function h(t,e){return null!=t[e]&&"auto"!==t[e]}function d(t,e,i){a(t,(function(t){e[t]=i[t]}))}d(c[0],t,o),d(c[1],t,s)}function f(t){return m({},t)}function m(t,e){return e&&t&&a(l,(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t}},f95e:function(t,e,i){"use strict";i.d(e,"a",(function(){return k}));var n=i("2cf4"),r=i("6d8b"),o=i("21a1"),s=i("6fd3"),a=i("3437"),l=i("5210"),c=i("9850"),u=i("4bc4");function h(){return!1}function d(t,e,i){var n=r["f"](),o=e.getWidth(),s=e.getHeight(),a=n.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=o+"px",a.height=s+"px",n.setAttribute("data-zr-dom-id",t)),n.width=o*i,n.height=s*i,n}var p=function(t){function e(e,i,o){var s,a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,o=o||n["e"],"string"===typeof e?s=d(e,i,o):r["z"](e)&&(s=e,e=s.id),a.id=e,a.dom=s;var l=s.style;return l&&(s.onselectstart=h,l.webkitUserSelect="none",l.userSelect="none",l.webkitTapHighlightColor="rgba(0,0,0,0)",l["-webkit-touch-callout"]="none",l.padding="0",l.margin="0",l.borderWidth="0"),a.domBack=null,a.ctxBack=null,a.painter=i,a.config=null,a.dpr=o,a}return Object(o["a"])(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=d("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,i,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r,o=[],s=this.maxRepaintRectCount,a=!1,l=new c["a"](0,0,0,0);function h(t){if(t.isFinite()&&!t.isZero())if(0===o.length){var e=new c["a"](0,0,0,0);e.copy(t),o.push(e)}else{for(var i=!1,n=1/0,r=0,u=0;u<o.length;++u){var h=o[u];if(h.intersect(t)){var d=new c["a"](0,0,0,0);d.copy(h),d.union(t),o[u]=d,i=!0;break}if(a){l.copy(t),l.union(h);var p=t.width*t.height,f=h.width*h.height,m=l.width*l.height,g=m-p-f;g<n&&(n=g,r=u)}}if(a&&(o[r].union(t),i=!0),!i){e=new c["a"](0,0,0,0);e.copy(t),o.push(e)}a||(a=o.length>=s)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var p=t[d];if(p){var f=p.shouldBePainted(i,n,!0,!0),m=p.__isRendered&&(p.__dirty&u["a"]||!f)?p.getPrevPaintRect():null;m&&h(m);var g=f&&(p.__dirty&u["a"]||!p.__isRendered)?p.getPaintRect():null;g&&h(g)}}for(d=this.__prevStartIndex;d<this.__prevEndIndex;++d){p=e[d],f=p.shouldBePainted(i,n,!0,!0);if(p&&(!f||!p.__zr)&&p.__isRendered){m=p.getPrevPaintRect();m&&h(m)}}do{r=!1;for(d=0;d<o.length;)if(o[d].isZero())o.splice(d,1);else{for(var y=d+1;y<o.length;)o[d].intersect(o[y])?(r=!0,o[d].union(o[y]),o.splice(y,1)):y++;d++}}while(r);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var i=this.dpr,n=this.dom,r=n.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),n.width=t*i,n.height=e*i,o&&(o.width=t*i,o.height=e*i,1!==i&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,e,i){var n=this.dom,o=this.ctx,s=n.width,c=n.height;e=e||this.clearColor;var u=this.motionBlur&&!t,h=this.lastFrameAlpha,d=this.dpr,p=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,s/d,c/d));var f=this.domBack;function m(t,i,n,s){if(o.clearRect(t,i,n,s),e&&"transparent"!==e){var c=void 0;r["w"](e)?(c=e.__canvasGradient||Object(a["a"])(o,e,{x:0,y:0,width:n,height:s}),e.__canvasGradient=c):r["x"](e)&&(c=Object(l["c"])(o,e,{dirty:function(){p.setUnpainted(),p.__painter.refresh()}})),o.save(),o.fillStyle=c||e,o.fillRect(t,i,n,s),o.restore()}u&&(o.save(),o.globalAlpha=h,o.drawImage(f,t,i,n,s),o.restore())}!i||u?m(0,0,s,c):i.length&&r["k"](i,(function(t){m(t.x*d,t.y*d,t.width*d,t.height*d)}))},e}(s["a"]),f=p,m=i("98b7"),g=i("0da8"),y=i("22d1"),v=1e5,_=314159,b=.01,x=.001;function w(t){return parseInt(t,10)}function S(t){return!!t&&(!!t.__builtin__||"function"===typeof t.resize&&"function"===typeof t.refresh)}function T(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}var C=function(){function t(t,e,i,o){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var s=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=r["m"]({},i||{}),this.dpr=i.devicePixelRatio||n["e"],this._singleCanvas=s,this.root=t;var a=t.style;a&&(a.webkitTapHighlightColor="transparent",a.webkitUserSelect="none",a.userSelect="none",a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var l=this._zlevelList;this._prevDisplayList=[];var c=this._layers;if(s){var u=t,h=u.width,d=u.height;null!=i.width&&(h=i.width),null!=i.height&&(d=i.height),this.dpr=i.devicePixelRatio||1,u.width=h*this.dpr,u.height=d*this.dpr,this._width=h,this._height=d;var p=new f(u,this,this.dpr);p.__builtin__=!0,p.initContext(),c[_]=p,p.zlevel=_,l.push(_),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var m=this._domRoot=T(this._width,this._height);t.appendChild(m)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var r=0;r<n.length;r++){var o=n[r],s=this._layers[o];if(!s.__builtin__&&s.refresh){var a=0===r?this._backgroundColor:null;s.refresh(a)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){for(var n,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var s=t[o];s.__inHover&&(i||(i=this._hoverlayer=this.getLayer(v)),n||(n=i.ctx,n.save()),Object(l["a"])(n,s,r,o===e-1))}n&&n.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(v)},t.prototype.paintOne=function(t,e){Object(l["b"])(t,e)},t.prototype._paintList=function(t,e,i,n){if(this._redrawId===n){i=i||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e,i),o=r.finished,s=r.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var a=this;Object(m["a"])((function(){a._paintList(t,e,i,n)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(_).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer((function(n){n.virtual&&t.drawImage(n.dom,0,0,e,i)}))},t.prototype._doPaintList=function(t,e,i){for(var n=this,o=[],s=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var l=this._zlevelList[a],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||i)&&o.push(c)}for(var u=!0,h=!1,d=function(r){var a,l=o[r],c=l.ctx,d=s&&l.createRepaintRects(t,e,p._width,p._height),f=i?l.__startIndex:l.__drawIndex,m=!i&&l.incremental&&Date.now,g=m&&Date.now(),y=l.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,y,d);else if(f===l.__startIndex){var v=t[f];v.incremental&&v.notClear&&!i||l.clear(!1,y,d)}-1===f&&(console.error("For some unknown reason. drawIndex is -1"),f=l.__startIndex);var _=function(e){var i={inHover:!1,allClipped:!1,prevEl:null,viewWidth:n._width,viewHeight:n._height};for(a=f;a<l.__endIndex;a++){var r=t[a];if(r.__inHover&&(h=!0),n._doPaintEl(r,l,s,e,i,a===l.__endIndex-1),m){var o=Date.now()-g;if(o>15)break}}i.prevElClipPaths&&c.restore()};if(d)if(0===d.length)a=l.__endIndex;else for(var b=p.dpr,x=0;x<d.length;++x){var w=d[x];c.save(),c.beginPath(),c.rect(w.x*b,w.y*b,w.width*b,w.height*b),c.clip(),_(w),c.restore()}else c.save(),_(),c.restore();l.__drawIndex=a,l.__drawIndex<l.__endIndex&&(u=!1)},p=this,f=0;f<o.length;f++)d(f);return y["a"].wxa&&r["k"](this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:u,needsRefreshHover:h}},t.prototype._doPaintEl=function(t,e,i,n,r,o){var s=e.ctx;if(i){var a=t.getPaintRect();(!n||a&&a.intersect(n))&&(Object(l["a"])(s,t,r,o),t.setPrevPaintRect(a))}else Object(l["a"])(s,t,r,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=_);var i=this._layers[t];return i||(i=new f("zr_"+t,this,this.dpr),i.zlevel=t,i.__builtin__=!0,this._layerConfig[t]?r["G"](i,this._layerConfig[t],!0):this._layerConfig[t-b]&&r["G"](i,this._layerConfig[t-b],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},t.prototype.insertLayer=function(t,e){var i=this._layers,n=this._zlevelList,o=n.length,s=this._domRoot,a=null,l=-1;if(i[t])r["E"]("ZLevel "+t+" has been used already");else if(S(e)){if(o>0&&t>n[0]){for(l=0;l<o-1;l++)if(n[l]<t&&n[l+1]>t)break;a=i[n[l]]}if(n.splice(l+1,0,t),i[t]=e,!e.virtual)if(a){var c=a.dom;c.nextSibling?s.insertBefore(e.dom,c.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom);e.__painter=this}else r["E"]("Layer of zlevel "+t+" is not valid")},t.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var r=i[n];t.call(e,this._layers[r],r)}},t.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var r=i[n],o=this._layers[r];o.__builtin__&&t.call(e,o,r)}},t.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var r=i[n],o=this._layers[r];o.__builtin__||t.call(e,o,r)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){a&&(a.__endIndex!==t&&(a.__dirty=!0),a.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var i=1;i<t.length;i++){var n=t[i];if(n.zlevel!==t[i-1].zlevel||n.incremental){this._needsManuallyCompositing=!0;break}}var o,s,a=null,l=0;for(s=0;s<t.length;s++){n=t[s];var c=n.zlevel,h=void 0;o!==c&&(o=c,l=0),n.incremental?(h=this.getLayer(c+x,this._needsManuallyCompositing),h.incremental=!0,l=1):h=this.getLayer(c+(l>0?b:0),this._needsManuallyCompositing),h.__builtin__||r["E"]("ZLevel "+c+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==s&&(h.__dirty=!0),h.__startIndex=s,h.incremental?h.__drawIndex=-1:h.__drawIndex=s,e(s),a=h),n.__dirty&u["a"]&&!n.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=s))}e(s),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,r["k"](this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?r["G"](i[t],e,!0):i[t]=e;for(var n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];if(o===t||o===t+b){var s=this._layers[o];r["G"](s,i[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(r["q"](i,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){for(var r in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(_).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[_].dom;var e=new f("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,r=e.dom.height;this.eachLayer((function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,r):t.renderToCanvas&&(i.save(),t.renderToCanvas(i),i.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),a=0,c=s.length;a<c;a++){var u=s[a];Object(l["a"])(i,u,o,a===c-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var s=this.root,a=document.defaultView.getComputedStyle(s);return(s[n]||w(a[i])||w(s.style[i]))-(w(a[r])||0)-(w(a[o])||0)|0},t.prototype.pathToImage=function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),o=t.getBoundingRect(),s=t.style,a=s.shadowBlur*e,c=s.shadowOffsetX*e,u=s.shadowOffsetY*e,h=t.hasStroke()?s.lineWidth:0,d=Math.max(h/2,-c+a),p=Math.max(h/2,c+a),f=Math.max(h/2,-u+a),m=Math.max(h/2,u+a),y=o.width+d+p,v=o.height+f+m;i.width=y*e,i.height=v*e,n.scale(e,e),n.clearRect(0,0,y,v),n.dpr=e;var _={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=d-o.x,t.y=f-o.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Object(l["a"])(n,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var b=new g["a"]({style:{x:0,y:0,image:i}});return r["m"](t,_),b},t}(),O=C;function k(t){t.registerPainter("canvas",O)}},fa9e:function(t,e,i){},faa1:function(t,e,i){"use strict";var n,r="object"===typeof Reflect?Reflect:null,o=r&&"function"===typeof r.apply?r.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};function s(t){console&&console.warn&&console.warn(t)}n=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!==t};function l(){l.init.call(this)}t.exports=l,t.exports.once=b,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?l.defaultMaxListeners:t._maxListeners}function d(t,e,i,n){var r,o,a;if(u(i),o=t._events,void 0===o?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),o=t._events),a=o[e]),void 0===a)a=o[e]=i,++t._eventsCount;else if("function"===typeof a?a=o[e]=n?[i,a]:[a,i]:n?a.unshift(i):a.push(i),r=h(t),r>0&&a.length>r&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,s(l)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},r=p.bind(n);return r.listener=i,n.wrapFn=r,r}function m(t,e,i){var n=t._events;if(void 0===n)return[];var r=n[e];return void 0===r?[]:"function"===typeof r?i?[r.listener||r]:[r]:i?_(r):y(r,r.length)}function g(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"===typeof i)return 1;if(void 0!==i)return i.length}return 0}function y(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}function v(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function _(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}function b(t,e){return new Promise((function(i,n){function r(i){t.removeListener(e,o),n(i)}function o(){"function"===typeof t.removeListener&&t.removeListener("error",r),i([].slice.call(arguments))}w(t,e,o,{once:!0}),"error"!==e&&x(t,r,{once:!0})}))}function x(t,e,i){"function"===typeof t.on&&w(t,"error",e,i)}function w(t,e,i,n){if("function"===typeof t.on)n.once?t.once(e,i):t.on(e,i);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(o){n.once&&t.removeEventListener(e,r),i(o)}))}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=r[t];if(void 0===l)return!1;if("function"===typeof l)o(l,this,e);else{var c=l.length,u=y(l,c);for(i=0;i<c;++i)o(u[i],this,e)}return!0},l.prototype.addListener=function(t,e){return d(this,t,e,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,e){return d(this,t,e,!0)},l.prototype.once=function(t,e){return u(e),this.on(t,f(this,t,e)),this},l.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,f(this,t,e)),this},l.prototype.removeListener=function(t,e){var i,n,r,o,s;if(u(e),n=this._events,void 0===n)return this;if(i=n[t],void 0===i)return this;if(i===e||i.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!==typeof i){for(r=-1,o=i.length-1;o>=0;o--)if(i[o]===e||i[o].listener===e){s=i[o].listener,r=o;break}if(r<0)return this;0===r?i.shift():v(i,r),1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var e,i,n;if(i=this._events,void 0===i)return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var r,o=Object.keys(i);for(n=0;n<o.length;++n)r=o[n],"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=i[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},l.prototype.listeners=function(t){return m(this,t,!0)},l.prototype.rawListeners=function(t){return m(this,t,!1)},l.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},l.prototype.listenerCount=g,l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},fab2:function(t,e,i){"use strict";var n=i("6d8b"),r=i("2dc5"),o=i("cb11"),s=i("76a5"),a=i("2306"),l=i("861c"),c=i("7837"),u=i("4319"),h=i("3842"),d=i("a15a"),p=i("1687"),f=i("401b"),m=i("697e"),g=i("ca80"),y=i("9850");function v(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(!n.defaultAttr.ignore){var r=n.label,o=r.getComputedTransform(),s=r.getBoundingRect(),a=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,c=s.clone();c.applyTransform(o),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=a?new g["a"](s,o):null;e.push({label:r,labelLine:n.labelLine,rect:c,localRect:s,obb:u,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:a,transform:o})}}return e}function _(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var i=new y["a"](0,0,0,0);function n(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var r=0;r<t.length;r++){var o=t[r],s=o.axisAligned,a=o.localRect,l=o.transform,c=o.label,u=o.labelLine;i.copy(o.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var h=o.obb,d=!1,p=0;p<e.length;p++){var f=e[p];if(i.intersect(f.rect)){if(s&&f.axisAligned){d=!0;break}if(f.obb||(f.obb=new g["a"](f.localRect,f.transform)),h||(h=new g["a"](a,l)),h.intersect(f.obb)){d=!0;break}}}d?(n(c),u&&n(u)):(c.attr("ignore",o.defaultAttr.ignore),u&&u.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}var b=Math.PI,x=function(){function t(t,e){this.group=new r["a"],this.opt=e,this.axisModel=t,Object(n["j"])(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new r["a"]({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return t.prototype.hasBuilder=function(t){return!!w[t]},t.prototype.add=function(t){w[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,i){var n,r,o=Object(h["n"])(e-t);return Object(h["g"])(o)?(r=i>0?"top":"bottom",n="center"):Object(h["g"])(o-b)?(r=i>0?"bottom":"top",n="center"):(r="middle",n=o>0&&o<b?i>0?"right":"left":i>0?"left":"right"),{rotation:o,textAlign:n,textVerticalAlign:r}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),w={axisLine:function(t,e,i,r){var s=e.get(["axisLine","show"]);if("auto"===s&&t.handleAutoShown&&(s=t.handleAutoShown("axisLine")),s){var a=e.axis.getExtent(),l=r.transform,c=[a[0],0],u=[a[1],0];l&&(Object(f["b"])(c,c,l),Object(f["b"])(u,u,l));var h=Object(n["m"])({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),p=new o["a"]({subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:h,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});p.anid="line",i.add(p);var m=e.get(["axisLine","symbol"]);if(null!=m){var g=e.get(["axisLine","symbolSize"]);"string"===typeof m&&(m=[m,m]),"string"!==typeof g&&"number"!==typeof g||(g=[g,g]);var y=Object(d["b"])(e.get(["axisLine","symbolOffset"])||0,g),v=g[0],_=g[1];Object(n["k"])([{rotate:t.rotation+Math.PI/2,offset:y[0],r:0},{rotate:t.rotation-Math.PI/2,offset:y[1],r:Math.sqrt((c[0]-u[0])*(c[0]-u[0])+(c[1]-u[1])*(c[1]-u[1]))}],(function(e,n){if("none"!==m[n]&&null!=m[n]){var r=Object(d["a"])(m[n],-v/2,-_/2,v,_,h.stroke,!0),o=e.r+e.offset;r.attr({rotation:e.rotate,x:c[0]+o*Math.cos(t.rotation),y:c[1]-o*Math.sin(t.rotation),silent:!0,z2:11}),i.add(r)}}))}}},axisTickLabel:function(t,e,i,r){var o=I(i,r,e,t),s=M(i,r,e,t);if(T(e,s,o),E(i,r,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var a=v(Object(n["F"])(s,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})));_(a)}},axisName:function(t,e,i,r){var o=Object(n["L"])(t.axisName,e.get("name"));if(o){var u,h,d=e.get("nameLocation"),p=t.nameDirection,f=e.getModel("nameTextStyle"),m=e.get("nameGap")||0,g=e.axis.getExtent(),y=g[0]>g[1]?-1:1,v=["start"===d?g[0]-y*m:"end"===d?g[1]+y*m:(g[0]+g[1])/2,k(d)?t.labelOffset+p*m:0],_=e.get("nameRotate");null!=_&&(_=_*b/180),k(d)?u=x.innerTextLayout(t.rotation,null!=_?_:t.rotation,p):(u=S(t.rotation,d,_||0,g),h=t.axisNameAvailableWidth,null!=h&&(h=Math.abs(h/Math.sin(u.rotation)),!isFinite(h)&&(h=null)));var w=f.getFont(),T=e.get("nameTruncate",!0)||{},C=T.ellipsis,O=Object(n["L"])(t.nameTruncateMaxWidth,T.maxWidth,h),A=new s["a"]({x:v[0],y:v[1],rotation:u.rotation,silent:x.isLabelSilent(e),style:Object(c["a"])(f,{text:o,font:w,overflow:"truncate",width:O,ellipsis:C,fill:f.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:f.get("align")||u.textAlign,verticalAlign:f.get("verticalAlign")||u.textVerticalAlign}),z2:1});if(a["setTooltipConfig"]({el:A,componentModel:e,itemName:o}),A.__fullText=o,A.anid="name",e.get("triggerEvent")){var I=x.makeAxisEventDataBase(e);I.targetType="axisName",I.name=o,Object(l["a"])(A).eventData=I}r.add(A),A.updateTransform(),i.add(A),A.decomposeTransform()}}};function S(t,e,i,n){var r,o,s=Object(h["n"])(i-t),a=n[0]>n[1],l="start"===e&&!a||"start"!==e&&a;return Object(h["g"])(s-b/2)?(o=l?"bottom":"top",r="center"):Object(h["g"])(s-1.5*b)?(o=l?"top":"bottom",r="center"):(o="middle",r=s<1.5*b&&s>b/2?l?"left":"right":l?"right":"left"),{rotation:s,textAlign:r,textVerticalAlign:o}}function T(t,e,i){if(!Object(m["i"])(t.axis)){var n=t.get(["axisLabel","showMinLabel"]),r=t.get(["axisLabel","showMaxLabel"]);e=e||[],i=i||[];var o=e[0],s=e[1],a=e[e.length-1],l=e[e.length-2],c=i[0],u=i[1],h=i[i.length-1],d=i[i.length-2];!1===n?(C(o),C(c)):O(o,s)&&(n?(C(s),C(u)):(C(o),C(c))),!1===r?(C(a),C(h)):O(l,a)&&(r?(C(l),C(d)):(C(a),C(h)))}}function C(t){t&&(t.ignore=!0)}function O(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(i&&n){var r=p["c"]([]);return p["f"](r,r,-t.rotation),i.applyTransform(p["e"]([],r,t.getLocalTransform())),n.applyTransform(p["e"]([],r,e.getLocalTransform())),i.intersect(n)}}function k(t){return"middle"===t||"center"===t}function A(t,e,i,n,r){for(var s=[],a=[],l=[],c=0;c<t.length;c++){var u=t[c].coord;a[0]=u,a[1]=0,l[0]=u,l[1]=i,e&&(Object(f["b"])(a,a,e),Object(f["b"])(l,l,e));var h=new o["a"]({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:l[0],y2:l[1]},style:n,z2:2,autoBatch:!0,silent:!0});h.anid=r+"_"+t[c].tickValue,s.push(h)}return s}function I(t,e,i,r){var o=i.axis,s=i.getModel("axisTick"),a=s.get("show");if("auto"===a&&r.handleAutoShown&&(a=r.handleAutoShown("axisTick")),a&&!o.scale.isBlank()){for(var l=s.getModel("lineStyle"),c=r.tickDirection*s.get("length"),u=o.getTicksCoords(),h=A(u,e.transform,c,Object(n["j"])(l.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<h.length;d++)t.add(h[d]);return h}}function E(t,e,i,r){var o=i.axis,s=i.getModel("minorTick");if(s.get("show")&&!o.scale.isBlank()){var a=o.getMinorTicksCoords();if(a.length)for(var l=s.getModel("lineStyle"),c=r*s.get("length"),u=Object(n["j"])(l.getLineStyle(),Object(n["j"])(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),h=0;h<a.length;h++)for(var d=A(a[h],e.transform,c,u,"minorticks_"+h),p=0;p<d.length;p++)t.add(d[p])}}function M(t,e,i,r){var o=i.axis,a=Object(n["L"])(r.axisLabelShow,i.get(["axisLabel","show"]));if(a&&!o.scale.isBlank()){var h=i.getModel("axisLabel"),d=h.get("margin"),p=o.getViewLabels(),f=(Object(n["L"])(r.labelRotate,h.get("rotate"))||0)*b/180,m=x.innerTextLayout(r.rotation,f,r.labelDirection),g=i.getCategories&&i.getCategories(!0),y=[],v=x.isLabelSilent(i),_=i.get("triggerEvent");return Object(n["k"])(p,(function(a,p){var f="ordinal"===o.scale.type?o.scale.getRawOrdinalNumber(a.tickValue):a.tickValue,b=a.formattedLabel,w=a.rawLabel,S=h;if(g&&g[f]){var T=g[f];Object(n["z"])(T)&&T.textStyle&&(S=new u["a"](T.textStyle,h,i.ecModel))}var C=S.getTextColor()||i.get(["axisLine","lineStyle","color"]),O=o.dataToCoord(f),k=new s["a"]({x:O,y:r.labelOffset+r.labelDirection*d,rotation:m.rotation,silent:v,z2:10+(a.level||0),style:Object(c["a"])(S,{text:b,align:S.getShallow("align",!0)||m.textAlign,verticalAlign:S.getShallow("verticalAlign",!0)||S.getShallow("baseline",!0)||m.textVerticalAlign,fill:"function"===typeof C?C("category"===o.type?w:"value"===o.type?f+"":f,p):C})});if(k.anid="label_"+f,_){var A=x.makeAxisEventDataBase(i);A.targetType="axisLabel",A.value=w,Object(l["a"])(k).eventData=A}e.add(k),k.updateTransform(),y.push(k),t.add(k),k.decomposeTransform()})),y}}e["a"]=x},fadd:function(t,e,i){"use strict";function n(t,e,i){var n;while(t){if(e(t)&&(n=t,i))break;t=t.__hostTarget||t.parent}return n}i.d(e,"a",(function(){return n}))},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("e8b5"),o=i("68ee"),s=i("861d"),a=i("23cb"),l=i("50c4"),c=i("fc6a"),u=i("8418"),h=i("b622"),d=i("1dde"),p=d("slice"),f=h("species"),m=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var i,n,h,d=c(this),p=l(d.length),y=a(t,p),v=a(void 0===e?p:e,p);if(r(d)&&(i=d.constructor,o(i)&&(i===Array||r(i.prototype))?i=void 0:s(i)&&(i=i[f],null===i&&(i=void 0)),i===Array||void 0===i))return m.call(d,y,v);for(n=new(void 0===i?Array:i)(g(v-y,0)),h=0;y<v;y++,h++)y in d&&u(n,h,d[y]);return n.length=h,n}})},fc6a:function(t,e,i){var n=i("44ad"),r=i("1d80");t.exports=function(t){return n(r(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,i){var n=i("4930");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe09:function(t,e,i){"use strict";i.d(e,"b",(function(){return a}));var n=i("c37a"),r=i("5311"),o=i("8547"),s=i("58df");function a(t){t.preventDefault()}e["a"]=Object(s["a"])(n["a"],r["a"],o["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some(e=>this.valueComparator(e,t)):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=n["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:a},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:a},ref:"input"})},onBlur(){this.isFocused=!1},onClick(t){this.onChange(),this.$emit("click",t)},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const i=e.length;e=e.filter(e=>!this.valueComparator(e,t)),e.length===i&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(){this.isFocused=!0},onKeydown(t){}}})},fe6c:function(t,e,i){"use strict";i.d(e,"b",(function(){return s}));var n=i("2b0e"),r=i("80d2");const o={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function s(t=[]){return n["a"].extend({name:"positionable",props:t.length?Object(r["l"])(o,t):o})}e["a"]=s()},fea9:function(t,e,i){var n=i("da84");t.exports=n.Promise},ff2e:function(t,e,i){"use strict";i.d(e,"b",(function(){return h})),i.d(e,"d",(function(){return f})),i.d(e,"c",(function(){return m})),i.d(e,"a",(function(){return g})),i.d(e,"e",(function(){return y})),i.d(e,"f",(function(){return v}));var n=i("6d8b"),r=i("2306"),o=i("e86a"),s=i("eda2"),a=i("1687"),l=i("697e"),c=i("fab2"),u=i("7837");function h(t){var e,i=t.get("type"),n=t.getModel(i+"Style");return"line"===i?(e=n.getLineStyle(),e.fill=null):"shadow"===i&&(e=n.getAreaStyle(),e.stroke=null),e}function d(t,e,i,n,r){var a=i.get("value"),l=f(a,e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),c=i.getModel("label"),h=s["g"](c.get("padding")||0),d=c.getFont(),m=o["e"](l,d),g=r.position,y=m.width+h[1]+h[3],v=m.height+h[0]+h[2],_=r.align;"right"===_&&(g[0]-=y),"center"===_&&(g[0]-=y/2);var b=r.verticalAlign;"bottom"===b&&(g[1]-=v),"middle"===b&&(g[1]-=v/2),p(g,y,v,n);var x=c.get("backgroundColor");x&&"auto"!==x||(x=e.get(["axisLine","lineStyle","color"])),t.label={x:g[0],y:g[1],style:Object(u["a"])(c,{text:l,font:d,fill:c.getTextColor(),padding:h,backgroundColor:x}),z2:10}}function p(t,e,i,n){var r=n.getWidth(),o=n.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+i,o)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function f(t,e,i,r,o){t=e.scale.parse(t);var s=e.scale.getLabel({value:t},{precision:o.precision}),a=o.formatter;if(a){var c={value:l["c"](e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};n["k"](r,(function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,r=e&&e.getDataParams(n);r&&c.seriesData.push(r)})),n["A"](a)?s=a.replace("{value}",s):n["v"](a)&&(s=a(c))}return s}function m(t,e,i){var n=a["b"]();return a["f"](n,n,i.rotation),a["h"](n,n,i.position),r["applyTransform"]([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function g(t,e,i,n,r,o){var s=c["a"].innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=r.get(["label","margin"]),d(e,n,r,o,{position:m(n.axis,t,i),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function y(t,e,i){return i=i||0,{x1:t[i],y1:t[1-i],x2:e[i],y2:e[1-i]}}function v(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}},ff9c:function(t,e,i){"use strict";var n={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"};t.exports={placeholder:n}},fff9:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(){this.framework={}}init(t,e){}}}}]);
//# sourceMappingURL=chunk-vendors.49401d79.js.map