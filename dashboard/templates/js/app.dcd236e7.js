(function(e){function t(t){for(var a,i,o=t[0],u=t[1],l=t[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1c3a":function(e,t,n){},3151:function(e,t,n){},"4e11":function(e){e.exports=JSON.parse('{"features":[{"geometry":{"coordinates":[[5.439195724904118,51.463851463039454],[5.440112441386214,51.46316294052318],[5.441033145486187,51.46246277758852],[5.441944050255768,51.46177410846247],[5.4428661383141925,51.461074964029585],[5.443774139583749,51.46038709989501],[5.4446870888069006,51.45968535669814],[5.445585210978021,51.45897786999858],[5.4464660778821425,51.458278025500746],[5.447383325011606,51.4575820296201],[5.448296676857908,51.45688834760921],[5.449214371181571,51.456192031402914],[5.4501280565154175,51.45549890108289],[5.4510431225089135,51.454804702146546],[5.451955360017334,51.4541139312381],[5.452879575129715,51.45341776218443],[5.453795196968437,51.45272802657351],[5.454728190674661,51.452042561255844],[5.455661203035422,51.45135946143492],[5.456589152442541,51.450676447016725],[5.45751541752755,51.449992050927584],[5.4584480039972405,51.449301764982124],[5.459373632552244,51.44861405560347],[5.460301876864197,51.44792436867699],[5.4612177225995895,51.44724386863276],[5.462151645874571,51.446560032899505],[5.463076433134342,51.44585740926975],[5.463964453542,51.44515428117048],[5.464856989615941,51.44444980394349]],"type":"LineString"},"properties":{"segmentId":"Segment 1001","value":1445768416.63},"type":"Feature"},{"geometry":{"coordinates":[[5.412694303577713,51.484020497743245],[5.413549887146824,51.483295650542146],[5.41444985463108,51.48259329419893],[5.415359343952774,51.48189918015151],[5.416278965874342,51.48120037335483],[5.417198390491951,51.48050711431316],[5.418108443730434,51.47981259207509],[5.41902975441112,51.47911737648144],[5.419950736424495,51.47842459858436],[5.42086212220074,51.47773746103855],[5.421775817467116,51.47703816299024],[5.422690715328808,51.47634800783455],[5.423604694605639,51.47565981427306],[5.424526753934225,51.474959026802686],[5.425438834312026,51.474269767739074],[5.426367659850879,51.47356918813771],[5.427277204472046,51.47287489981428],[5.428192005004258,51.47218224743525],[5.429106608842563,51.47149375865576],[5.430034282876762,51.4707908490355],[5.430956051695311,51.47009811837503],[5.4318753803327855,51.46939657244574],[5.432793955234108,51.46870354976899],[5.4337061550383785,51.46801005496164],[5.434622848041868,51.467318582590536],[5.435533495648722,51.46662514596331],[5.436447456887443,51.46593418165847],[5.437366822654165,51.46523652026042],[5.438284377537722,51.464540362469855],[5.439195724904117,51.463851463039454]],"type":"LineString"},"properties":{"segmentId":"Segment 1002","value":1594394479.23},"type":"Feature"}],"type":"FeatureCollection"}')},"50de":function(e,t,n){"use strict";n("1c3a")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("a6f4");a["default"].use(r["b"]);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"white",height:"72px","clipped-left":""}},[n("v-toolbar-title",[e._v("ROSE ")]),n("v-spacer"),n("v-stepper",{attrs:{flat:"",width:"80%",height:"100%"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}},[n("v-stepper-header",[n("v-stepper-step",{attrs:{complete:e.page>1,step:"1"}},[e._v(" Input data ")]),n("v-divider"),n("v-stepper-step",{attrs:{complete:e.page>2,step:"2"}},[e._v(" Results ")])],1)],1)],1),2===e.page?n("v-navigation-drawer",{attrs:{clipped:"",app:"",permanent:"",width:"400"}},[n("app-side-bar")],1):e._e(),n("v-main",{attrs:{app:""}},[n("v-stepper",{staticClass:"pa-0",attrs:{flat:""},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}},[n("v-stepper-items",[n("v-stepper-content",{attrs:{step:"1"}},[n("input-data-card",{on:{"go-to-results":e.onShowResultsPage}})],1),n("v-stepper-content",{staticClass:"pa-0",attrs:{step:"2"}},[n("v-card",{staticClass:"pa-0",attrs:{height:"92vh"}},[n("mapbox-map",{attrs:{"access-token":e.accessToken}},[e._l(e.layers,(function(e){return n("v-mapbox-layer",{key:e.id,attrs:{options:e}})})),e.mapLayer?n("map-controls",{attrs:{layer:e.mapLayer}}):e._e()],2),n("chart-dialog")],1)],1)],1)],1)],1)],1)},i=[],o=n("5530"),u=n("80ec"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374",height:"500"}},[n("v-card-title",[e._v(" Input Data ")]),n("v-card-text",[n("v-file-input",{attrs:{label:"Import SOS segments",hint:"Compulsory","prepend-icon":"",required:""},on:{change:e.onSOSinput}}),n("v-file-input",{attrs:{label:"Import Sensar (Optional)","prepend-icon":"",hint:"Optional"},on:{change:e.onSensarInput}}),n("v-file-input",{attrs:{label:"Import Rila (Optional)","prepend-icon":"",hint:"Optional"},on:{change:e.onRilaInput}}),n("v-file-input",{attrs:{label:"Import InfraMon (Optional)","prepend-icon":"",hint:"Optional"},on:{change:e.onInfraMonInput}})],1),n("v-card-actions",[n("v-container",[n("v-row",{attrs:{dense:""}},[n("div",{staticClass:"flex-grow-1"}),n("v-btn",{attrs:{color:"primary",disabled:e.disableRun},on:{click:e.run}},[e._v(" RUN ")])],1),e.errorMessage?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-alert",{attrs:{type:"error"}},[e._v(" "+e._s(e.errorMessage)+" ")])],1)],1):e._e()],1)],1)],1)],1)},c=[],p=n("2f62"),d={data:function(){return{errorMessage:null}},computed:Object(o["a"])(Object(o["a"])({},Object(p["c"])("inputs",["runnerInput","inputValid","message"])),{},{disableRun:function(){return!this.runnerInput}}),watch:{inputValid:function(){this.showErrorMessage(),this.goToResultsPage()}},methods:Object(o["a"])(Object(o["a"])({},Object(p["b"])("inputs",["setSosSegmentInput","setSensarInput","setRilaInput","setInfraMonInput","startRunner"])),{},{onSOSinput:function(e){this.setSosSegmentInput(e)},onSensarInput:function(e){this.setSensarInput(e)},onRilaInput:function(e){this.setRilaInput(e)},onInfraMonInput:function(e){this.setInfraMonInput(e)},run:function(){this.startRunner()},goToResultsPage:function(){var e=this.inputValid;e&&!0===e&&this.$emit("go-to-results",2)},showErrorMessage:function(){var e=this.inputValid;!1===e&&(this.errorMessage=this.message)}})},m=d,f=n("2877"),h=n("6544"),v=n.n(h),y=n("0798"),T=n("8336"),b=n("b0af"),g=n("99d9"),_=n("62ad"),S=n("a523"),x=n("23a7"),I=n("0fd9"),O=Object(f["a"])(m,l,c,!1,null,null,null),E=O.exports;v()(O,{VAlert:y["a"],VBtn:T["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:_["a"],VContainer:S["a"],VFileInput:x["a"],VRow:I["a"]});var V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pa-4 home d-flex flex-column"},[n("v-expansion-panels",{staticClass:"mb-4",model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[n("content-panels",{attrs:{id:"dyn_stiffness",title:"Dynamic Stiffness"}},[n("train-type-list",{attrs:{slot:"trainTypes","train-types":e.trainTypes},on:{"set-train-type":e.setTrainType},slot:"trainTypes"}),n("value-type-selection",{attrs:{slot:"valueTypes","value-types":e.availableValueTypes},on:{"set-value-type":e.setValueType},slot:"valueTypes"})],1),n("content-panels",{attrs:{id:"settlement",title:"Settlement"}},[n("time-slider",{attrs:{slot:"slider","time-indexes":e.timeIndexes},on:{"set-time-index":e.setTimeIndex},slot:"slider"}),n("value-type-selection",{attrs:{slot:"valueTypes","value-types":e.availableValueTypes},on:{"set-value-type":e.setValueType},slot:"valueTypes"})],1)],1)],1)},C=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-expansion-panel",[n("v-expansion-panel-header",{staticClass:"font-weight-bold px-4",on:{transitionend:function(t){return e.onTransitionEnd(t)}}},[e._v(" "+e._s(e.title)+" ")]),n("v-divider"),n("v-expansion-panel-content",{ref:"layerType-"+e.id,staticClass:"mx-n6"},[e._t("slider"),e._t("trainTypes"),e._t("valueTypes")],2)],1)},R=[],w={props:{title:{type:String,required:!0,default:""},id:{type:String,required:!0,defaut:""}},data:function(){return{panelRef:null,layerType:null}},watch:{panelRef:function(){var e=this.panelRef.isActive;e&&this.setLayerType(this.id)}},mounted:function(){this.panelRef=this.$refs["layerType-".concat(this.id)]},methods:Object(o["a"])(Object(o["a"])({},Object(p["b"])("layers",["setLayerType"])),{},{onTransitionEnd:function(e){var t=this.panelRef.isActive,n=e.propertyName;"min-height"!==n&&t&&this.setLayerType(this.id)}})},A=w,M=n("ce7e"),N=n("cd55"),L=n("49e2"),k=n("c865"),P=Object(f["a"])(A,j,R,!1,null,null,null),D=P.exports;v()(P,{VDivider:M["a"],VExpansionPanel:N["a"],VExpansionPanelContent:L["a"],VExpansionPanelHeader:k["a"]});var U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-radio-group",{staticClass:"pa-4",model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},e._l(e.valueTypes,(function(e){return n("v-radio",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)},F=[],J={props:{valueTypes:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{selectedType:this.valueTypes[0].id}},watch:{selectedType:function(){this.setSelectedType()}},mounted:function(){this.setSelectedType()},methods:{setSelectedType:function(){this.$emit("set-value-type",this.selectedType)}}},$=J,Y=n("67b6"),q=n("43a6"),G=Object(f["a"])($,U,F,!1,null,null,null),H=G.exports;v()(G,{VRadio:Y["a"],VRadioGroup:q["a"]});var B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pa-4"},[n("div",{staticClass:"text-body-1 pb-3"},[e._v(" Train type: ")]),n("v-select",{attrs:{items:e.trainTypes,outlined:"",desnse:""},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1)},W=[],z={props:{trainTypes:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{selectedType:null}},watch:{selectedType:function(){this.setTrainType()}},mounted:function(){this.selectedType=this.trainTypes[0]},destroyed:function(){this.setTrainType(null)},methods:{setTrainType:function(){this.$emit("set-train-type",this.selectedType)}}},X=z,Z=n("b974"),K=Object(f["a"])(X,B,W,!1,null,null,null),Q=K.exports;v()(K,{VSelect:Z["a"]});var ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pa-4  mt-5"},[n("div",{staticClass:"text-body-1 pb-3"},[e._v(" Time: ")]),n("v-slider",{attrs:{"thumb-label":!0,min:e.timeIndexes[0],max:e.timeIndexes[e.timeIndexes.length-1]},model:{value:e.selectedIndex,callback:function(t){e.selectedIndex=t},expression:"selectedIndex"}})],1)},te=[],ne={props:{timeIndexes:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{selectedIndex:null}},watch:{selectedIndex:function(){this.setTimeIndex()}},mounted:function(){this.selectedIndex=this.timeIndexes[0]},methods:{setTimeIndex:function(){this.$emit("set-time-index",this.selectedIndex)}}},ae=ne,re=n("ba0d"),se=Object(f["a"])(ae,ee,te,!1,null,null,null),ie=se.exports;v()(se,{VSlider:re["a"]});var oe={components:{ContentPanels:D,TrainTypeList:Q,TimeSlider:ie,ValueTypeSelection:H},data:function(){return{panel:0}},computed:Object(o["a"])(Object(o["a"])({},Object(p["d"])("layers",["availableValueTypes"])),Object(p["c"])("layers",["timeIndexes","trainTypes","params"])),watch:{params:{handler:function(){this.getFeaturesCollection()}}},methods:Object(o["a"])({},Object(p["b"])("layers",["setTrainType","setTimeIndex","setValueType","getFeaturesCollection"]))},ue=oe,le=n("0393"),ce=Object(f["a"])(ue,V,C,!1,null,null,null),pe=ce.exports;v()(ce,{VExpansionPanels:le["a"]});var de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},me=[],fe=(n("d81d"),{inject:["getMap"],props:{layer:{type:Object,default:null}},data:function(){return{map:null}},watch:{map:{handler:function(e){e&&this.addEventsToMap()}}},mounted:function(){var e=this.getMap();e&&(this.map=e)},beforeDestroy:function(){this.removeEventsFromMap()},methods:Object(o["a"])(Object(o["a"])({},Object(p["b"])("charts",["setChartData"])),{},{deferredMountedTo:function(e){this.layer&&(this.map=e)},onClick:function(e){var t=e.features[0].properties.segmentId;console.log("segmentId on click",t),this.setChartData(t)},onMouseEnter:function(){this.map.getCanvas().style.cursor="pointer"},onMouseLeave:function(){this.map.getCanvas().style.cursor=""},addEventsToMap:function(){this.map.on("click",this.layer.id,this.onClick),this.map.on("mouseenter",this.layer.id,this.onMouseEnter),this.map.on("mouseleave",this.layer.id,this.onMouseLeave)},removeEventsFromMap:function(){this.map.off("click",this.layer.id,this.onClick),this.map.off("mouseenter",this.layer.id,this.onMouseEnter),this.map.off("mouseleave",this.layer.id,this.onMouseLeave)}})}),he=fe,ve=Object(f["a"])(he,de,me,!1,null,null,null),ye=ve.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{staticClass:"chart-dialog",attrs:{value:e.openChartDialog,"max-width":"750"},on:{"click:outside":e.onClickClose}},[n("v-card",[n("v-app-bar",{attrs:{flat:"",color:"white"}},[n("v-btn",{attrs:{icon:""},on:{click:e.onClickClose}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-divider"),e.hasDataToDisplayInCharts?n("v-card-text",[n("div",{staticClass:"app-chart"},[n("div",{staticClass:"app-chart__canvas"},[n("std-chart",{attrs:{"mean-values":e.meanValues,"min-values":e.minValues,"max-values":e.maxValues,time:e.time}})],1)])]):e._e()],1)],1)},be=[],ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chart",{staticClass:"line-chart",attrs:{"init-options":e.initOptions,option:e.options,autoresize:""}})},_e=[],Se=n("22b4"),xe=n("f95e"),Ie=n("3620"),Oe=n("4b2a"),Ee=n("9394"),Ve=n("2da7"),Ce=n("5c7f");Object(Se["a"])([xe["a"],Oe["a"],Ie["a"],Ee["a"],Ve["a"]]);var je={name:"StdChart",components:{VChart:Ce["a"]},props:{meanValues:{type:Array,required:!0,default:function(){return[]}},minValues:{type:Array,required:!0,default:function(){return[]}},maxValues:{type:Array,required:!0,default:function(){return[]}},time:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{initOptions:{height:"400px"},baseOptions:{backgroundColor:"rgb(243, 243, 243)",tooltip:{trigger:"axis"}}}},computed:{options:function(){return Object(o["a"])(Object(o["a"])({},this.baseOptions),{},{xAxis:this.xAxis,yAxis:this.yAxis,series:this.series})},xAxis:function(){return{type:"category",name:"Time [d]",nameLocation:"middle",nameGap:30,data:this.time}},yAxis:function(){return{splitLine:{show:!1},type:"value",name:"Vertical displacement [m]",nameLocation:"middle",nameGap:30,splitNumber:8}},series:function(){return[this.maxSeries,this.meanSeries,this.minSeries]},maxSeries:function(){return{name:"max",type:"line",lineStyle:{type:"dotted",opacity:1},areaStyle:{},symbol:"none",data:this.maxValues}},meanSeries:function(){return{name:"mean",type:"line",itemStyle:{color:"#333"},showSymbol:!1,data:this.meanValues}},minSeries:function(){return{name:"min",type:"line",lineStyle:{type:"dotted",opacity:1},areaStyle:{color:"rgb(243, 243, 243)",opacity:1},symbol:"none",data:this.minValues}}}},Re=je,we=Object(f["a"])(Re,ge,_e,!1,null,null,null),Ae=we.exports,Me={components:{StdChart:Ae},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(p["c"])("charts",["minValues","maxValues","meanValues","time"])),Object(p["d"])("charts",["openChartDialog"])),{},{hasDataToDisplayInCharts:function(){return!!(this.minValues.length&&this.maxValues.length&&this.meanValues.length&&this.time.length)}}),methods:Object(o["a"])(Object(o["a"])({},Object(p["b"])("charts",["setOpenChartDialog"])),{},{onClickClose:function(){this.setOpenChartDialog(!1)}})},Ne=Me,Le=n("40dc"),ke=n("169a"),Pe=n("132d"),De=Object(f["a"])(Ne,Te,be,!1,null,null,null),Ue=De.exports;v()(De,{VAppBar:Le["a"],VBtn:T["a"],VCard:b["a"],VCardText:g["b"],VDialog:ke["a"],VDivider:M["a"],VIcon:Pe["a"]});var Fe={components:{MapboxMap:u["a"],InputDataCard:E,AppSideBar:pe,MapControls:ye,ChartDialog:Ue},data:function(){return{accessToken:"pk.eyJ1IjoiaW9taWMiLCJhIjoiY2thZ3g5NDJvMGF4eDJzcWI3NnpraTlybCJ9.2NLC1oDwtP6lBWIsAfEu1A",page:1,layers:[]}},computed:Object(o["a"])({},Object(p["d"])("layers",["mapLayer"])),watch:{mapLayer:function(){this.layers=[],this.mapLayer&&this.layers.push(this.mapLayer)}},methods:{onShowResultsPage:function(e){this.page=e}}},Je=Fe,$e=(n("50de"),n("7496")),Ye=n("f6c4"),qe=n("f774"),Ge=n("2fa4"),He=n("7e85"),Be=n("e516"),We=n("9c54"),ze=n("56a4"),Xe=n("2a7f"),Ze=Object(f["a"])(Je,s,i,!1,null,"7f58c0af",null),Ke=Ze.exports;v()(Ze,{VApp:$e["a"],VAppBar:Le["a"],VCard:b["a"],VDivider:M["a"],VMain:Ye["a"],VNavigationDrawer:qe["a"],VSpacer:Ge["a"],VStepper:He["a"],VStepperContent:Be["a"],VStepperHeader:We["a"],VStepperItems:We["b"],VStepperStep:ze["a"],VToolbarTitle:Xe["a"]});var Qe=n("1da1"),et=(n("96cf"),n("53ca")),tt=(n("07ac"),n("bc3a")),nt=n.n(tt),at=function(e){var t=Object.values(e).some((function(e){return null===e}));if(!t)return nt()({method:"get",url:"".concat("http://localhost:5000","/settlement"),params:e}).then((function(e){var t=e.data;return console.log("data get-settlement",JSON.stringify(t)),"object"===Object(et["a"])(t)?t:JSON.parse(t)}))},rt=function(e){var t=Object.values(e).some((function(e){return null===e}));if(!t)return nt()({method:"get",url:"".concat("http://localhost:5000","/dynamic_stiffness"),params:e}).then((function(e){var t=e.data;return console.log("data get-dynamic-stiffnes",JSON.stringify(t)),"object"===Object(et["a"])(t)?t:JSON.parse(t)}))},st=n("2909"),it=(n("159b"),n("99af"),function(e,t){var n=[];return e.forEach((function(e,a){n=[].concat(Object(st["a"])(n),[e,t[a]])})),n.push("#000066"),{"line-width":3,"line-color":["step",["get","value"]].concat(Object(st["a"])(n))}}),ot=function(e,t,n,a){return{id:e,type:"line",source:{type:"geojson",data:t},paint:it(n,a)}},ut=function(e,t,n,a){return"settlement"===e?{time_index:t,value_type:"cumulative_settlement_".concat(a)}:"dyn_stiffness"===e?{train_type:n,value_type:"".concat(a,"_dyn_stiffness")}:null},lt=function(e,t,n,a){return n?"settlement"===e?"".concat(t,"_").concat(a):"".concat(t,"_").concat(n):null},ct=n("4e11"),pt=n("8ab6"),dt={namespaced:!0,state:function(){return{selectedTrainType:null,selectedTimeIndex:null,selectedValueType:null,availableValueTypes:[{title:"Mean",id:"mean"},{title:"Standard deviation",id:"std"}],selectedLayerType:null,mapLayer:null}},getters:{trainTypes:function(e,t,n){var a=n.inputs.runnerOutput;return a?a.data.all_train_types:[]},colors:function(e,t,n){var a=n.inputs.runnerOutput;return a?a.data.colours:[]},cummulativeSetLimits:function(e,t,n){var a=n.inputs.runnerOutput;return a?a.data.cumulative_sett_limits:[]},dynamicStiffnessLimits:function(e,t,n){var a=n.inputs.runnerOutput;return a?a.data.dyn_stiff_limits:[]},timeIndexes:function(e,t,n){var a=n.inputs.runnerOutput;return a?a.data.time:[]},layerId:function(e){var t=e.selectedLayerType,n=e.selectedValueType,a=e.selectedTrainType,r=e.selectedTimeIndex;return lt(t,n,a,r)},params:function(e){var t=e.selectedLayerType,n=e.selectedTimeIndex,a=e.selectedTrainType,r=e.selectedValueType;return ut(t,n,a,r)}},actions:{setTrainType:function(e,t){e.commit("SET_TRAIN_TYPE",t)},setTimeIndex:function(e,t){e.commit("SET_TIME_INDEX",t)},setValueType:function(e,t){e.commit("SET_VALUE_TYPE",t)},setLayerType:function(e,t){e.commit("SET_LAYER_TYPE",t)},getFeaturesCollection:function(e){return Object(Qe["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o,u,l,c,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state.selectedLayerType,a=e.getters,r=a.params,s=a.colors,i=a.cummulativeSetLimits,o=a.dynamicStiffnessLimits,!n||"settlement"!==n){t.next=11;break}return t.next=5,at(r);case 5:t.sent,u=e.getters.layerId,l=pt,e.commit("SET_MAP_LAYER",ot(u,l,s,i)),t.next=17;break;case 11:return t.next=13,rt(r);case 13:t.sent,c=e.getters.layerId,p=ct,e.commit("SET_MAP_LAYER",ot(c,p,s,o));case 17:case"end":return t.stop()}}),t)})))()}},mutations:{SET_TRAIN_TYPE:function(e,t){e.selectedTrainType=t},SET_TIME_INDEX:function(e,t){e.selectedTimeIndex=t},SET_VALUE_TYPE:function(e,t){e.selectedValueType=t},SET_LAYER_TYPE:function(e,t){e.selectedLayerType=t},SET_MAP_LAYER:function(e,t){e.mapLayer=t}}},mt=function(e){return nt()({method:"post",url:"".concat("http://localhost:5000","/runner"),data:e,headers:{"Content-Type":"application/json; charset=UTF-8'","Access-Control-Allow-Origin":"*"}}).then((function(e){var t=e.data;return"object"===Object(et["a"])(t)?t:JSON.parse(t)}))};n("d3b7");function ft(e){return new Promise((function(t){var n=new FileReader;n.addEventListener("load",(function(e){t(JSON.parse(e.target.result))})),n.readAsText(e)}))}var ht={namespaced:!0,state:function(){return{runnerOutput:null,sosSegmentsInput:null,sensarInput:null,rilaInput:null,infraMonInput:null}},getters:{runnerInput:function(e){var t=e.sosSegmentsInput,n=e.sensarInput,a=e.rilaInput,r=e.infraMonInput;if(t)return{SOS_Segment_Input:t,Sensar_Input:n,Rila_Input:a,InfraMon_Input:r}},dataExist:function(e){var t=e.runnerOutput;return t?t.exist:null},inputValid:function(e){var t=e.runnerOutput;return!!t||null},message:function(e){var t=e.runnerOutput;return t?t.message:null}},actions:{startRunner:function(e){return Object(Qe["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.getters.runnerInput,t.next=3,mt(n);case 3:a=t.sent,e.commit("SET_RUNNER_OUTPUT",a);case 5:case"end":return t.stop()}}),t)})))()},setSosSegmentInput:function(e,t){return Object(Qe["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=7;break}return n.next=3,ft(t);case 3:a=n.sent,e.commit("SET_SOS_SEGMENT_INPUT",a),n.next=8;break;case 7:e.commit("SET_SOS_SEGMENT_INPUT",null);case 8:case"end":return n.stop()}}),n)})))()},setSensarInput:function(e,t){return Object(Qe["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=7;break}return n.next=3,ft(t);case 3:a=n.sent,e.commit("SET_SENSAR_INPUT",a),n.next=8;break;case 7:e.commit("SET_SENSAR_INPUT",null);case 8:case"end":return n.stop()}}),n)})))()},setRilaInput:function(e,t){return Object(Qe["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=7;break}return n.next=3,ft(t);case 3:a=n.sent,e.commit("SET_RILA_INPUT",a),n.next=8;break;case 7:e.commit("SET_RILA_INPUT",null);case 8:case"end":return n.stop()}}),n)})))()},setInfraMonInput:function(e,t){return Object(Qe["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=7;break}return n.next=3,ft(t);case 3:a=n.sent,e.commit("SET_INFRA_MON_INPUT",a),n.next=8;break;case 7:e.commit("SET_INFRA_MON_INPUT",null);case 8:case"end":return n.stop()}}),n)})))()}},mutations:{SET_RUNNER_OUTPUT:function(e,t){e.runnerOutput=t},SET_SOS_SEGMENT_INPUT:function(e,t){e.sosSegmentsInput=t},SET_SENSAR_INPUT:function(e,t){e.sensarInput=t},SET_RILA_INPUT:function(e,t){e.rilaInput=t},SET_INFRA_MON_INPUT:function(e,t){e.infraMonInput=t}}},vt=function(e,t){if(!e||!t)return[];var n=e.map((function(e,n){var a=e-t[n];return a}));return n},yt=function(e,t){if(!e||!t)return[];var n=e.map((function(e,n){var a=e+t[n];return a}));return n},Tt=n("c1db"),bt={namespaced:!0,state:function(){return{chartData:null,openChartDialog:!1}},getters:{meanValues:function(e){var t=e.chartData;return t?t.cumulative_settlement_mean:[]},stdValues:function(e){var t=e.chartData;return t?t.cumulative_settlement_std:[]},time:function(e){var t=e.chartData;return t?t.time:[]},minValues:function(e,t){var n=t.meanValues,a=t.stdValues;return vt(n,a)},maxValues:function(e,t){var n=t.meanValues,a=t.stdValues;return yt(n,a)}},actions:{setChartData:function(e,t){return Object(Qe["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("segmentId payload",t),a=Tt,console.log("sample",a),e.commit("SET_CHART_DATA",a),e.commit("SET_OPEN_CHART_DIALOG",!0);case 5:case"end":return n.stop()}}),n)})))()},setOpenChartDialog:function(e,t){e.commit("SET_OPEN_CHART_DIALOG",t)}},mutations:{SET_CHART_DATA:function(e,t){e.chartData=t},SET_OPEN_CHART_DIALOG:function(e,t){e.openChartDialog=t}}};a["default"].use(p["a"]);var gt=new p["a"].Store({actions:{},modules:{layers:dt,inputs:ht,charts:bt}}),_t=n("f309");a["default"].use(_t["a"]);var St=new _t["a"]({});n("3151");a["default"].config.productionTip=!1,new a["default"]({store:gt,vuetify:St,render:function(e){return e(Ke)}}).$mount("#app")},"8ab6":function(e){e.exports=JSON.parse('{"features":[{"geometry":{"coordinates":[[5.439195724904118,51.463851463039454],[5.440112441386214,51.46316294052318],[5.441033145486187,51.46246277758852],[5.441944050255768,51.46177410846247],[5.4428661383141925,51.461074964029585],[5.443774139583749,51.46038709989501],[5.4446870888069006,51.45968535669814],[5.445585210978021,51.45897786999858],[5.4464660778821425,51.458278025500746],[5.447383325011606,51.4575820296201],[5.448296676857908,51.45688834760921],[5.449214371181571,51.456192031402914],[5.4501280565154175,51.45549890108289],[5.4510431225089135,51.454804702146546],[5.451955360017334,51.4541139312381],[5.452879575129715,51.45341776218443],[5.453795196968437,51.45272802657351],[5.454728190674661,51.452042561255844],[5.455661203035422,51.45135946143492],[5.456589152442541,51.450676447016725],[5.45751541752755,51.449992050927584],[5.4584480039972405,51.449301764982124],[5.459373632552244,51.44861405560347],[5.460301876864197,51.44792436867699],[5.4612177225995895,51.44724386863276],[5.462151645874571,51.446560032899505],[5.463076433134342,51.44585740926975],[5.463964453542,51.44515428117048],[5.464856989615941,51.44444980394349]],"type":"LineString"},"properties":{"segmentId":"Segment 1001","value":103.13},"type":"Feature"},{"geometry":{"coordinates":[[5.412694303577713,51.484020497743245],[5.413549887146824,51.483295650542146],[5.41444985463108,51.48259329419893],[5.415359343952774,51.48189918015151],[5.416278965874342,51.48120037335483],[5.417198390491951,51.48050711431316],[5.418108443730434,51.47981259207509],[5.41902975441112,51.47911737648144],[5.419950736424495,51.47842459858436],[5.42086212220074,51.47773746103855],[5.421775817467116,51.47703816299024],[5.422690715328808,51.47634800783455],[5.423604694605639,51.47565981427306],[5.424526753934225,51.474959026802686],[5.425438834312026,51.474269767739074],[5.426367659850879,51.47356918813771],[5.427277204472046,51.47287489981428],[5.428192005004258,51.47218224743525],[5.429106608842563,51.47149375865576],[5.430034282876762,51.4707908490355],[5.430956051695311,51.47009811837503],[5.4318753803327855,51.46939657244574],[5.432793955234108,51.46870354976899],[5.4337061550383785,51.46801005496164],[5.434622848041868,51.467318582590536],[5.435533495648722,51.46662514596331],[5.436447456887443,51.46593418165847],[5.437366822654165,51.46523652026042],[5.438284377537722,51.464540362469855],[5.439195724904117,51.463851463039454]],"type":"LineString"},"properties":{"segmentId":"Segment 1002","value":106.86},"type":"Feature"}],"type":"FeatureCollection"}')},c1db:function(e){e.exports=JSON.parse('{"cumulative_settlement_mean":[1.51,47.07,56.54,62.67,67.29,71.05,74.23,77.01,79.48,81.7,83.74,85.61,87.34,88.97,90.49,91.93,93.28,94.58,95.81,96.98,98.11,99.19,100.23,101.23,102.2,103.13,104.04,104.91,105.76,106.59,107.39,108.17,108.93,109.67,110.39,111.1,111.79,112.46,113.12,113.76,114.4,115.01,115.62,116.22,116.8,117.37,117.93,118.49,119.03,119.56,120.09],"cumulative_settlement_std":[0.1,2.96,3.56,3.94,4.23,4.47,4.67,4.84,5,5.14,5.27,5.38,5.49,5.6,5.69,5.78,5.87,5.95,6.03,6.1,6.17,6.24,6.3,6.37,6.43,6.49,6.54,6.6,6.65,6.7,6.75,6.8,6.85,6.9,6.94,6.99,7.03,7.07,7.12,7.16,7.2,7.23,7.27,7.31,7.35,7.38,7.42,7.45,7.49,7.52,7.55],"time":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]}')}});
//# sourceMappingURL=app.dcd236e7.js.map